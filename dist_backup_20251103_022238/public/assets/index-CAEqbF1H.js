function ice(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ir(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cA={exports:{}},Ax={},uA={exports:{}},dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m6;function sce(){if(m6)return dr;m6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(Z){return Z===null||typeof Z!="object"?null:(Z=f&&Z[f]||Z["@@iterator"],typeof Z=="function"?Z:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function x(Z,I,V){this.props=Z,this.context=I,this.refs=v,this.updater=V||p}x.prototype.isReactComponent={},x.prototype.setState=function(Z,I){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,I,"setState")},x.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function b(){}b.prototype=x.prototype;function S(Z,I,V){this.props=Z,this.context=I,this.refs=v,this.updater=V||p}var _=S.prototype=new b;_.constructor=S,y(_,x.prototype),_.isPureReactComponent=!0;var j=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function A(Z,I,V){var Q,re={},fe=null,pe=null;if(I!=null)for(Q in I.ref!==void 0&&(pe=I.ref),I.key!==void 0&&(fe=""+I.key),I)C.call(I,Q)&&!M.hasOwnProperty(Q)&&(re[Q]=I[Q]);var ve=arguments.length-2;if(ve===1)re.children=V;else if(1<ve){for(var de=Array(ve),be=0;be<ve;be++)de[be]=arguments[be+2];re.children=de}if(Z&&Z.defaultProps)for(Q in ve=Z.defaultProps,ve)re[Q]===void 0&&(re[Q]=ve[Q]);return{$$typeof:t,type:Z,key:fe,ref:pe,props:re,_owner:O.current}}function P(Z,I){return{$$typeof:t,type:Z.type,key:I,ref:Z.ref,props:Z.props,_owner:Z._owner}}function B(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function R(Z){var I={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(V){return I[V]})}var F=/\/+/g;function q(Z,I){return typeof Z=="object"&&Z!==null&&Z.key!=null?R(""+Z.key):I.toString(36)}function z(Z,I,V,Q,re){var fe=typeof Z;(fe==="undefined"||fe==="boolean")&&(Z=null);var pe=!1;if(Z===null)pe=!0;else switch(fe){case"string":case"number":pe=!0;break;case"object":switch(Z.$$typeof){case t:case e:pe=!0}}if(pe)return pe=Z,re=re(pe),Z=Q===""?"."+q(pe,0):Q,j(re)?(V="",Z!=null&&(V=Z.replace(F,"$&/")+"/"),z(re,I,V,"",function(be){return be})):re!=null&&(B(re)&&(re=P(re,V+(!re.key||pe&&pe.key===re.key?"":(""+re.key).replace(F,"$&/")+"/")+Z)),I.push(re)),1;if(pe=0,Q=Q===""?".":Q+":",j(Z))for(var ve=0;ve<Z.length;ve++){fe=Z[ve];var de=Q+q(fe,ve);pe+=z(fe,I,V,de,re)}else if(de=m(Z),typeof de=="function")for(Z=de.call(Z),ve=0;!(fe=Z.next()).done;)fe=fe.value,de=Q+q(fe,ve++),pe+=z(fe,I,V,de,re);else if(fe==="object")throw I=String(Z),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return pe}function G(Z,I,V){if(Z==null)return Z;var Q=[],re=0;return z(Z,Q,"","",function(fe){return I.call(V,fe,re++)}),Q}function X(Z){if(Z._status===-1){var I=Z._result;I=I(),I.then(function(V){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=V)},function(V){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=V)}),Z._status===-1&&(Z._status=0,Z._result=I)}if(Z._status===1)return Z._result.default;throw Z._result}var U={current:null},W={transition:null},Y={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function ie(){throw Error("act(...) is not supported in production builds of React.")}return dr.Children={map:G,forEach:function(Z,I,V){G(Z,function(){I.apply(this,arguments)},V)},count:function(Z){var I=0;return G(Z,function(){I++}),I},toArray:function(Z){return G(Z,function(I){return I})||[]},only:function(Z){if(!B(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},dr.Component=x,dr.Fragment=n,dr.Profiler=i,dr.PureComponent=S,dr.StrictMode=r,dr.Suspense=c,dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,dr.act=ie,dr.cloneElement=function(Z,I,V){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Q=y({},Z.props),re=Z.key,fe=Z.ref,pe=Z._owner;if(I!=null){if(I.ref!==void 0&&(fe=I.ref,pe=O.current),I.key!==void 0&&(re=""+I.key),Z.type&&Z.type.defaultProps)var ve=Z.type.defaultProps;for(de in I)C.call(I,de)&&!M.hasOwnProperty(de)&&(Q[de]=I[de]===void 0&&ve!==void 0?ve[de]:I[de])}var de=arguments.length-2;if(de===1)Q.children=V;else if(1<de){ve=Array(de);for(var be=0;be<de;be++)ve[be]=arguments[be+2];Q.children=ve}return{$$typeof:t,type:Z.type,key:re,ref:fe,props:Q,_owner:pe}},dr.createContext=function(Z){return Z={$$typeof:a,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},dr.createElement=A,dr.createFactory=function(Z){var I=A.bind(null,Z);return I.type=Z,I},dr.createRef=function(){return{current:null}},dr.forwardRef=function(Z){return{$$typeof:l,render:Z}},dr.isValidElement=B,dr.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:X}},dr.memo=function(Z,I){return{$$typeof:u,type:Z,compare:I===void 0?null:I}},dr.startTransition=function(Z){var I=W.transition;W.transition={};try{Z()}finally{W.transition=I}},dr.unstable_act=ie,dr.useCallback=function(Z,I){return U.current.useCallback(Z,I)},dr.useContext=function(Z){return U.current.useContext(Z)},dr.useDebugValue=function(){},dr.useDeferredValue=function(Z){return U.current.useDeferredValue(Z)},dr.useEffect=function(Z,I){return U.current.useEffect(Z,I)},dr.useId=function(){return U.current.useId()},dr.useImperativeHandle=function(Z,I,V){return U.current.useImperativeHandle(Z,I,V)},dr.useInsertionEffect=function(Z,I){return U.current.useInsertionEffect(Z,I)},dr.useLayoutEffect=function(Z,I){return U.current.useLayoutEffect(Z,I)},dr.useMemo=function(Z,I){return U.current.useMemo(Z,I)},dr.useReducer=function(Z,I,V){return U.current.useReducer(Z,I,V)},dr.useRef=function(Z){return U.current.useRef(Z)},dr.useState=function(Z){return U.current.useState(Z)},dr.useSyncExternalStore=function(Z,I,V){return U.current.useSyncExternalStore(Z,I,V)},dr.useTransition=function(){return U.current.useTransition()},dr.version="18.3.1",dr}var g6;function Z0(){return g6||(g6=1,uA.exports=sce()),uA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v6;function ace(){if(v6)return Ax;v6=1;var t=Z0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:m,ref:p,props:f,_owner:i.current}}return Ax.Fragment=n,Ax.jsx=a,Ax.jsxs=a,Ax}var y6;function oce(){return y6||(y6=1,cA.exports=ace()),cA.exports}var o=oce(),gw={},dA={exports:{}},Ko={},fA={exports:{}},hA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x6;function lce(){return x6||(x6=1,(function(t){function e(W,Y){var ie=W.length;W.push(Y);e:for(;0<ie;){var Z=ie-1>>>1,I=W[Z];if(0<i(I,Y))W[Z]=Y,W[ie]=I,ie=Z;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],ie=W.pop();if(ie!==Y){W[0]=ie;e:for(var Z=0,I=W.length,V=I>>>1;Z<V;){var Q=2*(Z+1)-1,re=W[Q],fe=Q+1,pe=W[fe];if(0>i(re,ie))fe<I&&0>i(pe,re)?(W[Z]=pe,W[fe]=ie,Z=fe):(W[Z]=re,W[Q]=ie,Z=Q);else if(fe<I&&0>i(pe,ie))W[Z]=pe,W[fe]=ie,Z=fe;else break e}}return Y}function i(W,Y){var ie=W.sortIndex-Y.sortIndex;return ie!==0?ie:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=W)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function j(W){if(v=!1,_(W),!y)if(n(c)!==null)y=!0,X(C);else{var Y=n(u);Y!==null&&U(j,Y.startTime-W)}}function C(W,Y){y=!1,v&&(v=!1,b(A),A=-1),p=!0;var ie=m;try{for(_(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||W&&!R());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var I=Z(f.expirationTime<=Y);Y=t.unstable_now(),typeof I=="function"?f.callback=I:f===n(c)&&r(c),_(Y)}else r(c);f=n(c)}if(f!==null)var V=!0;else{var Q=n(u);Q!==null&&U(j,Q.startTime-Y),V=!1}return V}finally{f=null,m=ie,p=!1}}var O=!1,M=null,A=-1,P=5,B=-1;function R(){return!(t.unstable_now()-B<P)}function F(){if(M!==null){var W=t.unstable_now();B=W;var Y=!0;try{Y=M(!0,W)}finally{Y?q():(O=!1,M=null)}}else O=!1}var q;if(typeof S=="function")q=function(){S(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=F,q=function(){G.postMessage(null)}}else q=function(){x(F,0)};function X(W){M=W,O||(O=!0,q())}function U(W,Y){A=x(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,X(C))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var ie=m;m=Y;try{return W()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=m;m=W;try{return Y()}finally{m=ie}},t.unstable_scheduleCallback=function(W,Y,ie){var Z=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Z+ie:Z):ie=Z,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ie+I,W={id:d++,callback:Y,priorityLevel:W,startTime:ie,expirationTime:I,sortIndex:-1},ie>Z?(W.sortIndex=ie,e(u,W),n(c)===null&&W===n(u)&&(v?(b(A),A=-1):v=!0,U(j,ie-Z))):(W.sortIndex=I,e(c,W),y||p||(y=!0,X(C))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var Y=m;return function(){var ie=m;m=Y;try{return W.apply(this,arguments)}finally{m=ie}}}})(hA)),hA}var b6;function cce(){return b6||(b6=1,fA.exports=lce()),fA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6;function uce(){if(w6)return Ko;w6=1;var t=Z0(),e=cce();function n(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,g){a(h,g),a(h+"Capture",g)}function a(h,g){for(i[h]=g,h=0;h<g.length;h++)r.add(g[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function p(h,g,w,k){if(w!==null&&w.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return k?!1:w!==null?!w.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,g,w,k){if(g===null||typeof g>"u"||p(h,g,w,k))return!0;if(k)return!1;if(w!==null)switch(w.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v(h,g,w,k,L,H,se){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=k,this.attributeNamespace=L,this.mustUseProperty=w,this.propertyName=h,this.type=g,this.sanitizeURL=H,this.removeEmptyString=se}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){x[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];x[g]=new v(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){x[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){x[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){x[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){x[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){x[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){x[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){x[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(b,S);x[g]=new v(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(b,S);x[g]=new v(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(b,S);x[g]=new v(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){x[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),x.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){x[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function _(h,g,w,k){var L=x.hasOwnProperty(g)?x[g]:null;(L!==null?L.type!==0:k||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(y(g,w,L,k)&&(w=null),k||L===null?m(g)&&(w===null?h.removeAttribute(g):h.setAttribute(g,""+w)):L.mustUseProperty?h[L.propertyName]=w===null?L.type===3?!1:"":w:(g=L.attributeName,k=L.attributeNamespace,w===null?h.removeAttribute(g):(L=L.type,w=L===3||L===4&&w===!0?"":""+w,k?h.setAttributeNS(k,g,w):h.setAttribute(g,w))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),W=Symbol.iterator;function Y(h){return h===null||typeof h!="object"?null:(h=W&&h[W]||h["@@iterator"],typeof h=="function"?h:null)}var ie=Object.assign,Z;function I(h){if(Z===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);Z=g&&g[1]||""}return`
`+Z+h}var V=!1;function Q(h,g){if(!h||V)return"";V=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ke){var k=Ke}Reflect.construct(h,[],g)}else{try{g.call()}catch(Ke){k=Ke}h.call(g.prototype)}else{try{throw Error()}catch(Ke){k=Ke}h()}}catch(Ke){if(Ke&&k&&typeof Ke.stack=="string"){for(var L=Ke.stack.split(`
`),H=k.stack.split(`
`),se=L.length-1,_e=H.length-1;1<=se&&0<=_e&&L[se]!==H[_e];)_e--;for(;1<=se&&0<=_e;se--,_e--)if(L[se]!==H[_e]){if(se!==1||_e!==1)do if(se--,_e--,0>_e||L[se]!==H[_e]){var Te=`
`+L[se].replace(" at new "," at ");return h.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",h.displayName)),Te}while(1<=se&&0<=_e);break}}}finally{V=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?I(h):""}function re(h){switch(h.tag){case 5:return I(h.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return h=Q(h.type,!1),h;case 11:return h=Q(h.type.render,!1),h;case 1:return h=Q(h.type,!0),h;default:return""}}function fe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case M:return"Fragment";case O:return"Portal";case P:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case z:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case R:return(h.displayName||"Context")+".Consumer";case B:return(h._context.displayName||"Context")+".Provider";case F:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case G:return g=h.displayName||null,g!==null?g:fe(h.type)||"Memo";case X:g=h._payload,h=h._init;try{return fe(h(g))}catch{}}return null}function pe(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(g);case 8:return g===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function ve(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function de(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function be(h){var g=de(h)?"checked":"value",w=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),k=""+h[g];if(!h.hasOwnProperty(g)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var L=w.get,H=w.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return L.call(this)},set:function(se){k=""+se,H.call(this,se)}}),Object.defineProperty(h,g,{enumerable:w.enumerable}),{getValue:function(){return k},setValue:function(se){k=""+se},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function je(h){h._valueTracker||(h._valueTracker=be(h))}function ae(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var w=g.getValue(),k="";return h&&(k=de(h)?h.checked?"true":"false":h.value),h=k,h!==w?(g.setValue(h),!0):!1}function Oe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ee(h,g){var w=g.checked;return ie({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??h._wrapperState.initialChecked})}function ne(h,g){var w=g.defaultValue==null?"":g.defaultValue,k=g.checked!=null?g.checked:g.defaultChecked;w=ve(g.value!=null?g.value:w),h._wrapperState={initialChecked:k,initialValue:w,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Me(h,g){g=g.checked,g!=null&&_(h,"checked",g,!1)}function ut(h,g){Me(h,g);var w=ve(g.value),k=g.type;if(w!=null)k==="number"?(w===0&&h.value===""||h.value!=w)&&(h.value=""+w):h.value!==""+w&&(h.value=""+w);else if(k==="submit"||k==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?He(h,g.type,w):g.hasOwnProperty("defaultValue")&&He(h,g.type,ve(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function Je(h,g,w){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var k=g.type;if(!(k!=="submit"&&k!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,w||g===h.value||(h.value=g),h.defaultValue=g}w=h.name,w!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,w!==""&&(h.name=w)}function He(h,g,w){(g!=="number"||Oe(h.ownerDocument)!==h)&&(w==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+w&&(h.defaultValue=""+w))}var me=Array.isArray;function Ne(h,g,w,k){if(h=h.options,g){g={};for(var L=0;L<w.length;L++)g["$"+w[L]]=!0;for(w=0;w<h.length;w++)L=g.hasOwnProperty("$"+h[w].value),h[w].selected!==L&&(h[w].selected=L),L&&k&&(h[w].defaultSelected=!0)}else{for(w=""+ve(w),g=null,L=0;L<h.length;L++){if(h[L].value===w){h[L].selected=!0,k&&(h[L].defaultSelected=!0);return}g!==null||h[L].disabled||(g=h[L])}g!==null&&(g.selected=!0)}}function Ce(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ve(h,g){var w=g.value;if(w==null){if(w=g.children,g=g.defaultValue,w!=null){if(g!=null)throw Error(n(92));if(me(w)){if(1<w.length)throw Error(n(93));w=w[0]}g=w}g==null&&(g=""),w=g}h._wrapperState={initialValue:ve(w)}}function We(h,g){var w=ve(g.value),k=ve(g.defaultValue);w!=null&&(w=""+w,w!==h.value&&(h.value=w),g.defaultValue==null&&h.defaultValue!==w&&(h.defaultValue=w)),k!=null&&(h.defaultValue=""+k)}function Ue(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function tt(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?tt(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var bt,Tt=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,w,k,L){MSApp.execUnsafeLocalFunction(function(){return h(g,w,k,L)})}:h})(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=bt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function Wt(h,g){if(g){var w=h.firstChild;if(w&&w===h.lastChild&&w.nodeType===3){w.nodeValue=g;return}}h.textContent=g}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(h){An.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),At[g]=At[h]})});function En(h,g,w){return g==null||typeof g=="boolean"||g===""?"":w||typeof g!="number"||g===0||At.hasOwnProperty(h)&&At[h]?(""+g).trim():g+"px"}function zt(h,g){h=h.style;for(var w in g)if(g.hasOwnProperty(w)){var k=w.indexOf("--")===0,L=En(w,g[w],k);w==="float"&&(w="cssFloat"),k?h.setProperty(w,L):h[w]=L}}var yn=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nr(h,g){if(g){if(yn[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function an(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cn=null;function wn(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ar=null,Cr=null,mn=null;function Ut(h){if(h=Zf(h)){if(typeof Ar!="function")throw Error(n(280));var g=h.stateNode;g&&(g=Dp(g),Ar(h.stateNode,h.type,g))}}function Ee(h){Cr?mn?mn.push(h):mn=[h]:Cr=h}function Ye(){if(Cr){var h=Cr,g=mn;if(mn=Cr=null,Ut(h),g)for(h=0;h<g.length;h++)Ut(g[h])}}function ft(h,g){return h(g)}function It(){}var On=!1;function ce(h,g,w){if(On)return h(g,w);On=!0;try{return ft(h,g,w)}finally{On=!1,(Cr!==null||mn!==null)&&(It(),Ye())}}function Fe(h,g){var w=h.stateNode;if(w===null)return null;var k=Dp(w);if(k===null)return null;w=k[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(h=h.type,k=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!k;break e;default:h=!1}if(h)return null;if(w&&typeof w!="function")throw Error(n(231,g,typeof w));return w}var dt=!1;if(l)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){dt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{dt=!1}function Hn(h,g,w,k,L,H,se,_e,Te){var Ke=Array.prototype.slice.call(arguments,3);try{g.apply(w,Ke)}catch(vt){this.onError(vt)}}var gn=!1,pr=null,or=!1,Ur=null,mi={onError:function(h){gn=!0,pr=h}};function Hi(h,g,w,k,L,H,se,_e,Te){gn=!1,pr=null,Hn.apply(mi,arguments)}function oo(h,g,w,k,L,H,se,_e,Te){if(Hi.apply(this,arguments),gn){if(gn){var Ke=pr;gn=!1,pr=null}else throw Error(n(198));or||(or=!0,Ur=Ke)}}function Ri(h){var g=h,w=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(w=g.return),h=g.return;while(h)}return g.tag===3?w:null}function $s(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function ra(h){if(Ri(h)!==h)throw Error(n(188))}function Mo(h){var g=h.alternate;if(!g){if(g=Ri(h),g===null)throw Error(n(188));return g!==h?null:h}for(var w=h,k=g;;){var L=w.return;if(L===null)break;var H=L.alternate;if(H===null){if(k=L.return,k!==null){w=k;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===w)return ra(L),h;if(H===k)return ra(L),g;H=H.sibling}throw Error(n(188))}if(w.return!==k.return)w=L,k=H;else{for(var se=!1,_e=L.child;_e;){if(_e===w){se=!0,w=L,k=H;break}if(_e===k){se=!0,k=L,w=H;break}_e=_e.sibling}if(!se){for(_e=H.child;_e;){if(_e===w){se=!0,w=H,k=L;break}if(_e===k){se=!0,k=H,w=L;break}_e=_e.sibling}if(!se)throw Error(n(189))}}if(w.alternate!==k)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?h:g}function lo(h){return h=Mo(h),h!==null?Bl(h):null}function Bl(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=Bl(h);if(g!==null)return g;h=h.sibling}return null}var Ac=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,Cc=e.unstable_shouldYield,Rf=e.unstable_requestPaint,Hr=e.unstable_now,If=e.unstable_getCurrentPriorityLevel,Su=e.unstable_ImmediatePriority,_s=e.unstable_UserBlockingPriority,$l=e.unstable_NormalPriority,Et=e.unstable_LowPriority,sn=e.unstable_IdlePriority,Vn=null,tr=null;function gi(h){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Vn,h,void 0,(h.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:js,Ro=Math.log,si=Math.LN2;function js(h){return h>>>=0,h===0?32:31-(Ro(h)/si|0)|0}var As=64,_a=4194304;function La(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function zs(h,g){var w=h.pendingLanes;if(w===0)return 0;var k=0,L=h.suspendedLanes,H=h.pingedLanes,se=w&268435455;if(se!==0){var _e=se&~L;_e!==0?k=La(_e):(H&=se,H!==0&&(k=La(H)))}else se=w&~L,se!==0?k=La(se):H!==0&&(k=La(H));if(k===0)return 0;if(g!==0&&g!==k&&(g&L)===0&&(L=k&-k,H=g&-g,L>=H||L===16&&(H&4194240)!==0))return g;if((k&4)!==0&&(k|=w&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=k;0<g;)w=31-Dr(g),L=1<<w,k|=h[w],g&=~L;return k}function kc(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(h,g){for(var w=h.suspendedLanes,k=h.pingedLanes,L=h.expirationTimes,H=h.pendingLanes;0<H;){var se=31-Dr(H),_e=1<<se,Te=L[se];Te===-1?((_e&w)===0||(_e&k)!==0)&&(L[se]=kc(_e,g)):Te<=g&&(h.expiredLanes|=_e),H&=~_e}}function Tc(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Df(){var h=As;return As<<=1,(As&4194240)===0&&(As=64),h}function zl(h){for(var g=[],w=0;31>w;w++)g.push(h);return g}function ql(h,g,w){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-Dr(g),h[g]=w}function Vi(h,g){var w=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var k=h.eventTimes;for(h=h.expirationTimes;0<w;){var L=31-Dr(w),H=1<<L;g[L]=0,k[L]=-1,h[L]=-1,w&=~H}}function Eu(h,g){var w=h.entangledLanes|=g;for(h=h.entanglements;w;){var k=31-Dr(w),L=1<<k;L&g|h[k]&g&&(h[k]|=g),w&=~L}}var cr=0;function xn(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Oc,_i,yr,Pc,Fa,co=!1,ja=[],Mt=null,qt=null,Nn=null,Dt=new Map,vi=new Map,Ji=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lf(h,g){switch(h){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Dt.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(g.pointerId)}}function uo(h,g,w,k,L,H){return h===null||h.nativeEvent!==H?(h={blockedOn:g,domEventName:w,eventSystemFlags:k,nativeEvent:H,targetContainers:[L]},g!==null&&(g=Zf(g),g!==null&&_i(g)),h):(h.eventSystemFlags|=k,g=h.targetContainers,L!==null&&g.indexOf(L)===-1&&g.push(L),h)}function Mc(h,g,w,k,L){switch(g){case"focusin":return Mt=uo(Mt,h,g,w,k,L),!0;case"dragenter":return qt=uo(qt,h,g,w,k,L),!0;case"mouseover":return Nn=uo(Nn,h,g,w,k,L),!0;case"pointerover":var H=L.pointerId;return Dt.set(H,uo(Dt.get(H)||null,h,g,w,k,L)),!0;case"gotpointercapture":return H=L.pointerId,vi.set(H,uo(vi.get(H)||null,h,g,w,k,L)),!0}return!1}function dg(h){var g=Ru(h.target);if(g!==null){var w=Ri(g);if(w!==null){if(g=w.tag,g===13){if(g=$s(w),g!==null){h.blockedOn=g,Fa(h.priority,function(){yr(w)});return}}else if(g===3&&w.stateNode.current.memoizedState.isDehydrated){h.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Ff(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var w=Sd(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(w===null){w=h.nativeEvent;var k=new w.constructor(w.type,w);Cn=k,w.target.dispatchEvent(k),Cn=null}else return g=Zf(w),g!==null&&_i(g),h.blockedOn=w,!1;g.shift()}return!0}function Nd(h,g,w){Ff(h)&&w.delete(g)}function bp(){co=!1,Mt!==null&&Ff(Mt)&&(Mt=null),qt!==null&&Ff(qt)&&(qt=null),Nn!==null&&Ff(Nn)&&(Nn=null),Dt.forEach(Nd),vi.forEach(Nd)}function ul(h,g){h.blockedOn===g&&(h.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bp)))}function Ul(h){function g(L){return ul(L,h)}if(0<ja.length){ul(ja[0],h);for(var w=1;w<ja.length;w++){var k=ja[w];k.blockedOn===h&&(k.blockedOn=null)}}for(Mt!==null&&ul(Mt,h),qt!==null&&ul(qt,h),Nn!==null&&ul(Nn,h),Dt.forEach(g),vi.forEach(g),w=0;w<Ji.length;w++)k=Ji[w],k.blockedOn===h&&(k.blockedOn=null);for(;0<Ji.length&&(w=Ji[0],w.blockedOn===null);)dg(w),w.blockedOn===null&&Ji.shift()}var dl=j.ReactCurrentBatchConfig,Bf=!0;function wp(h,g,w,k){var L=cr,H=dl.transition;dl.transition=null;try{cr=1,Rc(h,g,w,k)}finally{cr=L,dl.transition=H}}function Np(h,g,w,k){var L=cr,H=dl.transition;dl.transition=null;try{cr=4,Rc(h,g,w,k)}finally{cr=L,dl.transition=H}}function Rc(h,g,w,k){if(Bf){var L=Sd(h,g,w,k);if(L===null)Mp(h,g,k,Hl,w),Lf(h,k);else if(Mc(L,h,g,w,k))k.stopPropagation();else if(Lf(h,k),g&4&&-1<xp.indexOf(h)){for(;L!==null;){var H=Zf(L);if(H!==null&&Oc(H),H=Sd(h,g,w,k),H===null&&Mp(h,g,k,Hl,w),H===L)break;L=H}L!==null&&k.stopPropagation()}else Mp(h,g,k,null,w)}}var Hl=null;function Sd(h,g,w,k){if(Hl=null,h=wn(k),h=Ru(h),h!==null)if(g=Ri(h),g===null)h=null;else if(w=g.tag,w===13){if(h=$s(g),h!==null)return h;h=null}else if(w===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Hl=h,null}function Ed(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case Su:return 1;case _s:return 4;case $l:case Et:return 16;case sn:return 536870912;default:return 16}default:return 16}}var Io=null,Ic=null,_d=null;function Sp(){if(_d)return _d;var h,g=Ic,w=g.length,k,L="value"in Io?Io.value:Io.textContent,H=L.length;for(h=0;h<w&&g[h]===L[h];h++);var se=w-h;for(k=1;k<=se&&g[w-k]===L[H-k];k++);return _d=L.slice(h,1<k?1-k:void 0)}function Do(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function Lo(){return!0}function Ep(){return!1}function sa(h){function g(w,k,L,H,se){this._reactName=w,this._targetInst=L,this.type=k,this.nativeEvent=H,this.target=se,this.currentTarget=null;for(var _e in h)h.hasOwnProperty(_e)&&(w=h[_e],this[_e]=w?w(H):H[_e]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Lo:Ep,this.isPropagationStopped=Ep,this}return ie(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),g}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=sa(Fo),D=ie({},Fo,{view:0,detail:0}),te=sa(D),we,Ae,Ie,rt=ie({},D,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Ie&&(Ie&&h.type==="mousemove"?(we=h.screenX-Ie.screenX,Ae=h.screenY-Ie.screenY):Ae=we=0,Ie=h),we)},movementY:function(h){return"movementY"in h?h.movementY:Ae}}),mt=sa(rt),Zt=ie({},rt,{dataTransfer:0}),cn=sa(Zt),Rn=ie({},D,{relatedTarget:0}),In=sa(Rn),xr=ie({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),ji=sa(xr),es=ie({},Fo,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Jr=sa(es),ms=ie({},Fo,{data:0}),Wi=sa(ms),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ba={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fg(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Ba[h])?!!g[h]:!1}function _u(){return fg}var jd=ie({},D,{key:function(h){if(h.key){var g=qs[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=Do(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Bo[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(h){return h.type==="keypress"?Do(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Do(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),ju=sa(jd),Ad=ie({},rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=sa(Ad),Cd=ie({},D,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),aa=sa(Cd),kd=ie({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Td=sa(kd),_p=ie({},rt,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=sa(_p),Ii=[9,13,27,32],fl=l&&"CompositionEvent"in window,Vl=null;l&&"documentMode"in document&&(Vl=document.documentMode);var hg=l&&"TextEvent"in window&&!Vl,fo=l&&(!fl||Vl&&8<Vl&&11>=Vl),Cu=" ",zf=!1;function qf(h,g){switch(h){case"keyup":return Ii.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var $o=!1;function ho(h,g){switch(h){case"compositionend":return Dc(g);case"keypress":return g.which!==32?null:(zf=!0,Cu);case"textInput":return h=g.data,h===Cu&&zf?null:h;default:return null}}function po(h,g){if($o)return h==="compositionend"||!fl&&qf(h,g)?(h=Sp(),_d=Ic=Io=null,$o=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return fo&&g.locale!=="ko"?null:g.data;default:return null}}var ku={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!ku[h.type]:g==="textarea"}function Lc(h,g,w,k){Ee(k),g=yg(g,"onChange"),0<g.length&&(w=new $f("onChange","change",null,w,k),h.push({event:w,listeners:g}))}var Fc=null,Kl=null;function Ki(h){Op(h,0)}function Od(h){var g=zd(h);if(ae(g))return h}function Gl(h,g){if(h==="change")return g}var hl=!1;if(l){var Pd;if(l){var Md="oninput"in document;if(!Md){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),Md=typeof Uf.oninput=="function"}Pd=Md}else Pd=!1;hl=Pd&&(!document.documentMode||9<document.documentMode)}function Hf(){Fc&&(Fc.detachEvent("onpropertychange",Bc),Kl=Fc=null)}function Bc(h){if(h.propertyName==="value"&&Od(Kl)){var g=[];Lc(g,Kl,h,wn(h)),ce(Ki,g)}}function Tu(h,g,w){h==="focusin"?(Hf(),Fc=g,Kl=w,Fc.attachEvent("onpropertychange",Bc)):h==="focusout"&&Hf()}function Ou(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Od(Kl)}function Rd(h,g){if(h==="click")return Od(g)}function Pu(h,g){if(h==="input"||h==="change")return Od(g)}function Id(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Di=typeof Object.is=="function"?Object.is:Id;function $a(h,g){if(Di(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var w=Object.keys(h),k=Object.keys(g);if(w.length!==k.length)return!1;for(k=0;k<w.length;k++){var L=w[k];if(!c.call(g,L)||!Di(h[L],g[L]))return!1}return!0}function br(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Lr(h,g){var w=br(h);h=0;for(var k;w;){if(w.nodeType===3){if(k=h+w.textContent.length,h<=g&&k>=g)return{node:w,offset:g-h};h=k}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=br(w)}}function Li(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Li(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function ts(){for(var h=window,g=Oe();g instanceof h.HTMLIFrameElement;){try{var w=typeof g.contentWindow.location.href=="string"}catch{w=!1}if(w)h=g.contentWindow;else break;g=Oe(h.document)}return g}function pl(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function Ap(h){var g=ts(),w=h.focusedElem,k=h.selectionRange;if(g!==w&&w&&w.ownerDocument&&Li(w.ownerDocument.documentElement,w)){if(k!==null&&pl(w)){if(g=k.start,h=k.end,h===void 0&&(h=g),"selectionStart"in w)w.selectionStart=g,w.selectionEnd=Math.min(h,w.value.length);else if(h=(g=w.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var L=w.textContent.length,H=Math.min(k.start,L);k=k.end===void 0?H:Math.min(k.end,L),!h.extend&&H>k&&(L=k,k=H,H=L),L=Lr(w,H);var se=Lr(w,k);L&&se&&(h.rangeCount!==1||h.anchorNode!==L.node||h.anchorOffset!==L.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(g=g.createRange(),g.setStart(L.node,L.offset),h.removeAllRanges(),H>k?(h.addRange(g),h.extend(se.node,se.offset)):(g.setEnd(se.node,se.offset),h.addRange(g)))}}for(g=[],h=w;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<g.length;w++)h=g[w],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Vf=l&&"documentMode"in document&&11>=document.documentMode,$c=null,pg=null,Wf=null,mg=!1;function rx(h,g,w){var k=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;mg||$c==null||$c!==Oe(k)||(k=$c,"selectionStart"in k&&pl(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Wf&&$a(Wf,k)||(Wf=k,k=yg(pg,"onSelect"),0<k.length&&(g=new $f("onSelect","select",null,g,w),h.push({event:g,listeners:k}),g.target=$c)))}function Cp(h,g){var w={};return w[h.toLowerCase()]=g.toLowerCase(),w["Webkit"+h]="webkit"+g,w["Moz"+h]="moz"+g,w}var Dd={animationend:Cp("Animation","AnimationEnd"),animationiteration:Cp("Animation","AnimationIteration"),animationstart:Cp("Animation","AnimationStart"),transitionend:Cp("Transition","TransitionEnd")},Ld={},ix={};l&&(ix=document.createElement("div").style,"AnimationEvent"in window||(delete Dd.animationend.animation,delete Dd.animationiteration.animation,delete Dd.animationstart.animation),"TransitionEvent"in window||delete Dd.transitionend.transition);function kp(h){if(Ld[h])return Ld[h];if(!Dd[h])return h;var g=Dd[h],w;for(w in g)if(g.hasOwnProperty(w)&&w in ix)return Ld[h]=g[w];return h}var sx=kp("animationend"),ax=kp("animationiteration"),ox=kp("animationstart"),lx=kp("transitionend"),cx=new Map,ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(h,g){cx.set(h,g),s(g,[h])}for(var Kf=0;Kf<ux.length;Kf++){var Aa=ux[Kf],zo=Aa.toLowerCase(),gg=Aa[0].toUpperCase()+Aa.slice(1);Yl(zo,"on"+gg)}Yl(sx,"onAnimationEnd"),Yl(ax,"onAnimationIteration"),Yl(ox,"onAnimationStart"),Yl("dblclick","onDoubleClick"),Yl("focusin","onFocus"),Yl("focusout","onBlur"),Yl(lx,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function Tp(h,g,w){var k=h.type||"unknown-event";h.currentTarget=w,oo(k,g,void 0,h),h.currentTarget=null}function Op(h,g){g=(g&4)!==0;for(var w=0;w<h.length;w++){var k=h[w],L=k.event;k=k.listeners;e:{var H=void 0;if(g)for(var se=k.length-1;0<=se;se--){var _e=k[se],Te=_e.instance,Ke=_e.currentTarget;if(_e=_e.listener,Te!==H&&L.isPropagationStopped())break e;Tp(L,_e,Ke),H=Te}else for(se=0;se<k.length;se++){if(_e=k[se],Te=_e.instance,Ke=_e.currentTarget,_e=_e.listener,Te!==H&&L.isPropagationStopped())break e;Tp(L,_e,Ke),H=Te}}}if(or)throw h=Ur,or=!1,Ur=null,h}function Vr(h,g){var w=g[qa];w===void 0&&(w=g[qa]=new Set);var k=h+"__bubble";w.has(k)||(Pp(g,h,2,!1),w.add(k))}function vg(h,g,w){var k=0;g&&(k|=4),Pp(w,h,k,g)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Fd(h){if(!h[Gf]){h[Gf]=!0,r.forEach(function(w){w!=="selectionchange"&&(I1.has(w)||vg(w,!1,h),vg(w,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Gf]||(g[Gf]=!0,vg("selectionchange",!1,g))}}function Pp(h,g,w,k){switch(Ed(g)){case 1:var L=wp;break;case 4:L=Np;break;default:L=Rc}w=L.bind(null,g,w,h),L=void 0,!dt||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(L=!0),k?L!==void 0?h.addEventListener(g,w,{capture:!0,passive:L}):h.addEventListener(g,w,!0):L!==void 0?h.addEventListener(g,w,{passive:L}):h.addEventListener(g,w,!1)}function Mp(h,g,w,k,L){var H=k;if((g&1)===0&&(g&2)===0&&k!==null)e:for(;;){if(k===null)return;var se=k.tag;if(se===3||se===4){var _e=k.stateNode.containerInfo;if(_e===L||_e.nodeType===8&&_e.parentNode===L)break;if(se===4)for(se=k.return;se!==null;){var Te=se.tag;if((Te===3||Te===4)&&(Te=se.stateNode.containerInfo,Te===L||Te.nodeType===8&&Te.parentNode===L))return;se=se.return}for(;_e!==null;){if(se=Ru(_e),se===null)return;if(Te=se.tag,Te===5||Te===6){k=H=se;continue e}_e=_e.parentNode}}k=k.return}ce(function(){var Ke=H,vt=wn(w),Nt=[];e:{var gt=cx.get(h);if(gt!==void 0){var Ht=$f,en=h;switch(h){case"keypress":if(Do(w)===0)break e;case"keydown":case"keyup":Ht=ju;break;case"focusin":en="focus",Ht=In;break;case"focusout":en="blur",Ht=In;break;case"beforeblur":case"afterblur":Ht=In;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=aa;break;case sx:case ax:case ox:Ht=ji;break;case lx:Ht=Td;break;case"scroll":Ht=te;break;case"wheel":Ht=jp;break;case"copy":case"cut":case"paste":Ht=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=Au}var on=(g&4)!==0,ys=!on&&h==="scroll",$e=on?gt!==null?gt+"Capture":null:gt;on=[];for(var Re=Ke,qe;Re!==null;){qe=Re;var Ct=qe.stateNode;if(qe.tag===5&&Ct!==null&&(qe=Ct,$e!==null&&(Ct=Fe(Re,$e),Ct!=null&&on.push(Rp(Re,Ct,qe)))),ys)break;Re=Re.return}0<on.length&&(gt=new Ht(gt,en,null,w,vt),Nt.push({event:gt,listeners:on}))}}if((g&7)===0){e:{if(gt=h==="mouseover"||h==="pointerover",Ht=h==="mouseout"||h==="pointerout",gt&&w!==Cn&&(en=w.relatedTarget||w.fromElement)&&(Ru(en)||en[oa]))break e;if((Ht||gt)&&(gt=vt.window===vt?vt:(gt=vt.ownerDocument)?gt.defaultView||gt.parentWindow:window,Ht?(en=w.relatedTarget||w.toElement,Ht=Ke,en=en?Ru(en):null,en!==null&&(ys=Ri(en),en!==ys||en.tag!==5&&en.tag!==6)&&(en=null)):(Ht=null,en=Ke),Ht!==en)){if(on=mt,Ct="onMouseLeave",$e="onMouseEnter",Re="mouse",(h==="pointerout"||h==="pointerover")&&(on=Au,Ct="onPointerLeave",$e="onPointerEnter",Re="pointer"),ys=Ht==null?gt:zd(Ht),qe=en==null?gt:zd(en),gt=new on(Ct,Re+"leave",Ht,w,vt),gt.target=ys,gt.relatedTarget=qe,Ct=null,Ru(vt)===Ke&&(on=new on($e,Re+"enter",en,w,vt),on.target=qe,on.relatedTarget=ys,Ct=on),ys=Ct,Ht&&en)t:{for(on=Ht,$e=en,Re=0,qe=on;qe;qe=Bd(qe))Re++;for(qe=0,Ct=$e;Ct;Ct=Bd(Ct))qe++;for(;0<Re-qe;)on=Bd(on),Re--;for(;0<qe-Re;)$e=Bd($e),qe--;for(;Re--;){if(on===$e||$e!==null&&on===$e.alternate)break t;on=Bd(on),$e=Bd($e)}on=null}else on=null;Ht!==null&&D1(Nt,gt,Ht,on,!1),en!==null&&ys!==null&&D1(Nt,ys,en,on,!0)}}e:{if(gt=Ke?zd(Ke):window,Ht=gt.nodeName&&gt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&gt.type==="file")var dn=Gl;else if(Wl(gt))if(hl)dn=Pu;else{dn=Ou;var _n=Tu}else(Ht=gt.nodeName)&&Ht.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(dn=Rd);if(dn&&(dn=dn(h,Ke))){Lc(Nt,dn,w,vt);break e}_n&&_n(h,gt,Ke),h==="focusout"&&(_n=gt._wrapperState)&&_n.controlled&&gt.type==="number"&&He(gt,"number",gt.value)}switch(_n=Ke?zd(Ke):window,h){case"focusin":(Wl(_n)||_n.contentEditable==="true")&&($c=_n,pg=Ke,Wf=null);break;case"focusout":Wf=pg=$c=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,rx(Nt,w,vt);break;case"selectionchange":if(Vf)break;case"keydown":case"keyup":rx(Nt,w,vt)}var jn;if(fl)e:{switch(h){case"compositionstart":var Bn="onCompositionStart";break e;case"compositionend":Bn="onCompositionEnd";break e;case"compositionupdate":Bn="onCompositionUpdate";break e}Bn=void 0}else $o?qf(h,w)&&(Bn="onCompositionEnd"):h==="keydown"&&w.keyCode===229&&(Bn="onCompositionStart");Bn&&(fo&&w.locale!=="ko"&&($o||Bn!=="onCompositionStart"?Bn==="onCompositionEnd"&&$o&&(jn=Sp()):(Io=vt,Ic="value"in Io?Io.value:Io.textContent,$o=!0)),_n=yg(Ke,Bn),0<_n.length&&(Bn=new Wi(Bn,h,null,w,vt),Nt.push({event:Bn,listeners:_n}),jn?Bn.data=jn:(jn=Dc(w),jn!==null&&(Bn.data=jn)))),(jn=hg?ho(h,w):po(h,w))&&(Ke=yg(Ke,"onBeforeInput"),0<Ke.length&&(vt=new Wi("onBeforeInput","beforeinput",null,w,vt),Nt.push({event:vt,listeners:Ke}),vt.data=jn))}Op(Nt,g)})}function Rp(h,g,w){return{instance:h,listener:g,currentTarget:w}}function yg(h,g){for(var w=g+"Capture",k=[];h!==null;){var L=h,H=L.stateNode;L.tag===5&&H!==null&&(L=H,H=Fe(h,w),H!=null&&k.unshift(Rp(h,H,L)),H=Fe(h,g),H!=null&&k.push(Rp(h,H,L))),h=h.return}return k}function Bd(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function D1(h,g,w,k,L){for(var H=g._reactName,se=[];w!==null&&w!==k;){var _e=w,Te=_e.alternate,Ke=_e.stateNode;if(Te!==null&&Te===k)break;_e.tag===5&&Ke!==null&&(_e=Ke,L?(Te=Fe(w,H),Te!=null&&se.unshift(Rp(w,Te,_e))):L||(Te=Fe(w,H),Te!=null&&se.push(Rp(w,Te,_e)))),w=w.return}se.length!==0&&h.push({event:g,listeners:se})}var Sj=/\r\n?/g,Ej=/\u0000|\uFFFD/g;function L1(h){return(typeof h=="string"?h:""+h).replace(Sj,`
`).replace(Ej,"")}function xg(h,g,w){if(g=L1(g),L1(h)!==g&&w)throw Error(n(425))}function Yf(){}var Ip=null,$d=null;function dx(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var fx=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,_j=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(h){return B1.resolve(null).then(h).catch(jj)}:fx;function jj(h){setTimeout(function(){throw h})}function hx(h,g){var w=g,k=0;do{var L=w.nextSibling;if(h.removeChild(w),L&&L.nodeType===8)if(w=L.data,w==="/$"){if(k===0){h.removeChild(L),Ul(g);return}k--}else w!=="$"&&w!=="$?"&&w!=="$!"||k++;w=L}while(w);Ul(g)}function Ca(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function qo(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var w=h.data;if(w==="$"||w==="$!"||w==="$?"){if(g===0)return h;g--}else w==="/$"&&g++}h=h.previousSibling}return null}var za=Math.random().toString(36).slice(2),Xl="__reactFiber$"+za,Xf="__reactProps$"+za,oa="__reactContainer$"+za,qa="__reactEvents$"+za,Aj="__reactListeners$"+za,Cj="__reactHandles$"+za;function Ru(h){var g=h[Xl];if(g)return g;for(var w=h.parentNode;w;){if(g=w[oa]||w[Xl]){if(w=g.alternate,g.child!==null||w!==null&&w.child!==null)for(h=qo(h);h!==null;){if(w=h[Xl])return w;h=qo(h)}return g}h=w,w=h.parentNode}return null}function Zf(h){return h=h[Xl]||h[oa],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function zd(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function Dp(h){return h[Xf]||null}var px=[],zc=-1;function ml(h){return{current:h}}function Mr(h){0>zc||(h.current=px[zc],px[zc]=null,zc--)}function Fr(h,g){zc++,px[zc]=h.current,h.current=g}var Iu={},Us=ml(Iu),Ua=ml(!1),qd=Iu;function Qf(h,g){var w=h.type.contextTypes;if(!w)return Iu;var k=h.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===g)return k.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in w)L[H]=g[H];return k&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=L),L}function Ha(h){return h=h.childContextTypes,h!=null}function bg(){Mr(Ua),Mr(Us)}function $1(h,g,w){if(Us.current!==Iu)throw Error(n(168));Fr(Us,g),Fr(Ua,w)}function mx(h,g,w){var k=h.stateNode;if(g=g.childContextTypes,typeof k.getChildContext!="function")return w;k=k.getChildContext();for(var L in k)if(!(L in g))throw Error(n(108,pe(h)||"Unknown",L));return ie({},w,k)}function Ud(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Iu,qd=Us.current,Fr(Us,h),Fr(Ua,Ua.current),!0}function z1(h,g,w){var k=h.stateNode;if(!k)throw Error(n(169));w?(h=mx(h,g,qd),k.__reactInternalMemoizedMergedChildContext=h,Mr(Ua),Mr(Us),Fr(Us,h)):Mr(Ua),Fr(Ua,w)}var qc=null,Lp=!1,E=!1;function T(h){qc===null?qc=[h]:qc.push(h)}function $(h){Lp=!0,T(h)}function K(){if(!E&&qc!==null){E=!0;var h=0,g=cr;try{var w=qc;for(cr=1;h<w.length;h++){var k=w[h];do k=k(!0);while(k!==null)}qc=null,Lp=!1}catch(L){throw qc!==null&&(qc=qc.slice(h+1)),Ac(Su,K),L}finally{cr=g,E=!1}}return null}var J=[],oe=0,le=null,ue=0,he=[],ge=0,ke=null,Be=1,ye="";function Pe(h,g){J[oe++]=ue,J[oe++]=le,le=h,ue=g}function Le(h,g,w){he[ge++]=Be,he[ge++]=ye,he[ge++]=ke,ke=h;var k=Be;h=ye;var L=32-Dr(k)-1;k&=~(1<<L),w+=1;var H=32-Dr(g)+L;if(30<H){var se=L-L%5;H=(k&(1<<se)-1).toString(32),k>>=se,L-=se,Be=1<<32-Dr(g)+L|w<<L|k,ye=H+h}else Be=1<<H|w<<L|k,ye=h}function nt(h){h.return!==null&&(Pe(h,1),Le(h,1,0))}function ze(h){for(;h===le;)le=J[--oe],J[oe]=null,ue=J[--oe],J[oe]=null;for(;h===ke;)ke=he[--ge],he[ge]=null,ye=he[--ge],he[ge]=null,Be=he[--ge],he[ge]=null}var Xe=null,et=null,at=!1,lt=null;function un(h,g){var w=tc(5,null,null,0);w.elementType="DELETED",w.stateNode=g,w.return=h,g=h.deletions,g===null?(h.deletions=[w],h.flags|=16):g.push(w)}function Kt(h,g){switch(h.tag){case 5:var w=h.type;return g=g.nodeType!==1||w.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,Xe=h,et=Ca(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,Xe=h,et=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(w=ke!==null?{id:Be,overflow:ye}:null,h.memoizedState={dehydrated:g,treeContext:w,retryLane:1073741824},w=tc(18,null,null,0),w.stateNode=g,w.return=h,h.child=w,Xe=h,et=null,!0):!1;default:return!1}}function Wn(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Qt(h){if(at){var g=et;if(g){var w=g;if(!Kt(h,g)){if(Wn(h))throw Error(n(418));g=Ca(w.nextSibling);var k=Xe;g&&Kt(h,g)?un(k,w):(h.flags=h.flags&-4097|2,at=!1,Xe=h)}}else{if(Wn(h))throw Error(n(418));h.flags=h.flags&-4097|2,at=!1,Xe=h}}}function ur(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Xe=h}function Fi(h){if(h!==Xe)return!1;if(!at)return ur(h),at=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!dx(h.type,h.memoizedProps)),g&&(g=et)){if(Wn(h))throw Yn(),Error(n(418));for(;g;)un(h,g),g=Ca(g.nextSibling)}if(ur(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var w=h.data;if(w==="/$"){if(g===0){et=Ca(h.nextSibling);break e}g--}else w!=="$"&&w!=="$!"&&w!=="$?"||g++}h=h.nextSibling}et=null}}else et=Xe?Ca(h.stateNode.nextSibling):null;return!0}function Yn(){for(var h=et;h;)h=Ca(h.nextSibling)}function Gt(){et=Xe=null,at=!1}function Rt(h){lt===null?lt=[h]:lt.push(h)}var Gi=j.ReactCurrentBatchConfig;function Pn(h,g,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(n(309));var k=w.stateNode}if(!k)throw Error(n(147,h));var L=k,H=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===H?g.ref:(g=function(se){var _e=L.refs;se===null?delete _e[H]:_e[H]=se},g._stringRef=H,g)}if(typeof h!="string")throw Error(n(284));if(!w._owner)throw Error(n(290,h))}return h}function lr(h,g){throw h=Object.prototype.toString.call(g),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function ei(h){var g=h._init;return g(h._payload)}function Cs(h){function g($e,Re){if(h){var qe=$e.deletions;qe===null?($e.deletions=[Re],$e.flags|=16):qe.push(Re)}}function w($e,Re){if(!h)return null;for(;Re!==null;)g($e,Re),Re=Re.sibling;return null}function k($e,Re){for($e=new Map;Re!==null;)Re.key!==null?$e.set(Re.key,Re):$e.set(Re.index,Re),Re=Re.sibling;return $e}function L($e,Re){return $e=lh($e,Re),$e.index=0,$e.sibling=null,$e}function H($e,Re,qe){return $e.index=qe,h?(qe=$e.alternate,qe!==null?(qe=qe.index,qe<Re?($e.flags|=2,Re):qe):($e.flags|=2,Re)):($e.flags|=1048576,Re)}function se($e){return h&&$e.alternate===null&&($e.flags|=2),$e}function _e($e,Re,qe,Ct){return Re===null||Re.tag!==6?(Re=rA(qe,$e.mode,Ct),Re.return=$e,Re):(Re=L(Re,qe),Re.return=$e,Re)}function Te($e,Re,qe,Ct){var dn=qe.type;return dn===M?vt($e,Re,qe.props.children,Ct,qe.key):Re!==null&&(Re.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===X&&ei(dn)===Re.type)?(Ct=L(Re,qe.props),Ct.ref=Pn($e,Re,qe),Ct.return=$e,Ct):(Ct=ow(qe.type,qe.key,qe.props,null,$e.mode,Ct),Ct.ref=Pn($e,Re,qe),Ct.return=$e,Ct)}function Ke($e,Re,qe,Ct){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==qe.containerInfo||Re.stateNode.implementation!==qe.implementation?(Re=iA(qe,$e.mode,Ct),Re.return=$e,Re):(Re=L(Re,qe.children||[]),Re.return=$e,Re)}function vt($e,Re,qe,Ct,dn){return Re===null||Re.tag!==7?(Re=Vp(qe,$e.mode,Ct,dn),Re.return=$e,Re):(Re=L(Re,qe),Re.return=$e,Re)}function Nt($e,Re,qe){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=rA(""+Re,$e.mode,qe),Re.return=$e,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case C:return qe=ow(Re.type,Re.key,Re.props,null,$e.mode,qe),qe.ref=Pn($e,null,Re),qe.return=$e,qe;case O:return Re=iA(Re,$e.mode,qe),Re.return=$e,Re;case X:var Ct=Re._init;return Nt($e,Ct(Re._payload),qe)}if(me(Re)||Y(Re))return Re=Vp(Re,$e.mode,qe,null),Re.return=$e,Re;lr($e,Re)}return null}function gt($e,Re,qe,Ct){var dn=Re!==null?Re.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return dn!==null?null:_e($e,Re,""+qe,Ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:return qe.key===dn?Te($e,Re,qe,Ct):null;case O:return qe.key===dn?Ke($e,Re,qe,Ct):null;case X:return dn=qe._init,gt($e,Re,dn(qe._payload),Ct)}if(me(qe)||Y(qe))return dn!==null?null:vt($e,Re,qe,Ct,null);lr($e,qe)}return null}function Ht($e,Re,qe,Ct,dn){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return $e=$e.get(qe)||null,_e(Re,$e,""+Ct,dn);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case C:return $e=$e.get(Ct.key===null?qe:Ct.key)||null,Te(Re,$e,Ct,dn);case O:return $e=$e.get(Ct.key===null?qe:Ct.key)||null,Ke(Re,$e,Ct,dn);case X:var _n=Ct._init;return Ht($e,Re,qe,_n(Ct._payload),dn)}if(me(Ct)||Y(Ct))return $e=$e.get(qe)||null,vt(Re,$e,Ct,dn,null);lr(Re,Ct)}return null}function en($e,Re,qe,Ct){for(var dn=null,_n=null,jn=Re,Bn=Re=0,fa=null;jn!==null&&Bn<qe.length;Bn++){jn.index>Bn?(fa=jn,jn=null):fa=jn.sibling;var kr=gt($e,jn,qe[Bn],Ct);if(kr===null){jn===null&&(jn=fa);break}h&&jn&&kr.alternate===null&&g($e,jn),Re=H(kr,Re,Bn),_n===null?dn=kr:_n.sibling=kr,_n=kr,jn=fa}if(Bn===qe.length)return w($e,jn),at&&Pe($e,Bn),dn;if(jn===null){for(;Bn<qe.length;Bn++)jn=Nt($e,qe[Bn],Ct),jn!==null&&(Re=H(jn,Re,Bn),_n===null?dn=jn:_n.sibling=jn,_n=jn);return at&&Pe($e,Bn),dn}for(jn=k($e,jn);Bn<qe.length;Bn++)fa=Ht(jn,$e,Bn,qe[Bn],Ct),fa!==null&&(h&&fa.alternate!==null&&jn.delete(fa.key===null?Bn:fa.key),Re=H(fa,Re,Bn),_n===null?dn=fa:_n.sibling=fa,_n=fa);return h&&jn.forEach(function(ch){return g($e,ch)}),at&&Pe($e,Bn),dn}function on($e,Re,qe,Ct){var dn=Y(qe);if(typeof dn!="function")throw Error(n(150));if(qe=dn.call(qe),qe==null)throw Error(n(151));for(var _n=dn=null,jn=Re,Bn=Re=0,fa=null,kr=qe.next();jn!==null&&!kr.done;Bn++,kr=qe.next()){jn.index>Bn?(fa=jn,jn=null):fa=jn.sibling;var ch=gt($e,jn,kr.value,Ct);if(ch===null){jn===null&&(jn=fa);break}h&&jn&&ch.alternate===null&&g($e,jn),Re=H(ch,Re,Bn),_n===null?dn=ch:_n.sibling=ch,_n=ch,jn=fa}if(kr.done)return w($e,jn),at&&Pe($e,Bn),dn;if(jn===null){for(;!kr.done;Bn++,kr=qe.next())kr=Nt($e,kr.value,Ct),kr!==null&&(Re=H(kr,Re,Bn),_n===null?dn=kr:_n.sibling=kr,_n=kr);return at&&Pe($e,Bn),dn}for(jn=k($e,jn);!kr.done;Bn++,kr=qe.next())kr=Ht(jn,$e,Bn,kr.value,Ct),kr!==null&&(h&&kr.alternate!==null&&jn.delete(kr.key===null?Bn:kr.key),Re=H(kr,Re,Bn),_n===null?dn=kr:_n.sibling=kr,_n=kr);return h&&jn.forEach(function(rce){return g($e,rce)}),at&&Pe($e,Bn),dn}function ys($e,Re,qe,Ct){if(typeof qe=="object"&&qe!==null&&qe.type===M&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:e:{for(var dn=qe.key,_n=Re;_n!==null;){if(_n.key===dn){if(dn=qe.type,dn===M){if(_n.tag===7){w($e,_n.sibling),Re=L(_n,qe.props.children),Re.return=$e,$e=Re;break e}}else if(_n.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===X&&ei(dn)===_n.type){w($e,_n.sibling),Re=L(_n,qe.props),Re.ref=Pn($e,_n,qe),Re.return=$e,$e=Re;break e}w($e,_n);break}else g($e,_n);_n=_n.sibling}qe.type===M?(Re=Vp(qe.props.children,$e.mode,Ct,qe.key),Re.return=$e,$e=Re):(Ct=ow(qe.type,qe.key,qe.props,null,$e.mode,Ct),Ct.ref=Pn($e,Re,qe),Ct.return=$e,$e=Ct)}return se($e);case O:e:{for(_n=qe.key;Re!==null;){if(Re.key===_n)if(Re.tag===4&&Re.stateNode.containerInfo===qe.containerInfo&&Re.stateNode.implementation===qe.implementation){w($e,Re.sibling),Re=L(Re,qe.children||[]),Re.return=$e,$e=Re;break e}else{w($e,Re);break}else g($e,Re);Re=Re.sibling}Re=iA(qe,$e.mode,Ct),Re.return=$e,$e=Re}return se($e);case X:return _n=qe._init,ys($e,Re,_n(qe._payload),Ct)}if(me(qe))return en($e,Re,qe,Ct);if(Y(qe))return on($e,Re,qe,Ct);lr($e,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,Re!==null&&Re.tag===6?(w($e,Re.sibling),Re=L(Re,qe),Re.return=$e,$e=Re):(w($e,Re),Re=rA(qe,$e.mode,Ct),Re.return=$e,$e=Re),se($e)):w($e,Re)}return ys}var ns=Cs(!0),Ai=Cs(!1),gs=ml(null),ks=null,yi=null,mr=null;function wr(){mr=yi=ks=null}function xi(h){var g=gs.current;Mr(gs),h._currentValue=g}function Nr(h,g,w){for(;h!==null;){var k=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,k!==null&&(k.childLanes|=g)):k!==null&&(k.childLanes&g)!==g&&(k.childLanes|=g),h===w)break;h=h.return}}function Bi(h,g){ks=h,mr=yi=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(Ho=!0),h.firstContext=null)}function $i(h){var g=h._currentValue;if(mr!==h)if(h={context:h,memoizedValue:g,next:null},yi===null){if(ks===null)throw Error(n(308));yi=h,ks.dependencies={lanes:0,firstContext:h}}else yi=yi.next=h;return g}var Wr=null;function la(h){Wr===null?Wr=[h]:Wr.push(h)}function Br(h,g,w,k){var L=g.interleaved;return L===null?(w.next=w,la(g)):(w.next=L.next,L.next=w),g.interleaved=w,Kr(h,k)}function Kr(h,g){h.lanes|=g;var w=h.alternate;for(w!==null&&(w.lanes|=g),w=h,h=h.return;h!==null;)h.childLanes|=g,w=h.alternate,w!==null&&(w.childLanes|=g),w=h,h=h.return;return w.tag===3?w.stateNode:null}var rs=!1;function Hs(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Va(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Yi(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function Xi(h,g,w){var k=h.updateQueue;if(k===null)return null;if(k=k.shared,(Sr&2)!==0){var L=k.pending;return L===null?g.next=g:(g.next=L.next,L.next=g),k.pending=g,Kr(h,w)}return L=k.interleaved,L===null?(g.next=g,la(k)):(g.next=L.next,L.next=g),k.interleaved=g,Kr(h,w)}function ca(h,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194240)!==0)){var k=g.lanes;k&=h.pendingLanes,w|=k,g.lanes=w,Eu(h,w)}}function Gr(h,g){var w=h.updateQueue,k=h.alternate;if(k!==null&&(k=k.updateQueue,w===k)){var L=null,H=null;if(w=w.firstBaseUpdate,w!==null){do{var se={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};H===null?L=H=se:H=H.next=se,w=w.next}while(w!==null);H===null?L=H=g:H=H.next=g}else L=H=g;w={baseState:k.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:k.shared,effects:k.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=g:h.next=g,w.lastBaseUpdate=g}function ua(h,g,w,k){var L=h.updateQueue;rs=!1;var H=L.firstBaseUpdate,se=L.lastBaseUpdate,_e=L.shared.pending;if(_e!==null){L.shared.pending=null;var Te=_e,Ke=Te.next;Te.next=null,se===null?H=Ke:se.next=Ke,se=Te;var vt=h.alternate;vt!==null&&(vt=vt.updateQueue,_e=vt.lastBaseUpdate,_e!==se&&(_e===null?vt.firstBaseUpdate=Ke:_e.next=Ke,vt.lastBaseUpdate=Te))}if(H!==null){var Nt=L.baseState;se=0,vt=Ke=Te=null,_e=H;do{var gt=_e.lane,Ht=_e.eventTime;if((k&gt)===gt){vt!==null&&(vt=vt.next={eventTime:Ht,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var en=h,on=_e;switch(gt=g,Ht=w,on.tag){case 1:if(en=on.payload,typeof en=="function"){Nt=en.call(Ht,Nt,gt);break e}Nt=en;break e;case 3:en.flags=en.flags&-65537|128;case 0:if(en=on.payload,gt=typeof en=="function"?en.call(Ht,Nt,gt):en,gt==null)break e;Nt=ie({},Nt,gt);break e;case 2:rs=!0}}_e.callback!==null&&_e.lane!==0&&(h.flags|=64,gt=L.effects,gt===null?L.effects=[_e]:gt.push(_e))}else Ht={eventTime:Ht,lane:gt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},vt===null?(Ke=vt=Ht,Te=Nt):vt=vt.next=Ht,se|=gt;if(_e=_e.next,_e===null){if(_e=L.shared.pending,_e===null)break;gt=_e,_e=gt.next,gt.next=null,L.lastBaseUpdate=gt,L.shared.pending=null}}while(!0);if(vt===null&&(Te=Nt),L.baseState=Te,L.firstBaseUpdate=Ke,L.lastBaseUpdate=vt,g=L.shared.interleaved,g!==null){L=g;do se|=L.lane,L=L.next;while(L!==g)}else H===null&&(L.shared.lanes=0);zp|=se,h.lanes=se,h.memoizedState=Nt}}function Uo(h,g,w){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var k=h[g],L=k.callback;if(L!==null){if(k.callback=null,k=w,typeof L!="function")throw Error(n(191,L));L.call(k)}}}var gl={},Ts=ml(gl),Zi=ml(gl),Du=ml(gl);function Uc(h){if(h===gl)throw Error(n(174));return h}function Jf(h,g){switch(Fr(Du,g),Fr(Zi,h),Fr(Ts,gl),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:_t(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=_t(g,h)}Mr(Ts),Fr(Ts,g)}function Zl(){Mr(Ts),Mr(Zi),Mr(Du)}function q1(h){Uc(Du.current);var g=Uc(Ts.current),w=_t(g,h.type);g!==w&&(Fr(Zi,h),Fr(Ts,w))}function gx(h){Zi.current===h&&(Mr(Ts),Mr(Zi))}var ai=ml(0);function vl(h){for(var g=h;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var vx=[];function yx(){for(var h=0;h<vx.length;h++)vx[h]._workInProgressVersionPrimary=null;vx.length=0}var wg=j.ReactCurrentDispatcher,Ng=j.ReactCurrentBatchConfig,Ql=0,bi=null,is=null,Qi=null,eh=!1,Hc=!1,th=0,kj=0;function vs(){throw Error(n(321))}function Sg(h,g){if(g===null)return!1;for(var w=0;w<g.length&&w<h.length;w++)if(!Di(h[w],g[w]))return!1;return!0}function Fp(h,g,w,k,L,H){if(Ql=H,bi=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,wg.current=h===null||h.memoizedState===null?kle:Tle,h=w(k,L),Hc){H=0;do{if(Hc=!1,th=0,25<=H)throw Error(n(301));H+=1,Qi=is=null,g.updateQueue=null,wg.current=Ole,h=w(k,L)}while(Hc)}if(wg.current=K1,g=is!==null&&is.next!==null,Ql=0,Qi=is=bi=null,eh=!1,g)throw Error(n(300));return h}function Jl(){var h=th!==0;return th=0,h}function yl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?bi.memoizedState=Qi=h:Qi=Qi.next=h,Qi}function mo(){if(is===null){var h=bi.alternate;h=h!==null?h.memoizedState:null}else h=is.next;var g=Qi===null?bi.memoizedState:Qi.next;if(g!==null)Qi=g,is=h;else{if(h===null)throw Error(n(310));is=h,h={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},Qi===null?bi.memoizedState=Qi=h:Qi=Qi.next=h}return Qi}function Bp(h,g){return typeof g=="function"?g(h):g}function Eg(h){var g=mo(),w=g.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=h;var k=is,L=k.baseQueue,H=w.pending;if(H!==null){if(L!==null){var se=L.next;L.next=H.next,H.next=se}k.baseQueue=L=H,w.pending=null}if(L!==null){H=L.next,k=k.baseState;var _e=se=null,Te=null,Ke=H;do{var vt=Ke.lane;if((Ql&vt)===vt)Te!==null&&(Te=Te.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),k=Ke.hasEagerState?Ke.eagerState:h(k,Ke.action);else{var Nt={lane:vt,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};Te===null?(_e=Te=Nt,se=k):Te=Te.next=Nt,bi.lanes|=vt,zp|=vt}Ke=Ke.next}while(Ke!==null&&Ke!==H);Te===null?se=k:Te.next=_e,Di(k,g.memoizedState)||(Ho=!0),g.memoizedState=k,g.baseState=se,g.baseQueue=Te,w.lastRenderedState=k}if(h=w.interleaved,h!==null){L=h;do H=L.lane,bi.lanes|=H,zp|=H,L=L.next;while(L!==h)}else L===null&&(w.lanes=0);return[g.memoizedState,w.dispatch]}function Lu(h){var g=mo(),w=g.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=h;var k=w.dispatch,L=w.pending,H=g.memoizedState;if(L!==null){w.pending=null;var se=L=L.next;do H=h(H,se.action),se=se.next;while(se!==L);Di(H,g.memoizedState)||(Ho=!0),g.memoizedState=H,g.baseQueue===null&&(g.baseState=H),w.lastRenderedState=H}return[H,k]}function U1(){}function xx(h,g){var w=bi,k=mo(),L=g(),H=!Di(k.memoizedState,L);if(H&&(k.memoizedState=L,Ho=!0),k=k.queue,Ag(V1.bind(null,w,k,h),[h]),k.getSnapshot!==g||H||Qi!==null&&Qi.memoizedState.tag&1){if(w.flags|=2048,go(9,bx.bind(null,w,k,L,g),void 0,null),da===null)throw Error(n(349));(Ql&30)!==0||H1(w,g,L)}return L}function H1(h,g,w){h.flags|=16384,h={getSnapshot:g,value:w},g=bi.updateQueue,g===null?(g={lastEffect:null,stores:null},bi.updateQueue=g,g.stores=[h]):(w=g.stores,w===null?g.stores=[h]:w.push(h))}function bx(h,g,w,k){g.value=w,g.getSnapshot=k,nh(g)&&_g(h)}function V1(h,g,w){return w(function(){nh(g)&&_g(h)})}function nh(h){var g=h.getSnapshot;h=h.value;try{var w=g();return!Di(h,w)}catch{return!0}}function _g(h){var g=Kr(h,1);g!==null&&Yc(g,h,1,-1)}function $p(h){var g=yl();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:h},g.queue=h,h=h.dispatch=Cle.bind(null,bi,h),[g.memoizedState,h]}function go(h,g,w,k){return h={tag:h,create:g,destroy:w,deps:k,next:null},g=bi.updateQueue,g===null?(g={lastEffect:null,stores:null},bi.updateQueue=g,g.lastEffect=h.next=h):(w=g.lastEffect,w===null?g.lastEffect=h.next=h:(k=w.next,w.next=h,h.next=k,g.lastEffect=h)),h}function Vc(){return mo().memoizedState}function xl(h,g,w,k){var L=yl();bi.flags|=h,L.memoizedState=go(1|g,w,void 0,k===void 0?null:k)}function Hd(h,g,w,k){var L=mo();k=k===void 0?null:k;var H=void 0;if(is!==null){var se=is.memoizedState;if(H=se.destroy,k!==null&&Sg(k,se.deps)){L.memoizedState=go(g,w,H,k);return}}bi.flags|=h,L.memoizedState=go(1|g,w,H,k)}function jg(h,g){return xl(8390656,8,h,g)}function Ag(h,g){return Hd(2048,8,h,g)}function W1(h,g){return Hd(4,2,h,g)}function Cg(h,g){return Hd(4,4,h,g)}function kg(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function h3(h,g,w){return w=w!=null?w.concat([h]):null,Hd(4,4,kg.bind(null,g,h),w)}function Tj(){}function p3(h,g){var w=mo();g=g===void 0?null:g;var k=w.memoizedState;return k!==null&&g!==null&&Sg(g,k[1])?k[0]:(w.memoizedState=[h,g],h)}function m3(h,g){var w=mo();g=g===void 0?null:g;var k=w.memoizedState;return k!==null&&g!==null&&Sg(g,k[1])?k[0]:(h=h(),w.memoizedState=[h,g],h)}function g3(h,g,w){return(Ql&21)===0?(h.baseState&&(h.baseState=!1,Ho=!0),h.memoizedState=w):(Di(w,g)||(w=Df(),bi.lanes|=w,zp|=w,h.baseState=!0),g)}function jle(h,g){var w=cr;cr=w!==0&&4>w?w:4,h(!0);var k=Ng.transition;Ng.transition={};try{h(!1),g()}finally{cr=w,Ng.transition=k}}function v3(){return mo().memoizedState}function Ale(h,g,w){var k=ah(h);if(w={lane:k,action:w,hasEagerState:!1,eagerState:null,next:null},y3(h))x3(g,w);else if(w=Br(h,g,w,k),w!==null){var L=yo();Yc(w,h,k,L),b3(w,g,k)}}function Cle(h,g,w){var k=ah(h),L={lane:k,action:w,hasEagerState:!1,eagerState:null,next:null};if(y3(h))x3(g,L);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=g.lastRenderedReducer,H!==null))try{var se=g.lastRenderedState,_e=H(se,w);if(L.hasEagerState=!0,L.eagerState=_e,Di(_e,se)){var Te=g.interleaved;Te===null?(L.next=L,la(g)):(L.next=Te.next,Te.next=L),g.interleaved=L;return}}catch{}finally{}w=Br(h,g,L,k),w!==null&&(L=yo(),Yc(w,h,k,L),b3(w,g,k))}}function y3(h){var g=h.alternate;return h===bi||g!==null&&g===bi}function x3(h,g){Hc=eh=!0;var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}function b3(h,g,w){if((w&4194240)!==0){var k=g.lanes;k&=h.pendingLanes,w|=k,g.lanes=w,Eu(h,w)}}var K1={readContext:$i,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},kle={readContext:$i,useCallback:function(h,g){return yl().memoizedState=[h,g===void 0?null:g],h},useContext:$i,useEffect:jg,useImperativeHandle:function(h,g,w){return w=w!=null?w.concat([h]):null,xl(4194308,4,kg.bind(null,g,h),w)},useLayoutEffect:function(h,g){return xl(4194308,4,h,g)},useInsertionEffect:function(h,g){return xl(4,2,h,g)},useMemo:function(h,g){var w=yl();return g=g===void 0?null:g,h=h(),w.memoizedState=[h,g],h},useReducer:function(h,g,w){var k=yl();return g=w!==void 0?w(g):g,k.memoizedState=k.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},k.queue=h,h=h.dispatch=Ale.bind(null,bi,h),[k.memoizedState,h]},useRef:function(h){var g=yl();return h={current:h},g.memoizedState=h},useState:$p,useDebugValue:Tj,useDeferredValue:function(h){return yl().memoizedState=h},useTransition:function(){var h=$p(!1),g=h[0];return h=jle.bind(null,h[1]),yl().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,w){var k=bi,L=yl();if(at){if(w===void 0)throw Error(n(407));w=w()}else{if(w=g(),da===null)throw Error(n(349));(Ql&30)!==0||H1(k,g,w)}L.memoizedState=w;var H={value:w,getSnapshot:g};return L.queue=H,jg(V1.bind(null,k,H,h),[h]),k.flags|=2048,go(9,bx.bind(null,k,H,w,g),void 0,null),w},useId:function(){var h=yl(),g=da.identifierPrefix;if(at){var w=ye,k=Be;w=(k&~(1<<32-Dr(k)-1)).toString(32)+w,g=":"+g+"R"+w,w=th++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=kj++,g=":"+g+"r"+w.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},Tle={readContext:$i,useCallback:p3,useContext:$i,useEffect:Ag,useImperativeHandle:h3,useInsertionEffect:W1,useLayoutEffect:Cg,useMemo:m3,useReducer:Eg,useRef:Vc,useState:function(){return Eg(Bp)},useDebugValue:Tj,useDeferredValue:function(h){var g=mo();return g3(g,is.memoizedState,h)},useTransition:function(){var h=Eg(Bp)[0],g=mo().memoizedState;return[h,g]},useMutableSource:U1,useSyncExternalStore:xx,useId:v3,unstable_isNewReconciler:!1},Ole={readContext:$i,useCallback:p3,useContext:$i,useEffect:Ag,useImperativeHandle:h3,useInsertionEffect:W1,useLayoutEffect:Cg,useMemo:m3,useReducer:Lu,useRef:Vc,useState:function(){return Lu(Bp)},useDebugValue:Tj,useDeferredValue:function(h){var g=mo();return is===null?g.memoizedState=h:g3(g,is.memoizedState,h)},useTransition:function(){var h=Lu(Bp)[0],g=mo().memoizedState;return[h,g]},useMutableSource:U1,useSyncExternalStore:xx,useId:v3,unstable_isNewReconciler:!1};function Wc(h,g){if(h&&h.defaultProps){g=ie({},g),h=h.defaultProps;for(var w in h)g[w]===void 0&&(g[w]=h[w]);return g}return g}function Oj(h,g,w,k){g=h.memoizedState,w=w(k,g),w=w==null?g:ie({},g,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var G1={isMounted:function(h){return(h=h._reactInternals)?Ri(h)===h:!1},enqueueSetState:function(h,g,w){h=h._reactInternals;var k=yo(),L=ah(h),H=Yi(k,L);H.payload=g,w!=null&&(H.callback=w),g=Xi(h,H,L),g!==null&&(Yc(g,h,L,k),ca(g,h,L))},enqueueReplaceState:function(h,g,w){h=h._reactInternals;var k=yo(),L=ah(h),H=Yi(k,L);H.tag=1,H.payload=g,w!=null&&(H.callback=w),g=Xi(h,H,L),g!==null&&(Yc(g,h,L,k),ca(g,h,L))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var w=yo(),k=ah(h),L=Yi(w,k);L.tag=2,g!=null&&(L.callback=g),g=Xi(h,L,k),g!==null&&(Yc(g,h,k,w),ca(g,h,k))}};function w3(h,g,w,k,L,H,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(k,H,se):g.prototype&&g.prototype.isPureReactComponent?!$a(w,k)||!$a(L,H):!0}function N3(h,g,w){var k=!1,L=Iu,H=g.contextType;return typeof H=="object"&&H!==null?H=$i(H):(L=Ha(g)?qd:Us.current,k=g.contextTypes,H=(k=k!=null)?Qf(h,L):Iu),g=new g(w,H),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=G1,h.stateNode=g,g._reactInternals=h,k&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=L,h.__reactInternalMemoizedMaskedChildContext=H),g}function S3(h,g,w,k){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,k),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,k),g.state!==h&&G1.enqueueReplaceState(g,g.state,null)}function Pj(h,g,w,k){var L=h.stateNode;L.props=w,L.state=h.memoizedState,L.refs={},Hs(h);var H=g.contextType;typeof H=="object"&&H!==null?L.context=$i(H):(H=Ha(g)?qd:Us.current,L.context=Qf(h,H)),L.state=h.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(Oj(h,g,H,w),L.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(g=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),g!==L.state&&G1.enqueueReplaceState(L,L.state,null),ua(h,w,L,k),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308)}function Tg(h,g){try{var w="",k=g;do w+=re(k),k=k.return;while(k);var L=w}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:h,source:g,stack:L,digest:null}}function Mj(h,g,w){return{value:h,source:null,stack:w??null,digest:g??null}}function Rj(h,g){try{console.error(g.value)}catch(w){setTimeout(function(){throw w})}}var Ple=typeof WeakMap=="function"?WeakMap:Map;function E3(h,g,w){w=Yi(-1,w),w.tag=3,w.payload={element:null};var k=g.value;return w.callback=function(){tw||(tw=!0,Yj=k),Rj(h,g)},w}function _3(h,g,w){w=Yi(-1,w),w.tag=3;var k=h.type.getDerivedStateFromError;if(typeof k=="function"){var L=g.value;w.payload=function(){return k(L)},w.callback=function(){Rj(h,g)}}var H=h.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(w.callback=function(){Rj(h,g),typeof k!="function"&&(ih===null?ih=new Set([this]):ih.add(this));var se=g.stack;this.componentDidCatch(g.value,{componentStack:se!==null?se:""})}),w}function j3(h,g,w){var k=h.pingCache;if(k===null){k=h.pingCache=new Ple;var L=new Set;k.set(g,L)}else L=k.get(g),L===void 0&&(L=new Set,k.set(g,L));L.has(w)||(L.add(w),h=Wle.bind(null,h,g,w),g.then(h,h))}function A3(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function C3(h,g,w,k,L){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(g=Yi(-1,1),g.tag=2,Xi(w,g,1))),w.lanes|=1),h):(h.flags|=65536,h.lanes=L,h)}var Mle=j.ReactCurrentOwner,Ho=!1;function vo(h,g,w,k){g.child=h===null?Ai(g,null,w,k):ns(g,h.child,w,k)}function k3(h,g,w,k,L){w=w.render;var H=g.ref;return Bi(g,L),k=Fp(h,g,w,k,H,L),w=Jl(),h!==null&&!Ho?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~L,Vd(h,g,L)):(at&&w&&nt(g),g.flags|=1,vo(h,g,k,L),g.child)}function T3(h,g,w,k,L){if(h===null){var H=w.type;return typeof H=="function"&&!nA(H)&&H.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(g.tag=15,g.type=H,O3(h,g,H,k,L)):(h=ow(w.type,null,k,g,g.mode,L),h.ref=g.ref,h.return=g,g.child=h)}if(H=h.child,(h.lanes&L)===0){var se=H.memoizedProps;if(w=w.compare,w=w!==null?w:$a,w(se,k)&&h.ref===g.ref)return Vd(h,g,L)}return g.flags|=1,h=lh(H,k),h.ref=g.ref,h.return=g,g.child=h}function O3(h,g,w,k,L){if(h!==null){var H=h.memoizedProps;if($a(H,k)&&h.ref===g.ref)if(Ho=!1,g.pendingProps=k=H,(h.lanes&L)!==0)(h.flags&131072)!==0&&(Ho=!0);else return g.lanes=h.lanes,Vd(h,g,L)}return Ij(h,g,w,k,L)}function P3(h,g,w){var k=g.pendingProps,L=k.children,H=h!==null?h.memoizedState:null;if(k.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(Pg,bl),bl|=w;else{if((w&1073741824)===0)return h=H!==null?H.baseLanes|w:w,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Fr(Pg,bl),bl|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=H!==null?H.baseLanes:w,Fr(Pg,bl),bl|=k}else H!==null?(k=H.baseLanes|w,g.memoizedState=null):k=w,Fr(Pg,bl),bl|=k;return vo(h,g,L,w),g.child}function M3(h,g){var w=g.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(g.flags|=512,g.flags|=2097152)}function Ij(h,g,w,k,L){var H=Ha(w)?qd:Us.current;return H=Qf(g,H),Bi(g,L),w=Fp(h,g,w,k,H,L),k=Jl(),h!==null&&!Ho?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~L,Vd(h,g,L)):(at&&k&&nt(g),g.flags|=1,vo(h,g,w,L),g.child)}function R3(h,g,w,k,L){if(Ha(w)){var H=!0;Ud(g)}else H=!1;if(Bi(g,L),g.stateNode===null)X1(h,g),N3(g,w,k),Pj(g,w,k,L),k=!0;else if(h===null){var se=g.stateNode,_e=g.memoizedProps;se.props=_e;var Te=se.context,Ke=w.contextType;typeof Ke=="object"&&Ke!==null?Ke=$i(Ke):(Ke=Ha(w)?qd:Us.current,Ke=Qf(g,Ke));var vt=w.getDerivedStateFromProps,Nt=typeof vt=="function"||typeof se.getSnapshotBeforeUpdate=="function";Nt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(_e!==k||Te!==Ke)&&S3(g,se,k,Ke),rs=!1;var gt=g.memoizedState;se.state=gt,ua(g,k,se,L),Te=g.memoizedState,_e!==k||gt!==Te||Ua.current||rs?(typeof vt=="function"&&(Oj(g,w,vt,k),Te=g.memoizedState),(_e=rs||w3(g,w,_e,k,gt,Te,Ke))?(Nt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(g.flags|=4194308)):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=k,g.memoizedState=Te),se.props=k,se.state=Te,se.context=Ke,k=_e):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),k=!1)}else{se=g.stateNode,Va(h,g),_e=g.memoizedProps,Ke=g.type===g.elementType?_e:Wc(g.type,_e),se.props=Ke,Nt=g.pendingProps,gt=se.context,Te=w.contextType,typeof Te=="object"&&Te!==null?Te=$i(Te):(Te=Ha(w)?qd:Us.current,Te=Qf(g,Te));var Ht=w.getDerivedStateFromProps;(vt=typeof Ht=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(_e!==Nt||gt!==Te)&&S3(g,se,k,Te),rs=!1,gt=g.memoizedState,se.state=gt,ua(g,k,se,L);var en=g.memoizedState;_e!==Nt||gt!==en||Ua.current||rs?(typeof Ht=="function"&&(Oj(g,w,Ht,k),en=g.memoizedState),(Ke=rs||w3(g,w,Ke,k,gt,en,Te)||!1)?(vt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(k,en,Te),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(k,en,Te)),typeof se.componentDidUpdate=="function"&&(g.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof se.componentDidUpdate!="function"||_e===h.memoizedProps&&gt===h.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||_e===h.memoizedProps&&gt===h.memoizedState||(g.flags|=1024),g.memoizedProps=k,g.memoizedState=en),se.props=k,se.state=en,se.context=Te,k=Ke):(typeof se.componentDidUpdate!="function"||_e===h.memoizedProps&&gt===h.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||_e===h.memoizedProps&&gt===h.memoizedState||(g.flags|=1024),k=!1)}return Dj(h,g,w,k,H,L)}function Dj(h,g,w,k,L,H){M3(h,g);var se=(g.flags&128)!==0;if(!k&&!se)return L&&z1(g,w,!1),Vd(h,g,H);k=g.stateNode,Mle.current=g;var _e=se&&typeof w.getDerivedStateFromError!="function"?null:k.render();return g.flags|=1,h!==null&&se?(g.child=ns(g,h.child,null,H),g.child=ns(g,null,_e,H)):vo(h,g,_e,H),g.memoizedState=k.state,L&&z1(g,w,!0),g.child}function I3(h){var g=h.stateNode;g.pendingContext?$1(h,g.pendingContext,g.pendingContext!==g.context):g.context&&$1(h,g.context,!1),Jf(h,g.containerInfo)}function D3(h,g,w,k,L){return Gt(),Rt(L),g.flags|=256,vo(h,g,w,k),g.child}var Lj={dehydrated:null,treeContext:null,retryLane:0};function Fj(h){return{baseLanes:h,cachePool:null,transitions:null}}function L3(h,g,w){var k=g.pendingProps,L=ai.current,H=!1,se=(g.flags&128)!==0,_e;if((_e=se)||(_e=h!==null&&h.memoizedState===null?!1:(L&2)!==0),_e?(H=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(L|=1),Fr(ai,L&1),h===null)return Qt(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(se=k.children,h=k.fallback,H?(k=g.mode,H=g.child,se={mode:"hidden",children:se},(k&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=se):H=lw(se,k,0,null),h=Vp(h,k,w,null),H.return=g,h.return=g,H.sibling=h,g.child=H,g.child.memoizedState=Fj(w),g.memoizedState=Lj,h):Bj(g,se));if(L=h.memoizedState,L!==null&&(_e=L.dehydrated,_e!==null))return Rle(h,g,se,k,_e,L,w);if(H){H=k.fallback,se=g.mode,L=h.child,_e=L.sibling;var Te={mode:"hidden",children:k.children};return(se&1)===0&&g.child!==L?(k=g.child,k.childLanes=0,k.pendingProps=Te,g.deletions=null):(k=lh(L,Te),k.subtreeFlags=L.subtreeFlags&14680064),_e!==null?H=lh(_e,H):(H=Vp(H,se,w,null),H.flags|=2),H.return=g,k.return=g,k.sibling=H,g.child=k,k=H,H=g.child,se=h.child.memoizedState,se=se===null?Fj(w):{baseLanes:se.baseLanes|w,cachePool:null,transitions:se.transitions},H.memoizedState=se,H.childLanes=h.childLanes&~w,g.memoizedState=Lj,k}return H=h.child,h=H.sibling,k=lh(H,{mode:"visible",children:k.children}),(g.mode&1)===0&&(k.lanes=w),k.return=g,k.sibling=null,h!==null&&(w=g.deletions,w===null?(g.deletions=[h],g.flags|=16):w.push(h)),g.child=k,g.memoizedState=null,k}function Bj(h,g){return g=lw({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function Y1(h,g,w,k){return k!==null&&Rt(k),ns(g,h.child,null,w),h=Bj(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function Rle(h,g,w,k,L,H,se){if(w)return g.flags&256?(g.flags&=-257,k=Mj(Error(n(422))),Y1(h,g,se,k)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(H=k.fallback,L=g.mode,k=lw({mode:"visible",children:k.children},L,0,null),H=Vp(H,L,se,null),H.flags|=2,k.return=g,H.return=g,k.sibling=H,g.child=k,(g.mode&1)!==0&&ns(g,h.child,null,se),g.child.memoizedState=Fj(se),g.memoizedState=Lj,H);if((g.mode&1)===0)return Y1(h,g,se,null);if(L.data==="$!"){if(k=L.nextSibling&&L.nextSibling.dataset,k)var _e=k.dgst;return k=_e,H=Error(n(419)),k=Mj(H,k,void 0),Y1(h,g,se,k)}if(_e=(se&h.childLanes)!==0,Ho||_e){if(k=da,k!==null){switch(se&-se){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(k.suspendedLanes|se))!==0?0:L,L!==0&&L!==H.retryLane&&(H.retryLane=L,Kr(h,L),Yc(k,h,L,-1))}return tA(),k=Mj(Error(n(421))),Y1(h,g,se,k)}return L.data==="$?"?(g.flags|=128,g.child=h.child,g=Kle.bind(null,h),L._reactRetry=g,null):(h=H.treeContext,et=Ca(L.nextSibling),Xe=g,at=!0,lt=null,h!==null&&(he[ge++]=Be,he[ge++]=ye,he[ge++]=ke,Be=h.id,ye=h.overflow,ke=g),g=Bj(g,k.children),g.flags|=4096,g)}function F3(h,g,w){h.lanes|=g;var k=h.alternate;k!==null&&(k.lanes|=g),Nr(h.return,g,w)}function $j(h,g,w,k,L){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:k,tail:w,tailMode:L}:(H.isBackwards=g,H.rendering=null,H.renderingStartTime=0,H.last=k,H.tail=w,H.tailMode=L)}function B3(h,g,w){var k=g.pendingProps,L=k.revealOrder,H=k.tail;if(vo(h,g,k.children,w),k=ai.current,(k&2)!==0)k=k&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&F3(h,w,g);else if(h.tag===19)F3(h,w,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}k&=1}if(Fr(ai,k),(g.mode&1)===0)g.memoizedState=null;else switch(L){case"forwards":for(w=g.child,L=null;w!==null;)h=w.alternate,h!==null&&vl(h)===null&&(L=w),w=w.sibling;w=L,w===null?(L=g.child,g.child=null):(L=w.sibling,w.sibling=null),$j(g,!1,L,w,H);break;case"backwards":for(w=null,L=g.child,g.child=null;L!==null;){if(h=L.alternate,h!==null&&vl(h)===null){g.child=L;break}h=L.sibling,L.sibling=w,w=L,L=h}$j(g,!0,w,null,H);break;case"together":$j(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function X1(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function Vd(h,g,w){if(h!==null&&(g.dependencies=h.dependencies),zp|=g.lanes,(w&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(n(153));if(g.child!==null){for(h=g.child,w=lh(h,h.pendingProps),g.child=w,w.return=g;h.sibling!==null;)h=h.sibling,w=w.sibling=lh(h,h.pendingProps),w.return=g;w.sibling=null}return g.child}function Ile(h,g,w){switch(g.tag){case 3:I3(g),Gt();break;case 5:q1(g);break;case 1:Ha(g.type)&&Ud(g);break;case 4:Jf(g,g.stateNode.containerInfo);break;case 10:var k=g.type._context,L=g.memoizedProps.value;Fr(gs,k._currentValue),k._currentValue=L;break;case 13:if(k=g.memoizedState,k!==null)return k.dehydrated!==null?(Fr(ai,ai.current&1),g.flags|=128,null):(w&g.child.childLanes)!==0?L3(h,g,w):(Fr(ai,ai.current&1),h=Vd(h,g,w),h!==null?h.sibling:null);Fr(ai,ai.current&1);break;case 19:if(k=(w&g.childLanes)!==0,(h.flags&128)!==0){if(k)return B3(h,g,w);g.flags|=128}if(L=g.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Fr(ai,ai.current),k)break;return null;case 22:case 23:return g.lanes=0,P3(h,g,w)}return Vd(h,g,w)}var $3,zj,z3,q3;$3=function(h,g){for(var w=g.child;w!==null;){if(w.tag===5||w.tag===6)h.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},zj=function(){},z3=function(h,g,w,k){var L=h.memoizedProps;if(L!==k){h=g.stateNode,Uc(Ts.current);var H=null;switch(w){case"input":L=ee(h,L),k=ee(h,k),H=[];break;case"select":L=ie({},L,{value:void 0}),k=ie({},k,{value:void 0}),H=[];break;case"textarea":L=Ce(h,L),k=Ce(h,k),H=[];break;default:typeof L.onClick!="function"&&typeof k.onClick=="function"&&(h.onclick=Yf)}nr(w,k);var se;w=null;for(Ke in L)if(!k.hasOwnProperty(Ke)&&L.hasOwnProperty(Ke)&&L[Ke]!=null)if(Ke==="style"){var _e=L[Ke];for(se in _e)_e.hasOwnProperty(se)&&(w||(w={}),w[se]="")}else Ke!=="dangerouslySetInnerHTML"&&Ke!=="children"&&Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&Ke!=="autoFocus"&&(i.hasOwnProperty(Ke)?H||(H=[]):(H=H||[]).push(Ke,null));for(Ke in k){var Te=k[Ke];if(_e=L?.[Ke],k.hasOwnProperty(Ke)&&Te!==_e&&(Te!=null||_e!=null))if(Ke==="style")if(_e){for(se in _e)!_e.hasOwnProperty(se)||Te&&Te.hasOwnProperty(se)||(w||(w={}),w[se]="");for(se in Te)Te.hasOwnProperty(se)&&_e[se]!==Te[se]&&(w||(w={}),w[se]=Te[se])}else w||(H||(H=[]),H.push(Ke,w)),w=Te;else Ke==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,_e=_e?_e.__html:void 0,Te!=null&&_e!==Te&&(H=H||[]).push(Ke,Te)):Ke==="children"?typeof Te!="string"&&typeof Te!="number"||(H=H||[]).push(Ke,""+Te):Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ke)?(Te!=null&&Ke==="onScroll"&&Vr("scroll",h),H||_e===Te||(H=[])):(H=H||[]).push(Ke,Te))}w&&(H=H||[]).push("style",w);var Ke=H;(g.updateQueue=Ke)&&(g.flags|=4)}},q3=function(h,g,w,k){w!==k&&(g.flags|=4)};function wx(h,g){if(!at)switch(h.tailMode){case"hidden":g=h.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var k=null;w!==null;)w.alternate!==null&&(k=w),w=w.sibling;k===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:k.sibling=null}}function Wa(h){var g=h.alternate!==null&&h.alternate.child===h.child,w=0,k=0;if(g)for(var L=h.child;L!==null;)w|=L.lanes|L.childLanes,k|=L.subtreeFlags&14680064,k|=L.flags&14680064,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)w|=L.lanes|L.childLanes,k|=L.subtreeFlags,k|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=k,h.childLanes=w,g}function Dle(h,g,w){var k=g.pendingProps;switch(ze(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(g),null;case 1:return Ha(g.type)&&bg(),Wa(g),null;case 3:return k=g.stateNode,Zl(),Mr(Ua),Mr(Us),yx(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(h===null||h.child===null)&&(Fi(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,lt!==null&&(Qj(lt),lt=null))),zj(h,g),Wa(g),null;case 5:gx(g);var L=Uc(Du.current);if(w=g.type,h!==null&&g.stateNode!=null)z3(h,g,w,k,L),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!k){if(g.stateNode===null)throw Error(n(166));return Wa(g),null}if(h=Uc(Ts.current),Fi(g)){k=g.stateNode,w=g.type;var H=g.memoizedProps;switch(k[Xl]=g,k[Xf]=H,h=(g.mode&1)!==0,w){case"dialog":Vr("cancel",k),Vr("close",k);break;case"iframe":case"object":case"embed":Vr("load",k);break;case"video":case"audio":for(L=0;L<Mu.length;L++)Vr(Mu[L],k);break;case"source":Vr("error",k);break;case"img":case"image":case"link":Vr("error",k),Vr("load",k);break;case"details":Vr("toggle",k);break;case"input":ne(k,H),Vr("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!H.multiple},Vr("invalid",k);break;case"textarea":Ve(k,H),Vr("invalid",k)}nr(w,H),L=null;for(var se in H)if(H.hasOwnProperty(se)){var _e=H[se];se==="children"?typeof _e=="string"?k.textContent!==_e&&(H.suppressHydrationWarning!==!0&&xg(k.textContent,_e,h),L=["children",_e]):typeof _e=="number"&&k.textContent!==""+_e&&(H.suppressHydrationWarning!==!0&&xg(k.textContent,_e,h),L=["children",""+_e]):i.hasOwnProperty(se)&&_e!=null&&se==="onScroll"&&Vr("scroll",k)}switch(w){case"input":je(k),Je(k,H,!0);break;case"textarea":je(k),Ue(k);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(k.onclick=Yf)}k=L,g.updateQueue=k,k!==null&&(g.flags|=4)}else{se=L.nodeType===9?L:L.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=tt(w)),h==="http://www.w3.org/1999/xhtml"?w==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof k.is=="string"?h=se.createElement(w,{is:k.is}):(h=se.createElement(w),w==="select"&&(se=h,k.multiple?se.multiple=!0:k.size&&(se.size=k.size))):h=se.createElementNS(h,w),h[Xl]=g,h[Xf]=k,$3(h,g,!1,!1),g.stateNode=h;e:{switch(se=an(w,k),w){case"dialog":Vr("cancel",h),Vr("close",h),L=k;break;case"iframe":case"object":case"embed":Vr("load",h),L=k;break;case"video":case"audio":for(L=0;L<Mu.length;L++)Vr(Mu[L],h);L=k;break;case"source":Vr("error",h),L=k;break;case"img":case"image":case"link":Vr("error",h),Vr("load",h),L=k;break;case"details":Vr("toggle",h),L=k;break;case"input":ne(h,k),L=ee(h,k),Vr("invalid",h);break;case"option":L=k;break;case"select":h._wrapperState={wasMultiple:!!k.multiple},L=ie({},k,{value:void 0}),Vr("invalid",h);break;case"textarea":Ve(h,k),L=Ce(h,k),Vr("invalid",h);break;default:L=k}nr(w,L),_e=L;for(H in _e)if(_e.hasOwnProperty(H)){var Te=_e[H];H==="style"?zt(h,Te):H==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&Tt(h,Te)):H==="children"?typeof Te=="string"?(w!=="textarea"||Te!=="")&&Wt(h,Te):typeof Te=="number"&&Wt(h,""+Te):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Te!=null&&H==="onScroll"&&Vr("scroll",h):Te!=null&&_(h,H,Te,se))}switch(w){case"input":je(h),Je(h,k,!1);break;case"textarea":je(h),Ue(h);break;case"option":k.value!=null&&h.setAttribute("value",""+ve(k.value));break;case"select":h.multiple=!!k.multiple,H=k.value,H!=null?Ne(h,!!k.multiple,H,!1):k.defaultValue!=null&&Ne(h,!!k.multiple,k.defaultValue,!0);break;default:typeof L.onClick=="function"&&(h.onclick=Yf)}switch(w){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Wa(g),null;case 6:if(h&&g.stateNode!=null)q3(h,g,h.memoizedProps,k);else{if(typeof k!="string"&&g.stateNode===null)throw Error(n(166));if(w=Uc(Du.current),Uc(Ts.current),Fi(g)){if(k=g.stateNode,w=g.memoizedProps,k[Xl]=g,(H=k.nodeValue!==w)&&(h=Xe,h!==null))switch(h.tag){case 3:xg(k.nodeValue,w,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&xg(k.nodeValue,w,(h.mode&1)!==0)}H&&(g.flags|=4)}else k=(w.nodeType===9?w:w.ownerDocument).createTextNode(k),k[Xl]=g,g.stateNode=k}return Wa(g),null;case 13:if(Mr(ai),k=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(at&&et!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Yn(),Gt(),g.flags|=98560,H=!1;else if(H=Fi(g),k!==null&&k.dehydrated!==null){if(h===null){if(!H)throw Error(n(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Xl]=g}else Gt(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Wa(g),H=!1}else lt!==null&&(Qj(lt),lt=null),H=!0;if(!H)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=w,g):(k=k!==null,k!==(h!==null&&h.memoizedState!==null)&&k&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(ai.current&1)!==0?Vs===0&&(Vs=3):tA())),g.updateQueue!==null&&(g.flags|=4),Wa(g),null);case 4:return Zl(),zj(h,g),h===null&&Fd(g.stateNode.containerInfo),Wa(g),null;case 10:return xi(g.type._context),Wa(g),null;case 17:return Ha(g.type)&&bg(),Wa(g),null;case 19:if(Mr(ai),H=g.memoizedState,H===null)return Wa(g),null;if(k=(g.flags&128)!==0,se=H.rendering,se===null)if(k)wx(H,!1);else{if(Vs!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(se=vl(h),se!==null){for(g.flags|=128,wx(H,!1),k=se.updateQueue,k!==null&&(g.updateQueue=k,g.flags|=4),g.subtreeFlags=0,k=w,w=g.child;w!==null;)H=w,h=k,H.flags&=14680066,se=H.alternate,se===null?(H.childLanes=0,H.lanes=h,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=se.childLanes,H.lanes=se.lanes,H.child=se.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=se.memoizedProps,H.memoizedState=se.memoizedState,H.updateQueue=se.updateQueue,H.type=se.type,h=se.dependencies,H.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),w=w.sibling;return Fr(ai,ai.current&1|2),g.child}h=h.sibling}H.tail!==null&&Hr()>Mg&&(g.flags|=128,k=!0,wx(H,!1),g.lanes=4194304)}else{if(!k)if(h=vl(se),h!==null){if(g.flags|=128,k=!0,w=h.updateQueue,w!==null&&(g.updateQueue=w,g.flags|=4),wx(H,!0),H.tail===null&&H.tailMode==="hidden"&&!se.alternate&&!at)return Wa(g),null}else 2*Hr()-H.renderingStartTime>Mg&&w!==1073741824&&(g.flags|=128,k=!0,wx(H,!1),g.lanes=4194304);H.isBackwards?(se.sibling=g.child,g.child=se):(w=H.last,w!==null?w.sibling=se:g.child=se,H.last=se)}return H.tail!==null?(g=H.tail,H.rendering=g,H.tail=g.sibling,H.renderingStartTime=Hr(),g.sibling=null,w=ai.current,Fr(ai,k?w&1|2:w&1),g):(Wa(g),null);case 22:case 23:return eA(),k=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==k&&(g.flags|=8192),k&&(g.mode&1)!==0?(bl&1073741824)!==0&&(Wa(g),g.subtreeFlags&6&&(g.flags|=8192)):Wa(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function Lle(h,g){switch(ze(g),g.tag){case 1:return Ha(g.type)&&bg(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return Zl(),Mr(Ua),Mr(Us),yx(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return gx(g),null;case 13:if(Mr(ai),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(n(340));Gt()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return Mr(ai),null;case 4:return Zl(),null;case 10:return xi(g.type._context),null;case 22:case 23:return eA(),null;case 24:return null;default:return null}}var Z1=!1,Ka=!1,Fle=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Og(h,g){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(k){ss(h,g,k)}else w.current=null}function qj(h,g,w){try{w()}catch(k){ss(h,g,k)}}var U3=!1;function Ble(h,g){if(Ip=Bf,h=ts(),pl(h)){if("selectionStart"in h)var w={start:h.selectionStart,end:h.selectionEnd};else e:{w=(w=h.ownerDocument)&&w.defaultView||window;var k=w.getSelection&&w.getSelection();if(k&&k.rangeCount!==0){w=k.anchorNode;var L=k.anchorOffset,H=k.focusNode;k=k.focusOffset;try{w.nodeType,H.nodeType}catch{w=null;break e}var se=0,_e=-1,Te=-1,Ke=0,vt=0,Nt=h,gt=null;t:for(;;){for(var Ht;Nt!==w||L!==0&&Nt.nodeType!==3||(_e=se+L),Nt!==H||k!==0&&Nt.nodeType!==3||(Te=se+k),Nt.nodeType===3&&(se+=Nt.nodeValue.length),(Ht=Nt.firstChild)!==null;)gt=Nt,Nt=Ht;for(;;){if(Nt===h)break t;if(gt===w&&++Ke===L&&(_e=se),gt===H&&++vt===k&&(Te=se),(Ht=Nt.nextSibling)!==null)break;Nt=gt,gt=Nt.parentNode}Nt=Ht}w=_e===-1||Te===-1?null:{start:_e,end:Te}}else w=null}w=w||{start:0,end:0}}else w=null;for($d={focusedElem:h,selectionRange:w},Bf=!1,Yt=g;Yt!==null;)if(g=Yt,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,Yt=h;else for(;Yt!==null;){g=Yt;try{var en=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(en!==null){var on=en.memoizedProps,ys=en.memoizedState,$e=g.stateNode,Re=$e.getSnapshotBeforeUpdate(g.elementType===g.type?on:Wc(g.type,on),ys);$e.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var qe=g.stateNode.containerInfo;qe.nodeType===1?qe.textContent="":qe.nodeType===9&&qe.documentElement&&qe.removeChild(qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ct){ss(g,g.return,Ct)}if(h=g.sibling,h!==null){h.return=g.return,Yt=h;break}Yt=g.return}return en=U3,U3=!1,en}function Nx(h,g,w){var k=g.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var L=k=k.next;do{if((L.tag&h)===h){var H=L.destroy;L.destroy=void 0,H!==void 0&&qj(g,w,H)}L=L.next}while(L!==k)}}function Q1(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&h)===h){var k=w.create;w.destroy=k()}w=w.next}while(w!==g)}}function Uj(h){var g=h.ref;if(g!==null){var w=h.stateNode;switch(h.tag){case 5:h=w;break;default:h=w}typeof g=="function"?g(h):g.current=h}}function H3(h){var g=h.alternate;g!==null&&(h.alternate=null,H3(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[Xl],delete g[Xf],delete g[qa],delete g[Aj],delete g[Cj])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function V3(h){return h.tag===5||h.tag===3||h.tag===4}function W3(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||V3(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Hj(h,g,w){var k=h.tag;if(k===5||k===6)h=h.stateNode,g?w.nodeType===8?w.parentNode.insertBefore(h,g):w.insertBefore(h,g):(w.nodeType===8?(g=w.parentNode,g.insertBefore(h,w)):(g=w,g.appendChild(h)),w=w._reactRootContainer,w!=null||g.onclick!==null||(g.onclick=Yf));else if(k!==4&&(h=h.child,h!==null))for(Hj(h,g,w),h=h.sibling;h!==null;)Hj(h,g,w),h=h.sibling}function Vj(h,g,w){var k=h.tag;if(k===5||k===6)h=h.stateNode,g?w.insertBefore(h,g):w.appendChild(h);else if(k!==4&&(h=h.child,h!==null))for(Vj(h,g,w),h=h.sibling;h!==null;)Vj(h,g,w),h=h.sibling}var ka=null,Kc=!1;function rh(h,g,w){for(w=w.child;w!==null;)K3(h,g,w),w=w.sibling}function K3(h,g,w){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Vn,w)}catch{}switch(w.tag){case 5:Ka||Og(w,g);case 6:var k=ka,L=Kc;ka=null,rh(h,g,w),ka=k,Kc=L,ka!==null&&(Kc?(h=ka,w=w.stateNode,h.nodeType===8?h.parentNode.removeChild(w):h.removeChild(w)):ka.removeChild(w.stateNode));break;case 18:ka!==null&&(Kc?(h=ka,w=w.stateNode,h.nodeType===8?hx(h.parentNode,w):h.nodeType===1&&hx(h,w),Ul(h)):hx(ka,w.stateNode));break;case 4:k=ka,L=Kc,ka=w.stateNode.containerInfo,Kc=!0,rh(h,g,w),ka=k,Kc=L;break;case 0:case 11:case 14:case 15:if(!Ka&&(k=w.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){L=k=k.next;do{var H=L,se=H.destroy;H=H.tag,se!==void 0&&((H&2)!==0||(H&4)!==0)&&qj(w,g,se),L=L.next}while(L!==k)}rh(h,g,w);break;case 1:if(!Ka&&(Og(w,g),k=w.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=w.memoizedProps,k.state=w.memoizedState,k.componentWillUnmount()}catch(_e){ss(w,g,_e)}rh(h,g,w);break;case 21:rh(h,g,w);break;case 22:w.mode&1?(Ka=(k=Ka)||w.memoizedState!==null,rh(h,g,w),Ka=k):rh(h,g,w);break;default:rh(h,g,w)}}function G3(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new Fle),g.forEach(function(k){var L=Gle.bind(null,h,k);w.has(k)||(w.add(k),k.then(L,L))})}}function Gc(h,g){var w=g.deletions;if(w!==null)for(var k=0;k<w.length;k++){var L=w[k];try{var H=h,se=g,_e=se;e:for(;_e!==null;){switch(_e.tag){case 5:ka=_e.stateNode,Kc=!1;break e;case 3:ka=_e.stateNode.containerInfo,Kc=!0;break e;case 4:ka=_e.stateNode.containerInfo,Kc=!0;break e}_e=_e.return}if(ka===null)throw Error(n(160));K3(H,se,L),ka=null,Kc=!1;var Te=L.alternate;Te!==null&&(Te.return=null),L.return=null}catch(Ke){ss(L,g,Ke)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)Y3(g,h),g=g.sibling}function Y3(h,g){var w=h.alternate,k=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Gc(g,h),Fu(h),k&4){try{Nx(3,h,h.return),Q1(3,h)}catch(on){ss(h,h.return,on)}try{Nx(5,h,h.return)}catch(on){ss(h,h.return,on)}}break;case 1:Gc(g,h),Fu(h),k&512&&w!==null&&Og(w,w.return);break;case 5:if(Gc(g,h),Fu(h),k&512&&w!==null&&Og(w,w.return),h.flags&32){var L=h.stateNode;try{Wt(L,"")}catch(on){ss(h,h.return,on)}}if(k&4&&(L=h.stateNode,L!=null)){var H=h.memoizedProps,se=w!==null?w.memoizedProps:H,_e=h.type,Te=h.updateQueue;if(h.updateQueue=null,Te!==null)try{_e==="input"&&H.type==="radio"&&H.name!=null&&Me(L,H),an(_e,se);var Ke=an(_e,H);for(se=0;se<Te.length;se+=2){var vt=Te[se],Nt=Te[se+1];vt==="style"?zt(L,Nt):vt==="dangerouslySetInnerHTML"?Tt(L,Nt):vt==="children"?Wt(L,Nt):_(L,vt,Nt,Ke)}switch(_e){case"input":ut(L,H);break;case"textarea":We(L,H);break;case"select":var gt=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!H.multiple;var Ht=H.value;Ht!=null?Ne(L,!!H.multiple,Ht,!1):gt!==!!H.multiple&&(H.defaultValue!=null?Ne(L,!!H.multiple,H.defaultValue,!0):Ne(L,!!H.multiple,H.multiple?[]:"",!1))}L[Xf]=H}catch(on){ss(h,h.return,on)}}break;case 6:if(Gc(g,h),Fu(h),k&4){if(h.stateNode===null)throw Error(n(162));L=h.stateNode,H=h.memoizedProps;try{L.nodeValue=H}catch(on){ss(h,h.return,on)}}break;case 3:if(Gc(g,h),Fu(h),k&4&&w!==null&&w.memoizedState.isDehydrated)try{Ul(g.containerInfo)}catch(on){ss(h,h.return,on)}break;case 4:Gc(g,h),Fu(h);break;case 13:Gc(g,h),Fu(h),L=h.child,L.flags&8192&&(H=L.memoizedState!==null,L.stateNode.isHidden=H,!H||L.alternate!==null&&L.alternate.memoizedState!==null||(Gj=Hr())),k&4&&G3(h);break;case 22:if(vt=w!==null&&w.memoizedState!==null,h.mode&1?(Ka=(Ke=Ka)||vt,Gc(g,h),Ka=Ke):Gc(g,h),Fu(h),k&8192){if(Ke=h.memoizedState!==null,(h.stateNode.isHidden=Ke)&&!vt&&(h.mode&1)!==0)for(Yt=h,vt=h.child;vt!==null;){for(Nt=Yt=vt;Yt!==null;){switch(gt=Yt,Ht=gt.child,gt.tag){case 0:case 11:case 14:case 15:Nx(4,gt,gt.return);break;case 1:Og(gt,gt.return);var en=gt.stateNode;if(typeof en.componentWillUnmount=="function"){k=gt,w=gt.return;try{g=k,en.props=g.memoizedProps,en.state=g.memoizedState,en.componentWillUnmount()}catch(on){ss(k,w,on)}}break;case 5:Og(gt,gt.return);break;case 22:if(gt.memoizedState!==null){Q3(Nt);continue}}Ht!==null?(Ht.return=gt,Yt=Ht):Q3(Nt)}vt=vt.sibling}e:for(vt=null,Nt=h;;){if(Nt.tag===5){if(vt===null){vt=Nt;try{L=Nt.stateNode,Ke?(H=L.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(_e=Nt.stateNode,Te=Nt.memoizedProps.style,se=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,_e.style.display=En("display",se))}catch(on){ss(h,h.return,on)}}}else if(Nt.tag===6){if(vt===null)try{Nt.stateNode.nodeValue=Ke?"":Nt.memoizedProps}catch(on){ss(h,h.return,on)}}else if((Nt.tag!==22&&Nt.tag!==23||Nt.memoizedState===null||Nt===h)&&Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===h)break e;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===h)break e;vt===Nt&&(vt=null),Nt=Nt.return}vt===Nt&&(vt=null),Nt.sibling.return=Nt.return,Nt=Nt.sibling}}break;case 19:Gc(g,h),Fu(h),k&4&&G3(h);break;case 21:break;default:Gc(g,h),Fu(h)}}function Fu(h){var g=h.flags;if(g&2){try{e:{for(var w=h.return;w!==null;){if(V3(w)){var k=w;break e}w=w.return}throw Error(n(160))}switch(k.tag){case 5:var L=k.stateNode;k.flags&32&&(Wt(L,""),k.flags&=-33);var H=W3(h);Vj(h,H,L);break;case 3:case 4:var se=k.stateNode.containerInfo,_e=W3(h);Hj(h,_e,se);break;default:throw Error(n(161))}}catch(Te){ss(h,h.return,Te)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function $le(h,g,w){Yt=h,X3(h)}function X3(h,g,w){for(var k=(h.mode&1)!==0;Yt!==null;){var L=Yt,H=L.child;if(L.tag===22&&k){var se=L.memoizedState!==null||Z1;if(!se){var _e=L.alternate,Te=_e!==null&&_e.memoizedState!==null||Ka;_e=Z1;var Ke=Ka;if(Z1=se,(Ka=Te)&&!Ke)for(Yt=L;Yt!==null;)se=Yt,Te=se.child,se.tag===22&&se.memoizedState!==null?J3(L):Te!==null?(Te.return=se,Yt=Te):J3(L);for(;H!==null;)Yt=H,X3(H),H=H.sibling;Yt=L,Z1=_e,Ka=Ke}Z3(h)}else(L.subtreeFlags&8772)!==0&&H!==null?(H.return=L,Yt=H):Z3(h)}}function Z3(h){for(;Yt!==null;){var g=Yt;if((g.flags&8772)!==0){var w=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ka||Q1(5,g);break;case 1:var k=g.stateNode;if(g.flags&4&&!Ka)if(w===null)k.componentDidMount();else{var L=g.elementType===g.type?w.memoizedProps:Wc(g.type,w.memoizedProps);k.componentDidUpdate(L,w.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var H=g.updateQueue;H!==null&&Uo(g,H,k);break;case 3:var se=g.updateQueue;if(se!==null){if(w=null,g.child!==null)switch(g.child.tag){case 5:w=g.child.stateNode;break;case 1:w=g.child.stateNode}Uo(g,se,w)}break;case 5:var _e=g.stateNode;if(w===null&&g.flags&4){w=_e;var Te=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&w.focus();break;case"img":Te.src&&(w.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ke=g.alternate;if(Ke!==null){var vt=Ke.memoizedState;if(vt!==null){var Nt=vt.dehydrated;Nt!==null&&Ul(Nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ka||g.flags&512&&Uj(g)}catch(gt){ss(g,g.return,gt)}}if(g===h){Yt=null;break}if(w=g.sibling,w!==null){w.return=g.return,Yt=w;break}Yt=g.return}}function Q3(h){for(;Yt!==null;){var g=Yt;if(g===h){Yt=null;break}var w=g.sibling;if(w!==null){w.return=g.return,Yt=w;break}Yt=g.return}}function J3(h){for(;Yt!==null;){var g=Yt;try{switch(g.tag){case 0:case 11:case 15:var w=g.return;try{Q1(4,g)}catch(Te){ss(g,w,Te)}break;case 1:var k=g.stateNode;if(typeof k.componentDidMount=="function"){var L=g.return;try{k.componentDidMount()}catch(Te){ss(g,L,Te)}}var H=g.return;try{Uj(g)}catch(Te){ss(g,H,Te)}break;case 5:var se=g.return;try{Uj(g)}catch(Te){ss(g,se,Te)}}}catch(Te){ss(g,g.return,Te)}if(g===h){Yt=null;break}var _e=g.sibling;if(_e!==null){_e.return=g.return,Yt=_e;break}Yt=g.return}}var zle=Math.ceil,J1=j.ReactCurrentDispatcher,Wj=j.ReactCurrentOwner,ec=j.ReactCurrentBatchConfig,Sr=0,da=null,Os=null,Ta=0,bl=0,Pg=ml(0),Vs=0,Sx=null,zp=0,ew=0,Kj=0,Ex=null,Vo=null,Gj=0,Mg=1/0,Wd=null,tw=!1,Yj=null,ih=null,nw=!1,sh=null,rw=0,_x=0,Xj=null,iw=-1,sw=0;function yo(){return(Sr&6)!==0?Hr():iw!==-1?iw:iw=Hr()}function ah(h){return(h.mode&1)===0?1:(Sr&2)!==0&&Ta!==0?Ta&-Ta:Gi.transition!==null?(sw===0&&(sw=Df()),sw):(h=cr,h!==0||(h=window.event,h=h===void 0?16:Ed(h.type)),h)}function Yc(h,g,w,k){if(50<_x)throw _x=0,Xj=null,Error(n(185));ql(h,w,k),((Sr&2)===0||h!==da)&&(h===da&&((Sr&2)===0&&(ew|=w),Vs===4&&oh(h,Ta)),Wo(h,k),w===1&&Sr===0&&(g.mode&1)===0&&(Mg=Hr()+500,Lp&&K()))}function Wo(h,g){var w=h.callbackNode;Ei(h,g);var k=zs(h,h===da?Ta:0);if(k===0)w!==null&&ia(w),h.callbackNode=null,h.callbackPriority=0;else if(g=k&-k,h.callbackPriority!==g){if(w!=null&&ia(w),g===1)h.tag===0?$(t6.bind(null,h)):T(t6.bind(null,h)),_j(function(){(Sr&6)===0&&K()}),w=null;else{switch(xn(k)){case 1:w=Su;break;case 4:w=_s;break;case 16:w=$l;break;case 536870912:w=sn;break;default:w=$l}w=c6(w,e6.bind(null,h))}h.callbackPriority=g,h.callbackNode=w}}function e6(h,g){if(iw=-1,sw=0,(Sr&6)!==0)throw Error(n(327));var w=h.callbackNode;if(Rg()&&h.callbackNode!==w)return null;var k=zs(h,h===da?Ta:0);if(k===0)return null;if((k&30)!==0||(k&h.expiredLanes)!==0||g)g=aw(h,k);else{g=k;var L=Sr;Sr|=2;var H=r6();(da!==h||Ta!==g)&&(Wd=null,Mg=Hr()+500,Up(h,g));do try{Hle();break}catch(_e){n6(h,_e)}while(!0);wr(),J1.current=H,Sr=L,Os!==null?g=0:(da=null,Ta=0,g=Vs)}if(g!==0){if(g===2&&(L=Tc(h),L!==0&&(k=L,g=Zj(h,L))),g===1)throw w=Sx,Up(h,0),oh(h,k),Wo(h,Hr()),w;if(g===6)oh(h,k);else{if(L=h.current.alternate,(k&30)===0&&!qle(L)&&(g=aw(h,k),g===2&&(H=Tc(h),H!==0&&(k=H,g=Zj(h,H))),g===1))throw w=Sx,Up(h,0),oh(h,k),Wo(h,Hr()),w;switch(h.finishedWork=L,h.finishedLanes=k,g){case 0:case 1:throw Error(n(345));case 2:Hp(h,Vo,Wd);break;case 3:if(oh(h,k),(k&130023424)===k&&(g=Gj+500-Hr(),10<g)){if(zs(h,0)!==0)break;if(L=h.suspendedLanes,(L&k)!==k){yo(),h.pingedLanes|=h.suspendedLanes&L;break}h.timeoutHandle=fx(Hp.bind(null,h,Vo,Wd),g);break}Hp(h,Vo,Wd);break;case 4:if(oh(h,k),(k&4194240)===k)break;for(g=h.eventTimes,L=-1;0<k;){var se=31-Dr(k);H=1<<se,se=g[se],se>L&&(L=se),k&=~H}if(k=L,k=Hr()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*zle(k/1960))-k,10<k){h.timeoutHandle=fx(Hp.bind(null,h,Vo,Wd),k);break}Hp(h,Vo,Wd);break;case 5:Hp(h,Vo,Wd);break;default:throw Error(n(329))}}}return Wo(h,Hr()),h.callbackNode===w?e6.bind(null,h):null}function Zj(h,g){var w=Ex;return h.current.memoizedState.isDehydrated&&(Up(h,g).flags|=256),h=aw(h,g),h!==2&&(g=Vo,Vo=w,g!==null&&Qj(g)),h}function Qj(h){Vo===null?Vo=h:Vo.push.apply(Vo,h)}function qle(h){for(var g=h;;){if(g.flags&16384){var w=g.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var k=0;k<w.length;k++){var L=w[k],H=L.getSnapshot;L=L.value;try{if(!Di(H(),L))return!1}catch{return!1}}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function oh(h,g){for(g&=~Kj,g&=~ew,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var w=31-Dr(g),k=1<<w;h[w]=-1,g&=~k}}function t6(h){if((Sr&6)!==0)throw Error(n(327));Rg();var g=zs(h,0);if((g&1)===0)return Wo(h,Hr()),null;var w=aw(h,g);if(h.tag!==0&&w===2){var k=Tc(h);k!==0&&(g=k,w=Zj(h,k))}if(w===1)throw w=Sx,Up(h,0),oh(h,g),Wo(h,Hr()),w;if(w===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,Hp(h,Vo,Wd),Wo(h,Hr()),null}function Jj(h,g){var w=Sr;Sr|=1;try{return h(g)}finally{Sr=w,Sr===0&&(Mg=Hr()+500,Lp&&K())}}function qp(h){sh!==null&&sh.tag===0&&(Sr&6)===0&&Rg();var g=Sr;Sr|=1;var w=ec.transition,k=cr;try{if(ec.transition=null,cr=1,h)return h()}finally{cr=k,ec.transition=w,Sr=g,(Sr&6)===0&&K()}}function eA(){bl=Pg.current,Mr(Pg)}function Up(h,g){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==-1&&(h.timeoutHandle=-1,F1(w)),Os!==null)for(w=Os.return;w!==null;){var k=w;switch(ze(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&bg();break;case 3:Zl(),Mr(Ua),Mr(Us),yx();break;case 5:gx(k);break;case 4:Zl();break;case 13:Mr(ai);break;case 19:Mr(ai);break;case 10:xi(k.type._context);break;case 22:case 23:eA()}w=w.return}if(da=h,Os=h=lh(h.current,null),Ta=bl=g,Vs=0,Sx=null,Kj=ew=zp=0,Vo=Ex=null,Wr!==null){for(g=0;g<Wr.length;g++)if(w=Wr[g],k=w.interleaved,k!==null){w.interleaved=null;var L=k.next,H=w.pending;if(H!==null){var se=H.next;H.next=L,k.next=se}w.pending=k}Wr=null}return h}function n6(h,g){do{var w=Os;try{if(wr(),wg.current=K1,eh){for(var k=bi.memoizedState;k!==null;){var L=k.queue;L!==null&&(L.pending=null),k=k.next}eh=!1}if(Ql=0,Qi=is=bi=null,Hc=!1,th=0,Wj.current=null,w===null||w.return===null){Vs=1,Sx=g,Os=null;break}e:{var H=h,se=w.return,_e=w,Te=g;if(g=Ta,_e.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ke=Te,vt=_e,Nt=vt.tag;if((vt.mode&1)===0&&(Nt===0||Nt===11||Nt===15)){var gt=vt.alternate;gt?(vt.updateQueue=gt.updateQueue,vt.memoizedState=gt.memoizedState,vt.lanes=gt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Ht=A3(se);if(Ht!==null){Ht.flags&=-257,C3(Ht,se,_e,H,g),Ht.mode&1&&j3(H,Ke,g),g=Ht,Te=Ke;var en=g.updateQueue;if(en===null){var on=new Set;on.add(Te),g.updateQueue=on}else en.add(Te);break e}else{if((g&1)===0){j3(H,Ke,g),tA();break e}Te=Error(n(426))}}else if(at&&_e.mode&1){var ys=A3(se);if(ys!==null){(ys.flags&65536)===0&&(ys.flags|=256),C3(ys,se,_e,H,g),Rt(Tg(Te,_e));break e}}H=Te=Tg(Te,_e),Vs!==4&&(Vs=2),Ex===null?Ex=[H]:Ex.push(H),H=se;do{switch(H.tag){case 3:H.flags|=65536,g&=-g,H.lanes|=g;var $e=E3(H,Te,g);Gr(H,$e);break e;case 1:_e=Te;var Re=H.type,qe=H.stateNode;if((H.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(ih===null||!ih.has(qe)))){H.flags|=65536,g&=-g,H.lanes|=g;var Ct=_3(H,_e,g);Gr(H,Ct);break e}}H=H.return}while(H!==null)}s6(w)}catch(dn){g=dn,Os===w&&w!==null&&(Os=w=w.return);continue}break}while(!0)}function r6(){var h=J1.current;return J1.current=K1,h===null?K1:h}function tA(){(Vs===0||Vs===3||Vs===2)&&(Vs=4),da===null||(zp&268435455)===0&&(ew&268435455)===0||oh(da,Ta)}function aw(h,g){var w=Sr;Sr|=2;var k=r6();(da!==h||Ta!==g)&&(Wd=null,Up(h,g));do try{Ule();break}catch(L){n6(h,L)}while(!0);if(wr(),Sr=w,J1.current=k,Os!==null)throw Error(n(261));return da=null,Ta=0,Vs}function Ule(){for(;Os!==null;)i6(Os)}function Hle(){for(;Os!==null&&!Cc();)i6(Os)}function i6(h){var g=l6(h.alternate,h,bl);h.memoizedProps=h.pendingProps,g===null?s6(h):Os=g,Wj.current=null}function s6(h){var g=h;do{var w=g.alternate;if(h=g.return,(g.flags&32768)===0){if(w=Dle(w,g,bl),w!==null){Os=w;return}}else{if(w=Lle(w,g),w!==null){w.flags&=32767,Os=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Vs=6,Os=null;return}}if(g=g.sibling,g!==null){Os=g;return}Os=g=h}while(g!==null);Vs===0&&(Vs=5)}function Hp(h,g,w){var k=cr,L=ec.transition;try{ec.transition=null,cr=1,Vle(h,g,w,k)}finally{ec.transition=L,cr=k}return null}function Vle(h,g,w,k){do Rg();while(sh!==null);if((Sr&6)!==0)throw Error(n(327));w=h.finishedWork;var L=h.finishedLanes;if(w===null)return null;if(h.finishedWork=null,h.finishedLanes=0,w===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var H=w.lanes|w.childLanes;if(Vi(h,H),h===da&&(Os=da=null,Ta=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||nw||(nw=!0,c6($l,function(){return Rg(),null})),H=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||H){H=ec.transition,ec.transition=null;var se=cr;cr=1;var _e=Sr;Sr|=4,Wj.current=null,Ble(h,w),Y3(w,h),Ap($d),Bf=!!Ip,$d=Ip=null,h.current=w,$le(w),Rf(),Sr=_e,cr=se,ec.transition=H}else h.current=w;if(nw&&(nw=!1,sh=h,rw=L),H=h.pendingLanes,H===0&&(ih=null),gi(w.stateNode),Wo(h,Hr()),g!==null)for(k=h.onRecoverableError,w=0;w<g.length;w++)L=g[w],k(L.value,{componentStack:L.stack,digest:L.digest});if(tw)throw tw=!1,h=Yj,Yj=null,h;return(rw&1)!==0&&h.tag!==0&&Rg(),H=h.pendingLanes,(H&1)!==0?h===Xj?_x++:(_x=0,Xj=h):_x=0,K(),null}function Rg(){if(sh!==null){var h=xn(rw),g=ec.transition,w=cr;try{if(ec.transition=null,cr=16>h?16:h,sh===null)var k=!1;else{if(h=sh,sh=null,rw=0,(Sr&6)!==0)throw Error(n(331));var L=Sr;for(Sr|=4,Yt=h.current;Yt!==null;){var H=Yt,se=H.child;if((Yt.flags&16)!==0){var _e=H.deletions;if(_e!==null){for(var Te=0;Te<_e.length;Te++){var Ke=_e[Te];for(Yt=Ke;Yt!==null;){var vt=Yt;switch(vt.tag){case 0:case 11:case 15:Nx(8,vt,H)}var Nt=vt.child;if(Nt!==null)Nt.return=vt,Yt=Nt;else for(;Yt!==null;){vt=Yt;var gt=vt.sibling,Ht=vt.return;if(H3(vt),vt===Ke){Yt=null;break}if(gt!==null){gt.return=Ht,Yt=gt;break}Yt=Ht}}}var en=H.alternate;if(en!==null){var on=en.child;if(on!==null){en.child=null;do{var ys=on.sibling;on.sibling=null,on=ys}while(on!==null)}}Yt=H}}if((H.subtreeFlags&2064)!==0&&se!==null)se.return=H,Yt=se;else e:for(;Yt!==null;){if(H=Yt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Nx(9,H,H.return)}var $e=H.sibling;if($e!==null){$e.return=H.return,Yt=$e;break e}Yt=H.return}}var Re=h.current;for(Yt=Re;Yt!==null;){se=Yt;var qe=se.child;if((se.subtreeFlags&2064)!==0&&qe!==null)qe.return=se,Yt=qe;else e:for(se=Re;Yt!==null;){if(_e=Yt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:Q1(9,_e)}}catch(dn){ss(_e,_e.return,dn)}if(_e===se){Yt=null;break e}var Ct=_e.sibling;if(Ct!==null){Ct.return=_e.return,Yt=Ct;break e}Yt=_e.return}}if(Sr=L,K(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Vn,h)}catch{}k=!0}return k}finally{cr=w,ec.transition=g}}return!1}function a6(h,g,w){g=Tg(w,g),g=E3(h,g,1),h=Xi(h,g,1),g=yo(),h!==null&&(ql(h,1,g),Wo(h,g))}function ss(h,g,w){if(h.tag===3)a6(h,h,w);else for(;g!==null;){if(g.tag===3){a6(g,h,w);break}else if(g.tag===1){var k=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(ih===null||!ih.has(k))){h=Tg(w,h),h=_3(g,h,1),g=Xi(g,h,1),h=yo(),g!==null&&(ql(g,1,h),Wo(g,h));break}}g=g.return}}function Wle(h,g,w){var k=h.pingCache;k!==null&&k.delete(g),g=yo(),h.pingedLanes|=h.suspendedLanes&w,da===h&&(Ta&w)===w&&(Vs===4||Vs===3&&(Ta&130023424)===Ta&&500>Hr()-Gj?Up(h,0):Kj|=w),Wo(h,g)}function o6(h,g){g===0&&((h.mode&1)===0?g=1:(g=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var w=yo();h=Kr(h,g),h!==null&&(ql(h,g,w),Wo(h,w))}function Kle(h){var g=h.memoizedState,w=0;g!==null&&(w=g.retryLane),o6(h,w)}function Gle(h,g){var w=0;switch(h.tag){case 13:var k=h.stateNode,L=h.memoizedState;L!==null&&(w=L.retryLane);break;case 19:k=h.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(g),o6(h,w)}var l6;l6=function(h,g,w){if(h!==null)if(h.memoizedProps!==g.pendingProps||Ua.current)Ho=!0;else{if((h.lanes&w)===0&&(g.flags&128)===0)return Ho=!1,Ile(h,g,w);Ho=(h.flags&131072)!==0}else Ho=!1,at&&(g.flags&1048576)!==0&&Le(g,ue,g.index);switch(g.lanes=0,g.tag){case 2:var k=g.type;X1(h,g),h=g.pendingProps;var L=Qf(g,Us.current);Bi(g,w),L=Fp(null,g,k,h,L,w);var H=Jl();return g.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Ha(k)?(H=!0,Ud(g)):H=!1,g.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Hs(g),L.updater=G1,g.stateNode=L,L._reactInternals=g,Pj(g,k,h,w),g=Dj(null,g,k,!0,H,w)):(g.tag=0,at&&H&&nt(g),vo(null,g,L,w),g=g.child),g;case 16:k=g.elementType;e:{switch(X1(h,g),h=g.pendingProps,L=k._init,k=L(k._payload),g.type=k,L=g.tag=Xle(k),h=Wc(k,h),L){case 0:g=Ij(null,g,k,h,w);break e;case 1:g=R3(null,g,k,h,w);break e;case 11:g=k3(null,g,k,h,w);break e;case 14:g=T3(null,g,k,Wc(k.type,h),w);break e}throw Error(n(306,k,""))}return g;case 0:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:Wc(k,L),Ij(h,g,k,L,w);case 1:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:Wc(k,L),R3(h,g,k,L,w);case 3:e:{if(I3(g),h===null)throw Error(n(387));k=g.pendingProps,H=g.memoizedState,L=H.element,Va(h,g),ua(g,k,null,w);var se=g.memoizedState;if(k=se.element,H.isDehydrated)if(H={element:k,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},g.updateQueue.baseState=H,g.memoizedState=H,g.flags&256){L=Tg(Error(n(423)),g),g=D3(h,g,k,w,L);break e}else if(k!==L){L=Tg(Error(n(424)),g),g=D3(h,g,k,w,L);break e}else for(et=Ca(g.stateNode.containerInfo.firstChild),Xe=g,at=!0,lt=null,w=Ai(g,null,k,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Gt(),k===L){g=Vd(h,g,w);break e}vo(h,g,k,w)}g=g.child}return g;case 5:return q1(g),h===null&&Qt(g),k=g.type,L=g.pendingProps,H=h!==null?h.memoizedProps:null,se=L.children,dx(k,L)?se=null:H!==null&&dx(k,H)&&(g.flags|=32),M3(h,g),vo(h,g,se,w),g.child;case 6:return h===null&&Qt(g),null;case 13:return L3(h,g,w);case 4:return Jf(g,g.stateNode.containerInfo),k=g.pendingProps,h===null?g.child=ns(g,null,k,w):vo(h,g,k,w),g.child;case 11:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:Wc(k,L),k3(h,g,k,L,w);case 7:return vo(h,g,g.pendingProps,w),g.child;case 8:return vo(h,g,g.pendingProps.children,w),g.child;case 12:return vo(h,g,g.pendingProps.children,w),g.child;case 10:e:{if(k=g.type._context,L=g.pendingProps,H=g.memoizedProps,se=L.value,Fr(gs,k._currentValue),k._currentValue=se,H!==null)if(Di(H.value,se)){if(H.children===L.children&&!Ua.current){g=Vd(h,g,w);break e}}else for(H=g.child,H!==null&&(H.return=g);H!==null;){var _e=H.dependencies;if(_e!==null){se=H.child;for(var Te=_e.firstContext;Te!==null;){if(Te.context===k){if(H.tag===1){Te=Yi(-1,w&-w),Te.tag=2;var Ke=H.updateQueue;if(Ke!==null){Ke=Ke.shared;var vt=Ke.pending;vt===null?Te.next=Te:(Te.next=vt.next,vt.next=Te),Ke.pending=Te}}H.lanes|=w,Te=H.alternate,Te!==null&&(Te.lanes|=w),Nr(H.return,w,g),_e.lanes|=w;break}Te=Te.next}}else if(H.tag===10)se=H.type===g.type?null:H.child;else if(H.tag===18){if(se=H.return,se===null)throw Error(n(341));se.lanes|=w,_e=se.alternate,_e!==null&&(_e.lanes|=w),Nr(se,w,g),se=H.sibling}else se=H.child;if(se!==null)se.return=H;else for(se=H;se!==null;){if(se===g){se=null;break}if(H=se.sibling,H!==null){H.return=se.return,se=H;break}se=se.return}H=se}vo(h,g,L.children,w),g=g.child}return g;case 9:return L=g.type,k=g.pendingProps.children,Bi(g,w),L=$i(L),k=k(L),g.flags|=1,vo(h,g,k,w),g.child;case 14:return k=g.type,L=Wc(k,g.pendingProps),L=Wc(k.type,L),T3(h,g,k,L,w);case 15:return O3(h,g,g.type,g.pendingProps,w);case 17:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:Wc(k,L),X1(h,g),g.tag=1,Ha(k)?(h=!0,Ud(g)):h=!1,Bi(g,w),N3(g,k,L),Pj(g,k,L,w),Dj(null,g,k,!0,h,w);case 19:return B3(h,g,w);case 22:return P3(h,g,w)}throw Error(n(156,g.tag))};function c6(h,g){return Ac(h,g)}function Yle(h,g,w,k){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tc(h,g,w,k){return new Yle(h,g,w,k)}function nA(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Xle(h){if(typeof h=="function")return nA(h)?1:0;if(h!=null){if(h=h.$$typeof,h===F)return 11;if(h===G)return 14}return 2}function lh(h,g){var w=h.alternate;return w===null?(w=tc(h.tag,g,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=g,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,g=h.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function ow(h,g,w,k,L,H){var se=2;if(k=h,typeof h=="function")nA(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case M:return Vp(w.children,L,H,g);case A:se=8,L|=8;break;case P:return h=tc(12,w,g,L|2),h.elementType=P,h.lanes=H,h;case q:return h=tc(13,w,g,L),h.elementType=q,h.lanes=H,h;case z:return h=tc(19,w,g,L),h.elementType=z,h.lanes=H,h;case U:return lw(w,L,H,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case B:se=10;break e;case R:se=9;break e;case F:se=11;break e;case G:se=14;break e;case X:se=16,k=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return g=tc(se,w,g,L),g.elementType=h,g.type=k,g.lanes=H,g}function Vp(h,g,w,k){return h=tc(7,h,k,g),h.lanes=w,h}function lw(h,g,w,k){return h=tc(22,h,k,g),h.elementType=U,h.lanes=w,h.stateNode={isHidden:!1},h}function rA(h,g,w){return h=tc(6,h,null,g),h.lanes=w,h}function iA(h,g,w){return g=tc(4,h.children!==null?h.children:[],h.key,g),g.lanes=w,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function Zle(h,g,w,k,L){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=k,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function sA(h,g,w,k,L,H,se,_e,Te){return h=new Zle(h,g,w,_e,Te),g===1?(g=1,H===!0&&(g|=8)):g=0,H=tc(3,null,null,g),h.current=H,H.stateNode=h,H.memoizedState={element:k,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(H),h}function Qle(h,g,w){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:k==null?null:""+k,children:h,containerInfo:g,implementation:w}}function u6(h){if(!h)return Iu;h=h._reactInternals;e:{if(Ri(h)!==h||h.tag!==1)throw Error(n(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Ha(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(h.tag===1){var w=h.type;if(Ha(w))return mx(h,w,g)}return g}function d6(h,g,w,k,L,H,se,_e,Te){return h=sA(w,k,!0,h,L,H,se,_e,Te),h.context=u6(null),w=h.current,k=yo(),L=ah(w),H=Yi(k,L),H.callback=g??null,Xi(w,H,L),h.current.lanes=L,ql(h,L,k),Wo(h,k),h}function cw(h,g,w,k){var L=g.current,H=yo(),se=ah(L);return w=u6(w),g.context===null?g.context=w:g.pendingContext=w,g=Yi(H,se),g.payload={element:h},k=k===void 0?null:k,k!==null&&(g.callback=k),h=Xi(L,g,se),h!==null&&(Yc(h,L,se,H),ca(h,L,se)),se}function uw(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function f6(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<g?w:g}}function aA(h,g){f6(h,g),(h=h.alternate)&&f6(h,g)}function Jle(){return null}var h6=typeof reportError=="function"?reportError:function(h){console.error(h)};function oA(h){this._internalRoot=h}dw.prototype.render=oA.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(n(409));cw(h,g,null,null)},dw.prototype.unmount=oA.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;qp(function(){cw(null,h,null,null)}),g[oa]=null}};function dw(h){this._internalRoot=h}dw.prototype.unstable_scheduleHydration=function(h){if(h){var g=Pc();h={blockedOn:null,target:h,priority:g};for(var w=0;w<Ji.length&&g!==0&&g<Ji[w].priority;w++);Ji.splice(w,0,h),w===0&&dg(h)}};function lA(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function fw(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function p6(){}function ece(h,g,w,k,L){if(L){if(typeof k=="function"){var H=k;k=function(){var Ke=uw(se);H.call(Ke)}}var se=d6(g,k,h,0,null,!1,!1,"",p6);return h._reactRootContainer=se,h[oa]=se.current,Fd(h.nodeType===8?h.parentNode:h),qp(),se}for(;L=h.lastChild;)h.removeChild(L);if(typeof k=="function"){var _e=k;k=function(){var Ke=uw(Te);_e.call(Ke)}}var Te=sA(h,0,!1,null,null,!1,!1,"",p6);return h._reactRootContainer=Te,h[oa]=Te.current,Fd(h.nodeType===8?h.parentNode:h),qp(function(){cw(g,Te,w,k)}),Te}function hw(h,g,w,k,L){var H=w._reactRootContainer;if(H){var se=H;if(typeof L=="function"){var _e=L;L=function(){var Te=uw(se);_e.call(Te)}}cw(g,se,h,L)}else se=ece(w,g,h,L,k);return uw(se)}Oc=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var w=La(g.pendingLanes);w!==0&&(Eu(g,w|1),Wo(g,Hr()),(Sr&6)===0&&(Mg=Hr()+500,K()))}break;case 13:qp(function(){var k=Kr(h,1);if(k!==null){var L=yo();Yc(k,h,1,L)}}),aA(h,1)}},_i=function(h){if(h.tag===13){var g=Kr(h,134217728);if(g!==null){var w=yo();Yc(g,h,134217728,w)}aA(h,134217728)}},yr=function(h){if(h.tag===13){var g=ah(h),w=Kr(h,g);if(w!==null){var k=yo();Yc(w,h,g,k)}aA(h,g)}},Pc=function(){return cr},Fa=function(h,g){var w=cr;try{return cr=h,g()}finally{cr=w}},Ar=function(h,g,w){switch(g){case"input":if(ut(h,w),g=w.name,w.type==="radio"&&g!=null){for(w=h;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<w.length;g++){var k=w[g];if(k!==h&&k.form===h.form){var L=Dp(k);if(!L)throw Error(n(90));ae(k),ut(k,L)}}}break;case"textarea":We(h,w);break;case"select":g=w.value,g!=null&&Ne(h,!!w.multiple,g,!1)}},ft=Jj,It=qp;var tce={usingClientEntryPoint:!1,Events:[Zf,zd,Dp,Ee,Ye,Jj]},jx={findFiberByHostInstance:Ru,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nce={bundleType:jx.bundleType,version:jx.version,rendererPackageName:jx.rendererPackageName,rendererConfig:jx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=lo(h),h===null?null:h.stateNode},findFiberByHostInstance:jx.findFiberByHostInstance||Jle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pw.isDisabled&&pw.supportsFiber)try{Vn=pw.inject(nce),tr=pw}catch{}}return Ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tce,Ko.createPortal=function(h,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lA(g))throw Error(n(200));return Qle(h,g,null,w)},Ko.createRoot=function(h,g){if(!lA(h))throw Error(n(299));var w=!1,k="",L=h6;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(k=g.identifierPrefix),g.onRecoverableError!==void 0&&(L=g.onRecoverableError)),g=sA(h,1,!1,null,null,w,!1,k,L),h[oa]=g.current,Fd(h.nodeType===8?h.parentNode:h),new oA(g)},Ko.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=lo(g),h=h===null?null:h.stateNode,h},Ko.flushSync=function(h){return qp(h)},Ko.hydrate=function(h,g,w){if(!fw(g))throw Error(n(200));return hw(null,h,g,!0,w)},Ko.hydrateRoot=function(h,g,w){if(!lA(h))throw Error(n(405));var k=w!=null&&w.hydratedSources||null,L=!1,H="",se=h6;if(w!=null&&(w.unstable_strictMode===!0&&(L=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(se=w.onRecoverableError)),g=d6(g,null,h,1,w??null,L,!1,H,se),h[oa]=g.current,Fd(h),k)for(h=0;h<k.length;h++)w=k[h],L=w._getVersion,L=L(w._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[w,L]:g.mutableSourceEagerHydrationData.push(w,L);return new dw(g)},Ko.render=function(h,g,w){if(!fw(g))throw Error(n(200));return hw(null,h,g,!1,w)},Ko.unmountComponentAtNode=function(h){if(!fw(h))throw Error(n(40));return h._reactRootContainer?(qp(function(){hw(null,null,h,!1,function(){h._reactRootContainer=null,h[oa]=null})}),!0):!1},Ko.unstable_batchedUpdates=Jj,Ko.unstable_renderSubtreeIntoContainer=function(h,g,w,k){if(!fw(w))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return hw(h,g,w,!1,k)},Ko.version="18.3.1-next-f1338f8080-20240426",Ko}var N6;function KW(){if(N6)return dA.exports;N6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dA.exports=uce(),dA.exports}var S6;function dce(){if(S6)return gw;S6=1;var t=KW();return gw.createRoot=t.createRoot,gw.hydrateRoot=t.hydrateRoot,gw}var fce=dce();function hce(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,a=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(a.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var N=Z0();const xe=Ir(N),N4=ice({__proto__:null,default:xe},[N]);var pA={exports:{}},mA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6;function pce(){if(E6)return mA;E6=1;var t=Z0();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(f,m){var p=m(),y=r({inst:{value:p,getSnapshot:m}}),v=y[0].inst,x=y[1];return s(function(){v.value=p,v.getSnapshot=m,c(v)&&x({inst:v})},[f,p,m]),i(function(){return c(v)&&x({inst:v}),f(function(){c(v)&&x({inst:v})})},[f]),a(p),p}function c(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!n(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return mA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,mA}var _6;function GW(){return _6||(_6=1,pA.exports=pce()),pA.exports}var EE=GW();const mce=N4.useInsertionEffect,gce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YW=gce?N.useLayoutEffect:N.useEffect,vce=mce||YW,S4=t=>{const e=N.useRef([t,(...n)=>e[0](...n)]).current;return vce(()=>{e[0]=t}),e[1]},yce="popstate",E4="pushState",_4="replaceState",xce="hashchange",j6=[yce,E4,_4,xce],bce=t=>{for(const e of j6)addEventListener(e,t);return()=>{for(const e of j6)removeEventListener(e,t)}},XW=(t,e)=>EE.useSyncExternalStore(bce,t,e),wce=()=>location.search,Nce=({ssrSearch:t=""}={})=>XW(wce,()=>t),A6=()=>location.pathname,Sce=({ssrPath:t}={})=>XW(A6,t?()=>t:A6),Ece=(t,{replace:e=!1,state:n=null}={})=>history[e?_4:E4](n,"",t),_ce=(t={})=>[Sce(t),Ece],C6=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[C6]>"u"){for(const t of[E4,_4]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,C6,{value:!0})}const jce=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ZW=(t="")=>t==="/"?"":t,Ace=(t,e)=>t[0]==="~"?t.slice(1):ZW(e)+t,Cce=(t="",e)=>jce(k6(ZW(t)),k6(e)),k6=t=>{try{return decodeURI(t)}catch{return t}},QW={hook:_ce,searchHook:Nce,parser:hce,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},JW=N.createContext(QW),Ym=()=>N.useContext(JW),eK={},tK=N.createContext(eK),j4=()=>N.useContext(tK),Q0=t=>{const[e,n]=t.hook(t);return[Cce(t.base,e),S4((r,i)=>n(Ace(r,t.base),i))]},sl=()=>Q0(Ym()),A4=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=i.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,m)=>[f,c[m]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},_E=t=>A4(Ym().parser,t,sl()[0]),kce=({children:t,...e})=>{const n=Ym(),r=e.hook?QW:n;let i=r;const[s,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let l=N.useRef({}),c=l.current,u=c;for(let d in r){const f=d==="base"?r[d]+(e[d]||""):e[d]||r[d];c===u&&f!==u[d]&&(l.current=u={...u}),u[d]=f,(f!==r[d]||f!==i[d])&&(i=u)}return N.createElement(JW.Provider,{value:i,children:t})},T6=({children:t,component:e},n)=>e?N.createElement(e,{params:n}):typeof t=="function"?t(n):t,Tce=t=>{let e=N.useRef(eK);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},Yr=({path:t,nest:e,match:n,...r})=>{const i=Ym(),[s]=Q0(i),[a,l,c]=n??A4(i.parser,t,s,e),u=Tce({...j4(),...l});if(!a)return null;const d=c?N.createElement(kce,{base:c},T6(r,u)):T6(r,u);return N.createElement(tK.Provider,{value:u,children:d})},au=N.forwardRef((t,e)=>{const n=Ym(),[r,i]=Q0(n),{to:s="",href:a=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:m,...p}=t,y=S4(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l?.(x),x.defaultPrevented||(x.preventDefault(),i(a,t)))}),v=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:y,href:v}):N.createElement("a",{...p,onClick:y,href:v,className:d?.call?d(r===a):d,children:u,ref:e})}),nK=t=>Array.isArray(t)?t.flatMap(e=>nK(e&&e.type===N.Fragment?e.props.children:e)):[t],O6=({children:t,location:e})=>{const n=Ym(),[r]=Q0(n);for(const i of nK(t)){let s=0;if(N.isValidElement(i)&&(s=A4(n.parser,i.props.path,e||r,i.props.nest))[0])return N.cloneElement(i,{match:s})}return null},vw=t=>{const{to:e,href:n=e}=t,r=Ym(),[,i]=Q0(r),s=S4(()=>i(e||n,t)),{ssrContext:a}=r;return YW(()=>{s()},[]),a&&(a.redirectTo=e),null};var Ey=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oce={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Pce=class{#e=Oce;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},nm=new Pce;function Mce(t){setTimeout(t,0)}var Em=typeof window>"u"||"Deno"in globalThis;function bo(){}function Rce(t,e){return typeof t=="function"?t(e):t}function eP(t){return typeof t=="number"&&t>=0&&t!==1/0}function rK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fh(t,e){return typeof t=="function"?t(e):t}function lc(t,e){return typeof t=="function"?t(e):t}function P6(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==C4(a,e.options))return!1}else if(!Lb(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function M6(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(_m(e.options.mutationKey)!==_m(s))return!1}else if(!Lb(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function C4(t,e){return(e?.queryKeyHashFn||_m)(t)}function _m(t){return JSON.stringify(t,(e,n)=>tP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Lb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Lb(t[n],e[n])):!1}var Ice=Object.prototype.hasOwnProperty;function iK(t,e){if(t===e)return t;const n=R6(t)&&R6(e);if(!n&&!(tP(t)&&tP(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u],f=t[d],m=e[d];if(f===m){l[d]=f,(n?u<i:Ice.call(t,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const p=iK(f,m);l[d]=p,p===f&&c++}return i===a&&c===i?t:l}function G2(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function R6(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tP(t){if(!I6(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!I6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function I6(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dce(t){return new Promise(e=>{nm.setTimeout(e,t)})}function nP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?iK(t,e):e}function Lce(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Fce(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var k4=Symbol();function sK(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===k4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function aK(t,e){return typeof t=="function"?t(...e):!!t}var Bce=class extends Ey{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Em&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},T4=new Bce;function rP(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var $ce=Mce;function zce(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=$ce;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Xs=zce(),qce=class extends Ey{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Em&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Y2=new qce;function Uce(t){return Math.min(1e3*2**t,3e4)}function oK(t){return(t??"online")==="online"?Y2.isOnline():!0}var iP=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function lK(t){let e=!1,n=0,r;const i=rP(),s=()=>i.status!=="pending",a=v=>{if(!s()){const x=new iP(v);m(x),t.onCancel?.(x)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>T4.isFocused()&&(t.networkMode==="always"||Y2.isOnline())&&t.canRun(),d=()=>oK(t.networkMode)&&t.canRun(),f=v=>{s()||(r?.(),i.resolve(v))},m=v=>{s()||(r?.(),i.reject(v))},p=()=>new Promise(v=>{r=x=>{(s()||u())&&v(x)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),y=()=>{if(s())return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{if(s())return;const S=t.retry??(Em?0:3),_=t.retryDelay??Uce,j=typeof _=="function"?_(n,b):_,C=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,b);if(e||!C){m(b);return}n++,t.onFail?.(n,b),Dce(j).then(()=>u()?void 0:p()).then(()=>{e?m(b):y()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var cK=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eP(this.gcTime)&&(this.#e=nm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Em?1/0:300*1e3))}clearGcTimeout(){this.#e&&(nm.clearTimeout(this.#e),this.#e=void 0)}},Hce=class extends cK{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=D6(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=D6(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=nP(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(bo).catch(bo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>lc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rK(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=sK(this.options,e),u=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=lK({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof iP&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof iP){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...uK(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Xs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function uK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function D6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vce=class extends Ey{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=rP(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),L6(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sP(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sP(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof lc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),e._defaulted&&!G2(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&F6(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||lc(this.options.enabled,this.#t)!==lc(e.enabled,this.#t)||Fh(this.options.staleTime,this.#t)!==Fh(e.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||lc(this.options.enabled,this.#t)!==lc(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Kce(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(bo)),e}#g(){this.#b();const t=Fh(this.options.staleTime,this.#t);if(Em||this.#i.isStale||!eP(t))return;const n=rK(this.#i.dataUpdatedAt,t)+1;this.#c=nm.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Em||lc(this.options.enabled,this.#t)===!1||!eP(this.#l)||this.#l===0)&&(this.#u=nm.setInterval(()=>{(this.options.refetchIntervalInBackground||T4.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(nm.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(nm.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,a=this.#a,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,m;if(e._optimisticResults){const A=this.hasListeners(),P=!A&&L6(t,e),B=A&&F6(t,n,e,r);(P||B)&&(d={...d,...uK(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:v}=d;m=d.data;let x=!1;if(e.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(A=i.data,x=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,A!==void 0&&(v="success",m=nP(i?.data,A,e),f=!0)}if(e.select&&m!==void 0&&!x)if(i&&m===s?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(m),m=nP(i?.data,m,e),this.#f=m,this.#s=null}catch(A){this.#s=A}this.#s&&(p=this.#s,m=this.#f,y=Date.now(),v="error");const b=d.fetchStatus==="fetching",S=v==="pending",_=v==="error",j=S&&b,C=m!==void 0,M={status:v,fetchStatus:d.fetchStatus,isPending:S,isSuccess:v==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&C,isStale:O4(t,e),refetch:this.refetch,promise:this.#o,isEnabled:lc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=R=>{M.status==="error"?R.reject(M.error):M.data!==void 0&&R.resolve(M.data)},P=()=>{const R=this.#o=M.promise=rP();A(R)},B=this.#o;switch(B.status){case"pending":t.queryHash===n.queryHash&&A(B);break;case"fulfilled":(M.status==="error"||M.data!==B.value)&&P();break;case"rejected":(M.status!=="error"||M.error!==B.reason)&&P();break}}return M}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),G2(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const l=a;return this.#i[l]!==t[l]&&s.has(l)})};this.#S({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Xs.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Wce(t,e){return lc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function L6(t,e){return Wce(t,e)||t.state.data!==void 0&&sP(t,e,e.refetchOnMount)}function sP(t,e,n){if(lc(e.enabled,t)!==!1&&Fh(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&O4(t,e)}return!1}function F6(t,e,n,r){return(t!==e||lc(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&O4(t,n)}function O4(t,e){return lc(e.enabled,t)!==!1&&t.isStaleByTime(Fh(e.staleTime,t))}function Kce(t,e){return!G2(t.getCurrentResult(),e)}function B6(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=sK(e.options,e.fetchOptions),p=async(y,v,x)=>{if(d)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:v,direction:x?"backward":"forward",meta:e.options.meta};return f(O),O})(),_=await m(S),{maxPages:j}=e.options,C=x?Fce:Lce;return{pages:C(y.pages,_,j),pageParams:C(y.pageParams,v,j)}};if(i&&s.length){const y=i==="backward",v=y?Gce:$6,x={pages:s,pageParams:a},b=v(r,x);l=await p(x,b,y)}else{const y=t??s.length;do{const v=c===0?a[0]??r.initialPageParam:$6(r,l);if(c>0&&v==null)break;l=await p(l,v),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function $6(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Gce(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Yce=class extends cK{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||dK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=lK({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Xs.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function dK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xce=class extends Ey{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Yce({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=yw(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=yw(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=yw(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=yw(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xs.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>M6(e,n))}findAll(t={}){return this.getAll().filter(e=>M6(t,e))}notify(t){Xs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Xs.batch(()=>Promise.all(t.map(e=>e.continue().catch(bo))))}};function yw(t){return t.options.scope?.id}var Zce=class extends Ey{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),G2(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&_m(n.mutationKey)!==_m(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??dK();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Xs.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},Qce=class extends Ey{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??C4(r,e);let s=this.get(i);return s||(s=new Hce({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>P6(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>P6(t,n)):e}notify(t){Xs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Xs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jce=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new Qce,this.#t=t.mutationCache||new Xce,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=T4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Y2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=Rce(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Xs.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Xs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Xs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Xs.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(bo).catch(bo)}invalidateQueries(t,e={}){return Xs.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Xs.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(bo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(bo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Fh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bo).catch(bo)}fetchInfiniteQuery(t){return t.behavior=B6(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bo).catch(bo)}ensureInfiniteQueryData(t){return t.behavior=B6(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Y2.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(_m(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Lb(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(_m(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Lb(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=C4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===k4&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fK=N.createContext(void 0),Xm=t=>{const e=N.useContext(fK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},eue=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(fK.Provider,{value:t,children:e})),hK=N.createContext(!1),tue=()=>N.useContext(hK);hK.Provider;function nue(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rue=N.createContext(nue()),iue=()=>N.useContext(rue),sue=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},aue=t=>{N.useEffect(()=>{t.clearReset()},[t])},oue=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||aK(n,[t.error,r])),lue=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cue=(t,e)=>t.isLoading&&t.isFetching&&!e,uue=(t,e)=>t?.suspense&&e.isPending,z6=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function due(t,e,n){const r=tue(),i=iue(),s=Xm(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",lue(a),sue(a,i),aue(i);const l=!s.getQueryCache().get(a.queryHash),[c]=N.useState(()=>new e(s,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(f=>{const m=d?c.subscribe(Xs.batchCalls(f)):bo;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(a)},[a,c]),uue(a,u))throw z6(a,c,i);if(oue({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Em&&cue(u,r)&&(l?z6(a,c,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(bo).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function rn(t,e){return due(t,Vce)}function hn(t,e){const n=Xm(),[r]=N.useState(()=>new Zce(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(Xs.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((a,l)=>{r.mutate(a,l).catch(bo)},[r]);if(i.error&&aK(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function pK(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Jt(t,e,n,r){const i=localStorage.getItem("token"),s={};n&&(s["Content-Type"]="application/json"),i&&(s.Authorization=`Bearer ${i}`);const a=new AbortController;try{const l=await fetch(e,{method:t,headers:s,body:n?JSON.stringify(n):void 0,credentials:"include",signal:a.signal});await pK(l);const c=l.headers.get("content-type")||"";return l.status===204||!c.includes("application/json")?{}:l.json()}catch(l){throw l.name==="AbortError"?new Error(`La peticin tard ms de ${0/1e3}s y fue cancelada`):l}finally{}}const mK=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const i=await fetch(e.join("/"),{headers:r,credentials:"include"});return t==="returnNull"&&i.status===401?null:(await pK(i),await i.json())},nn=new Jce({defaultOptions:{queries:{queryFn:mK({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),fue=1,hue=1e6;let gA=0;function pue(){return gA=(gA+1)%Number.MAX_SAFE_INTEGER,gA.toString()}const vA=new Map,q6=t=>{if(vA.has(t))return;const e=setTimeout(()=>{vA.delete(t),lb({type:"REMOVE_TOAST",toastId:t})},hue);vA.set(t,e)},mue=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,fue)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?q6(n):t.toasts.forEach(r=>{q6(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},w2=[];let N2={toasts:[]};function lb(t){N2=mue(N2,t),w2.forEach(e=>{e(N2)})}function gue({...t}){const e=pue(),n=i=>lb({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>lb({type:"DISMISS_TOAST",toastId:e});return lb({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Pr(){const[t,e]=N.useState(N2);return N.useEffect(()=>(w2.push(e),()=>{const n=w2.indexOf(e);n>-1&&w2.splice(n,1)}),[t]),{...t,toast:gue,dismiss:n=>lb({type:"DISMISS_TOAST",toastId:n})}}var ou=KW();const gK=Ir(ou);function wt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function U6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xf(...t){return e=>{let n=!1;const r=t.map(i=>{const s=U6(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():U6(t[i],null)}}}}function kn(...t){return N.useCallback(xf(...t),t)}function vue(t,e){const n=N.createContext(e),r=s=>{const{children:a,...l}=s,c=N.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=N.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function wa(t,e=[]){let n=[];function r(s,a){const l=N.createContext(a),c=n.length;n=[...n,a];const u=f=>{const{scope:m,children:p,...y}=f,v=m?.[t]?.[c]||l,x=N.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(f,m){const p=m?.[t]?.[c]||l,y=N.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>N.createContext(a));return function(l){const c=l?.[t]||s;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,yue(i,...e)]}function yue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Xh(t){const e=xue(t),n=N.forwardRef((r,i)=>{const{children:s,...a}=r,l=N.Children.toArray(s),c=l.find(bue);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var jE=Xh("Slot");function xue(t){const e=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const a=Nue(i),l=wue(s,i.props);return i.type!==N.Fragment&&(l.ref=r?xf(r,a):a),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vK=Symbol("radix.slottable");function yK(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=vK,e}function bue(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vK}function wue(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Nue(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function J0(t){const e=t+"CollectionProvider",[n,r]=wa(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:b}=v,S=xe.useRef(null),_=xe.useRef(new Map).current;return o.jsx(i,{scope:x,itemMap:_,collectionRef:S,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=Xh(l),u=xe.forwardRef((v,x)=>{const{scope:b,children:S}=v,_=s(l,b),j=kn(x,_.collectionRef);return o.jsx(c,{ref:j,children:S})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=Xh(d),p=xe.forwardRef((v,x)=>{const{scope:b,children:S,..._}=v,j=xe.useRef(null),C=kn(x,j),O=s(d,b);return xe.useEffect(()=>(O.itemMap.set(j,{ref:j,..._}),()=>void O.itemMap.delete(j))),o.jsx(m,{[f]:"",ref:C,children:S})});p.displayName=d;function y(v){const x=s(t+"CollectionConsumer",v);return xe.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((O,M)=>_.indexOf(O.ref.current)-_.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},y,r]}var Sue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=Sue.reduce((t,e)=>{const n=Xh(`Primitive.${e}`),r=N.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function P4(t,e){t&&ou.flushSync(()=>t.dispatchEvent(e))}function hs(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function Eue(t,e=globalThis?.document){const n=hs(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _ue="DismissableLayer",aP="dismissableLayer.update",jue="dismissableLayer.pointerDownOutside",Aue="dismissableLayer.focusOutside",H6,xK=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zm=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=N.useContext(xK),[d,f]=N.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=N.useState({}),y=kn(e,M=>f(M)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(x),S=d?v.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,j=S>=b,C=kue(M=>{const A=M.target,P=[...u.branches].some(B=>B.contains(A));!j||P||(i?.(M),a?.(M),M.defaultPrevented||l?.())},m),O=Tue(M=>{const A=M.target;[...u.branches].some(B=>B.contains(A))||(s?.(M),a?.(M),M.defaultPrevented||l?.())},m);return Eue(M=>{S===u.layers.size-1&&(r?.(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},m),N.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H6=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),V6(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=H6)}},[d,m,n,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),V6())},[d,u]),N.useEffect(()=>{const M=()=>p({});return document.addEventListener(aP,M),()=>document.removeEventListener(aP,M)},[]),o.jsx(Bt.div,{...c,ref:y,style:{pointerEvents:_?j?"auto":"none":void 0,...t.style},onFocusCapture:wt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:wt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:wt(t.onPointerDownCapture,C.onPointerDownCapture)})});Zm.displayName=_ue;var Cue="DismissableLayerBranch",bK=N.forwardRef((t,e)=>{const n=N.useContext(xK),r=N.useRef(null),i=kn(e,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(Bt.div,{...t,ref:i})});bK.displayName=Cue;function kue(t,e=globalThis?.document){const n=hs(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){wK(jue,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Tue(t,e=globalThis?.document){const n=hs(t),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&wK(Aue,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function V6(){const t=new CustomEvent(aP);document.dispatchEvent(t)}function wK(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?P4(i,s):i.dispatchEvent(s)}var Oue=Zm,Pue=bK,Es=globalThis?.document?N.useLayoutEffect:()=>{},Mue="Portal",_y=N.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=N.useState(!1);Es(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?gK.createPortal(o.jsx(Bt.div,{...r,ref:e}),a):null});_y.displayName=Mue;function Rue(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Na=t=>{const{present:e,children:n}=t,r=Iue(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=kn(r.ref,Due(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};Na.displayName="Presence";function Iue(t){const[e,n]=N.useState(),r=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[l,c]=Rue(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=xw(r.current);s.current=l==="mounted"?u:"none"},[l]),Es(()=>{const u=r.current,d=i.current;if(d!==t){const m=s.current,p=xw(u);t?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Es(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const v=xw(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&v&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=p=>{p.target===e&&(s.current=xw(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function xw(t){return t?.animationName||"none"}function Due(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lue=N4[" useInsertionEffect ".trim().toString()]||Es;function xc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=Fue({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=N.useRef(t!==void 0);N.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=N.useCallback(d=>{if(l){const f=Bue(d)?d(t):d;f!==t&&a.current?.(f)}else s(d)},[l,t,s,a]);return[c,u]}function Fue({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),i=N.useRef(n),s=N.useRef(e);return Lue(()=>{s.current=e},[e]),N.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function Bue(t){return typeof t=="function"}var NK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$ue="VisuallyHidden",AE=N.forwardRef((t,e)=>o.jsx(Bt.span,{...t,ref:e,style:{...NK,...t.style}}));AE.displayName=$ue;var zue=AE,M4="ToastProvider",[R4,que,Uue]=J0("Toast"),[SK]=wa("Toast",[Uue]),[Hue,CE]=SK(M4),EK=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),m=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${M4}\`. Expected non-empty \`string\`.`),o.jsx(R4.Provider,{scope:e,children:o.jsx(Hue,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(p=>p+1),[]),onToastRemove:N.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};EK.displayName=M4;var _K="ToastViewport",Vue=["F8"],oP="toast.viewportPause",lP="toast.viewportResume",jK=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Vue,label:i="Notifications ({hotkey})",...s}=t,a=CE(_K,n),l=que(n),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),m=kn(e,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;N.useEffect(()=>{const x=b=>{r.length!==0&&r.every(_=>b[_]||b.code===_)&&f.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),N.useEffect(()=>{const x=c.current,b=f.current;if(y&&x&&b){const S=()=>{if(!a.isClosePausedRef.current){const O=new CustomEvent(oP);b.dispatchEvent(O),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const O=new CustomEvent(lP);b.dispatchEvent(O),a.isClosePausedRef.current=!1}},j=O=>{!x.contains(O.relatedTarget)&&_()},C=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",S),x.addEventListener("focusout",j),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",_)}}},[y,a.isClosePausedRef]);const v=N.useCallback(({tabbingDirection:x})=>{const S=l().map(_=>{const j=_.ref.current,C=[j,...ide(j)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?S.reverse():S).flat()},[l]);return N.useEffect(()=>{const x=f.current;if(x){const b=S=>{const _=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!_){const C=document.activeElement,O=S.shiftKey;if(S.target===x&&O){u.current?.focus();return}const P=v({tabbingDirection:O?"backwards":"forwards"}),B=P.findIndex(R=>R===C);yA(P.slice(B+1))?S.preventDefault():O?u.current?.focus():d.current?.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,v]),o.jsxs(Pue,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(cP,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});yA(x)}}),o.jsx(R4.Slot,{scope:n,children:o.jsx(Bt.ol,{tabIndex:-1,...s,ref:m})}),y&&o.jsx(cP,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});yA(x)}})]})});jK.displayName=_K;var AK="ToastFocusProxy",cP=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=CE(AK,n);return o.jsx(AE,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const l=a.relatedTarget;!s.viewport?.contains(l)&&r()}})});cP.displayName=AK;var e1="Toast",Wue="toast.swipeStart",Kue="toast.swipeMove",Gue="toast.swipeCancel",Yue="toast.swipeEnd",CK=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l,c]=xc({prop:r,defaultProp:i??!0,onChange:s,caller:e1});return o.jsx(Na,{present:n||l,children:o.jsx(Que,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:hs(t.onPause),onResume:hs(t.onResume),onSwipeStart:wt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:wt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});CK.displayName=e1;var[Xue,Zue]=SK(e1,{onClose(){}}),Que=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=t,v=CE(e1,n),[x,b]=N.useState(null),S=kn(e,z=>b(z)),_=N.useRef(null),j=N.useRef(null),C=i||v.duration,O=N.useRef(0),M=N.useRef(C),A=N.useRef(0),{onToastAdd:P,onToastRemove:B}=v,R=hs(()=>{x?.contains(document.activeElement)&&v.viewport?.focus(),a()}),F=N.useCallback(z=>{!z||z===1/0||(window.clearTimeout(A.current),O.current=new Date().getTime(),A.current=window.setTimeout(R,z))},[R]);N.useEffect(()=>{const z=v.viewport;if(z){const G=()=>{F(M.current),u?.()},X=()=>{const U=new Date().getTime()-O.current;M.current=M.current-U,window.clearTimeout(A.current),c?.()};return z.addEventListener(oP,X),z.addEventListener(lP,G),()=>{z.removeEventListener(oP,X),z.removeEventListener(lP,G)}}},[v.viewport,C,c,u,F]),N.useEffect(()=>{s&&!v.isClosePausedRef.current&&F(C)},[s,C,v.isClosePausedRef,F]),N.useEffect(()=>(P(),()=>B()),[P,B]);const q=N.useMemo(()=>x?IK(x):null,[x]);return v.viewport?o.jsxs(o.Fragment,{children:[q&&o.jsx(Jue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:q}),o.jsx(Xue,{scope:n,onClose:R,children:ou.createPortal(o.jsx(R4.ItemSlot,{scope:n,children:o.jsx(Oue,{asChild:!0,onEscapeKeyDown:wt(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Bt.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:wt(t.onKeyDown,z=>{z.key==="Escape"&&(l?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:wt(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:wt(t.onPointerMove,z=>{if(!_.current)return;const G=z.clientX-_.current.x,X=z.clientY-_.current.y,U=!!j.current,W=["left","right"].includes(v.swipeDirection),Y=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ie=W?Y(0,G):0,Z=W?0:Y(0,X),I=z.pointerType==="touch"?10:2,V={x:ie,y:Z},Q={originalEvent:z,delta:V};U?(j.current=V,bw(Kue,f,Q,{discrete:!1})):W6(V,v.swipeDirection,I)?(j.current=V,bw(Wue,d,Q,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(G)>I||Math.abs(X)>I)&&(_.current=null)}),onPointerUp:wt(t.onPointerUp,z=>{const G=j.current,X=z.target;if(X.hasPointerCapture(z.pointerId)&&X.releasePointerCapture(z.pointerId),j.current=null,_.current=null,G){const U=z.currentTarget,W={originalEvent:z,delta:G};W6(G,v.swipeDirection,v.swipeThreshold)?bw(Yue,p,W,{discrete:!0}):bw(Gue,m,W,{discrete:!0}),U.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Jue=t=>{const{__scopeToast:e,children:n,...r}=t,i=CE(e1,e),[s,a]=N.useState(!1),[l,c]=N.useState(!1);return nde(()=>a(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(_y,{asChild:!0,children:o.jsx(AE,{...r,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},ede="ToastTitle",kK=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Bt.div,{...r,ref:e})});kK.displayName=ede;var tde="ToastDescription",TK=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Bt.div,{...r,ref:e})});TK.displayName=tde;var OK="ToastAction",PK=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(RK,{altText:n,asChild:!0,children:o.jsx(I4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${OK}\`. Expected non-empty \`string\`.`),null)});PK.displayName=OK;var MK="ToastClose",I4=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Zue(MK,n);return o.jsx(RK,{asChild:!0,children:o.jsx(Bt.button,{type:"button",...r,ref:e,onClick:wt(t.onClick,i.onClose)})})});I4.displayName=MK;var RK=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return o.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function IK(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),rde(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...IK(r))}}),e}function bw(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?P4(i,s):i.dispatchEvent(s)}var W6=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function nde(t=()=>{}){const e=hs(t);Es(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function rde(t){return t.nodeType===t.ELEMENT_NODE}function ide(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yA(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var sde=EK,DK=jK,LK=CK,FK=kK,BK=TK,$K=PK,zK=I4;function qK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qK(t))&&(r&&(r+=" "),r+=e);return r}const K6=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,G6=fr,Qm=(t,e)=>n=>{var r;if(e?.variants==null)return G6(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n?.[u],f=s?.[u];if(d===null)return null;const m=K6(d)||K6(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[v,x]=y;return Array.isArray(x)?x.includes({...s,...l}[v]):{...s,...l}[v]===x})?[...u,f,m]:u},[]);return G6(t,a,c,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UK=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ode={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>N.createElement("svg",{ref:c,...ode,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:UK("lucide",i),...l},[...a.map(([u,d])=>N.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(lde,{ref:s,iconNode:e,className:UK(`lucide-${ade(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ot("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ot("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=ot("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=ot("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=ot("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=ot("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=ot("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=ot("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ot("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=ot("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=ot("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=ot("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ot("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=ot("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=ot("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=ot("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=ot("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=ot("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ot("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=ot("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ot("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ot("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ot("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ot("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ot("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ot("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=ot("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=ot("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ot("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=ot("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ot("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ot("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=ot("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=ot("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=ot("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=ot("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=ot("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=ot("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=ot("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=ot("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ot("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ot("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=ot("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=ot("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=ot("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ot("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=ot("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ot("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=ot("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ot("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=ot("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=ot("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ot("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=ot("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=ot("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=ot("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=ot("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=ot("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=ot("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ot("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=ot("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ot("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=ot("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=ot("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=ot("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=ot("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=ot("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=ot("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=ot("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=ot("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=ot("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=ot("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=ot("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=ot("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=ot("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),H4="-",Qde=t=>{const e=efe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(H4);return l[0]===""&&l.length!==1&&l.shift(),pG(l,e)||Jde(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},pG=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pG(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(H4);return e.validators.find(({validator:a})=>a(s))?.classGroupId},J6=/^\[(.+)\]$/,Jde=t=>{if(J6.test(t)){const e=J6.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},efe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nfe(Object.entries(t.classGroups),n).forEach(([s,a])=>{mP(a,r,s,e)}),r},mP=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:eF(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(tfe(i)){mP(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{mP(a,eF(e,s),n,r)})})},eF=(t,e)=>{let n=t;return e.split(H4).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tfe=t=>t.isThemeGetter,nfe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,rfe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},mG="!",ife=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===i&&(r||l.slice(x,x+s)===e)){c.push(l.slice(d,x)),d=x+s;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(mG),y=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},sfe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},afe=t=>({cache:rfe(t.cacheSize),parseClassName:ife(t),...Qde(t)}),ofe=/\s+/,lfe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(ofe);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let y=!!p,v=r(y?m.substring(0,p):m);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=sfe(d).join(":"),b=f?x+mG:x,S=b+v;if(s.includes(S))continue;s.push(S);const _=i(v,y);for(let j=0;j<_.length;++j){const C=_[j];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function cfe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gG(e))&&(r&&(r+=" "),r+=n);return r}const gG=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gG(t[r]))&&(n&&(n+=" "),n+=e);return n};function ufe(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=afe(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=lfe(c,n);return i(c,d),d}return function(){return s(cfe.apply(null,arguments))}}const Ci=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vG=/^\[(?:([a-z-]+):)?(.+)\]$/i,dfe=/^\d+\/\d+$/,ffe=new Set(["px","full","screen"]),hfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pfe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mfe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gfe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vfe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kd=t=>xv(t)||ffe.has(t)||dfe.test(t),uh=t=>Ay(t,"length",_fe),xv=t=>!!t&&!Number.isNaN(Number(t)),bA=t=>Ay(t,"number",xv),Cx=t=>!!t&&Number.isInteger(Number(t)),yfe=t=>t.endsWith("%")&&xv(t.slice(0,-1)),rr=t=>vG.test(t),dh=t=>hfe.test(t),xfe=new Set(["length","size","percentage"]),bfe=t=>Ay(t,xfe,yG),wfe=t=>Ay(t,"position",yG),Nfe=new Set(["image","url"]),Sfe=t=>Ay(t,Nfe,Afe),Efe=t=>Ay(t,"",jfe),kx=()=>!0,Ay=(t,e,n)=>{const r=vG.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_fe=t=>pfe.test(t)&&!mfe.test(t),yG=()=>!1,jfe=t=>gfe.test(t),Afe=t=>vfe.test(t),Cfe=()=>{const t=Ci("colors"),e=Ci("spacing"),n=Ci("blur"),r=Ci("brightness"),i=Ci("borderColor"),s=Ci("borderRadius"),a=Ci("borderSpacing"),l=Ci("borderWidth"),c=Ci("contrast"),u=Ci("grayscale"),d=Ci("hueRotate"),f=Ci("invert"),m=Ci("gap"),p=Ci("gradientColorStops"),y=Ci("gradientColorStopPositions"),v=Ci("inset"),x=Ci("margin"),b=Ci("opacity"),S=Ci("padding"),_=Ci("saturate"),j=Ci("scale"),C=Ci("sepia"),O=Ci("skew"),M=Ci("space"),A=Ci("translate"),P=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",rr,e],F=()=>[rr,e],q=()=>["",Kd,uh],z=()=>["auto",xv,rr],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",rr],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[xv,rr];return{cacheSize:500,separator:":",theme:{colors:[kx],spacing:[Kd,uh],blur:["none","",dh,rr],brightness:Z(),borderColor:[t],borderRadius:["none","","full",dh,rr],borderSpacing:F(),borderWidth:q(),contrast:Z(),grayscale:Y(),hueRotate:Z(),invert:Y(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[yfe,uh],inset:R(),margin:R(),opacity:Z(),padding:F(),saturate:Z(),scale:Z(),sepia:Y(),skew:Z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",rr]}],container:["container"],columns:[{columns:[dh]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),rr]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cx,rr]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rr]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Cx,rr]}],"grid-cols":[{"grid-cols":[kx]}],"col-start-end":[{col:["auto",{span:["full",Cx,rr]},rr]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[kx]}],"row-start-end":[{row:["auto",{span:[Cx,rr]},rr]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rr,e]}],"min-w":[{"min-w":[rr,e,"min","max","fit"]}],"max-w":[{"max-w":[rr,e,"none","full","min","max","fit","prose",{screen:[dh]},dh]}],h:[{h:[rr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dh,uh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bA]}],"font-family":[{font:[kx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rr]}],"line-clamp":[{"line-clamp":["none",xv,bA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kd,rr]}],"list-image":[{"list-image":["none",rr]}],"list-style-type":[{list:["none","disc","decimal",rr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kd,uh]}],"underline-offset":[{"underline-offset":["auto",Kd,rr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),wfe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bfe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sfe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Kd,rr]}],"outline-w":[{outline:[Kd,uh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Kd,uh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dh,Efe]}],"shadow-color":[{shadow:[kx]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dh,rr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rr]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",rr]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",rr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Cx,rr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kd,uh,bA]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kfe=ufe(Cfe);function pt(...t){return kfe(fr(t))}const Tfe=sde,xG=N.forwardRef(({className:t,...e},n)=>o.jsx(DK,{ref:n,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xG.displayName=DK.displayName;const Ofe=Qm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bG=N.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(LK,{ref:r,className:pt(Ofe({variant:e}),t),...n}));bG.displayName=LK.displayName;const Pfe=N.forwardRef(({className:t,...e},n)=>o.jsx($K,{ref:n,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Pfe.displayName=$K.displayName;const wG=N.forwardRef(({className:t,...e},n)=>o.jsx(zK,{ref:n,className:pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(bc,{className:"h-4 w-4"})}));wG.displayName=zK.displayName;const NG=N.forwardRef(({className:t,...e},n)=>o.jsx(FK,{ref:n,className:pt("text-sm font-semibold",t),...e}));NG.displayName=FK.displayName;const SG=N.forwardRef(({className:t,...e},n)=>o.jsx(BK,{ref:n,className:pt("text-sm opacity-90",t),...e}));SG.displayName=BK.displayName;function Mfe(){const{toasts:t}=Pr();return o.jsxs(Tfe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return o.jsxs(bG,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(NG,{children:n}),r&&o.jsx(SG,{children:r})]}),i,o.jsx(wG,{})]},e)}),o.jsx(xG,{})]})}var Rfe=N4[" useId ".trim().toString()]||(()=>{}),Ife=0;function ya(t){const[e,n]=N.useState(Rfe());return Es(()=>{n(r=>r??String(Ife++))},[t]),e?`radix-${e}`:""}const Dfe=["top","right","bottom","left"],Qh=Math.min,Al=Math.max,nN=Math.round,ww=Math.floor,nd=t=>({x:t,y:t}),Lfe={left:"right",right:"left",bottom:"top",top:"bottom"},Ffe={start:"end",end:"start"};function gP(t,e,n){return Al(t,Qh(e,n))}function bf(t,e){return typeof t=="function"?t(e):t}function wf(t){return t.split("-")[0]}function Cy(t){return t.split("-")[1]}function V4(t){return t==="x"?"y":"x"}function W4(t){return t==="y"?"height":"width"}const Bfe=new Set(["top","bottom"]);function Yu(t){return Bfe.has(wf(t))?"y":"x"}function K4(t){return V4(Yu(t))}function $fe(t,e,n){n===void 0&&(n=!1);const r=Cy(t),i=K4(t),s=W4(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=rN(a)),[a,rN(a)]}function zfe(t){const e=rN(t);return[vP(t),e,vP(e)]}function vP(t){return t.replace(/start|end/g,e=>Ffe[e])}const tF=["left","right"],nF=["right","left"],qfe=["top","bottom"],Ufe=["bottom","top"];function Hfe(t,e,n){switch(t){case"top":case"bottom":return n?e?nF:tF:e?tF:nF;case"left":case"right":return e?qfe:Ufe;default:return[]}}function Vfe(t,e,n,r){const i=Cy(t);let s=Hfe(wf(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(vP)))),s}function rN(t){return t.replace(/left|right|bottom|top/g,e=>Lfe[e])}function Wfe(t){return{top:0,right:0,bottom:0,left:0,...t}}function EG(t){return typeof t!="number"?Wfe(t):{top:t,right:t,bottom:t,left:t}}function iN(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function rF(t,e,n){let{reference:r,floating:i}=t;const s=Yu(e),a=K4(e),l=W4(a),c=wf(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Cy(e)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const Kfe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=rF(u,r,c),m=r,p={},y=0;for(let v=0;v<l.length;v++){const{name:x,fn:b}=l[v],{x:S,y:_,data:j,reset:C}=await b({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=S??d,f=_??f,p={...p,[x]:{...p[x],...j}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:f}=rF(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:p}};async function $b(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=bf(e,t),y=EG(p),x=l[m?f==="floating"?"reference":"floating":f],b=iN(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),S=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},C=iN(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:_,strategy:c}):S);return{top:(b.top-C.top+y.top)/j.y,bottom:(C.bottom-b.bottom+y.bottom)/j.y,left:(b.left-C.left+y.left)/j.x,right:(C.right-b.right+y.right)/j.x}}const Gfe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=bf(t,e)||{};if(u==null)return{};const f=EG(d),m={x:n,y:r},p=K4(i),y=W4(p),v=await a.getDimensions(u),x=p==="y",b=x?"top":"left",S=x?"bottom":"right",_=x?"clientHeight":"clientWidth",j=s.reference[y]+s.reference[p]-m[p]-s.floating[y],C=m[p]-s.reference[p],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let M=O?O[_]:0;(!M||!await(a.isElement==null?void 0:a.isElement(O)))&&(M=l.floating[_]||s.floating[y]);const A=j/2-C/2,P=M/2-v[y]/2-1,B=Qh(f[b],P),R=Qh(f[S],P),F=B,q=M-v[y]-R,z=M/2-v[y]/2+A,G=gP(F,z,q),X=!c.arrow&&Cy(i)!=null&&z!==G&&s.reference[y]/2-(z<F?B:R)-v[y]/2<0,U=X?z<F?z-F:z-q:0;return{[p]:m[p]+U,data:{[p]:G,centerOffset:z-G-U,...X&&{alignmentOffset:U}},reset:X}}}),Yfe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=bf(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=wf(i),S=Yu(l),_=wf(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(_||!v?[rN(l)]:zfe(l)),O=y!=="none";!m&&O&&C.push(...Vfe(l,v,y,j));const M=[l,...C],A=await $b(e,x),P=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(A[b]),f){const z=$fe(i,a,j);P.push(A[z[0]],A[z[1]])}if(B=[...B,{placement:i,overflows:P}],!P.every(z=>z<=0)){var R,F;const z=(((R=s.flip)==null?void 0:R.index)||0)+1,G=M[z];if(G&&(!(f==="alignment"?S!==Yu(G):!1)||B.every(W=>Yu(W.placement)===S?W.overflows[0]>0:!0)))return{data:{index:z,overflows:B},reset:{placement:G}};let X=(F=B.filter(U=>U.overflows[0]<=0).sort((U,W)=>U.overflows[1]-W.overflows[1])[0])==null?void 0:F.placement;if(!X)switch(p){case"bestFit":{var q;const U=(q=B.filter(W=>{if(O){const Y=Yu(W.placement);return Y===S||Y==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Y=>Y>0).reduce((Y,ie)=>Y+ie,0)]).sort((W,Y)=>W[1]-Y[1])[0])==null?void 0:q[0];U&&(X=U);break}case"initialPlacement":X=l;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function iF(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sF(t){return Dfe.some(e=>t[e]>=0)}const Xfe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=bf(t,e);switch(r){case"referenceHidden":{const s=await $b(e,{...i,elementContext:"reference"}),a=iF(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:sF(a)}}}case"escaped":{const s=await $b(e,{...i,altBoundary:!0}),a=iF(s,n.floating);return{data:{escapedOffsets:a,escaped:sF(a)}}}default:return{}}}}},_G=new Set(["left","top"]);async function Zfe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=wf(n),l=Cy(n),c=Yu(n)==="y",u=_G.has(a)?-1:1,d=s&&c?-1:1,f=bf(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const Qfe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await Zfe(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},Jfe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:b,y:S}=x;return{x:b,y:S}}},...c}=bf(t,e),u={x:n,y:r},d=await $b(e,c),f=Yu(wf(i)),m=V4(f);let p=u[m],y=u[f];if(s){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",S=p+d[x],_=p-d[b];p=gP(S,p,_)}if(a){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",S=y+d[x],_=y-d[b];y=gP(S,y,_)}const v=l.fn({...e,[m]:p,[f]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:s,[f]:a}}}}}},ehe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bf(t,e),d={x:n,y:r},f=Yu(i),m=V4(f);let p=d[m],y=d[f];const v=bf(l,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const _=m==="y"?"height":"width",j=s.reference[m]-s.floating[_]+x.mainAxis,C=s.reference[m]+s.reference[_]-x.mainAxis;p<j?p=j:p>C&&(p=C)}if(u){var b,S;const _=m==="y"?"width":"height",j=_G.has(wf(i)),C=s.reference[f]-s.floating[_]+(j&&((b=a.offset)==null?void 0:b[f])||0)+(j?0:x.crossAxis),O=s.reference[f]+s.reference[_]+(j?0:((S=a.offset)==null?void 0:S[f])||0)-(j?x.crossAxis:0);y<C?y=C:y>O&&(y=O)}return{[m]:p,[f]:y}}}},the=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...u}=bf(t,e),d=await $b(e,u),f=wf(i),m=Cy(i),p=Yu(i)==="y",{width:y,height:v}=s.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=m==="end"?"top":"bottom");const S=v-d.top-d.bottom,_=y-d.left-d.right,j=Qh(v-d[x],S),C=Qh(y-d[b],_),O=!e.middlewareData.shift;let M=j,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=S),O&&!m){const B=Al(d.left,0),R=Al(d.right,0),F=Al(d.top,0),q=Al(d.bottom,0);p?A=y-2*(B!==0||R!==0?B+R:Al(d.left,d.right)):M=v-2*(F!==0||q!==0?F+q:Al(d.top,d.bottom))}await c({...e,availableWidth:A,availableHeight:M});const P=await a.getDimensions(l.floating);return y!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function PE(){return typeof window<"u"}function ky(t){return jG(t)?(t.nodeName||"").toLowerCase():"#document"}function Rl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gd(t){var e;return(e=(jG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jG(t){return PE()?t instanceof Node||t instanceof Rl(t).Node:!1}function uu(t){return PE()?t instanceof Element||t instanceof Rl(t).Element:!1}function cd(t){return PE()?t instanceof HTMLElement||t instanceof Rl(t).HTMLElement:!1}function aF(t){return!PE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rl(t).ShadowRoot}const nhe=new Set(["inline","contents"]);function i1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=du(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nhe.has(i)}const rhe=new Set(["table","td","th"]);function ihe(t){return rhe.has(ky(t))}const she=[":popover-open",":modal"];function ME(t){return she.some(e=>{try{return t.matches(e)}catch{return!1}})}const ahe=["transform","translate","scale","rotate","perspective"],ohe=["transform","translate","scale","rotate","perspective","filter"],lhe=["paint","layout","strict","content"];function G4(t){const e=Y4(),n=uu(t)?du(t):t;return ahe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ohe.some(r=>(n.willChange||"").includes(r))||lhe.some(r=>(n.contain||"").includes(r))}function che(t){let e=Jh(t);for(;cd(e)&&!Lv(e);){if(G4(e))return e;if(ME(e))return null;e=Jh(e)}return null}function Y4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uhe=new Set(["html","body","#document"]);function Lv(t){return uhe.has(ky(t))}function du(t){return Rl(t).getComputedStyle(t)}function RE(t){return uu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jh(t){if(ky(t)==="html")return t;const e=t.assignedSlot||t.parentNode||aF(t)&&t.host||gd(t);return aF(e)?e.host:e}function AG(t){const e=Jh(t);return Lv(e)?t.ownerDocument?t.ownerDocument.body:t.body:cd(e)&&i1(e)?e:AG(e)}function zb(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=AG(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Rl(i);if(s){const l=yP(a);return e.concat(a,a.visualViewport||[],i1(i)?i:[],l&&n?zb(l):[])}return e.concat(i,zb(i,[],n))}function yP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CG(t){const e=du(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=cd(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=nN(n)!==s||nN(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function X4(t){return uu(t)?t:t.contextElement}function bv(t){const e=X4(t);if(!cd(e))return nd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=CG(e);let a=(s?nN(n.width):n.width)/r,l=(s?nN(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const dhe=nd(0);function kG(t){const e=Rl(t);return!Y4()||!e.visualViewport?dhe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fhe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rl(t)?!1:e}function Cm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=X4(t);let a=nd(1);e&&(r?uu(r)&&(a=bv(r)):a=bv(t));const l=fhe(s,n,r)?kG(s):nd(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const m=Rl(s),p=r&&uu(r)?Rl(r):r;let y=m,v=yP(y);for(;v&&r&&p!==y;){const x=bv(v),b=v.getBoundingClientRect(),S=du(v),_=b.left+(v.clientLeft+parseFloat(S.paddingLeft))*x.x,j=b.top+(v.clientTop+parseFloat(S.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=_,u+=j,y=Rl(v),v=yP(y)}}return iN({width:d,height:f,x:c,y:u})}function IE(t,e){const n=RE(t).scrollLeft;return e?e.left+n:Cm(gd(t)).left+n}function TG(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-IE(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function hhe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=gd(r),l=e?ME(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=nd(1);const d=nd(0),f=cd(r);if((f||!f&&!s)&&((ky(r)!=="body"||i1(a))&&(c=RE(r)),cd(r))){const p=Cm(r);u=bv(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=a&&!f&&!s?TG(a,c):nd(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function phe(t){return Array.from(t.getClientRects())}function mhe(t){const e=gd(t),n=RE(t),r=t.ownerDocument.body,i=Al(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Al(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+IE(t);const l=-n.scrollTop;return du(r).direction==="rtl"&&(a+=Al(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const oF=25;function ghe(t,e){const n=Rl(t),r=gd(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=Y4();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=IE(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-p);y<=oF&&(s-=y)}else u<=oF&&(s+=u);return{width:s,height:a,x:l,y:c}}const vhe=new Set(["absolute","fixed"]);function yhe(t,e){const n=Cm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=cd(t)?bv(t):nd(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function lF(t,e,n){let r;if(e==="viewport")r=ghe(t,n);else if(e==="document")r=mhe(gd(t));else if(uu(e))r=yhe(e,n);else{const i=kG(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return iN(r)}function OG(t,e){const n=Jh(t);return n===e||!uu(n)||Lv(n)?!1:du(n).position==="fixed"||OG(n,e)}function xhe(t,e){const n=e.get(t);if(n)return n;let r=zb(t,[],!1).filter(l=>uu(l)&&ky(l)!=="body"),i=null;const s=du(t).position==="fixed";let a=s?Jh(t):t;for(;uu(a)&&!Lv(a);){const l=du(a),c=G4(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&vhe.has(i.position)||i1(a)&&!c&&OG(t,a))?r=r.filter(d=>d!==a):i=l,a=Jh(a)}return e.set(t,r),r}function bhe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?ME(e)?[]:xhe(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=lF(e,d,i);return u.top=Al(f.top,u.top),u.right=Qh(f.right,u.right),u.bottom=Qh(f.bottom,u.bottom),u.left=Al(f.left,u.left),u},lF(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function whe(t){const{width:e,height:n}=CG(t);return{width:e,height:n}}function Nhe(t,e,n){const r=cd(e),i=gd(e),s=n==="fixed",a=Cm(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=nd(0);function u(){c.x=IE(i)}if(r||!r&&!s)if((ky(e)!=="body"||i1(i))&&(l=RE(e)),r){const p=Cm(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?TG(i,l):nd(0),f=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function wA(t){return du(t).position==="static"}function cF(t,e){if(!cd(t)||du(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gd(t)===n&&(n=n.ownerDocument.body),n}function PG(t,e){const n=Rl(t);if(ME(t))return n;if(!cd(t)){let i=Jh(t);for(;i&&!Lv(i);){if(uu(i)&&!wA(i))return i;i=Jh(i)}return n}let r=cF(t,e);for(;r&&ihe(r)&&wA(r);)r=cF(r,e);return r&&Lv(r)&&wA(r)&&!G4(r)?n:r||che(t)||n}const She=async function(t){const e=this.getOffsetParent||PG,n=this.getDimensions,r=await n(t.floating);return{reference:Nhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ehe(t){return du(t).direction==="rtl"}const _he={convertOffsetParentRelativeRectToViewportRelativeRect:hhe,getDocumentElement:gd,getClippingRect:bhe,getOffsetParent:PG,getElementRects:She,getClientRects:phe,getDimensions:whe,getScale:bv,isElement:uu,isRTL:Ehe};function MG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jhe(t,e){let n=null,r;const i=gd(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const y=ww(f),v=ww(i.clientWidth-(d+m)),x=ww(i.clientHeight-(f+p)),b=ww(d),_={rootMargin:-y+"px "+-v+"px "+-x+"px "+-b+"px",threshold:Al(0,Qh(1,c))||1};let j=!0;function C(O){const M=O[0].intersectionRatio;if(M!==c){if(!j)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!MG(u,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(C,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,_)}n.observe(t)}return a(!0),s}function Ahe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=X4(t),d=i||s?[...u?zb(u):[],...zb(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&l?jhe(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(b=>{let[S]=b;S&&S.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,v=c?Cm(t):null;c&&x();function x(){const b=Cm(t);v&&!MG(v,b)&&n(),v=b,y=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),f?.(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Che=Qfe,khe=Jfe,The=Yfe,Ohe=the,Phe=Xfe,uF=Gfe,Mhe=ehe,Rhe=(t,e,n)=>{const r=new Map,i={platform:_he,...n},s={...i.platform,_c:r};return Kfe(t,e,{...i,platform:s})};var Ihe=typeof document<"u",Dhe=function(){},S2=Ihe?N.useLayoutEffect:Dhe;function sN(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sN(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!sN(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function RG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dF(t,e){const n=RG(t);return Math.round(e*n)/n}function NA(t){const e=N.useRef(t);return S2(()=>{e.current=t}),e}function Lhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=N.useState(r);sN(m,r)||p(r);const[y,v]=N.useState(null),[x,b]=N.useState(null),S=N.useCallback(W=>{W!==O.current&&(O.current=W,v(W))},[]),_=N.useCallback(W=>{W!==M.current&&(M.current=W,b(W))},[]),j=s||y,C=a||x,O=N.useRef(null),M=N.useRef(null),A=N.useRef(d),P=c!=null,B=NA(c),R=NA(i),F=NA(u),q=N.useCallback(()=>{if(!O.current||!M.current)return;const W={placement:e,strategy:n,middleware:m};R.current&&(W.platform=R.current),Rhe(O.current,M.current,W).then(Y=>{const ie={...Y,isPositioned:F.current!==!1};z.current&&!sN(A.current,ie)&&(A.current=ie,ou.flushSync(()=>{f(ie)}))})},[m,e,n,R,F]);S2(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const z=N.useRef(!1);S2(()=>(z.current=!0,()=>{z.current=!1}),[]),S2(()=>{if(j&&(O.current=j),C&&(M.current=C),j&&C){if(B.current)return B.current(j,C,q);q()}},[j,C,q,B,P]);const G=N.useMemo(()=>({reference:O,floating:M,setReference:S,setFloating:_}),[S,_]),X=N.useMemo(()=>({reference:j,floating:C}),[j,C]),U=N.useMemo(()=>{const W={position:n,left:0,top:0};if(!X.floating)return W;const Y=dF(X.floating,d.x),ie=dF(X.floating,d.y);return l?{...W,transform:"translate("+Y+"px, "+ie+"px)",...RG(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:ie}},[n,l,X.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:q,refs:G,elements:X,floatingStyles:U}),[d,q,G,X,U])}const Fhe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?uF({element:r.current,padding:i}).fn(n):{}:r?uF({element:r,padding:i}).fn(n):{}}}},Bhe=(t,e)=>({...Che(t),options:[t,e]}),$he=(t,e)=>({...khe(t),options:[t,e]}),zhe=(t,e)=>({...Mhe(t),options:[t,e]}),qhe=(t,e)=>({...The(t),options:[t,e]}),Uhe=(t,e)=>({...Ohe(t),options:[t,e]}),Hhe=(t,e)=>({...Phe(t),options:[t,e]}),Vhe=(t,e)=>({...Fhe(t),options:[t,e]});var Whe="Arrow",IG=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return o.jsx(Bt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});IG.displayName=Whe;var Khe=IG;function DE(t){const[e,n]=N.useState(void 0);return Es(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Z4="Popper",[DG,op]=wa(Z4),[Ghe,LG]=DG(Z4),FG=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return o.jsx(Ghe,{scope:e,anchor:r,onAnchorChange:i,children:n})};FG.displayName=Z4;var BG="PopperAnchor",$G=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=LG(BG,n),a=N.useRef(null),l=kn(e,a),c=N.useRef(null);return N.useEffect(()=>{const u=c.current;c.current=r?.current||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:o.jsx(Bt.div,{...i,ref:l})});$G.displayName=BG;var Q4="PopperContent",[Yhe,Xhe]=DG(Q4),zG=N.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...v}=t,x=LG(Q4,n),[b,S]=N.useState(null),_=kn(e,pe=>S(pe)),[j,C]=N.useState(null),O=DE(j),M=O?.width??0,A=O?.height??0,P=r+(s!=="center"?"-"+s:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],F=R.length>0,q={padding:B,boundary:R.filter(Qhe),altBoundary:F},{refs:z,floatingStyles:G,placement:X,isPositioned:U,middlewareData:W}=Lhe({strategy:"fixed",placement:P,whileElementsMounted:(...pe)=>Ahe(...pe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Bhe({mainAxis:i+A,alignmentAxis:a}),c&&$he({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zhe():void 0,...q}),c&&qhe({...q}),Uhe({...q,apply:({elements:pe,rects:ve,availableWidth:de,availableHeight:be})=>{const{width:je,height:ae}=ve.reference,Oe=pe.floating.style;Oe.setProperty("--radix-popper-available-width",`${de}px`),Oe.setProperty("--radix-popper-available-height",`${be}px`),Oe.setProperty("--radix-popper-anchor-width",`${je}px`),Oe.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),j&&Vhe({element:j,padding:l}),Jhe({arrowWidth:M,arrowHeight:A}),m&&Hhe({strategy:"referenceHidden",...q})]}),[Y,ie]=HG(X),Z=hs(y);Es(()=>{U&&Z?.()},[U,Z]);const I=W.arrow?.x,V=W.arrow?.y,Q=W.arrow?.centerOffset!==0,[re,fe]=N.useState();return Es(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:U?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Yhe,{scope:n,placedSide:Y,onArrowChange:C,arrowX:I,arrowY:V,shouldHideArrow:Q,children:o.jsx(Bt.div,{"data-side":Y,"data-align":ie,...v,ref:_,style:{...v.style,animation:U?void 0:"none"}})})})});zG.displayName=Q4;var qG="PopperArrow",Zhe={top:"bottom",right:"left",bottom:"top",left:"right"},UG=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Xhe(qG,r),a=Zhe[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(Khe,{...i,ref:n,style:{...i.style,display:"block"}})})});UG.displayName=qG;function Qhe(t){return t!==null}var Jhe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=HG(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(i.arrow?.x??0)+l/2,p=(i.arrow?.y??0)+c/2;let y="",v="";return u==="bottom"?(y=a?f:`${m}px`,v=`${-c}px`):u==="top"?(y=a?f:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=a?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=a?f:`${p}px`),{data:{x:y,y:v}}}});function HG(t){const[e,n="center"]=t.split("-");return[e,n]}var LE=FG,s1=$G,FE=zG,BE=UG,[$E]=wa("Tooltip",[op]),zE=op(),VG="TooltipProvider",epe=700,xP="tooltip.open",[tpe,J4]=$E(VG),WG=t=>{const{__scopeTooltip:e,delayDuration:n=epe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(tpe,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};WG.displayName=VG;var qb="Tooltip",[npe,qE]=$E(qb),KG=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=t,c=J4(qb,t.__scopeTooltip),u=zE(e),[d,f]=N.useState(null),m=ya(),p=N.useRef(0),y=a??c.disableHoverableContent,v=l??c.delayDuration,x=N.useRef(!1),[b,S]=xc({prop:r,defaultProp:i??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(xP))):c.onClose(),s?.(M)},caller:qb}),_=N.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),j=N.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,S(!0)},[S]),C=N.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S(!1)},[S]),O=N.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,S(!0),p.current=0},v)},[v,S]);return N.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(LE,{...u,children:o.jsx(npe,{scope:e,contentId:m,open:b,stateAttribute:_,trigger:d,onTriggerChange:f,onTriggerEnter:N.useCallback(()=>{c.isOpenDelayedRef.current?O():j()},[c.isOpenDelayedRef,O,j]),onTriggerLeave:N.useCallback(()=>{y?C():(window.clearTimeout(p.current),p.current=0)},[C,y]),onOpen:j,onClose:C,disableHoverableContent:y,children:n})})};KG.displayName=qb;var bP="TooltipTrigger",GG=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=qE(bP,n),s=J4(bP,n),a=zE(n),l=N.useRef(null),c=kn(e,l,i.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(s1,{asChild:!0,...a,children:o.jsx(Bt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:wt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:wt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:wt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:wt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:wt(t.onBlur,i.onClose),onClick:wt(t.onClick,i.onClose)})})});GG.displayName=bP;var rpe="TooltipPortal",[gYe,ipe]=$E(rpe,{forceMount:void 0}),Fv="TooltipContent",YG=N.forwardRef((t,e)=>{const n=ipe(Fv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=qE(Fv,t.__scopeTooltip);return o.jsx(Na,{present:r||a.open,children:a.disableHoverableContent?o.jsx(XG,{side:i,...s,ref:e}):o.jsx(spe,{side:i,...s,ref:e})})}),spe=N.forwardRef((t,e)=>{const n=qE(Fv,t.__scopeTooltip),r=J4(Fv,t.__scopeTooltip),i=N.useRef(null),s=kn(e,i),[a,l]=N.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,m=N.useCallback(()=>{l(null),f(!1)},[f]),p=N.useCallback((y,v)=>{const x=y.currentTarget,b={x:y.clientX,y:y.clientY},S=upe(b,x.getBoundingClientRect()),_=dpe(b,S),j=fpe(v.getBoundingClientRect()),C=ppe([..._,...j]);l(C),f(!0)},[f]);return N.useEffect(()=>()=>m(),[m]),N.useEffect(()=>{if(c&&d){const y=x=>p(x,d),v=x=>p(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[c,d,p,m]),N.useEffect(()=>{if(a){const y=v=>{const x=v.target,b={x:v.clientX,y:v.clientY},S=c?.contains(x)||d?.contains(x),_=!hpe(b,a);S?m():_&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,m]),o.jsx(XG,{...t,ref:s})}),[ape,ope]=$E(qb,{isInside:!1}),lpe=yK("TooltipContent"),XG=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,c=qE(Fv,n),u=zE(n),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(xP,d),()=>document.removeEventListener(xP,d)),[d]),N.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(FE,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(lpe,{children:r}),o.jsx(ape,{scope:n,isInside:!0,children:o.jsx(zue,{id:c.contentId,role:"tooltip",children:i||r})})]})})});YG.displayName=Fv;var ZG="TooltipArrow",cpe=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zE(n);return ope(ZG,n).isInside?null:o.jsx(BE,{...i,...r,ref:e})});cpe.displayName=ZG;function upe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dpe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fpe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function hpe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],c=e[a],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function ppe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mpe(e)}function mpe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gpe=WG,vpe=KG,ype=GG,QG=YG;const JG=gpe,eY=vpe,tY=ype,eI=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(QG,{ref:r,sideOffset:e,className:pt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));eI.displayName=QG.displayName;const xpe={theme:"light",setTheme:()=>null,toggleTheme:()=>null},nY=N.createContext(xpe);function bpe({children:t,defaultTheme:e="light",...n}){const[r,i]=N.useState(()=>localStorage.getItem("theme")||e);N.useEffect(()=>{const l=document.documentElement;l.classList.remove("light","dark"),l.classList.add(r),localStorage.setItem("theme",r)},[r]);const a={theme:r,setTheme:i,toggleTheme:()=>{i(r==="light"?"dark":"light")}};return o.jsx(nY.Provider,{...n,value:a,children:t})}const wpe=()=>{const t=N.useContext(nY);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},rY=N.createContext(void 0);function Npe({children:t}){const e=Xm(),{data:n,isLoading:r}=rn({queryKey:["/api/auth/profile"],queryFn:mK({on401:"returnNull"}),retry:!1,enabled:!0}),i=hn({mutationFn:async({username:d,password:f})=>await Jt("POST","/api/auth/login",{username:d,password:f}),onSuccess:d=>{localStorage.setItem("token",d.token),e.setQueryData(["/api/auth/profile"],d.user)}}),s=hn({mutationFn:async({username:d,email:f,password:m,role:p})=>await Jt("POST","/api/auth/register",{username:d,email:f,password:m,role:p}),onSuccess:d=>{localStorage.setItem("token",d.token),e.setQueryData(["/api/auth/profile"],d.user)}}),a=hn({mutationFn:async()=>{await Jt("POST","/api/auth/logout",{})},onSuccess:()=>{localStorage.removeItem("token"),e.setQueryData(["/api/auth/profile"],null),e.clear()}}),l=async(d,f)=>{await i.mutateAsync({username:d,password:f})},c=async(d,f,m,p)=>{await s.mutateAsync({username:d,email:f,password:m,role:p})},u=async()=>{await a.mutateAsync()};return o.jsx(rY.Provider,{value:{user:n??null,isLoading:r,login:l,register:c,logout:u},children:t})}function Jm(){const t=N.useContext(rY);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const ud=Object.create(null);ud.open="0";ud.close="1";ud.ping="2";ud.pong="3";ud.message="4";ud.upgrade="5";ud.noop="6";const E2=Object.create(null);Object.keys(ud).forEach(t=>{E2[ud[t]]=t});const wP={type:"error",data:"parser error"},iY=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sY=typeof ArrayBuffer=="function",aY=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,tI=({type:t,data:e},n,r)=>iY&&e instanceof Blob?n?r(e):fF(e,r):sY&&(e instanceof ArrayBuffer||aY(e))?n?r(e):fF(new Blob([e]),r):r(ud[t]+(e||"")),fF=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function hF(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let SA;function Spe(t,e){if(iY&&t.data instanceof Blob)return t.data.arrayBuffer().then(hF).then(e);if(sY&&(t.data instanceof ArrayBuffer||aY(t.data)))return e(hF(t.data));tI(t,!1,n=>{SA||(SA=new TextEncoder),e(SA.encode(n))})}const pF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<pF.length;t++)Yx[pF.charCodeAt(t)]=t;const Epe=t=>{let e=t.length*.75,n=t.length,r,i=0,s,a,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)s=Yx[t.charCodeAt(r)],a=Yx[t.charCodeAt(r+1)],l=Yx[t.charCodeAt(r+2)],c=Yx[t.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},_pe=typeof ArrayBuffer=="function",nI=(t,e)=>{if(typeof t!="string")return{type:"message",data:oY(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:jpe(t.substring(1),e)}:E2[n]?t.length>1?{type:E2[n],data:t.substring(1)}:{type:E2[n]}:wP},jpe=(t,e)=>{if(_pe){const n=Epe(t);return oY(n,e)}else return{base64:!0,data:t}},oY=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},lY="",Ape=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,a)=>{tI(s,!1,l=>{r[a]=l,++i===n&&e(r.join(lY))})})},Cpe=(t,e)=>{const n=t.split(lY),r=[];for(let i=0;i<n.length;i++){const s=nI(n[i],e);if(r.push(s),s.type==="error")break}return r};function kpe(){return new TransformStream({transform(t,e){Spe(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let EA;function Nw(t){return t.reduce((e,n)=>e+n.length,0)}function Sw(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Tpe(t,e){EA||(EA=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(r===0){if(Nw(n)<1)break;const c=Sw(n,1);s=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Nw(n)<2)break;const c=Sw(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Nw(n)<8)break;const c=Sw(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(wP);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Nw(n)<i)break;const c=Sw(n,i);l.enqueue(nI(s?c:EA.decode(c),e)),r=0}if(i===0||i>t){l.enqueue(wP);break}}}})}const cY=4;function Is(t){if(t)return Ope(t)}function Ope(t){for(var e in Is.prototype)t[e]=Is.prototype[e];return t}Is.prototype.on=Is.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Is.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Is.prototype.off=Is.prototype.removeListener=Is.prototype.removeAllListeners=Is.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Is.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Is.prototype.emitReserved=Is.prototype.emit;Is.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Is.prototype.hasListeners=function(t){return!!this.listeners(t).length};const UE=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),dc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ppe="arraybuffer";function uY(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Mpe=dc.setTimeout,Rpe=dc.clearTimeout;function HE(t,e){e.useNativeTimers?(t.setTimeoutFn=Mpe.bind(dc),t.clearTimeoutFn=Rpe.bind(dc)):(t.setTimeoutFn=dc.setTimeout.bind(dc),t.clearTimeoutFn=dc.clearTimeout.bind(dc))}const Ipe=1.33;function Dpe(t){return typeof t=="string"?Lpe(t):Math.ceil((t.byteLength||t.size)*Ipe)}function Lpe(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function dY(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Fpe(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Bpe(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class $pe extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class rI extends Is{constructor(e){super(),this.writable=!1,HE(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new $pe(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=nI(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Fpe(e);return n.length?"?"+n:""}}class zpe extends rI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Cpe(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ape(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=dY()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let fY=!1;try{fY=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const qpe=fY;function Upe(){}class Hpe extends zpe{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class rd extends Is{constructor(e,n,r){super(),this.createRequest=e,HE(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=uY(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=rd.requestsCount++,rd.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Upe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete rd.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}rd.requestsCount=0;rd.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mF);else if(typeof addEventListener=="function"){const t="onpagehide"in dc?"pagehide":"unload";addEventListener(t,mF,!1)}}function mF(){for(let t in rd.requests)rd.requests.hasOwnProperty(t)&&rd.requests[t].abort()}const Vpe=(function(){const t=hY({xdomain:!1});return t&&t.responseType!==null})();class Wpe extends Hpe{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Vpe&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new rd(hY,this.uri(),e)}}function hY(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||qpe))return new XMLHttpRequest}catch{}if(!e)try{return new dc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const pY=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Kpe extends rI{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=pY?{}:uY(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;tI(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&UE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=dY()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const _A=dc.WebSocket||dc.MozWebSocket;let Gpe=class extends Kpe{createSocket(e,n,r){return pY?new _A(e,n,r):n?new _A(e,n):new _A(e)}doWrite(e,n){this.ws.send(n)}};class Ype extends rI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Tpe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=kpe();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&UE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Xpe={websocket:Gpe,webtransport:Ype,polling:Wpe},Zpe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qpe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function NP(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Zpe.exec(t||""),s={},a=14;for(;a--;)s[Qpe[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Jpe(s,s.path),s.queryKey=eme(s,s.query),s}function Jpe(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function eme(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const SP=typeof addEventListener=="function"&&typeof removeEventListener=="function",_2=[];SP&&addEventListener("offline",()=>{_2.forEach(t=>t())},!1);class $h extends Is{constructor(e,n){if(super(),this.binaryType=Ppe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=NP(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=NP(n.host).host);HE(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Bpe(this.opts.query)),SP&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=cY,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&$h.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",$h.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Dpe(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,UE(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if($h.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),SP&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=_2.indexOf(this._offlineEventListener);r!==-1&&_2.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}$h.protocol=cY;class tme extends $h{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;$h.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;$h.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const a=f=>{const m=new Error("probe error: "+f);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function l(){a("transport closed")}function c(){a("socket closed")}function u(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",i),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let nme=class extends tme{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Xpe[i]).filter(i=>!!i)),super(e,r)}};function rme(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=NP(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const ime=typeof ArrayBuffer=="function",sme=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,mY=Object.prototype.toString,ame=typeof Blob=="function"||typeof Blob<"u"&&mY.call(Blob)==="[object BlobConstructor]",ome=typeof File=="function"||typeof File<"u"&&mY.call(File)==="[object FileConstructor]";function iI(t){return ime&&(t instanceof ArrayBuffer||sme(t))||ame&&t instanceof Blob||ome&&t instanceof File}function j2(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(j2(t[n]))return!0;return!1}if(iI(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return j2(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&j2(t[n]))return!0;return!1}function lme(t){const e=[],n=t.data,r=t;return r.data=EP(n,e),r.attachments=e.length,{packet:r,buffers:e}}function EP(t,e){if(!t)return t;if(iI(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=EP(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=EP(t[r],e));return n}return t}function cme(t,e){return t.data=_P(t.data,e),delete t.attachments,t}function _P(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=_P(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=_P(t[n],e));return t}const ume=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dme=5;var gr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(gr||(gr={}));class fme{constructor(e){this.replacer=e}encode(e){return(e.type===gr.EVENT||e.type===gr.ACK)&&j2(e)?this.encodeAsBinary({type:e.type===gr.EVENT?gr.BINARY_EVENT:gr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===gr.BINARY_EVENT||e.type===gr.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=lme(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function gF(t){return Object.prototype.toString.call(t)==="[object Object]"}class sI extends Is{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===gr.BINARY_EVENT;r||n.type===gr.BINARY_ACK?(n.type=r?gr.EVENT:gr.ACK,this.reconstructor=new hme(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(iI(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(gr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===gr.BINARY_EVENT||r.type===gr.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(s,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(sI.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case gr.CONNECT:return gF(n);case gr.DISCONNECT:return n===void 0;case gr.CONNECT_ERROR:return typeof n=="string"||gF(n);case gr.EVENT:case gr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ume.indexOf(n[0])===-1);case gr.ACK:case gr.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hme{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=cme(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pme=Object.freeze(Object.defineProperty({__proto__:null,Decoder:sI,Encoder:fme,get PacketType(){return gr},protocol:dme},Symbol.toStringTag,{value:"Module"}));function Jc(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const mme=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gY extends Is{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Jc(e,"open",this.onopen.bind(this)),Jc(e,"packet",this.onpacket.bind(this)),Jc(e,"error",this.onerror.bind(this)),Jc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(mme.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:gr.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),a.id=d}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),a=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(a,l)=>a?i(a):r(l);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:gr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case gr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gr.EVENT:case gr.BINARY_EVENT:this.onevent(e);break;case gr.ACK:case gr.BINARY_ACK:this.onack(e);break;case gr.DISCONNECT:this.ondisconnect();break;case gr.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:gr.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Ty(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ty.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Ty.prototype.reset=function(){this.attempts=0};Ty.prototype.setMin=function(t){this.ms=t};Ty.prototype.setMax=function(t){this.max=t};Ty.prototype.setJitter=function(t){this.jitter=t};class jP extends Is{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,HE(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ty({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||pme;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new nme(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Jc(n,"open",function(){r.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=Jc(n,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Jc(e,"ping",this.onping.bind(this)),Jc(e,"data",this.ondata.bind(this)),Jc(e,"error",this.onerror.bind(this)),Jc(e,"close",this.onclose.bind(this)),Jc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){UE(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new gY(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Tx={};function A2(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=rme(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=Tx[i]&&s in Tx[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return l?c=new jP(r,e):(Tx[i]||(Tx[i]=new jP(r,e)),c=Tx[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(A2,{Manager:jP,Socket:gY,io:A2,connect:A2});const vY=N.createContext({socket:null,connected:!1,onlineUsers:0}),yY=()=>N.useContext(vY);function gme({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!1),[s,a]=N.useState(0),{toast:l}=Pr(),[c,u]=N.useState(localStorage.getItem("token"));return N.useEffect(()=>{const d=()=>{const m=localStorage.getItem("token");u(m)};window.addEventListener("storage",d);const f=setInterval(d,1e3);return()=>{window.removeEventListener("storage",d),clearInterval(f)}},[]),N.useEffect(()=>{if(!c){e&&(e.close(),n(null),i(!1),a(0));return}const d=A2(window.location.origin,{auth:{token:c}});return d.on("connect",()=>{console.log("WebSocket conectado"),i(!0),d.emit("get:online-count")}),d.on("disconnect",f=>{console.log(`WebSocket desconectado - Razn: ${f}`),i(!1),f==="io client disconnect"||f==="io server disconnect"||f==="ping timeout"||a(0)}),d.on("heartbeat",f=>{console.log(" Heartbeat recibido:",f),d.emit("heartbeat-response",{timestamp:Date.now()})}),d.on("online-count",f=>{console.log(`Usuarios conectados: ${f}`),a(f)}),d.on("notification",f=>{console.log("Notificacin recibida:",f),l({title:f.title,description:f.message,variant:f.action==="deleted"?"destructive":"default"})}),d.on("user:connected",()=>{console.log("Usuario conectado")}),d.on("user:disconnected",()=>{console.log("Usuario desconectado")}),d.on("session:new",f=>{console.log("Nueva sesin detectada:",f),l({title:"Nueva Sesin",description:`Usuario ${f.username} se conect desde ${f.ip}`,variant:"default"})}),d.on("session:update",f=>{console.log("Sesin actualizada:",f)}),d.on("sessions:terminated",f=>{console.log("Sesiones terminadas:",f),l({title:"Sesiones Terminadas",description:`Se terminaron ${f.count} sesiones del usuario`,variant:"default"})}),d.on("session:terminated",f=>{console.log("Sesin terminada por administrador:",f),l({title:"Sesin Terminada",description:f.message||"Tu sesin ha sido terminada por un administrador",variant:"destructive"}),localStorage.removeItem("token"),window.location.href="/"}),d.on("connect_error",f=>{console.error("Error de conexin WebSocket:",f),i(!1),a(0)}),n(d),()=>{d.close()}},[c,l]),o.jsx(vY.Provider,{value:{socket:e,connected:r,onlineUsers:s},children:t})}const jA=768;function vme(){const[t,e]=N.useState(void 0);return N.useEffect(()=>{const n=window.matchMedia(`(max-width: ${jA-1}px)`),r=()=>{e(window.innerWidth<jA)};return n.addEventListener("change",r),e(window.innerWidth<jA),()=>n.removeEventListener("change",r)},[]),!!t}const Ub=Qm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Se=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?jE:"button";return o.jsx(a,{className:pt(Ub({variant:e,size:n,className:t})),ref:s,...i})});Se.displayName="Button";const Ge=N.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:pt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ge.displayName="Input";var yme="Separator",vF="horizontal",xme=["horizontal","vertical"],xY=N.forwardRef((t,e)=>{const{decorative:n,orientation:r=vF,...i}=t,s=bme(r)?r:vF,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(Bt.div,{"data-orientation":s,...l,...i,ref:e})});xY.displayName=yme;function bme(t){return xme.includes(t)}var bY=xY;const eo=N.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>o.jsx(bY,{ref:i,decorative:n,orientation:e,className:pt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));eo.displayName=bY.displayName;var AA="focusScope.autoFocusOnMount",CA="focusScope.autoFocusOnUnmount",yF={bubbles:!1,cancelable:!0},wme="FocusScope",a1=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=N.useState(null),u=hs(i),d=hs(s),f=N.useRef(null),m=kn(e,v=>c(v)),p=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let v=function(_){if(p.paused||!l)return;const j=_.target;l.contains(j)?f.current=j:gh(f.current,{select:!0})},x=function(_){if(p.paused||!l)return;const j=_.relatedTarget;j!==null&&(l.contains(j)||gh(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&gh(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const S=new MutationObserver(b);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),S.disconnect()}}},[r,l,p.paused]),N.useEffect(()=>{if(l){bF.add(p);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(AA,yF);l.addEventListener(AA,u),l.dispatchEvent(b),b.defaultPrevented||(Nme(Ame(wY(l)),{select:!0}),document.activeElement===v&&gh(l))}return()=>{l.removeEventListener(AA,u),setTimeout(()=>{const b=new CustomEvent(CA,yF);l.addEventListener(CA,d),l.dispatchEvent(b),b.defaultPrevented||gh(v??document.body,{select:!0}),l.removeEventListener(CA,d),bF.remove(p)},0)}}},[l,u,d,p]);const y=N.useCallback(v=>{if(!n&&!r||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(x&&b){const S=v.currentTarget,[_,j]=Sme(S);_&&j?!v.shiftKey&&b===j?(v.preventDefault(),n&&gh(_,{select:!0})):v.shiftKey&&b===_&&(v.preventDefault(),n&&gh(j,{select:!0})):b===S&&v.preventDefault()}},[n,r,p.paused]);return o.jsx(Bt.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});a1.displayName=wme;function Nme(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gh(r,{select:e}),document.activeElement!==n)return}function Sme(t){const e=wY(t),n=xF(e,t),r=xF(e.reverse(),t);return[n,r]}function wY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xF(t,e){for(const n of t)if(!Eme(n,{upTo:e}))return n}function Eme(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _me(t){return t instanceof HTMLInputElement&&"select"in t}function gh(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_me(t)&&e&&t.select()}}var bF=jme();function jme(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=wF(t,e),t.unshift(e)},remove(e){t=wF(t,e),t[0]?.resume()}}}function wF(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Ame(t){return t.filter(e=>e.tagName!=="A")}var kA=0;function VE(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NF()),document.body.insertAdjacentElement("beforeend",t[1]??NF()),kA++,()=>{kA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kA--}},[])}function NF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wu=function(){return Wu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wu.apply(this,arguments)};function NY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Cme(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var C2="right-scroll-bar-position",k2="width-before-scroll-bar",kme="with-scroll-bars-hidden",Tme="--removed-body-scroll-bar-size";function TA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ome(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Pme=typeof window<"u"?N.useLayoutEffect:N.useEffect,SF=new WeakMap;function Mme(t,e){var n=Ome(null,function(r){return t.forEach(function(i){return TA(i,r)})});return Pme(function(){var r=SF.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||TA(l,null)}),s.forEach(function(l){i.has(l)||TA(l,a)})}SF.set(n,t)},[t]),n}function Rme(t){return t}function Ime(t,e){e===void 0&&(e=Rme);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function Dme(t){t===void 0&&(t={});var e=Ime(null);return e.options=Wu({async:!0,ssr:!1},t),e}var SY=function(t){var e=t.sideCar,n=NY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Wu({},n))};SY.isSideCarExport=!0;function Lme(t,e){return t.useMedium(e),SY}var EY=Dme(),OA=function(){},WE=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:OA,onWheelCapture:OA,onTouchMoveCapture:OA}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,y=t.noIsolation,v=t.inert,x=t.allowPinchZoom,b=t.as,S=b===void 0?"div":b,_=t.gapMode,j=NY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,O=Mme([n,e]),M=Wu(Wu({},j),i);return N.createElement(N.Fragment,null,d&&N.createElement(C,{sideCar:EY,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:_}),a?N.cloneElement(N.Children.only(l),Wu(Wu({},M),{ref:O})):N.createElement(S,Wu({},M,{className:c,ref:O}),l))});WE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};WE.classNames={fullWidth:k2,zeroRight:C2};var Fme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bme(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Fme();return e&&t.setAttribute("nonce",e),t}function $me(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zme(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var qme=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Bme())&&($me(e,n),zme(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ume=function(){var t=qme();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_Y=function(){var t=Ume(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Hme={left:0,top:0,right:0,gap:0},PA=function(t){return parseInt(t||"",10)||0},Vme=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[PA(n),PA(r),PA(i)]},Wme=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hme;var e=Vme(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Kme=_Y(),wv="data-scroll-locked",Gme=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kme,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(wv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(C2,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(k2,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(C2," .").concat(C2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(k2," .").concat(k2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wv,`] {
    `).concat(Tme,": ").concat(l,`px;
  }
`)},EF=function(){var t=parseInt(document.body.getAttribute(wv)||"0",10);return isFinite(t)?t:0},Yme=function(){N.useEffect(function(){return document.body.setAttribute(wv,(EF()+1).toString()),function(){var t=EF()-1;t<=0?document.body.removeAttribute(wv):document.body.setAttribute(wv,t.toString())}},[])},Xme=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Yme();var s=N.useMemo(function(){return Wme(i)},[i]);return N.createElement(Kme,{styles:Gme(s,!e,i,n?"":"!important")})},AP=!1;if(typeof window<"u")try{var Ew=Object.defineProperty({},"passive",{get:function(){return AP=!0,!0}});window.addEventListener("test",Ew,Ew),window.removeEventListener("test",Ew,Ew)}catch{AP=!1}var Ig=AP?{passive:!1}:!1,Zme=function(t){return t.tagName==="TEXTAREA"},jY=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zme(t)&&n[e]==="visible")},Qme=function(t){return jY(t,"overflowY")},Jme=function(t){return jY(t,"overflowX")},_F=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=AY(t,r);if(i){var s=CY(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ege=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},tge=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AY=function(t,e){return t==="v"?Qme(e):Jme(e)},CY=function(t,e){return t==="v"?ege(e):tge(e)},nge=function(t,e){return t==="h"&&e==="rtl"?-1:1},rge=function(t,e,n,r,i){var s=nge(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,m=0;do{if(!l)break;var p=CY(t,l),y=p[0],v=p[1],x=p[2],b=v-x-s*y;(y||b)&&AY(t,l)&&(f+=b,m+=y);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},_w=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jF=function(t){return[t.deltaX,t.deltaY]},AF=function(t){return t&&"current"in t?t.current:t},ige=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sge=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},age=0,Dg=[];function oge(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(age++)[0],s=N.useState(_Y)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Cme([t.lockRef.current],(t.shards||[]).map(AF),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=_w(v),S=n.current,_="deltaX"in v?v.deltaX:S[0]-b[0],j="deltaY"in v?v.deltaY:S[1]-b[1],C,O=v.target,M=Math.abs(_)>Math.abs(j)?"h":"v";if("touches"in v&&M==="h"&&O.type==="range")return!1;var A=_F(M,O);if(!A)return!0;if(A?C=M:(C=M==="v"?"h":"v",A=_F(M,O)),!A)return!1;if(!r.current&&"changedTouches"in v&&(_||j)&&(r.current=C),!C)return!0;var P=r.current||C;return rge(P,x,v,P==="h"?_:j)},[]),c=N.useCallback(function(v){var x=v;if(!(!Dg.length||Dg[Dg.length-1]!==s)){var b="deltaY"in x?jF(x):_w(x),S=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&ige(C.delta,b)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var _=(a.current.shards||[]).map(AF).filter(Boolean).filter(function(C){return C.contains(x.target)}),j=_.length>0?l(x,_[0]):!a.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=N.useCallback(function(v,x,b,S){var _={name:v,delta:x,target:b,should:S,shadowParent:lge(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(j){return j!==_})},1)},[]),d=N.useCallback(function(v){n.current=_w(v),r.current=void 0},[]),f=N.useCallback(function(v){u(v.type,jF(v),v.target,l(v,t.lockRef.current))},[]),m=N.useCallback(function(v){u(v.type,_w(v),v.target,l(v,t.lockRef.current))},[]);N.useEffect(function(){return Dg.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ig),document.addEventListener("touchmove",c,Ig),document.addEventListener("touchstart",d,Ig),function(){Dg=Dg.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,Ig),document.removeEventListener("touchmove",c,Ig),document.removeEventListener("touchstart",d,Ig)}},[]);var p=t.removeScrollBar,y=t.inert;return N.createElement(N.Fragment,null,y?N.createElement(s,{styles:sge(i)}):null,p?N.createElement(Xme,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lge(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cge=Lme(EY,oge);var o1=N.forwardRef(function(t,e){return N.createElement(WE,Wu({},t,{ref:e,sideCar:cge}))});o1.classNames=WE.classNames;var uge=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lg=new WeakMap,jw=new WeakMap,Aw={},MA=0,kY=function(t){return t&&(t.host||kY(t.parentNode))},dge=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fge=function(t,e,n,r){var i=dge(e,Array.isArray(t)?t:[t]);Aw[n]||(Aw[n]=new WeakMap);var s=Aw[n],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),y=p!==null&&p!=="false",v=(Lg.get(m)||0)+1,x=(s.get(m)||0)+1;Lg.set(m,v),s.set(m,x),a.push(m),v===1&&y&&jw.set(m,!0),x===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(e),l.clear(),MA++,function(){a.forEach(function(f){var m=Lg.get(f)-1,p=s.get(f)-1;Lg.set(f,m),s.set(f,p),m||(jw.has(f)||f.removeAttribute(r),jw.delete(f)),p||f.removeAttribute(n)}),MA--,MA||(Lg=new WeakMap,Lg=new WeakMap,jw=new WeakMap,Aw={})}},KE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=uge(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fge(r,i,n,"aria-hidden")):function(){return null}},GE="Dialog",[TY,OY]=wa(GE),[hge,yu]=TY(GE),PY=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=N.useRef(null),c=N.useRef(null),[u,d]=xc({prop:r,defaultProp:i??!1,onChange:s,caller:GE});return o.jsx(hge,{scope:e,triggerRef:l,contentRef:c,contentId:ya(),titleId:ya(),descriptionId:ya(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};PY.displayName=GE;var MY="DialogTrigger",RY=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yu(MY,n),s=kn(e,i.triggerRef);return o.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lI(i.open),...r,ref:s,onClick:wt(t.onClick,i.onOpenToggle)})});RY.displayName=MY;var aI="DialogPortal",[pge,IY]=TY(aI,{forceMount:void 0}),DY=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=yu(aI,e);return o.jsx(pge,{scope:e,forceMount:n,children:N.Children.map(r,a=>o.jsx(Na,{present:n||s.open,children:o.jsx(_y,{asChild:!0,container:i,children:a})}))})};DY.displayName=aI;var aN="DialogOverlay",LY=N.forwardRef((t,e)=>{const n=IY(aN,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=yu(aN,t.__scopeDialog);return s.modal?o.jsx(Na,{present:r||s.open,children:o.jsx(gge,{...i,ref:e})}):null});LY.displayName=aN;var mge=Xh("DialogOverlay.RemoveScroll"),gge=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yu(aN,n);return o.jsx(o1,{as:mge,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Bt.div,{"data-state":lI(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),km="DialogContent",FY=N.forwardRef((t,e)=>{const n=IY(km,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=yu(km,t.__scopeDialog);return o.jsx(Na,{present:r||s.open,children:s.modal?o.jsx(vge,{...i,ref:e}):o.jsx(yge,{...i,ref:e})})});FY.displayName=km;var vge=N.forwardRef((t,e)=>{const n=yu(km,t.__scopeDialog),r=N.useRef(null),i=kn(e,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return KE(s)},[]),o.jsx(BY,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:wt(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:wt(t.onFocusOutside,s=>s.preventDefault())})}),yge=N.forwardRef((t,e)=>{const n=yu(km,t.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return o.jsx(BY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),BY=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=yu(km,n),c=N.useRef(null),u=kn(e,c);return VE(),o.jsxs(o.Fragment,{children:[o.jsx(a1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Zm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lI(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(bge,{titleId:l.titleId}),o.jsx(Nge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),oI="DialogTitle",$Y=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yu(oI,n);return o.jsx(Bt.h2,{id:i.titleId,...r,ref:e})});$Y.displayName=oI;var zY="DialogDescription",qY=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yu(zY,n);return o.jsx(Bt.p,{id:i.descriptionId,...r,ref:e})});qY.displayName=zY;var UY="DialogClose",HY=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yu(UY,n);return o.jsx(Bt.button,{type:"button",...r,ref:e,onClick:wt(t.onClick,()=>i.onOpenChange(!1))})});HY.displayName=UY;function lI(t){return t?"open":"closed"}var VY="DialogTitleWarning",[xge,WY]=vue(VY,{contentName:km,titleName:oI,docsSlug:"dialog"}),bge=({titleId:t})=>{const e=WY(VY),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},wge="DialogDescriptionWarning",Nge=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WY(wge).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},YE=PY,KY=RY,XE=DY,Oy=LY,Py=FY,l1=$Y,c1=qY,ZE=HY;const Sge=YE,Ege=XE,GY=N.forwardRef(({className:t,...e},n)=>o.jsx(Oy,{className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));GY.displayName=Oy.displayName;const _ge=Qm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),YY=N.forwardRef(({side:t="right",className:e,children:n,...r},i)=>o.jsxs(Ege,{children:[o.jsx(GY,{}),o.jsxs(Py,{ref:i,className:pt(_ge({side:t}),e),...r,children:[n,o.jsxs(ZE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(bc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));YY.displayName=Py.displayName;const XY=({className:t,...e})=>o.jsx("div",{className:pt("flex flex-col space-y-2 text-center sm:text-left",t),...e});XY.displayName="SheetHeader";const ZY=N.forwardRef(({className:t,...e},n)=>o.jsx(l1,{ref:n,className:pt("text-lg font-semibold text-foreground",t),...e}));ZY.displayName=l1.displayName;const QY=N.forwardRef(({className:t,...e},n)=>o.jsx(c1,{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));QY.displayName=c1.displayName;function Kn({className:t,...e}){return o.jsx("div",{className:pt("animate-pulse rounded-md bg-muted",t),...e})}const jge="sidebar_state",Age=3600*24*7,Cge="16rem",kge="18rem",Tge="3rem",Oge="b",JY=N.createContext(null);function cI(){const t=N.useContext(JY);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Pge({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...a}){const l=vme(),[c,u]=N.useState(!1),[d,f]=N.useState(t),m=e??d,p=N.useCallback(b=>{const S=typeof b=="function"?b(m):b;n?n(S):f(S),document.cookie=`${jge}=${S}; path=/; max-age=${Age}`},[n,m]),y=N.useCallback(()=>l?u(b=>!b):p(b=>!b),[l,p,u]);N.useEffect(()=>{const b=S=>{S.key===Oge&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),y())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[y]);const v=m?"expanded":"collapsed",x=N.useMemo(()=>({state:v,open:m,setOpen:p,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[v,m,p,l,c,u,y]);return o.jsx(JY.Provider,{value:x,children:o.jsx(JG,{delayDuration:0,children:o.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Cge,"--sidebar-width-icon":Tge,...i},className:pt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...a,children:s})})})}function Mge({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:a,state:l,openMobile:c,setOpenMobile:u}=cI();return n==="none"?o.jsx("div",{"data-slot":"sidebar",className:pt("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):a?o.jsx(Sge,{open:c,onOpenChange:u,...s,children:o.jsxs(YY,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":kge},side:t,children:[o.jsxs(XY,{className:"sr-only",children:[o.jsx(ZY,{children:"Sidebar"}),o.jsx(QY,{children:"Displays the mobile sidebar."})]}),o.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):o.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[o.jsx("div",{"data-slot":"sidebar-gap",className:pt("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),o.jsx("div",{"data-slot":"sidebar-container",className:pt("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:o.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function Rge({className:t,onClick:e,...n}){const{toggleSidebar:r}=cI();return o.jsxs(Se,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:pt("h-7 w-7",t),onClick:i=>{e?.(i),r()},...n,children:[o.jsx(Dde,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Ige({className:t,...e}){return o.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:pt("flex flex-col gap-2 p-2",t),...e})}function Dge({className:t,...e}){return o.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:pt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function Lge({className:t,...e}){return o.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:pt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function Fge({className:t,asChild:e=!1,...n}){const r=e?jE:"div";return o.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:pt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function Bge({className:t,...e}){return o.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:pt("w-full text-sm",t),...e})}function $ge({className:t,...e}){return o.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:pt("flex w-full min-w-0 flex-col gap-1",t),...e})}function zge({className:t,...e}){return o.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:pt("group/menu-item relative",t),...e})}const qge=Qm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Uge({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...a}){const l=t?jE:"button",{isMobile:c,state:u}=cI(),d=o.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:pt(qge({variant:n,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),o.jsxs(eY,{children:[o.jsx(tY,{asChild:!0,children:d}),o.jsx(eI,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d}function Hge(){return EE.useSyncExternalStore(Vge,()=>!0,()=>!1)}function Vge(){return()=>{}}var uI="Avatar",[Wge]=wa(uI),[Kge,eX]=Wge(uI),tX=N.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=N.useState("idle");return o.jsx(Kge,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(Bt.span,{...r,ref:e})})});tX.displayName=uI;var nX="AvatarImage",rX=N.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=eX(nX,n),l=Gge(r,s),c=hs(u=>{i(u),a.onImageLoadingStatusChange(u)});return Es(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Bt.img,{...s,ref:e,src:r}):null});rX.displayName=nX;var iX="AvatarFallback",sX=N.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=eX(iX,n),[a,l]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(Bt.span,{...i,ref:e}):null});sX.displayName=iX;function CF(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Gge(t,{referrerPolicy:e,crossOrigin:n}){const r=Hge(),i=N.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,l]=N.useState(()=>CF(s,t));return Es(()=>{l(CF(s,t))},[s,t]),Es(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),a}var aX=tX,oX=rX,lX=sX;const oN=N.forwardRef(({className:t,...e},n)=>o.jsx(aX,{ref:n,className:pt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));oN.displayName=aX.displayName;const Yge=N.forwardRef(({className:t,...e},n)=>o.jsx(oX,{ref:n,className:pt("aspect-square h-full w-full",t),...e}));Yge.displayName=oX.displayName;const lN=N.forwardRef(({className:t,...e},n)=>o.jsx(lX,{ref:n,className:pt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));lN.displayName=lX.displayName;const Xge=[{title:"Dashboard",url:"/",icon:Ede,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Clientes",url:"/clientes",icon:cb,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Impuestos",url:"/impuestos/control",icon:Ui,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Documentacin",url:"/documentacion",icon:X2,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Tareas",url:"/tareas",icon:yv,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Manuales",url:"/manuales",icon:X2,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Notificaciones",url:"/notificaciones",icon:ude,roles:["Administrador","Gestor"]},{title:"Auditora",url:"/auditoria",icon:rm,roles:["Administrador","Gestor"]},{title:"Administracin",url:"/admin",icon:OE,roles:["Administrador"]}];function Zge(){const[t]=sl(),{user:e,logout:n}=Jm(),r=Xge.filter(s=>e&&e.roleName&&Array.isArray(s.roles)&&s.roles.includes(e.roleName)),i=s=>s.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return o.jsxs(Mge,{children:[o.jsxs(Dge,{children:[o.jsx("div",{className:"p-6",children:o.jsx("h1",{className:"text-xl font-display font-bold text-primary",children:"Asesora La Llave"})}),o.jsxs(Lge,{children:[o.jsx(Fge,{children:"Navegacin"}),o.jsx(Bge,{children:o.jsx($ge,{children:r.map(s=>o.jsx(zge,{children:o.jsx(Uge,{asChild:!0,isActive:t.startsWith(s.url)||t===s.url,children:o.jsxs(au,{href:s.url,"data-testid":`link-${s.title.toLowerCase()}`,children:[o.jsx(s.icon,{className:"h-4 w-4"}),o.jsx("span",{children:s.title})]})})},s.title))})})]})]}),o.jsxs(Ige,{className:"p-4",children:[e&&o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[o.jsx(oN,{className:"h-9 w-9",children:o.jsx(lN,{className:"bg-primary text-primary-foreground text-sm",children:i(e.username)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:e.username}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e.roleName||"Sin rol"})]})]}),o.jsxs(Se,{variant:"ghost",className:"w-full justify-start",onClick:n,"data-testid":"button-logout",children:[o.jsx(Ode,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})}function Qge(){const{theme:t,toggleTheme:e}=wpe();return o.jsxs(Se,{variant:"ghost",size:"icon",onClick:e,"data-testid":"button-theme-toggle",children:[t==="light"?o.jsx(Rde,{className:"h-5 w-5"}):o.jsx(Hde,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var kF=1,Jge=.9,eve=.8,tve=.17,RA=.1,IA=.999,nve=.9999,rve=.99,ive=/[\\\/_+.#"@\[\(\{&]/,sve=/[\\\/_+.#"@\[\(\{&]/g,ave=/[\s-]/,cX=/[\s-]/g;function CP(t,e,n,r,i,s,a){if(s===e.length)return i===t.length?kF:rve;var l=`${i},${s}`;if(a[l]!==void 0)return a[l];for(var c=r.charAt(s),u=n.indexOf(c,i),d=0,f,m,p,y;u>=0;)f=CP(t,e,n,r,u+1,s+1,a),f>d&&(u===i?f*=kF:ive.test(t.charAt(u-1))?(f*=eve,p=t.slice(i,u-1).match(sve),p&&i>0&&(f*=Math.pow(IA,p.length))):ave.test(t.charAt(u-1))?(f*=Jge,y=t.slice(i,u-1).match(cX),y&&i>0&&(f*=Math.pow(IA,y.length))):(f*=tve,i>0&&(f*=Math.pow(IA,u-i))),t.charAt(u)!==e.charAt(s)&&(f*=nve)),(f<RA&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(m=CP(t,e,n,r,u+1,s+2,a),m*RA>f&&(f=m*RA)),f>d&&(d=f),u=n.indexOf(c,u+1);return a[l]=d,d}function TF(t){return t.toLowerCase().replace(cX," ")}function ove(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,CP(t,e,TF(t),TF(e),0,0,{})}var Ox='[cmdk-group=""]',DA='[cmdk-group-items=""]',lve='[cmdk-group-heading=""]',uX='[cmdk-item=""]',OF=`${uX}:not([aria-disabled="true"])`,kP="cmdk-item-select",Zg="data-value",cve=(t,e,n)=>ove(t,e,n),dX=N.createContext(void 0),u1=()=>N.useContext(dX),fX=N.createContext(void 0),dI=()=>N.useContext(fX),hX=N.createContext(void 0),pX=N.forwardRef((t,e)=>{let n=Qg(()=>{var I,V;return{search:"",value:(V=(I=t.value)!=null?I:t.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Qg(()=>new Set),i=Qg(()=>new Map),s=Qg(()=>new Map),a=Qg(()=>new Set),l=mX(t),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:p,loop:y,disablePointerSelection:v=!1,vimBindings:x=!0,...b}=t,S=ya(),_=ya(),j=ya(),C=N.useRef(null),O=bve();Tm(()=>{if(d!==void 0){let I=d.trim();n.current.value=I,M.emit()}},[d]),Tm(()=>{O(6,q)},[]);let M=N.useMemo(()=>({subscribe:I=>(a.current.add(I),()=>a.current.delete(I)),snapshot:()=>n.current,setState:(I,V,Q)=>{var re,fe,pe,ve;if(!Object.is(n.current[I],V)){if(n.current[I]=V,I==="search")F(),B(),O(1,R);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(j);de?de.focus():(re=document.getElementById(S))==null||re.focus()}if(O(7,()=>{var de;n.current.selectedItemId=(de=z())==null?void 0:de.id,M.emit()}),Q||O(5,q),((fe=l.current)==null?void 0:fe.value)!==void 0){let de=V??"";(ve=(pe=l.current).onValueChange)==null||ve.call(pe,de);return}}M.emit()}},emit:()=>{a.current.forEach(I=>I())}}),[]),A=N.useMemo(()=>({value:(I,V,Q)=>{var re;V!==((re=s.current.get(I))==null?void 0:re.value)&&(s.current.set(I,{value:V,keywords:Q}),n.current.filtered.items.set(I,P(V,Q)),O(2,()=>{B(),M.emit()}))},item:(I,V)=>(r.current.add(I),V&&(i.current.has(V)?i.current.get(V).add(I):i.current.set(V,new Set([I]))),O(3,()=>{F(),B(),n.current.value||R(),M.emit()}),()=>{s.current.delete(I),r.current.delete(I),n.current.filtered.items.delete(I);let Q=z();O(4,()=>{F(),Q?.getAttribute("id")===I&&R(),M.emit()})}),group:I=>(i.current.has(I)||i.current.set(I,new Set),()=>{s.current.delete(I),i.current.delete(I)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:S,inputId:j,labelId:_,listInnerRef:C}),[]);function P(I,V){var Q,re;let fe=(re=(Q=l.current)==null?void 0:Q.filter)!=null?re:cve;return I?fe(I,n.current.search,V):0}function B(){if(!n.current.search||l.current.shouldFilter===!1)return;let I=n.current.filtered.items,V=[];n.current.filtered.groups.forEach(re=>{let fe=i.current.get(re),pe=0;fe.forEach(ve=>{let de=I.get(ve);pe=Math.max(de,pe)}),V.push([re,pe])});let Q=C.current;G().sort((re,fe)=>{var pe,ve;let de=re.getAttribute("id"),be=fe.getAttribute("id");return((pe=I.get(be))!=null?pe:0)-((ve=I.get(de))!=null?ve:0)}).forEach(re=>{let fe=re.closest(DA);fe?fe.appendChild(re.parentElement===fe?re:re.closest(`${DA} > *`)):Q.appendChild(re.parentElement===Q?re:re.closest(`${DA} > *`))}),V.sort((re,fe)=>fe[1]-re[1]).forEach(re=>{var fe;let pe=(fe=C.current)==null?void 0:fe.querySelector(`${Ox}[${Zg}="${encodeURIComponent(re[0])}"]`);pe?.parentElement.appendChild(pe)})}function R(){let I=G().find(Q=>Q.getAttribute("aria-disabled")!=="true"),V=I?.getAttribute(Zg);M.setState("value",V||void 0)}function F(){var I,V,Q,re;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let fe=0;for(let pe of r.current){let ve=(V=(I=s.current.get(pe))==null?void 0:I.value)!=null?V:"",de=(re=(Q=s.current.get(pe))==null?void 0:Q.keywords)!=null?re:[],be=P(ve,de);n.current.filtered.items.set(pe,be),be>0&&fe++}for(let[pe,ve]of i.current)for(let de of ve)if(n.current.filtered.items.get(de)>0){n.current.filtered.groups.add(pe);break}n.current.filtered.count=fe}function q(){var I,V,Q;let re=z();re&&(((I=re.parentElement)==null?void 0:I.firstChild)===re&&((Q=(V=re.closest(Ox))==null?void 0:V.querySelector(lve))==null||Q.scrollIntoView({block:"nearest"})),re.scrollIntoView({block:"nearest"}))}function z(){var I;return(I=C.current)==null?void 0:I.querySelector(`${uX}[aria-selected="true"]`)}function G(){var I;return Array.from(((I=C.current)==null?void 0:I.querySelectorAll(OF))||[])}function X(I){let V=G()[I];V&&M.setState("value",V.getAttribute(Zg))}function U(I){var V;let Q=z(),re=G(),fe=re.findIndex(ve=>ve===Q),pe=re[fe+I];(V=l.current)!=null&&V.loop&&(pe=fe+I<0?re[re.length-1]:fe+I===re.length?re[0]:re[fe+I]),pe&&M.setState("value",pe.getAttribute(Zg))}function W(I){let V=z(),Q=V?.closest(Ox),re;for(;Q&&!re;)Q=I>0?yve(Q,Ox):xve(Q,Ox),re=Q?.querySelector(OF);re?M.setState("value",re.getAttribute(Zg)):U(I)}let Y=()=>X(G().length-1),ie=I=>{I.preventDefault(),I.metaKey?Y():I.altKey?W(1):U(1)},Z=I=>{I.preventDefault(),I.metaKey?X(0):I.altKey?W(-1):U(-1)};return N.createElement(Bt.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:I=>{var V;(V=b.onKeyDown)==null||V.call(b,I);let Q=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||Q))switch(I.key){case"n":case"j":{x&&I.ctrlKey&&ie(I);break}case"ArrowDown":{ie(I);break}case"p":case"k":{x&&I.ctrlKey&&Z(I);break}case"ArrowUp":{Z(I);break}case"Home":{I.preventDefault(),X(0);break}case"End":{I.preventDefault(),Y();break}case"Enter":{I.preventDefault();let re=z();if(re){let fe=new Event(kP);re.dispatchEvent(fe)}}}}},N.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:Nve},c),QE(t,I=>N.createElement(fX.Provider,{value:M},N.createElement(dX.Provider,{value:A},I))))}),uve=N.forwardRef((t,e)=>{var n,r;let i=ya(),s=N.useRef(null),a=N.useContext(hX),l=u1(),c=mX(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;Tm(()=>{if(!u)return l.item(i,a?.id)},[u]);let d=gX(i,s,[t.value,t.children,s],t.keywords),f=dI(),m=ep(O=>O.value&&O.value===d.current),p=ep(O=>u||l.filter()===!1?!0:O.search?O.filtered.items.get(i)>0:!0);N.useEffect(()=>{let O=s.current;if(!(!O||t.disabled))return O.addEventListener(kP,y),()=>O.removeEventListener(kP,y)},[p,t.onSelect,t.disabled]);function y(){var O,M;v(),(M=(O=c.current).onSelect)==null||M.call(O,d.current)}function v(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:x,value:b,onSelect:S,forceMount:_,keywords:j,...C}=t;return N.createElement(Bt.div,{ref:xf(s,e),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||l.getDisablePointerSelection()?void 0:v,onClick:x?void 0:y},t.children)}),dve=N.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,a=ya(),l=N.useRef(null),c=N.useRef(null),u=ya(),d=u1(),f=ep(p=>i||d.filter()===!1?!0:p.search?p.filtered.groups.has(a):!0);Tm(()=>d.group(a),[]),gX(a,l,[t.value,t.heading,c]);let m=N.useMemo(()=>({id:a,forceMount:i}),[i]);return N.createElement(Bt.div,{ref:xf(l,e),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&N.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),QE(t,p=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},N.createElement(hX.Provider,{value:m},p))))}),fve=N.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=N.useRef(null),s=ep(a=>!a.search);return!n&&!s?null:N.createElement(Bt.div,{ref:xf(i,e),...r,"cmdk-separator":"",role:"separator"})}),hve=N.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=dI(),a=ep(u=>u.search),l=ep(u=>u.selectedItemId),c=u1();return N.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),N.createElement(Bt.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?t.value:a,onChange:u=>{i||s.setState("search",u.target.value),n?.(u.target.value)}})}),pve=N.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=N.useRef(null),a=N.useRef(null),l=ep(u=>u.selectedItemId),c=u1();return N.useEffect(()=>{if(a.current&&s.current){let u=a.current,d=s.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),N.createElement(Bt.div,{ref:xf(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},QE(t,u=>N.createElement("div",{ref:xf(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),mve=N.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:a,...l}=t;return N.createElement(YE,{open:n,onOpenChange:r},N.createElement(XE,{container:a},N.createElement(Oy,{"cmdk-overlay":"",className:i}),N.createElement(Py,{"aria-label":t.label,"cmdk-dialog":"",className:s},N.createElement(pX,{ref:e,...l}))))}),gve=N.forwardRef((t,e)=>ep(n=>n.filtered.count===0)?N.createElement(Bt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),vve=N.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return N.createElement(Bt.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},QE(t,a=>N.createElement("div",{"aria-hidden":!0},a)))}),al=Object.assign(pX,{List:pve,Item:uve,Input:hve,Group:dve,Separator:fve,Dialog:mve,Empty:gve,Loading:vve});function yve(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function xve(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function mX(t){let e=N.useRef(t);return Tm(()=>{e.current=t}),e}var Tm=typeof window>"u"?N.useEffect:N.useLayoutEffect;function Qg(t){let e=N.useRef();return e.current===void 0&&(e.current=t()),e}function ep(t){let e=dI(),n=()=>t(e.snapshot());return N.useSyncExternalStore(e.subscribe,n,n)}function gX(t,e,n,r=[]){let i=N.useRef(),s=u1();return Tm(()=>{var a;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());s.value(t,l,c),(a=e.current)==null||a.setAttribute(Zg,l),i.current=l}),i}var bve=()=>{let[t,e]=N.useState(),n=Qg(()=>new Map);return Tm(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function wve(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function QE({asChild:t,children:e},n){return t&&N.isValidElement(e)?N.cloneElement(wve(e),{ref:e.ref},n(e.props.children)):n(e)}var Nve={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ci=YE,Cl=KY,Sve=XE,vX=N.forwardRef(({className:t,...e},n)=>o.jsx(Oy,{ref:n,className:pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));vX.displayName=Oy.displayName;const ri=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Sve,{children:[o.jsx(vX,{}),o.jsxs(Py,{ref:r,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 max-h-[85vh] overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(ZE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(bc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ri.displayName=Py.displayName;const ui=({className:t,...e})=>o.jsx("div",{className:pt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ui.displayName="DialogHeader";const va=({className:t,...e})=>o.jsx("div",{className:pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});va.displayName="DialogFooter";const di=N.forwardRef(({className:t,...e},n)=>o.jsx(l1,{ref:n,className:pt("text-lg font-semibold leading-none tracking-tight",t),...e}));di.displayName=l1.displayName;const Ss=N.forwardRef(({className:t,...e},n)=>o.jsx(c1,{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));Ss.displayName=c1.displayName;const yX=N.forwardRef(({className:t,...e},n)=>o.jsx(al,{ref:n,className:pt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));yX.displayName=al.displayName;const Eve=({children:t,...e})=>o.jsx(ci,{...e,children:o.jsx(ri,{className:"overflow-hidden p-0 shadow-lg",children:o.jsx(yX,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),xX=N.forwardRef(({className:t,...e},n)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(jy,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(al.Input,{ref:n,className:pt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));xX.displayName=al.Input.displayName;const bX=N.forwardRef(({className:t,...e},n)=>o.jsx(al.List,{ref:n,className:pt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));bX.displayName=al.List.displayName;const wX=N.forwardRef((t,e)=>o.jsx(al.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));wX.displayName=al.Empty.displayName;const T2=N.forwardRef(({className:t,...e},n)=>o.jsx(al.Group,{ref:n,className:pt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));T2.displayName=al.Group.displayName;const _ve=N.forwardRef(({className:t,...e},n)=>o.jsx(al.Separator,{ref:n,className:pt("-mx-1 h-px bg-border",t),...e}));_ve.displayName=al.Separator.displayName;const O2=N.forwardRef(({className:t,...e},n)=>o.jsx(al.Item,{ref:n,className:pt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));O2.displayName=al.Item.displayName;function jve(){const[t,e]=N.useState(!1),[n,r]=N.useState(""),[,i]=sl();N.useEffect(()=>{const l=c=>{c.key==="k"&&(c.metaKey||c.ctrlKey)&&(c.preventDefault(),e(u=>!u))};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[]);const{data:s}=rn({queryKey:["/api/search",n],enabled:n.length>=2,queryFn:async()=>{const l=await fetch(`/api/search?q=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!l.ok)throw new Error("Error en bsqueda");return l.json()}}),a=(l,c)=>{e(!1),r(""),l==="cliente"?i("/clientes"):l==="tarea"?i("/tareas"):l==="manual"&&i(`/manuales/${c}`)};return o.jsxs(o.Fragment,{children:[o.jsxs(Se,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64",onClick:()=>e(!0),"data-testid":"button-global-search",children:[o.jsx(jy,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"hidden lg:inline-flex",children:"Buscar..."}),o.jsx("span",{className:"inline-flex lg:hidden",children:"Buscar"}),o.jsxs("kbd",{className:"pointer-events-none absolute right-1.5 top-2 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[o.jsx("span",{className:"text-xs",children:""}),"K"]})]}),o.jsxs(Eve,{open:t,onOpenChange:e,children:[o.jsx(xX,{placeholder:"Buscar clientes, tareas, impuestos, manuales...",value:n,onValueChange:r,"data-testid":"input-global-search"}),o.jsxs(bX,{children:[o.jsx(wX,{children:n.length<2?"Escribe al menos 2 caracteres para buscar":"No se encontraron resultados"}),s&&s.clientes.length>0&&o.jsx(T2,{heading:"Clientes",children:s.clientes.map(l=>o.jsxs(O2,{onSelect:()=>a("cliente",l.id),"data-testid":`search-result-client-${l.id}`,children:[o.jsx(r1,{className:"mr-2 h-4 w-4"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:l.razonSocial}),o.jsx("span",{className:"text-xs text-muted-foreground",children:l.nifCif})]})]},l.id))}),s&&s.tareas.length>0&&o.jsx(T2,{heading:"Tareas",children:s.tareas.map(l=>o.jsxs(O2,{onSelect:()=>a("tarea",l.id),"data-testid":`search-result-task-${l.id}`,children:[o.jsx(yv,{className:"mr-2 h-4 w-4"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:l.titulo}),o.jsx("span",{className:"text-xs text-muted-foreground",children:l.estado})]})]},l.id))}),null,s&&s.manuales.length>0&&o.jsx(T2,{heading:"Manuales",children:s.manuales.map(l=>o.jsxs(O2,{onSelect:()=>a("manual",l.id),"data-testid":`search-result-manual-${l.id}`,children:[o.jsx(X2,{className:"mr-2 h-4 w-4"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:l.titulo}),o.jsx("span",{className:"text-xs text-muted-foreground",children:l.categoria})]})]},l.id))})]})]})]})}function Ave(){const{data:t,isLoading:e}=rn({queryKey:["/api/health"],refetchInterval:3e4,retry:2}),n=t?.status==="healthy"&&t?.database==="connected";return e?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(dP,{className:"h-4 w-4 animate-pulse"}),o.jsx("span",{className:"hidden sm:inline",children:"Verificando..."})]}):o.jsxs(eY,{children:[o.jsx(tY,{asChild:!0,children:o.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-help",children:n?o.jsxs(o.Fragment,{children:[o.jsx(wde,{className:"h-4 w-4 text-green-500","data-testid":"icon-db-connected"}),o.jsx("span",{className:"hidden sm:inline",children:"DB Activa"})]}):o.jsxs(o.Fragment,{children:[o.jsx(dP,{className:"h-4 w-4 text-red-500","data-testid":"icon-db-disconnected"}),o.jsx("span",{className:"hidden sm:inline",children:"DB Desconectada"})]})})}),o.jsx(eI,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"font-semibold",children:["Estado: ",n?"Conectada":"Desconectada"]}),t?.timestamp&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima verificacin: ",new Date(t.timestamp).toLocaleTimeString()]})]})})]})}const Ze=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ze.displayName="Card";const xt=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("flex flex-col space-y-1.5 p-6",t),...e}));xt.displayName="CardHeader";const St=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));St.displayName="CardTitle";const Er=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));Er.displayName="CardDescription";const Qe=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("p-6 pt-0",t),...e}));Qe.displayName="CardContent";const Cve=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("flex items-center p-6 pt-0",t),...e}));Cve.displayName="CardFooter";function kve(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Ze,{className:"w-full max-w-md mx-4",children:o.jsxs(Qe,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(io,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Tve="Label",NX=N.forwardRef((t,e)=>o.jsx(Bt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NX.displayName=Tve;var SX=NX;const Ove=Qm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=N.forwardRef(({className:t,...e},n)=>o.jsx(SX,{ref:n,className:pt(Ove(),t),...e}));De.displayName=SX.displayName;var Pve=N.createContext(void 0);function My(t){const e=N.useContext(Pve);return t||e||"ltr"}var LA="rovingFocusGroup.onEntryFocus",Mve={bubbles:!1,cancelable:!0},d1="RovingFocusGroup",[TP,EX,Rve]=J0(d1),[Ive,JE]=wa(d1,[Rve]),[Dve,Lve]=Ive(d1),_X=N.forwardRef((t,e)=>o.jsx(TP.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(TP.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Fve,{...t,ref:e})})}));_X.displayName=d1;var Fve=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=N.useRef(null),p=kn(e,m),y=My(s),[v,x]=xc({prop:a,defaultProp:l??null,onChange:c,caller:d1}),[b,S]=N.useState(!1),_=hs(u),j=EX(n),C=N.useRef(!1),[O,M]=N.useState(0);return N.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(LA,_),()=>A.removeEventListener(LA,_)},[_]),o.jsx(Dve,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:v,onItemFocus:N.useCallback(A=>x(A),[x]),onItemShiftTab:N.useCallback(()=>S(!0),[]),onFocusableItemAdd:N.useCallback(()=>M(A=>A+1),[]),onFocusableItemRemove:N.useCallback(()=>M(A=>A-1),[]),children:o.jsx(Bt.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:wt(t.onMouseDown,()=>{C.current=!0}),onFocus:wt(t.onFocus,A=>{const P=!C.current;if(A.target===A.currentTarget&&P&&!b){const B=new CustomEvent(LA,Mve);if(A.currentTarget.dispatchEvent(B),!B.defaultPrevented){const R=j().filter(X=>X.focusable),F=R.find(X=>X.active),q=R.find(X=>X.id===v),G=[F,q,...R].filter(Boolean).map(X=>X.ref.current);CX(G,d)}}C.current=!1}),onBlur:wt(t.onBlur,()=>S(!1))})})}),jX="RovingFocusGroupItem",AX=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,c=ya(),u=s||c,d=Lve(jX,n),f=d.currentTabStopId===u,m=EX(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:v}=d;return N.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),o.jsx(TP.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(Bt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:wt(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:wt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:wt(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=zve(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=m().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const j=_.indexOf(x.currentTarget);_=d.loop?qve(_,j+1):_.slice(j+1)}setTimeout(()=>CX(_))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});AX.displayName=jX;var Bve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $ve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zve(t,e,n){const r=$ve(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Bve[r]}function CX(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kX=_X,TX=AX,e_="Tabs",[Uve]=wa(e_,[JE]),OX=JE(),[Hve,fI]=Uve(e_),PX=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=My(l),[f,m]=xc({prop:r,onChange:i,defaultProp:s??"",caller:e_});return o.jsx(Hve,{scope:n,baseId:ya(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(Bt.div,{dir:d,"data-orientation":a,...u,ref:e})})});PX.displayName=e_;var MX="TabsList",RX=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=fI(MX,n),a=OX(n);return o.jsx(kX,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(Bt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});RX.displayName=MX;var IX="TabsTrigger",DX=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=fI(IX,n),l=OX(n),c=BX(a.baseId,r),u=$X(a.baseId,r),d=r===a.value;return o.jsx(TX,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(Bt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:wt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:wt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:wt(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});DX.displayName=IX;var LX="TabsContent",FX=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=fI(LX,n),c=BX(l.baseId,r),u=$X(l.baseId,r),d=r===l.value,f=N.useRef(d);return N.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Na,{present:i||d,children:({present:m})=>o.jsx(Bt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});FX.displayName=LX;function BX(t,e){return`${t}-trigger-${e}`}function $X(t,e){return`${t}-content-${e}`}var Vve=PX,zX=RX,qX=DX,UX=FX;const Sc=Vve,Fl=N.forwardRef(({className:t,...e},n)=>o.jsx(zX,{ref:n,className:pt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fl.displayName=zX.displayName;const zn=N.forwardRef(({className:t,...e},n)=>o.jsx(qX,{ref:n,className:pt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));zn.displayName=qX.displayName;const sr=N.forwardRef(({className:t,...e},n)=>o.jsx(UX,{ref:n,className:pt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sr.displayName=UX.displayName;function PF(){const[,t]=sl(),{login:e,register:n,logout:r,user:i}=Jm(),{toast:s}=Pr(),[a,l]=N.useState({username:"",password:""}),[c,u]=N.useState({username:"",email:"",password:"",confirmPassword:""}),{data:d}=rn({queryKey:["/api/admin/system-settings"]});N.useEffect(()=>{i&&r()},[i,r]);const f=async p=>{p.preventDefault();try{await e(a.username,a.password),s({title:"Inicio de sesin exitoso",description:"Bienvenido de nuevo"}),t("/")}catch(y){s({title:"Error",description:y.message||"Credenciales incorrectas",variant:"destructive"})}},m=async p=>{if(p.preventDefault(),c.password!==c.confirmPassword){s({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}try{await n(c.username,c.email,c.password),s({title:"Registro exitoso",description:"Tu cuenta ha sido creada"}),t("/")}catch(y){s({title:"Error",description:y.message||"Error al crear la cuenta",variant:"destructive"})}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-ring/5 p-4",children:o.jsxs(Ze,{className:"w-full max-w-md",children:[o.jsxs(xt,{className:"space-y-1",children:[o.jsx(St,{className:"text-3xl font-display font-bold text-center text-primary",children:"Asesora La Llave"}),o.jsx(Er,{className:"text-center",children:"Sistema de gestin profesional"})]}),o.jsx(Qe,{children:o.jsxs(Sc,{defaultValue:"login",className:"w-full",children:[o.jsxs(Fl,{className:`grid w-full ${d?.registrationEnabled??!0?"grid-cols-2":"grid-cols-1"} mb-6`,children:[o.jsx(zn,{value:"login",children:"Iniciar Sesin"}),(d?.registrationEnabled??!0)&&o.jsx(zn,{value:"register",children:"Registrarse"})]}),o.jsx(sr,{value:"login",children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"login-username",children:"Usuario"}),o.jsx(Ge,{id:"login-username",type:"text",placeholder:"tu_usuario",value:a.username,onChange:p=>l({...a,username:p.target.value}),required:!0,"data-testid":"input-login-username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"login-password",children:"Contrasea"}),o.jsx(Ge,{id:"login-password",type:"password",placeholder:"",value:a.password,onChange:p=>l({...a,password:p.target.value}),required:!0,"data-testid":"input-login-password"})]}),o.jsx(Se,{type:"submit",className:"w-full","data-testid":"button-login-submit",children:"Iniciar Sesin"})]})}),(d?.registrationEnabled??!0)&&o.jsx(sr,{value:"register",children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"register-username",children:"Usuario"}),o.jsx(Ge,{id:"register-username",type:"text",placeholder:"tu_usuario",value:c.username,onChange:p=>u({...c,username:p.target.value}),required:!0,"data-testid":"input-register-username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"register-email",children:"Email"}),o.jsx(Ge,{id:"register-email",type:"email",placeholder:"tu@email.com",value:c.email,onChange:p=>u({...c,email:p.target.value}),required:!0,"data-testid":"input-register-email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"register-password",children:"Contrasea"}),o.jsx(Ge,{id:"register-password",type:"password",placeholder:"",value:c.password,onChange:p=>u({...c,password:p.target.value}),required:!0,"data-testid":"input-register-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"register-confirm-password",children:"Confirmar Contrasea"}),o.jsx(Ge,{id:"register-confirm-password",type:"password",placeholder:"",value:c.confirmPassword,onChange:p=>u({...c,confirmPassword:p.target.value}),required:!0,"data-testid":"input-register-confirm-password"})]}),o.jsx(Se,{type:"submit",className:"w-full","data-testid":"button-register-submit",children:"Crear Cuenta"})]})})]})})]})})}var FA,MF;function ol(){if(MF)return FA;MF=1;var t=Array.isArray;return FA=t,FA}var BA,RF;function HX(){if(RF)return BA;RF=1;var t=typeof mw=="object"&&mw&&mw.Object===Object&&mw;return BA=t,BA}var $A,IF;function vd(){if(IF)return $A;IF=1;var t=HX(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return $A=n,$A}var zA,DF;function f1(){if(DF)return zA;DF=1;var t=vd(),e=t.Symbol;return zA=e,zA}var qA,LF;function Wve(){if(LF)return qA;LF=1;var t=f1(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var l=n.call(a,i),c=a[i];try{a[i]=void 0;var u=!0}catch{}var d=r.call(a);return u&&(l?a[i]=c:delete a[i]),d}return qA=s,qA}var UA,FF;function Kve(){if(FF)return UA;FF=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return UA=n,UA}var HA,BF;function Cf(){if(BF)return HA;BF=1;var t=f1(),e=Wve(),n=Kve(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return HA=a,HA}var VA,$F;function kf(){if($F)return VA;$F=1;function t(e){return e!=null&&typeof e=="object"}return VA=t,VA}var WA,zF;function Ry(){if(zF)return WA;zF=1;var t=Cf(),e=kf(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return WA=r,WA}var KA,qF;function hI(){if(qF)return KA;qF=1;var t=ol(),e=Ry(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return KA=i,KA}var GA,UF;function lp(){if(UF)return GA;UF=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return GA=t,GA}var YA,HF;function pI(){if(HF)return YA;HF=1;var t=Cf(),e=lp(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==s}return YA=a,YA}var XA,VF;function Gve(){if(VF)return XA;VF=1;var t=vd(),e=t["__core-js_shared__"];return XA=e,XA}var ZA,WF;function Yve(){if(WF)return ZA;WF=1;var t=Gve(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return ZA=n,ZA}var QA,KF;function VX(){if(KF)return QA;KF=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return QA=n,QA}var JA,GF;function Xve(){if(GF)return JA;GF=1;var t=pI(),e=Yve(),n=lp(),r=VX(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!n(m)||e(m))return!1;var p=t(m)?d:s;return p.test(r(m))}return JA=f,JA}var eC,YF;function Zve(){if(YF)return eC;YF=1;function t(e,n){return e?.[n]}return eC=t,eC}var tC,XF;function eg(){if(XF)return tC;XF=1;var t=Xve(),e=Zve();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return tC=n,tC}var nC,ZF;function t_(){if(ZF)return nC;ZF=1;var t=eg(),e=t(Object,"create");return nC=e,nC}var rC,QF;function Qve(){if(QF)return rC;QF=1;var t=t_();function e(){this.__data__=t?t(null):{},this.size=0}return rC=e,rC}var iC,JF;function Jve(){if(JF)return iC;JF=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return iC=t,iC}var sC,e8;function eye(){if(e8)return sC;e8=1;var t=t_(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var l=a[s];return l===e?void 0:l}return r.call(a,s)?a[s]:void 0}return sC=i,sC}var aC,t8;function tye(){if(t8)return aC;t8=1;var t=t_(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return aC=r,aC}var oC,n8;function nye(){if(n8)return oC;n8=1;var t=t_(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return oC=n,oC}var lC,r8;function rye(){if(r8)return lC;r8=1;var t=Qve(),e=Jve(),n=eye(),r=tye(),i=nye();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,lC=s,lC}var cC,i8;function iye(){if(i8)return cC;i8=1;function t(){this.__data__=[],this.size=0}return cC=t,cC}var uC,s8;function mI(){if(s8)return uC;s8=1;function t(e,n){return e===n||e!==e&&n!==n}return uC=t,uC}var dC,a8;function n_(){if(a8)return dC;a8=1;var t=mI();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return dC=e,dC}var fC,o8;function sye(){if(o8)return fC;o8=1;var t=n_(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var l=s.length-1;return a==l?s.pop():n.call(s,a,1),--this.size,!0}return fC=r,fC}var hC,l8;function aye(){if(l8)return hC;l8=1;var t=n_();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return hC=e,hC}var pC,c8;function oye(){if(c8)return pC;c8=1;var t=n_();function e(n){return t(this.__data__,n)>-1}return pC=e,pC}var mC,u8;function lye(){if(u8)return mC;u8=1;var t=n_();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return mC=e,mC}var gC,d8;function r_(){if(d8)return gC;d8=1;var t=iye(),e=sye(),n=aye(),r=oye(),i=lye();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,gC=s,gC}var vC,f8;function gI(){if(f8)return vC;f8=1;var t=eg(),e=vd(),n=t(e,"Map");return vC=n,vC}var yC,h8;function cye(){if(h8)return yC;h8=1;var t=rye(),e=r_(),n=gI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return yC=r,yC}var xC,p8;function uye(){if(p8)return xC;p8=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return xC=t,xC}var bC,m8;function i_(){if(m8)return bC;m8=1;var t=uye();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return bC=e,bC}var wC,g8;function dye(){if(g8)return wC;g8=1;var t=i_();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return wC=e,wC}var NC,v8;function fye(){if(v8)return NC;v8=1;var t=i_();function e(n){return t(this,n).get(n)}return NC=e,NC}var SC,y8;function hye(){if(y8)return SC;y8=1;var t=i_();function e(n){return t(this,n).has(n)}return SC=e,SC}var EC,x8;function pye(){if(x8)return EC;x8=1;var t=i_();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return EC=e,EC}var _C,b8;function vI(){if(b8)return _C;b8=1;var t=cye(),e=dye(),n=fye(),r=hye(),i=pye();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,_C=s,_C}var jC,w8;function WX(){if(w8)return jC;w8=1;var t=vI(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,l=i?i.apply(this,a):a[0],c=s.cache;if(c.has(l))return c.get(l);var u=r.apply(this,a);return s.cache=c.set(l,u)||c,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,jC=n,jC}var AC,N8;function mye(){if(N8)return AC;N8=1;var t=WX(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return AC=n,AC}var CC,S8;function gye(){if(S8)return CC;S8=1;var t=mye(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,l,c,u){s.push(c?u.replace(n,"$1"):l||a)}),s});return CC=r,CC}var kC,E8;function yI(){if(E8)return kC;E8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return kC=t,kC}var TC,_8;function vye(){if(_8)return TC;_8=1;var t=f1(),e=yI(),n=ol(),r=Ry(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return e(l,a)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return TC=a,TC}var OC,j8;function KX(){if(j8)return OC;j8=1;var t=vye();function e(n){return n==null?"":t(n)}return OC=e,OC}var PC,A8;function GX(){if(A8)return PC;A8=1;var t=ol(),e=hI(),n=gye(),r=KX();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return PC=i,PC}var MC,C8;function s_(){if(C8)return MC;C8=1;var t=Ry();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return MC=e,MC}var RC,k8;function xI(){if(k8)return RC;k8=1;var t=GX(),e=s_();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return RC=n,RC}var IC,T8;function YX(){if(T8)return IC;T8=1;var t=xI();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return IC=e,IC}var yye=YX();const mc=Ir(yye);var DC,O8;function xye(){if(O8)return DC;O8=1;function t(e){return e==null}return DC=t,DC}var bye=xye();const Gn=Ir(bye);var LC,P8;function wye(){if(P8)return LC;P8=1;var t=Cf(),e=ol(),n=kf(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return LC=i,LC}var Nye=wye();const Om=Ir(Nye);var Sye=pI();const er=Ir(Sye);var Eye=lp();const Iy=Ir(Eye);var FC={exports:{}},$r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M8;function _ye(){if(M8)return $r;M8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(x){if(typeof x=="object"&&x!==null){var b=x.$$typeof;switch(b){case t:switch(x=x.type,x){case n:case i:case r:case u:case d:return x;default:switch(x=x&&x.$$typeof,x){case l:case a:case c:case m:case f:case s:return x;default:return b}}case e:return b}}}return $r.ContextConsumer=a,$r.ContextProvider=s,$r.Element=t,$r.ForwardRef=c,$r.Fragment=n,$r.Lazy=m,$r.Memo=f,$r.Portal=e,$r.Profiler=i,$r.StrictMode=r,$r.Suspense=u,$r.SuspenseList=d,$r.isAsyncMode=function(){return!1},$r.isConcurrentMode=function(){return!1},$r.isContextConsumer=function(x){return v(x)===a},$r.isContextProvider=function(x){return v(x)===s},$r.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},$r.isForwardRef=function(x){return v(x)===c},$r.isFragment=function(x){return v(x)===n},$r.isLazy=function(x){return v(x)===m},$r.isMemo=function(x){return v(x)===f},$r.isPortal=function(x){return v(x)===e},$r.isProfiler=function(x){return v(x)===i},$r.isStrictMode=function(x){return v(x)===r},$r.isSuspense=function(x){return v(x)===u},$r.isSuspenseList=function(x){return v(x)===d},$r.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===d||x===p||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===f||x.$$typeof===s||x.$$typeof===a||x.$$typeof===c||x.$$typeof===y||x.getModuleId!==void 0)},$r.typeOf=v,$r}var R8;function jye(){return R8||(R8=1,FC.exports=_ye()),FC.exports}var Aye=jye(),BC,I8;function XX(){if(I8)return BC;I8=1;var t=Cf(),e=kf(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return BC=r,BC}var $C,D8;function Cye(){if(D8)return $C;D8=1;var t=XX();function e(n){return t(n)&&n!=+n}return $C=e,$C}var kye=Cye();const Dy=Ir(kye);var Tye=XX();const Oye=Ir(Tye);var lu=function(e){return e===0?0:e>0?1:-1},im=function(e){return Om(e)&&e.indexOf("%")===e.length-1},Pt=function(e){return Oye(e)&&!Dy(e)},Pye=function(e){return Gn(e)},Zs=function(e){return Pt(e)||Om(e)},Mye=0,tg=function(e){var n=++Mye;return"".concat(e||"").concat(n)},Pm=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(e)&&!Om(e))return r;var s;if(im(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Dy(s)&&(s=r),i&&s>n&&(s=n),s},_h=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Rye=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},xs=function(e,n){return Pt(e)&&Pt(n)?function(r){return e+r*(n-e)}:function(){return n}};function cN(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):mc(r,e))===n})}var Iye=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,s=0,a=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<n;f++)u=e[f].cx||0,d=e[f].cy||0,r+=u,i+=d,s+=u*d,a+=u*u,l=Math.min(l,u),c=Math.max(c,u);var m=n*a!==r*r?(n*s-r*i)/(n*a-r*r):0;return{xmin:l,xmax:c,a:m,b:(i-m*r)/n}},Dye=function(e,n){return Pt(e)&&Pt(n)?e-n:Om(e)&&Om(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Nv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function OP(t){"@babel/helpers - typeof";return OP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OP(t)}var Lye=["viewBox","children"],Fye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],L8=["points","pathLength"],zC={svg:Lye,polygon:L8,polyline:L8},bI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uN=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!Iy(r))return null;var i={};return Object.keys(r).forEach(function(s){bI.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Bye=function(e,n,r){return function(i){return e(n,r,i),null}},Hb=function(e,n,r){if(!Iy(e)||OP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];bI.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Bye(a,n,r))}),i},$ye=["children"],zye=["children"];function F8(t,e){if(t==null)return{};var n=qye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PP(t){"@babel/helpers - typeof";return PP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PP(t)}var B8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$8=null,qC=null,wI=function t(e){if(e===$8&&Array.isArray(qC))return qC;var n=[];return N.Children.forEach(e,function(r){Gn(r)||(Aye.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),qC=n,$8=e,n};function nl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return hf(i)}):r=[hf(e)],wI(t).forEach(function(i){var s=mc(i,"type.displayName")||mc(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function El(t,e){var n=nl(t,e);return n&&n[0]}var z8=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Pt(r)||r<=0||!Pt(i)||i<=0)},Uye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hye=function(e){return e&&e.type&&Om(e.type)&&Uye.indexOf(e.type)>=0},ZX=function(e){return e&&PP(e)==="object"&&"clipDot"in e},Vye=function(e,n,r,i){var s,a=(s=zC?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!er(e)&&(i&&a.includes(n)||Fye.includes(n))||r&&bI.includes(n)},Qn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Iy(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;Vye((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(s[a]=i[a])}),s},MP=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return q8(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!q8(s,a))return!1}return!0},q8=function(e,n){if(Gn(e)&&Gn(n))return!0;if(!Gn(e)&&!Gn(n)){var r=e.props||{},i=r.children,s=F8(r,$ye),a=n.props||{},l=a.children,c=F8(a,zye);return i&&l?Nv(s,c)&&MP(i,l):!i&&!l?Nv(s,c):!1}return!1},U8=function(e,n){var r=[],i={};return wI(e).forEach(function(s,a){if(Hye(s))r.push(s);else if(s){var l=hf(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,a);r.push(f),i[l]=!0}}}),r},Wye=function(e){var n=e&&e.type;return n&&B8[n]?B8[n]:null},Kye=function(e,n){return wI(n).indexOf(e)},Gye=["children","width","height","viewBox","className","style","title","desc"];function RP(){return RP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RP.apply(this,arguments)}function Yye(t,e){if(t==null)return{};var n=Xye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,l=t.title,c=t.desc,u=Yye(t,Gye),d=i||{width:n,height:r,x:0,y:0},f=fr("recharts-surface",s);return xe.createElement("svg",RP({},Qn(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),xe.createElement("title",null,l),xe.createElement("desc",null,c),e)}var Zye=["children","className"];function DP(){return DP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DP.apply(this,arguments)}function Qye(t,e){if(t==null)return{};var n=Jye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rr=xe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Qye(t,Zye),s=fr("recharts-layer",r);return xe.createElement("g",DP({className:s},Qn(i,!0),{ref:e}),n)}),pf=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},UC,H8;function exe(){if(H8)return UC;H8=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return UC=t,UC}var HC,V8;function txe(){if(V8)return HC;V8=1;var t=exe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return HC=e,HC}var VC,W8;function QX(){if(W8)return VC;W8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+t+i+s+"]");function c(u){return l.test(u)}return VC=c,VC}var WC,K8;function nxe(){if(K8)return WC;K8=1;function t(e){return e.split("")}return WC=t,WC}var KC,G8;function rxe(){if(G8)return KC;G8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+s+"]?",x="(?:"+p+"(?:"+[d,f,m].join("|")+")"+v+y+")*",b=v+y+x,S="(?:"+[d+l+"?",l,f,m,a].join("|")+")",_=RegExp(c+"(?="+c+")|"+S+b,"g");function j(C){return C.match(_)||[]}return KC=j,KC}var GC,Y8;function ixe(){if(Y8)return GC;Y8=1;var t=nxe(),e=QX(),n=rxe();function r(i){return e(i)?n(i):t(i)}return GC=r,GC}var YC,X8;function sxe(){if(X8)return YC;X8=1;var t=txe(),e=QX(),n=ixe(),r=KX();function i(s){return function(a){a=r(a);var l=e(a)?n(a):void 0,c=l?l[0]:a.charAt(0),u=l?t(l,1).join(""):a.slice(1);return c[s]()+u}}return YC=i,YC}var XC,Z8;function axe(){if(Z8)return XC;Z8=1;var t=sxe(),e=t("toUpperCase");return XC=e,XC}var oxe=axe();const a_=Ir(oxe);function wi(t){return function(){return t}}const JX=Math.cos,dN=Math.sin,xu=Math.sqrt,fN=Math.PI,o_=2*fN,LP=Math.PI,FP=2*LP,Gp=1e-6,lxe=FP-Gp;function eZ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cxe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eZ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eZ:cxe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,u=i-n,d=a-e,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Gp)if(!(Math.abs(f*c-u*d)>Gp)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,y=i-l,v=c*c+u*u,x=p*p+y*y,b=Math.sqrt(v),S=Math.sqrt(m),_=s*Math.tan((LP-Math.acos((v+m-x)/(2*b*S)))/2),j=_/S,C=_/b;Math.abs(j-1)>Gp&&this._append`L${e+j*d},${n+j*f}`,this._append`A${s},${s},0,0,${+(f*p>d*y)},${this._x1=e+C*c},${this._y1=n+C*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Gp||Math.abs(this._y1-d)>Gp)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%FP+FP),m>lxe?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:m>Gp&&this._append`A${r},${r},0,${+(m>=LP)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new uxe(e)}function SI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tZ(t){this._context=t}tZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function l_(t){return new tZ(t)}function nZ(t){return t[0]}function rZ(t){return t[1]}function iZ(t,e){var n=wi(!0),r=null,i=l_,s=null,a=NI(l);t=typeof t=="function"?t:t===void 0?nZ:wi(t),e=typeof e=="function"?e:e===void 0?rZ:wi(e);function l(c){var u,d=(c=SI(c)).length,f,m=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:wi(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:wi(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:wi(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Cw(t,e,n){var r=null,i=wi(!0),s=null,a=l_,l=null,c=NI(u);t=typeof t=="function"?t:t===void 0?nZ:wi(+t),e=typeof e=="function"?e:wi(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?rZ:wi(+n);function u(f){var m,p,y,v=(f=SI(f)).length,x,b=!1,S,_=new Array(v),j=new Array(v);for(s==null&&(l=a(S=c())),m=0;m<=v;++m){if(!(m<v&&i(x=f[m],m,f))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(_[y],j[y]);l.lineEnd(),l.areaEnd()}b&&(_[m]=+t(x,m,f),j[m]=+e(x,m,f),l.point(r?+r(x,m,f):_[m],n?+n(x,m,f):j[m]))}if(S)return l=null,S+""||null}function d(){return iZ().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:wi(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:wi(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wi(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:wi(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:wi(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wi(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:wi(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class sZ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dxe(t){return new sZ(t,!0)}function fxe(t){return new sZ(t,!1)}const EI={draw(t,e){const n=xu(e/fN);t.moveTo(n,0),t.arc(0,0,n,0,o_)}},hxe={draw(t,e){const n=xu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},aZ=xu(1/3),pxe=aZ*2,mxe={draw(t,e){const n=xu(e/pxe),r=n*aZ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gxe={draw(t,e){const n=xu(e),r=-n/2;t.rect(r,r,n,n)}},vxe=.8908130915292852,oZ=dN(fN/10)/dN(7*fN/10),yxe=dN(o_/10)*oZ,xxe=-JX(o_/10)*oZ,bxe={draw(t,e){const n=xu(e*vxe),r=yxe*n,i=xxe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=o_*s/5,l=JX(a),c=dN(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},ZC=xu(3),wxe={draw(t,e){const n=-xu(e/(ZC*3));t.moveTo(0,n*2),t.lineTo(-ZC*n,-n),t.lineTo(ZC*n,-n),t.closePath()}},nc=-.5,rc=xu(3)/2,BP=1/xu(12),Nxe=(BP/2+1)*3,Sxe={draw(t,e){const n=xu(e/Nxe),r=n/2,i=n*BP,s=r,a=n*BP+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(nc*r-rc*i,rc*r+nc*i),t.lineTo(nc*s-rc*a,rc*s+nc*a),t.lineTo(nc*l-rc*c,rc*l+nc*c),t.lineTo(nc*r+rc*i,nc*i-rc*r),t.lineTo(nc*s+rc*a,nc*a-rc*s),t.lineTo(nc*l+rc*c,nc*c-rc*l),t.closePath()}};function Exe(t,e){let n=null,r=NI(i);t=typeof t=="function"?t:wi(t||EI),e=typeof e=="function"?e:wi(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:wi(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:wi(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function hN(){}function pN(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lZ(t){this._context=t}lZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _xe(t){return new lZ(t)}function cZ(t){this._context=t}cZ.prototype={areaStart:hN,areaEnd:hN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jxe(t){return new cZ(t)}function uZ(t){this._context=t}uZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Axe(t){return new uZ(t)}function dZ(t){this._context=t}dZ.prototype={areaStart:hN,areaEnd:hN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cxe(t){return new dZ(t)}function Q8(t){return t<0?-1:1}function J8(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(Q8(s)+Q8(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function eB(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function QC(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function mN(t){this._context=t}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QC(this,this._t0,eB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,QC(this,eB(this,n=J8(this,t,e)),n);break;default:QC(this,this._t0,n=J8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function fZ(t){this._context=new hZ(t)}(fZ.prototype=Object.create(mN.prototype)).point=function(t,e){mN.prototype.point.call(this,e,t)};function hZ(t){this._context=t}hZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function kxe(t){return new mN(t)}function Txe(t){return new fZ(t)}function pZ(t){this._context=t}pZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tB(t),i=tB(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tB(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Oxe(t){return new pZ(t)}function c_(t,e){this._context=t,this._t=e}c_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Pxe(t){return new c_(t,.5)}function Mxe(t){return new c_(t,0)}function Rxe(t){return new c_(t,1)}function Bv(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $P(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ixe(t,e){return t[e]}function Dxe(t){const e=[];return e.key=t,e}function Lxe(){var t=wi([]),e=$P,n=Bv,r=Ixe;function i(s){var a=Array.from(t.apply(this,arguments),Dxe),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(f,a[l].key,u,s)]).data=f;for(l=0,d=SI(e(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:wi(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:wi(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?$P:typeof s=="function"?s:wi(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Bv,i):n},i}function Fxe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Bv(t,e)}}function Bxe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Bv(t,e)}}function $xe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],f=d[r][1]||0,m=d[r-1][1]||0,p=(f-m)/2,y=0;y<l;++y){var v=t[e[y]],x=v[r][1]||0,b=v[r-1][1]||0;p+=x-b}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Bv(t,e)}}function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}var zxe=["type","size","sizeType"];function zP(){return zP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zP.apply(this,arguments)}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){qxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qxe(t,e,n){return e=Uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uxe(t){var e=Hxe(t,"string");return Vb(e)=="symbol"?e:e+""}function Hxe(t,e){if(Vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vxe(t,e){if(t==null)return{};var n=Wxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mZ={symbolCircle:EI,symbolCross:hxe,symbolDiamond:mxe,symbolSquare:gxe,symbolStar:bxe,symbolTriangle:wxe,symbolWye:Sxe},Kxe=Math.PI/180,Gxe=function(e){var n="symbol".concat(a_(e));return mZ[n]||EI},Yxe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Kxe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Xxe=function(e,n){mZ["symbol".concat(a_(e))]=n},u_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=Vxe(e,zxe),u=rB(rB({},c),{},{type:r,size:s,sizeType:l}),d=function(){var x=Gxe(r),b=Exe().type(x).size(Yxe(s,l,r));return b()},f=u.className,m=u.cx,p=u.cy,y=Qn(u,!0);return m===+m&&p===+p&&s===+s?xe.createElement("path",zP({},y,{className:fr("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};u_.registerSymbol=Xxe;function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function qP(){return qP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qP.apply(this,arguments)}function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(n),!0).forEach(function(r){Wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vZ(r.key),r)}}function ebe(t,e,n){return e&&Jxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tbe(t,e,n){return e=gN(e),nbe(t,gZ()?Reflect.construct(e,n||[],gN(t).constructor):e.apply(t,n))}function nbe(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rbe(t)}function rbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gZ=function(){return!!t})()}function gN(t){return gN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gN(t)}function ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UP(t,e)}function UP(t,e){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UP(t,e)}function Wb(t,e,n){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t){var e=sbe(t,"string");return $v(e)=="symbol"?e:e+""}function sbe(t,e){if($v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ic=32,_I=(function(t){function e(){return Qxe(this,e),tbe(this,e,arguments)}return ibe(e,t),ebe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=ic/2,a=ic/6,l=ic/3,c=r.inactive?i:r.color;if(r.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ic,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ic,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return xe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ic/8,"h").concat(ic,"v").concat(ic*3/4,"h").concat(-ic,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(r.legendIcon)){var u=Zxe({},r);return delete u.legendIcon,xe.cloneElement(r.legendIcon,u)}return xe.createElement(u_,{fill:c,cx:s,cy:s,size:ic,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:ic,height:ic},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var v=p.formatter||c,x=fr(Wb(Wb({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=er(p.value)?null:p.value;pf(!er(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=p.inactive?u:p.color;return xe.createElement("li",qP({className:x,style:f,key:"legend-item-".concat(y)},Hb(r.props,p,y)),xe.createElement(IP,{width:a,height:a,viewBox:d,style:m},r.renderIcon(p)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},v?v(b,p,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(N.PureComponent);Wb(_I,"displayName","Legend");Wb(_I,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JC,sB;function abe(){if(sB)return JC;sB=1;var t=r_();function e(){this.__data__=new t,this.size=0}return JC=e,JC}var ek,aB;function obe(){if(aB)return ek;aB=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return ek=t,ek}var tk,oB;function lbe(){if(oB)return tk;oB=1;function t(e){return this.__data__.get(e)}return tk=t,tk}var nk,lB;function cbe(){if(lB)return nk;lB=1;function t(e){return this.__data__.has(e)}return nk=t,nk}var rk,cB;function ube(){if(cB)return rk;cB=1;var t=r_(),e=gI(),n=vI(),r=200;function i(s,a){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([s,a]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(s,a),this.size=l.size,this}return rk=i,rk}var ik,uB;function yZ(){if(uB)return ik;uB=1;var t=r_(),e=abe(),n=obe(),r=lbe(),i=cbe(),s=ube();function a(l){var c=this.__data__=new t(l);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,ik=a,ik}var sk,dB;function dbe(){if(dB)return sk;dB=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return sk=e,sk}var ak,fB;function fbe(){if(fB)return ak;fB=1;function t(e){return this.__data__.has(e)}return ak=t,ak}var ok,hB;function xZ(){if(hB)return ok;hB=1;var t=vI(),e=dbe(),n=fbe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,ok=r,ok}var lk,pB;function bZ(){if(pB)return lk;pB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return lk=t,lk}var ck,mB;function wZ(){if(mB)return ck;mB=1;function t(e,n){return e.has(n)}return ck=t,ck}var uk,gB;function NZ(){if(gB)return uk;gB=1;var t=xZ(),e=bZ(),n=wZ(),r=1,i=2;function s(a,l,c,u,d,f){var m=c&r,p=a.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var v=f.get(a),x=f.get(l);if(v&&x)return v==l&&x==a;var b=-1,S=!0,_=c&i?new t:void 0;for(f.set(a,l),f.set(l,a);++b<p;){var j=a[b],C=l[b];if(u)var O=m?u(C,j,b,l,a,f):u(j,C,b,a,l,f);if(O!==void 0){if(O)continue;S=!1;break}if(_){if(!e(l,function(M,A){if(!n(_,A)&&(j===M||d(j,M,c,u,f)))return _.push(A)})){S=!1;break}}else if(!(j===C||d(j,C,c,u,f))){S=!1;break}}return f.delete(a),f.delete(l),S}return uk=s,uk}var dk,vB;function hbe(){if(vB)return dk;vB=1;var t=vd(),e=t.Uint8Array;return dk=e,dk}var fk,yB;function pbe(){if(yB)return fk;yB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return fk=t,fk}var hk,xB;function jI(){if(xB)return hk;xB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return hk=t,hk}var pk,bB;function mbe(){if(bB)return pk;bB=1;var t=f1(),e=hbe(),n=mI(),r=NZ(),i=pbe(),s=jI(),a=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",_=t?t.prototype:void 0,j=_?_.valueOf:void 0;function C(O,M,A,P,B,R,F){switch(A){case S:if(O.byteLength!=M.byteLength||O.byteOffset!=M.byteOffset)return!1;O=O.buffer,M=M.buffer;case b:return!(O.byteLength!=M.byteLength||!R(new e(O),new e(M)));case c:case u:case m:return n(+O,+M);case d:return O.name==M.name&&O.message==M.message;case p:case v:return O==M+"";case f:var q=i;case y:var z=P&a;if(q||(q=s),O.size!=M.size&&!z)return!1;var G=F.get(O);if(G)return G==M;P|=l,F.set(O,M);var X=r(q(O),q(M),P,B,R,F);return F.delete(O),X;case x:if(j)return j.call(O)==j.call(M)}return!1}return pk=C,pk}var mk,wB;function SZ(){if(wB)return mk;wB=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return mk=t,mk}var gk,NB;function gbe(){if(NB)return gk;NB=1;var t=SZ(),e=ol();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return gk=n,gk}var vk,SB;function vbe(){if(SB)return vk;SB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[s++]=l)}return a}return vk=t,vk}var yk,EB;function ybe(){if(EB)return yk;EB=1;function t(){return[]}return yk=t,yk}var xk,_B;function xbe(){if(_B)return xk;_B=1;var t=vbe(),e=ybe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(l){return r.call(a,l)}))}:e;return xk=s,xk}var bk,jB;function bbe(){if(jB)return bk;jB=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return bk=t,bk}var wk,AB;function wbe(){if(AB)return wk;AB=1;var t=Cf(),e=kf(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return wk=r,wk}var Nk,CB;function AI(){if(CB)return Nk;CB=1;var t=wbe(),e=kf(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Nk=s,Nk}var Xx={exports:{}},Sk,kB;function Nbe(){if(kB)return Sk;kB=1;function t(){return!1}return Sk=t,Sk}Xx.exports;var TB;function EZ(){return TB||(TB=1,(function(t,e){var n=vd(),r=Nbe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(Xx,Xx.exports)),Xx.exports}var Ek,OB;function CI(){if(OB)return Ek;OB=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Ek=n,Ek}var _k,PB;function kI(){if(PB)return _k;PB=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return _k=e,_k}var jk,MB;function Sbe(){if(MB)return jk;MB=1;var t=Cf(),e=kI(),n=kf(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",x="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",_="[object Float64Array]",j="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",B="[object Uint32Array]",R={};R[S]=R[_]=R[j]=R[C]=R[O]=R[M]=R[A]=R[P]=R[B]=!0,R[r]=R[i]=R[x]=R[s]=R[b]=R[a]=R[l]=R[c]=R[u]=R[d]=R[f]=R[m]=R[p]=R[y]=R[v]=!1;function F(q){return n(q)&&e(q.length)&&!!R[t(q)]}return jk=F,jk}var Ak,RB;function _Z(){if(RB)return Ak;RB=1;function t(e){return function(n){return e(n)}}return Ak=t,Ak}var Zx={exports:{}};Zx.exports;var IB;function Ebe(){return IB||(IB=1,(function(t,e){var n=HX(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}})();t.exports=l})(Zx,Zx.exports)),Zx.exports}var Ck,DB;function jZ(){if(DB)return Ck;DB=1;var t=Sbe(),e=_Z(),n=Ebe(),r=n&&n.isTypedArray,i=r?e(r):t;return Ck=i,Ck}var kk,LB;function _be(){if(LB)return kk;LB=1;var t=bbe(),e=AI(),n=ol(),r=EZ(),i=CI(),s=jZ(),a=Object.prototype,l=a.hasOwnProperty;function c(u,d){var f=n(u),m=!f&&e(u),p=!f&&!m&&r(u),y=!f&&!m&&!p&&s(u),v=f||m||p||y,x=v?t(u.length,String):[],b=x.length;for(var S in u)(d||l.call(u,S))&&!(v&&(S=="length"||p&&(S=="offset"||S=="parent")||y&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,b)))&&x.push(S);return x}return kk=c,kk}var Tk,FB;function jbe(){if(FB)return Tk;FB=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Tk=e,Tk}var Ok,BB;function AZ(){if(BB)return Ok;BB=1;function t(e,n){return function(r){return e(n(r))}}return Ok=t,Ok}var Pk,$B;function Abe(){if($B)return Pk;$B=1;var t=AZ(),e=t(Object.keys,Object);return Pk=e,Pk}var Mk,zB;function Cbe(){if(zB)return Mk;zB=1;var t=jbe(),e=Abe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&a.push(l);return a}return Mk=i,Mk}var Rk,qB;function h1(){if(qB)return Rk;qB=1;var t=pI(),e=kI();function n(r){return r!=null&&e(r.length)&&!t(r)}return Rk=n,Rk}var Ik,UB;function d_(){if(UB)return Ik;UB=1;var t=_be(),e=Cbe(),n=h1();function r(i){return n(i)?t(i):e(i)}return Ik=r,Ik}var Dk,HB;function kbe(){if(HB)return Dk;HB=1;var t=gbe(),e=xbe(),n=d_();function r(i){return t(i,n,e)}return Dk=r,Dk}var Lk,VB;function Tbe(){if(VB)return Lk;VB=1;var t=kbe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,l,c,u,d){var f=l&e,m=t(s),p=m.length,y=t(a),v=y.length;if(p!=v&&!f)return!1;for(var x=p;x--;){var b=m[x];if(!(f?b in a:r.call(a,b)))return!1}var S=d.get(s),_=d.get(a);if(S&&_)return S==a&&_==s;var j=!0;d.set(s,a),d.set(a,s);for(var C=f;++x<p;){b=m[x];var O=s[b],M=a[b];if(c)var A=f?c(M,O,b,a,s,d):c(O,M,b,s,a,d);if(!(A===void 0?O===M||u(O,M,l,c,d):A)){j=!1;break}C||(C=b=="constructor")}if(j&&!C){var P=s.constructor,B=a.constructor;P!=B&&"constructor"in s&&"constructor"in a&&!(typeof P=="function"&&P instanceof P&&typeof B=="function"&&B instanceof B)&&(j=!1)}return d.delete(s),d.delete(a),j}return Lk=i,Lk}var Fk,WB;function Obe(){if(WB)return Fk;WB=1;var t=eg(),e=vd(),n=t(e,"DataView");return Fk=n,Fk}var Bk,KB;function Pbe(){if(KB)return Bk;KB=1;var t=eg(),e=vd(),n=t(e,"Promise");return Bk=n,Bk}var $k,GB;function CZ(){if(GB)return $k;GB=1;var t=eg(),e=vd(),n=t(e,"Set");return $k=n,$k}var zk,YB;function Mbe(){if(YB)return zk;YB=1;var t=eg(),e=vd(),n=t(e,"WeakMap");return zk=n,zk}var qk,XB;function Rbe(){if(XB)return qk;XB=1;var t=Obe(),e=gI(),n=Pbe(),r=CZ(),i=Mbe(),s=Cf(),a=VX(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=a(t),y=a(e),v=a(n),x=a(r),b=a(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=m||e&&S(new e)!=l||n&&S(n.resolve())!=u||r&&S(new r)!=d||i&&S(new i)!=f)&&(S=function(_){var j=s(_),C=j==c?_.constructor:void 0,O=C?a(C):"";if(O)switch(O){case p:return m;case y:return l;case v:return u;case x:return d;case b:return f}return j}),qk=S,qk}var Uk,ZB;function Ibe(){if(ZB)return Uk;ZB=1;var t=yZ(),e=NZ(),n=mbe(),r=Tbe(),i=Rbe(),s=ol(),a=EZ(),l=jZ(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(v,x,b,S,_,j){var C=s(v),O=s(x),M=C?d:i(v),A=O?d:i(x);M=M==u?f:M,A=A==u?f:A;var P=M==f,B=A==f,R=M==A;if(R&&a(v)){if(!a(x))return!1;C=!0,P=!1}if(R&&!P)return j||(j=new t),C||l(v)?e(v,x,b,S,_,j):n(v,x,M,b,S,_,j);if(!(b&c)){var F=P&&p.call(v,"__wrapped__"),q=B&&p.call(x,"__wrapped__");if(F||q){var z=F?v.value():v,G=q?x.value():x;return j||(j=new t),_(z,G,b,S,j)}}return R?(j||(j=new t),r(v,x,b,S,_,j)):!1}return Uk=y,Uk}var Hk,QB;function TI(){if(QB)return Hk;QB=1;var t=Ibe(),e=kf();function n(r,i,s,a,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,l)}return Hk=n,Hk}var Vk,JB;function Dbe(){if(JB)return Vk;JB=1;var t=yZ(),e=TI(),n=1,r=2;function i(s,a,l,c){var u=l.length,d=u,f=!c;if(s==null)return!d;for(s=Object(s);u--;){var m=l[u];if(f&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<d;){m=l[u];var p=m[0],y=s[p],v=m[1];if(f&&m[2]){if(y===void 0&&!(p in s))return!1}else{var x=new t;if(c)var b=c(y,v,p,s,a,x);if(!(b===void 0?e(v,y,n|r,c,x):b))return!1}}return!0}return Vk=i,Vk}var Wk,e$;function kZ(){if(e$)return Wk;e$=1;var t=lp();function e(n){return n===n&&!t(n)}return Wk=e,Wk}var Kk,t$;function Lbe(){if(t$)return Kk;t$=1;var t=kZ(),e=d_();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],l=r[a];i[s]=[a,l,t(l)]}return i}return Kk=n,Kk}var Gk,n$;function TZ(){if(n$)return Gk;n$=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Gk=t,Gk}var Yk,r$;function Fbe(){if(r$)return Yk;r$=1;var t=Dbe(),e=Lbe(),n=TZ();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return Yk=r,Yk}var Xk,i$;function Bbe(){if(i$)return Xk;i$=1;function t(e,n){return e!=null&&n in Object(e)}return Xk=t,Xk}var Zk,s$;function $be(){if(s$)return Zk;s$=1;var t=GX(),e=AI(),n=ol(),r=CI(),i=kI(),s=s_();function a(l,c,u){c=t(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var p=s(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&i(f)&&r(p,f)&&(n(l)||e(l)))}return Zk=a,Zk}var Qk,a$;function zbe(){if(a$)return Qk;a$=1;var t=Bbe(),e=$be();function n(r,i){return r!=null&&e(r,i,t)}return Qk=n,Qk}var Jk,o$;function qbe(){if(o$)return Jk;o$=1;var t=TI(),e=YX(),n=zbe(),r=hI(),i=kZ(),s=TZ(),a=s_(),l=1,c=2;function u(d,f){return r(d)&&i(f)?s(a(d),f):function(m){var p=e(m,d);return p===void 0&&p===f?n(m,d):t(f,p,l|c)}}return Jk=u,Jk}var e5,l$;function Ly(){if(l$)return e5;l$=1;function t(e){return e}return e5=t,e5}var t5,c$;function Ube(){if(c$)return t5;c$=1;function t(e){return function(n){return n?.[e]}}return t5=t,t5}var n5,u$;function Hbe(){if(u$)return n5;u$=1;var t=xI();function e(n){return function(r){return t(r,n)}}return n5=e,n5}var r5,d$;function Vbe(){if(d$)return r5;d$=1;var t=Ube(),e=Hbe(),n=hI(),r=s_();function i(s){return n(s)?t(r(s)):e(s)}return r5=i,r5}var i5,f$;function cp(){if(f$)return i5;f$=1;var t=Fbe(),e=qbe(),n=Ly(),r=ol(),i=Vbe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return i5=s,i5}var s5,h$;function OZ(){if(h$)return s5;h$=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return s5=t,s5}var a5,p$;function Wbe(){if(p$)return a5;p$=1;function t(e){return e!==e}return a5=t,a5}var o5,m$;function Kbe(){if(m$)return o5;m$=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return o5=t,o5}var l5,g$;function Gbe(){if(g$)return l5;g$=1;var t=OZ(),e=Wbe(),n=Kbe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return l5=r,l5}var c5,v$;function Ybe(){if(v$)return c5;v$=1;var t=Gbe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return c5=e,c5}var u5,y$;function Xbe(){if(y$)return u5;y$=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return u5=t,u5}var d5,x$;function Zbe(){if(x$)return d5;x$=1;function t(){}return d5=t,d5}var f5,b$;function Qbe(){if(b$)return f5;b$=1;var t=CZ(),e=Zbe(),n=jI(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return f5=i,f5}var h5,w$;function Jbe(){if(w$)return h5;w$=1;var t=xZ(),e=Ybe(),n=Xbe(),r=wZ(),i=Qbe(),s=jI(),a=200;function l(c,u,d){var f=-1,m=e,p=c.length,y=!0,v=[],x=v;if(d)y=!1,m=n;else if(p>=a){var b=u?null:i(c);if(b)return s(b);y=!1,m=r,x=new t}else x=u?[]:v;e:for(;++f<p;){var S=c[f],_=u?u(S):S;if(S=d||S!==0?S:0,y&&_===_){for(var j=x.length;j--;)if(x[j]===_)continue e;u&&x.push(_),v.push(S)}else m(x,_,d)||(x!==v&&x.push(_),v.push(S))}return v}return h5=l,h5}var p5,N$;function e0e(){if(N$)return p5;N$=1;var t=cp(),e=Jbe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return p5=n,p5}var t0e=e0e();const S$=Ir(t0e);function PZ(t,e,n){return e===!0?S$(t,n):er(e)?S$(t,e):t}function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}var n0e=["ref"];function E$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RZ(r.key),r)}}function i0e(t,e,n){return e&&_$(t.prototype,e),n&&_$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,n){return e=vN(e),a0e(t,MZ()?Reflect.construct(e,n||[],vN(t).constructor):e.apply(t,n))}function a0e(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(t)}function o0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MZ=function(){return!!t})()}function vN(t){return vN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vN(t)}function l0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HP(t,e)}function HP(t,e){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HP(t,e)}function f_(t,e,n){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=c0e(t,"string");return zv(e)=="symbol"?e:e+""}function c0e(t,e){if(zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u0e(t,e){if(t==null)return{};var n=d0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f0e(t){return t.value}function h0e(t,e){if(xe.isValidElement(t))return xe.cloneElement(t,e);if(typeof t=="function")return xe.createElement(t,e);e.ref;var n=u0e(e,n0e);return xe.createElement(_I,n)}var j$=1,mf=(function(t){function e(){var n;r0e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=s0e(this,e,[].concat(i)),f_(n,"lastBoundingBox",{width:-1,height:-1}),n}return l0e(e,t),i0e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>j$||Math.abs(i.height-this.lastBoundingBox.height)>j$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Gd(Gd({},f),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Gd(Gd({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return xe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},h0e(s,Gd(Gd({},this.props),{},{payload:PZ(d,u,f0e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Gd(Gd({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&Pt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(N.PureComponent);f_(mf,"displayName","Legend");f_(mf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var m5,A$;function p0e(){if(A$)return m5;A$=1;var t=f1(),e=AI(),n=ol(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return m5=i,m5}var g5,C$;function IZ(){if(C$)return g5;C$=1;var t=SZ(),e=p0e();function n(r,i,s,a,l){var c=-1,u=r.length;for(s||(s=e),l||(l=[]);++c<u;){var d=r[c];i>0&&s(d)?i>1?n(d,i-1,s,a,l):t(l,d):a||(l[l.length]=d)}return l}return g5=n,g5}var v5,k$;function m0e(){if(k$)return v5;k$=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),l=i(n),c=l.length;c--;){var u=l[e?c:++s];if(r(a[u],u,a)===!1)break}return n}}return v5=t,v5}var y5,T$;function g0e(){if(T$)return y5;T$=1;var t=m0e(),e=t();return y5=e,y5}var x5,O$;function DZ(){if(O$)return x5;O$=1;var t=g0e(),e=d_();function n(r,i){return r&&t(r,i,e)}return x5=n,x5}var b5,P$;function v0e(){if(P$)return b5;P$=1;var t=h1();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,l=r?a:-1,c=Object(i);(r?l--:++l<a)&&s(c[l],l,c)!==!1;);return i}}return b5=e,b5}var w5,M$;function OI(){if(M$)return w5;M$=1;var t=DZ(),e=v0e(),n=e(t);return w5=n,w5}var N5,R$;function LZ(){if(R$)return N5;R$=1;var t=OI(),e=h1();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(l,c,u){a[++s]=i(l,c,u)}),a}return N5=n,N5}var S5,I$;function y0e(){if(I$)return S5;I$=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return S5=t,S5}var E5,D$;function x0e(){if(D$)return E5;D$=1;var t=Ry();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,l=t(n),c=r!==void 0,u=r===null,d=r===r,f=t(r);if(!u&&!f&&!l&&n>r||l&&c&&d&&!u&&!f||s&&c&&d||!i&&d||!a)return 1;if(!s&&!l&&!f&&n<r||f&&i&&a&&!s&&!l||u&&i&&a||!c&&a||!d)return-1}return 0}return E5=e,E5}var _5,L$;function b0e(){if(L$)return _5;L$=1;var t=x0e();function e(n,r,i){for(var s=-1,a=n.criteria,l=r.criteria,c=a.length,u=i.length;++s<c;){var d=t(a[s],l[s]);if(d){if(s>=u)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return n.index-r.index}return _5=e,_5}var j5,F$;function w0e(){if(F$)return j5;F$=1;var t=yI(),e=xI(),n=cp(),r=LZ(),i=y0e(),s=_Z(),a=b0e(),l=Ly(),c=ol();function u(d,f,m){f.length?f=t(f,function(v){return c(v)?function(x){return e(x,v.length===1?v[0]:v)}:v}):f=[l];var p=-1;f=t(f,s(n));var y=r(d,function(v,x,b){var S=t(f,function(_){return _(v)});return{criteria:S,index:++p,value:v}});return i(y,function(v,x){return a(v,x,m)})}return j5=u,j5}var A5,B$;function N0e(){if(B$)return A5;B$=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return A5=t,A5}var C5,$$;function S0e(){if($$)return C5;$$=1;var t=N0e(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,l=-1,c=e(a.length-i,0),u=Array(c);++l<c;)u[l]=a[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=a[l];return d[i]=s(u),t(r,this,d)}}return C5=n,C5}var k5,z$;function E0e(){if(z$)return k5;z$=1;function t(e){return function(){return e}}return k5=t,k5}var T5,q$;function FZ(){if(q$)return T5;q$=1;var t=eg(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return T5=e,T5}var O5,U$;function _0e(){if(U$)return O5;U$=1;var t=E0e(),e=FZ(),n=Ly(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return O5=r,O5}var P5,H$;function j0e(){if(H$)return P5;H$=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var l=n(),c=e-(l-a);if(a=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return P5=r,P5}var M5,V$;function A0e(){if(V$)return M5;V$=1;var t=_0e(),e=j0e(),n=e(t);return M5=n,M5}var R5,W$;function C0e(){if(W$)return R5;W$=1;var t=Ly(),e=S0e(),n=A0e();function r(i,s){return n(e(i,s,t),i+"")}return R5=r,R5}var I5,K$;function h_(){if(K$)return I5;K$=1;var t=mI(),e=h1(),n=CI(),r=lp();function i(s,a,l){if(!r(l))return!1;var c=typeof a;return(c=="number"?e(l)&&n(a,l.length):c=="string"&&a in l)?t(l[a],s):!1}return I5=i,I5}var D5,G$;function k0e(){if(G$)return D5;G$=1;var t=IZ(),e=w0e(),n=C0e(),r=h_(),i=n(function(s,a){if(s==null)return[];var l=a.length;return l>1&&r(s,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return D5=i,D5}var T0e=k0e();const PI=Ir(T0e);function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VP.apply(this,arguments)}function O0e(t,e){return I0e(t)||R0e(t,e)||M0e(t,e)||P0e()}function P0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(t,e){if(t){if(typeof t=="string")return Y$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y$(t,e)}}function Y$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function I0e(t){if(Array.isArray(t))return t}function X$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(n),!0).forEach(function(r){D0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0e(t,e,n){return e=L0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0e(t){var e=F0e(t,"string");return Kb(e)=="symbol"?e:e+""}function F0e(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t){return Array.isArray(t)&&Zs(t[0])&&Zs(t[1])?t.join(" ~ "):t}var $0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,v=e.label,x=e.labelFormatter,b=e.accessibilityLayer,S=b===void 0?!1:b,_=function(){if(d&&d.length){var F={padding:0,margin:0},q=(m?PI(d,m):d).map(function(z,G){if(z.type==="none")return null;var X=L5({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),U=z.formatter||f||B0e,W=z.value,Y=z.name,ie=W,Z=Y;if(U&&ie!=null&&Z!=null){var I=U(W,Y,z,G,d);if(Array.isArray(I)){var V=O0e(I,2);ie=V[0],Z=V[1]}else ie=I}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:X},Zs(Z)?xe.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Zs(Z)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},ie),xe.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:F},q)}return null},j=L5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=L5({margin:0},u),O=!Gn(v),M=O?v:"",A=fr("recharts-default-tooltip",p),P=fr("recharts-tooltip-label",y);O&&x&&d!==void 0&&d!==null&&(M=x(v,d));var B=S?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",VP({className:A,style:j},B),xe.createElement("p",{className:P,style:C},xe.isValidElement(M)?M:"".concat(M)),_())};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function kw(t,e,n){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=q0e(t,"string");return Gb(e)=="symbol"?e:e+""}function q0e(t,e){if(Gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Px="recharts-tooltip-wrapper",U0e={visibility:"hidden"};function H0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return fr(Px,kw(kw(kw(kw({},"".concat(Px,"-right"),Pt(n)&&e&&Pt(e.x)&&n>=e.x),"".concat(Px,"-left"),Pt(n)&&e&&Pt(e.x)&&n<e.x),"".concat(Px,"-bottom"),Pt(r)&&e&&Pt(e.y)&&r>=e.y),"".concat(Px,"-top"),Pt(r)&&e&&Pt(e.y)&&r<e.y))}function Z$(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Pt(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var m=d,p=c[r];return m<p?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,v=c[r]+u;return y>v?Math.max(d,c[r]):Math.max(f,c[r])}function V0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function W0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=Z$({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=Z$({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=V0e({translateX:d,translateY:f,useTranslate3d:l})):u=U0e,{cssProperties:u,cssClasses:H0e({translateX:d,translateY:f,coordinate:n})}}function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function Q$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(n),!0).forEach(function(r){KP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$Z(r.key),r)}}function Y0e(t,e,n){return e&&G0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X0e(t,e,n){return e=yN(e),Z0e(t,BZ()?Reflect.construct(e,n||[],yN(t).constructor):e.apply(t,n))}function Z0e(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q0e(t)}function Q0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BZ=function(){return!!t})()}function yN(t){return yN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yN(t)}function J0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WP(t,e)}function KP(t,e,n){return e=$Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=e1e(t,"string");return qv(e)=="symbol"?e:e+""}function e1e(t,e){if(qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e7=1,t1e=(function(t){function e(){var n;K0e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=X0e(this,e,[].concat(i)),KP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),KP(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return J0e(e,t),Y0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>e7||Math.abs(r.height-this.state.lastBoundingBox.height)>e7)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,p=i.offset,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,_=W0e({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),j=_.cssClasses,C=_.cssProperties,O=J$(J$({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return xe.createElement("div",{tabIndex:-1,className:j,style:O,ref:function(A){r.wrapperNode=A}},u)}}])})(N.PureComponent),n1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},up={isSsr:n1e()};function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){MI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qZ(r.key),r)}}function s1e(t,e,n){return e&&i1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a1e(t,e,n){return e=xN(e),o1e(t,zZ()?Reflect.construct(e,n||[],xN(t).constructor):e.apply(t,n))}function o1e(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l1e(t)}function l1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zZ=function(){return!!t})()}function xN(t){return xN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xN(t)}function c1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GP(t,e)}function GP(t,e){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GP(t,e)}function MI(t,e,n){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=u1e(t,"string");return Uv(e)=="symbol"?e:e+""}function u1e(t,e){if(Uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d1e(t){return t.dataKey}function f1e(t,e){return xe.isValidElement(t)?xe.cloneElement(t,e):typeof t=="function"?xe.createElement(t,e):xe.createElement($0e,e)}var Xo=(function(t){function e(){return r1e(this,e),a1e(this,e,arguments)}return c1e(e,t),s1e(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,p=i.offset,y=i.payload,v=i.payloadUniqBy,x=i.position,b=i.reverseDirection,S=i.useTranslate3d,_=i.viewBox,j=i.wrapperStyle,C=y??[];f&&C.length&&(C=PZ(y.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),v,d1e));var O=C.length>0;return xe.createElement(t1e,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:O,offset:p,position:x,reverseDirection:b,useTranslate3d:S,viewBox:_,wrapperStyle:j},f1e(u,n7(n7({},this.props),{},{payload:C})))}}])})(N.PureComponent);MI(Xo,"displayName","Tooltip");MI(Xo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!up.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var F5,r7;function h1e(){if(r7)return F5;r7=1;var t=vd(),e=function(){return t.Date.now()};return F5=e,F5}var B5,i7;function p1e(){if(i7)return B5;i7=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return B5=e,B5}var $5,s7;function m1e(){if(s7)return $5;s7=1;var t=p1e(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return $5=n,$5}var z5,a7;function UZ(){if(a7)return z5;a7=1;var t=m1e(),e=lp(),n=Ry(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=s.test(u);return f||a.test(u)?l(u.slice(2),f?2:8):i.test(u)?r:+u}return z5=c,z5}var q5,o7;function g1e(){if(o7)return q5;o7=1;var t=lp(),e=h1e(),n=UZ(),r="Expected a function",i=Math.max,s=Math.min;function a(l,c,u){var d,f,m,p,y,v,x=0,b=!1,S=!1,_=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(b=!!u.leading,S="maxWait"in u,m=S?i(n(u.maxWait)||0,c):m,_="trailing"in u?!!u.trailing:_);function j(q){var z=d,G=f;return d=f=void 0,x=q,p=l.apply(G,z),p}function C(q){return x=q,y=setTimeout(A,c),b?j(q):p}function O(q){var z=q-v,G=q-x,X=c-z;return S?s(X,m-G):X}function M(q){var z=q-v,G=q-x;return v===void 0||z>=c||z<0||S&&G>=m}function A(){var q=e();if(M(q))return P(q);y=setTimeout(A,O(q))}function P(q){return y=void 0,_&&d?j(q):(d=f=void 0,p)}function B(){y!==void 0&&clearTimeout(y),x=0,d=v=f=y=void 0}function R(){return y===void 0?p:P(e())}function F(){var q=e(),z=M(q);if(d=arguments,f=this,v=q,z){if(y===void 0)return C(v);if(S)return clearTimeout(y),y=setTimeout(A,c),j(v)}return y===void 0&&(y=setTimeout(A,c)),p}return F.cancel=B,F.flush=R,F}return q5=a,q5}var U5,l7;function v1e(){if(l7)return U5;l7=1;var t=g1e(),e=lp(),n="Expected a function";function r(i,s,a){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(l="leading"in a?!!a.leading:l,c="trailing"in a?!!a.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return U5=r,U5}var y1e=v1e();const HZ=Ir(y1e);function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function c7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(n),!0).forEach(function(r){x1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1e(t,e,n){return e=b1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b1e(t){var e=w1e(t,"string");return Yb(e)=="symbol"?e:e+""}function w1e(t,e){if(Yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N1e(t,e){return j1e(t)||_1e(t,e)||E1e(t,e)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(t,e){if(t){if(typeof t=="string")return u7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u7(t,e)}}function u7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function j1e(t){if(Array.isArray(t))return t}var ub=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,p=t.children,y=t.debounce,v=y===void 0?0:y,x=t.id,b=t.className,S=t.onResize,_=t.style,j=_===void 0?{}:_,C=N.useRef(null),O=N.useRef();O.current=S,N.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var M=N.useState({containerWidth:i.width,containerHeight:i.height}),A=N1e(M,2),P=A[0],B=A[1],R=N.useCallback(function(q,z){B(function(G){var X=Math.round(q),U=Math.round(z);return G.containerWidth===X&&G.containerHeight===U?G:{containerWidth:X,containerHeight:U}})},[]);N.useEffect(function(){var q=function(Y){var ie,Z=Y[0].contentRect,I=Z.width,V=Z.height;R(I,V),(ie=O.current)===null||ie===void 0||ie.call(O,I,V)};v>0&&(q=HZ(q,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(q),G=C.current.getBoundingClientRect(),X=G.width,U=G.height;return R(X,U),z.observe(C.current),function(){z.disconnect()}},[R,v]);var F=N.useMemo(function(){var q=P.containerWidth,z=P.containerHeight;if(q<0||z<0)return null;pf(im(a)||im(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),pf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=im(a)?q:a,X=im(c)?z:c;n&&n>0&&(G?X=G/n:X&&(G=X*n),m&&X>m&&(X=m)),pf(G>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,X,a,c,d,f,n);var U=!Array.isArray(p)&&hf(p.type).endsWith("Chart");return xe.Children.map(p,function(W){return xe.isValidElement(W)?N.cloneElement(W,Tw({width:G,height:X},U?{style:Tw({height:"100%",width:"100%",maxHeight:X,maxWidth:G},W.props.style)}:{})):W})},[n,p,c,m,f,d,P,a]);return xe.createElement("div",{id:x?"".concat(x):void 0,className:fr("recharts-responsive-container",b),style:Tw(Tw({},j),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},F)}),kh=function(e){return null};kh.displayName="Cell";function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function d7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(n),!0).forEach(function(r){A1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A1e(t,e,n){return e=C1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C1e(t){var e=k1e(t,"string");return Xb(e)=="symbol"?e:e+""}function k1e(t,e){if(Xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fg={widthCache:{},cacheCount:0},T1e=2e3,O1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f7="recharts_measurement_span";function P1e(t){var e=YP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var db=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||up.isSsr)return{width:0,height:0};var r=P1e(n),i=JSON.stringify({text:e,copyStyle:r});if(Fg.widthCache[i])return Fg.widthCache[i];try{var s=document.getElementById(f7);s||(s=document.createElement("span"),s.setAttribute("id",f7),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=YP(YP({},O1e),r);Object.assign(s.style,a),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Fg.widthCache[i]=c,++Fg.cacheCount>T1e&&(Fg.cacheCount=0,Fg.widthCache={}),c}catch{return{width:0,height:0}}},M1e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function bN(t,e){return L1e(t)||D1e(t,e)||I1e(t,e)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(t,e){if(t){if(typeof t=="string")return h7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h7(t,e)}}function h7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function L1e(t){if(Array.isArray(t))return t}function F1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$1e(r.key),r)}}function B1e(t,e,n){return e&&p7(t.prototype,e),n&&p7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $1e(t){var e=z1e(t,"string");return Zb(e)=="symbol"?e:e+""}function z1e(t,e){if(Zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,U1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},H1e=Object.keys(VZ),uv="NaN";function V1e(t,e){return t*VZ[e]}var Ow=(function(){function t(e,n){F1e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!q1e.test(n)&&(this.num=NaN,this.unit=""),H1e.includes(n)&&(this.num=V1e(e,n),this.unit="px")}return B1e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=U1e.exec(n))!==null&&r!==void 0?r:[],s=bN(i,3),a=s[1],l=s[2];return new t(parseFloat(a),l??"")}}])})();function WZ(t){if(t.includes(uv))return uv;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=m7.exec(e))!==null&&n!==void 0?n:[],i=bN(r,4),s=i[1],a=i[2],l=i[3],c=Ow.parse(s??""),u=Ow.parse(l??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return uv;e=e.replace(m7,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=g7.exec(e))!==null&&f!==void 0?f:[],p=bN(m,4),y=p[1],v=p[2],x=p[3],b=Ow.parse(y??""),S=Ow.parse(x??""),_=v==="+"?b.add(S):b.subtract(S);if(_.isNaN())return uv;e=e.replace(g7,_.toString())}return e}var v7=/\(([^()]*)\)/;function W1e(t){for(var e=t;e.includes("(");){var n=v7.exec(e),r=bN(n,2),i=r[1];e=e.replace(v7,WZ(i))}return e}function K1e(t){var e=t.replace(/\s+/g,"");return e=W1e(e),e=WZ(e),e}function G1e(t){try{return K1e(t)}catch{return uv}}function H5(t){var e=G1e(t.slice(5,-1));return e===uv?"":e}var Y1e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],X1e=["dx","dy","angle","className","breakAll"];function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function y7(t,e){if(t==null)return{};var n=Z1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x7(t,e){return twe(t)||ewe(t,e)||J1e(t,e)||Q1e()}function Q1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1e(t,e){if(t){if(typeof t=="string")return b7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b7(t,e)}}function b7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ewe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function twe(t){if(Array.isArray(t))return t}var KZ=/[ \f\n\r\t\v\u2028\u2029]+/,GZ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Gn(n)||(r?s=n.toString().split(""):s=n.toString().split(KZ));var a=s.map(function(c){return{word:c,width:db(c,i).width}}),l=r?0:db("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},nwe=function(e,n,r,i,s){var a=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Pt(a),f=l,m=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(X,U){var W=U.word,Y=U.width,ie=X[X.length-1];if(ie&&(i==null||s||ie.width+Y+r<Number(i)))ie.words.push(W),ie.width+=Y+r;else{var Z={words:[W],width:Y};X.push(Z)}return X},[])},p=m(n),y=function(G){return G.reduce(function(X,U){return X.width>U.width?X:U})};if(!d)return p;for(var v="",x=function(G){var X=f.slice(0,G),U=GZ({breakAll:u,style:c,children:X+v}).wordsWithComputedWidth,W=m(U),Y=W.length>a||y(W).width>Number(i);return[Y,W]},b=0,S=f.length-1,_=0,j;b<=S&&_<=f.length-1;){var C=Math.floor((b+S)/2),O=C-1,M=x(O),A=x7(M,2),P=A[0],B=A[1],R=x(C),F=x7(R,1),q=F[0];if(!P&&!q&&(b=C+1),P&&q&&(S=C-1),!P&&q){j=B;break}_++}return j||p},w7=function(e){var n=Gn(e)?[]:e.toString().split(KZ);return[{words:n}]},rwe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!up.isSsr){var c,u,d=GZ({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return w7(i);return nwe({breakAll:a,children:i,maxLines:l,style:s},c,u,n,r)}return w7(i)},N7="#808080",wN=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,p=m===void 0?"start":m,y=e.verticalAnchor,v=y===void 0?"end":y,x=e.fill,b=x===void 0?N7:x,S=y7(e,Y1e),_=N.useMemo(function(){return rwe({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),j=S.dx,C=S.dy,O=S.angle,M=S.className,A=S.breakAll,P=y7(S,X1e);if(!Zs(r)||!Zs(s))return null;var B=r+(Pt(j)?j:0),R=s+(Pt(C)?C:0),F;switch(v){case"start":F=H5("calc(".concat(u,")"));break;case"middle":F=H5("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:F=H5("calc(".concat(_.length-1," * -").concat(l,")"));break}var q=[];if(f){var z=_[0].width,G=S.width;q.push("scale(".concat((Pt(G)?G/z:1)/z,")"))}return O&&q.push("rotate(".concat(O,", ").concat(B,", ").concat(R,")")),q.length&&(P.transform=q.join(" ")),xe.createElement("text",XP({},Qn(P,!0),{x:B,y:R,className:fr("recharts-text",M),textAnchor:p,fill:b.includes("url")?N7:b}),_.map(function(X,U){var W=X.words.join(A?"":" ");return xe.createElement("tspan",{x:B,dy:U===0?F:l,key:"".concat(W,"-").concat(U)},W)}))};function zh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iwe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RI(t){let e,n,r;t.length!==2?(e=zh,n=(l,c)=>zh(t(l),c),r=(l,c)=>t(l)-c):(e=t===zh||t===iwe?t:swe,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function swe(){return 0}function YZ(t){return t===null?NaN:+t}function*awe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const owe=RI(zh),p1=owe.right;RI(YZ).center;class S7 extends Map{constructor(e,n=uwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(E7(this,e))}has(e){return super.has(E7(this,e))}set(e,n){return super.set(lwe(this,e),n)}delete(e){return super.delete(cwe(this,e))}}function E7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lwe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cwe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uwe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dwe(t=zh){if(t===zh)return XZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function XZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fwe=Math.sqrt(50),hwe=Math.sqrt(10),pwe=Math.sqrt(2);function NN(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=fwe?10:s>=hwe?5:s>=pwe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?NN(t,e,n*2):[l,c,u]}function ZP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?NN(e,t,n):NN(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function QP(t,e,n){return e=+e,t=+t,n=+n,NN(t,e,n)[2]}function JP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?QP(e,t,n):QP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _7(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function j7(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZZ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?XZ:dwe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+m)),y=Math.min(r,Math.floor(e+(c-u)*f/c+m));ZZ(t,e,p,y,i)}const s=t[e];let a=n,l=r;for(Mx(t,n,e),i(t[r],s)>0&&Mx(t,n,r);a<l;){for(Mx(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Mx(t,n,l):(++l,Mx(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Mx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function mwe(t,e,n){if(t=Float64Array.from(awe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return j7(t);if(e>=1)return _7(t);var r,i=(r-1)*e,s=Math.floor(i),a=_7(ZZ(t,s).subarray(0,s+1)),l=j7(t.subarray(s+1));return a+(l-a)*(i-s)}}function gwe(t,e,n=YZ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function vwe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ec(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Tf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eM=Symbol("implicit");function II(){var t=new S7,e=[],n=[],r=eM;function i(s){let a=t.get(s);if(a===void 0){if(r!==eM)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new S7;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return II(e,n).unknown(r)},Ec.apply(i,arguments),i}function Qb(){var t=II().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,p=i<r,y=p?i:r,v=p?r:i;s=(v-y)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),y+=(v-y-s*(m-c))*d,a=s*(1-c),l&&(y=Math.round(y),a=Math.round(a));var x=vwe(m).map(function(b){return y+s*b});return n(p?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Qb(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ec.apply(f(),arguments)}function QZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QZ(e())},t}function fb(){return QZ(Qb.apply(null,arguments).paddingInner(1))}function DI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JZ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function m1(){}var Jb=.7,SN=1/Jb,Sv="\\s*([+-]?\\d+)\\s*",e0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ywe=/^#([0-9a-f]{3,8})$/,xwe=new RegExp(`^rgb\\(${Sv},${Sv},${Sv}\\)$`),bwe=new RegExp(`^rgb\\(${id},${id},${id}\\)$`),wwe=new RegExp(`^rgba\\(${Sv},${Sv},${Sv},${e0}\\)$`),Nwe=new RegExp(`^rgba\\(${id},${id},${id},${e0}\\)$`),Swe=new RegExp(`^hsl\\(${e0},${id},${id}\\)$`),Ewe=new RegExp(`^hsla\\(${e0},${id},${id},${e0}\\)$`),A7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DI(m1,t0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C7,formatHex:C7,formatHex8:_we,formatHsl:jwe,formatRgb:k7,toString:k7});function C7(){return this.rgb().formatHex()}function _we(){return this.rgb().formatHex8()}function jwe(){return eQ(this).formatHsl()}function k7(){return this.rgb().formatRgb()}function t0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ywe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?T7(e):n===3?new el(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Pw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Pw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xwe.exec(t))?new el(e[1],e[2],e[3],1):(e=bwe.exec(t))?new el(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wwe.exec(t))?Pw(e[1],e[2],e[3],e[4]):(e=Nwe.exec(t))?Pw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Swe.exec(t))?M7(e[1],e[2]/100,e[3]/100,1):(e=Ewe.exec(t))?M7(e[1],e[2]/100,e[3]/100,e[4]):A7.hasOwnProperty(t)?T7(A7[t]):t==="transparent"?new el(NaN,NaN,NaN,0):null}function T7(t){return new el(t>>16&255,t>>8&255,t&255,1)}function Pw(t,e,n,r){return r<=0&&(t=e=n=NaN),new el(t,e,n,r)}function Awe(t){return t instanceof m1||(t=t0(t)),t?(t=t.rgb(),new el(t.r,t.g,t.b,t.opacity)):new el}function tM(t,e,n,r){return arguments.length===1?Awe(t):new el(t,e,n,r??1)}function el(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DI(el,tM,JZ(m1,{brighter(t){return t=t==null?SN:Math.pow(SN,t),new el(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jb:Math.pow(Jb,t),new el(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new el(mm(this.r),mm(this.g),mm(this.b),EN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O7,formatHex:O7,formatHex8:Cwe,formatRgb:P7,toString:P7}));function O7(){return`#${sm(this.r)}${sm(this.g)}${sm(this.b)}`}function Cwe(){return`#${sm(this.r)}${sm(this.g)}${sm(this.b)}${sm((isNaN(this.opacity)?1:this.opacity)*255)}`}function P7(){const t=EN(this.opacity);return`${t===1?"rgb(":"rgba("}${mm(this.r)}, ${mm(this.g)}, ${mm(this.b)}${t===1?")":`, ${t})`}`}function EN(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sm(t){return t=mm(t),(t<16?"0":"")+t.toString(16)}function M7(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nu(t,e,n,r)}function eQ(t){if(t instanceof nu)return new nu(t.h,t.s,t.l,t.opacity);if(t instanceof m1||(t=t0(t)),!t)return new nu;if(t instanceof nu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new nu(a,l,c,t.opacity)}function kwe(t,e,n,r){return arguments.length===1?eQ(t):new nu(t,e,n,r??1)}function nu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DI(nu,kwe,JZ(m1,{brighter(t){return t=t==null?SN:Math.pow(SN,t),new nu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jb:Math.pow(Jb,t),new nu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new el(V5(t>=240?t-240:t+120,i,r),V5(t,i,r),V5(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new nu(R7(this.h),Mw(this.s),Mw(this.l),EN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=EN(this.opacity);return`${t===1?"hsl(":"hsla("}${R7(this.h)}, ${Mw(this.s)*100}%, ${Mw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R7(t){return t=(t||0)%360,t<0?t+360:t}function Mw(t){return Math.max(0,Math.min(1,t||0))}function V5(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LI=t=>()=>t;function Twe(t,e){return function(n){return t+n*e}}function Owe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Pwe(t){return(t=+t)==1?tQ:function(e,n){return n-e?Owe(e,n,t):LI(isNaN(e)?n:e)}}function tQ(t,e){var n=e-t;return n?Twe(t,n):LI(isNaN(t)?e:t)}const I7=(function t(e){var n=Pwe(e);function r(i,s){var a=n((i=tM(i)).r,(s=tM(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=tQ(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function Mwe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Rwe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Iwe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Fy(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function Dwe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _N(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Lwe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fy(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var nM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W5=new RegExp(nM.source,"g");function Fwe(t){return function(){return t}}function Bwe(t){return function(e){return t(e)+""}}function $we(t,e){var n=nM.lastIndex=W5.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=nM.exec(t))&&(i=W5.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:_N(r,i)})),n=W5.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?Bwe(c[0].x):Fwe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Fy(t,e){var n=typeof e,r;return e==null||n==="boolean"?LI(e):(n==="number"?_N:n==="string"?(r=t0(e))?(e=r,I7):$we:e instanceof t0?I7:e instanceof Date?Dwe:Rwe(e)?Mwe:Array.isArray(e)?Iwe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lwe:_N)(t,e)}function FI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zwe(t,e){e===void 0&&(e=t,t=Fy);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function qwe(t){return function(){return t}}function jN(t){return+t}var D7=[0,1];function _o(t){return t}function rM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qwe(isNaN(e)?NaN:.5)}function Uwe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hwe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=rM(i,r),s=n(a,s)):(r=rM(r,i),s=n(s,a)),function(l){return s(r(l))}}function Vwe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=rM(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=p1(t,l,1,r)-1;return s[c](i[c](l))}}function g1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function p_(){var t=D7,e=D7,n=Fy,r,i,s,a=_o,l,c,u;function d(){var m=Math.min(t.length,e.length);return a!==_o&&(a=Uwe(t[0],t[m-1])),l=m>2?Vwe:Hwe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(r),e,n)))(r(a(m)))}return f.invert=function(m){return a(i((u||(u=l(e,t.map(r),_N)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,jN),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=FI,d()},f.clamp=function(m){return arguments.length?(a=m?!0:_o,d()):a!==_o},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return r=m,i=p,d()}}function BI(){return p_()(_o,_o)}function Wwe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function AN(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hv(t){return t=AN(Math.abs(t)),t?t[1]:NaN}function Kwe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Gwe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ywe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n0(t){if(!(e=Ywe.exec(t)))throw new Error("invalid format: "+t);var e;return new $I({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}n0.prototype=$I.prototype;function $I(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$I.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xwe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nQ;function Zwe(t,e){var n=AN(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(nQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+AN(t,Math.max(0,e+s-1))[0]}function L7(t,e){var n=AN(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const F7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wwe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>L7(t*100,e),r:L7,s:Zwe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function B7(t){return t}var $7=Array.prototype.map,z7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qwe(t){var e=t.grouping===void 0||t.thousands===void 0?B7:Kwe($7.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?B7:Gwe($7.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=n0(f);var m=f.fill,p=f.align,y=f.sign,v=f.symbol,x=f.zero,b=f.width,S=f.comma,_=f.precision,j=f.trim,C=f.type;C==="n"?(S=!0,C="g"):F7[C]||(_===void 0&&(_=12),j=!0,C="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var O=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",M=v==="$"?r:/[%p]/.test(C)?a:"",A=F7[C],P=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function B(R){var F=O,q=M,z,G,X;if(C==="c")q=A(R)+q,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?c:A(Math.abs(R),_),j&&(R=Xwe(R)),U&&+R==0&&y!=="+"&&(U=!1),F=(U?y==="("?y:l:y==="-"||y==="("?"":y)+F,q=(C==="s"?z7[8+nQ/3]:"")+q+(U&&y==="("?")":""),P){for(z=-1,G=R.length;++z<G;)if(X=R.charCodeAt(z),48>X||X>57){q=(X===46?i+R.slice(z+1):R.slice(z))+q,R=R.slice(0,z);break}}}S&&!x&&(R=e(R,1/0));var W=F.length+R.length+q.length,Y=W<b?new Array(b-W+1).join(m):"";switch(S&&x&&(R=e(Y+R,Y.length?b-q.length:1/0),Y=""),p){case"<":R=F+R+q+Y;break;case"=":R=F+Y+R+q;break;case"^":R=Y.slice(0,W=Y.length>>1)+F+R+q+Y.slice(W);break;default:R=Y+F+R+q;break}return s(R)}return B.toString=function(){return f+""},B}function d(f,m){var p=u((f=n0(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Hv(m)/3)))*3,v=Math.pow(10,-y),x=z7[8+y/3];return function(b){return p(v*b)+x}}return{format:u,formatPrefix:d}}var Rw,zI,rQ;Jwe({thousands:",",grouping:[3],currency:["$",""]});function Jwe(t){return Rw=Qwe(t),zI=Rw.format,rQ=Rw.formatPrefix,Rw}function e2e(t){return Math.max(0,-Hv(Math.abs(t)))}function t2e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hv(e)/3)))*3-Hv(Math.abs(t)))}function n2e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hv(e)-Hv(t))+1}function iQ(t,e,n,r){var i=JP(t,e,n),s;switch(r=n0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=t2e(i,a))&&(r.precision=s),rQ(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=n2e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=e2e(i))&&(r.precision=s-(r.type==="%")*2);break}}return zI(r)}function dp(t){var e=t.domain;return t.ticks=function(n){var r=e();return ZP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iQ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=QP(a,l,n),u===c)return r[i]=a,r[s]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function CN(){var t=BI();return t.copy=function(){return g1(t,CN())},Ec.apply(t,arguments),dp(t)}function sQ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,jN),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sQ(t).unknown(e)},t=arguments.length?Array.from(t,jN):[0,1],dp(n)}function aQ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function q7(t){return Math.log(t)}function U7(t){return Math.exp(t)}function r2e(t){return-Math.log(-t)}function i2e(t){return-Math.exp(-t)}function s2e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function a2e(t){return t===10?s2e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function o2e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function H7(t){return(e,n)=>-t(-e,n)}function qI(t){const e=t(q7,U7),n=e.domain;let r=10,i,s;function a(){return i=o2e(r),s=a2e(r),n()[0]<0?(i=H7(i),s=H7(s),t(r2e,i2e)):t(q7,U7),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),p=i(d),y,v;const x=l==null?10:+l;let b=[];if(!(r%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<r;++y)if(v=m<0?y/s(-m):y*s(m),!(v<u)){if(v>d)break;b.push(v)}}else for(;m<=p;++m)for(y=r-1;y>=1;--y)if(v=m>0?y/s(-m):y*s(m),!(v<u)){if(v>d)break;b.push(v)}b.length*2<x&&(b=ZP(u,d,x))}else b=ZP(m,p,Math.min(p-m,x)).map(s);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=n0(c)).precision==null&&(c.trim=!0),c=zI(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(aQ(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function oQ(){const t=qI(p_()).domain([1,10]);return t.copy=()=>g1(t,oQ()).base(t.base()),Ec.apply(t,arguments),t}function V7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function W7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function UI(t){var e=1,n=t(V7(e),W7(e));return n.constant=function(r){return arguments.length?t(V7(e=+r),W7(e)):e},dp(n)}function lQ(){var t=UI(p_());return t.copy=function(){return g1(t,lQ()).constant(t.constant())},Ec.apply(t,arguments)}function K7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l2e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function c2e(t){return t<0?-t*t:t*t}function HI(t){var e=t(_o,_o),n=1;function r(){return n===1?t(_o,_o):n===.5?t(l2e,c2e):t(K7(n),K7(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},dp(e)}function VI(){var t=HI(p_());return t.copy=function(){return g1(t,VI()).exponent(t.exponent())},Ec.apply(t,arguments),t}function u2e(){return VI.apply(null,arguments).exponent(.5)}function G7(t){return Math.sign(t)*t*t}function d2e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cQ(){var t=BI(),e=[0,1],n=!1,r;function i(s){var a=d2e(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(G7(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,jN)).map(G7)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cQ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ec.apply(i,arguments),dp(i)}function uQ(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=gwe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[p1(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(zh),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return uQ().domain(t).range(e).unknown(r)},Ec.apply(s,arguments)}function dQ(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[p1(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return dQ().domain([t,e]).range(i).unknown(s)},Ec.apply(dp(a),arguments)}function fQ(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[p1(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return fQ().domain(t).range(e).unknown(n)},Ec.apply(i,arguments)}const K5=new Date,G5=new Date;function na(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>na(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(K5.setTime(+s),G5.setTime(+a),t(K5),t(G5),Math.floor(n(K5,G5))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const kN=na(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kN.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?na(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kN);kN.range;const cf=1e3,hc=cf*60,uf=hc*60,Nf=uf*24,WI=Nf*7,Y7=Nf*30,Y5=Nf*365,am=na(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*cf)},(t,e)=>(e-t)/cf,t=>t.getUTCSeconds());am.range;const KI=na(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cf)},(t,e)=>{t.setTime(+t+e*hc)},(t,e)=>(e-t)/hc,t=>t.getMinutes());KI.range;const GI=na(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hc)},(t,e)=>(e-t)/hc,t=>t.getUTCMinutes());GI.range;const YI=na(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cf-t.getMinutes()*hc)},(t,e)=>{t.setTime(+t+e*uf)},(t,e)=>(e-t)/uf,t=>t.getHours());YI.range;const XI=na(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*uf)},(t,e)=>(e-t)/uf,t=>t.getUTCHours());XI.range;const v1=na(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hc)/Nf,t=>t.getDate()-1);v1.range;const m_=na(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nf,t=>t.getUTCDate()-1);m_.range;const hQ=na(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nf,t=>Math.floor(t/Nf));hQ.range;function ng(t){return na(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*hc)/WI)}const g_=ng(0),TN=ng(1),f2e=ng(2),h2e=ng(3),Vv=ng(4),p2e=ng(5),m2e=ng(6);g_.range;TN.range;f2e.range;h2e.range;Vv.range;p2e.range;m2e.range;function rg(t){return na(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/WI)}const v_=rg(0),ON=rg(1),g2e=rg(2),v2e=rg(3),Wv=rg(4),y2e=rg(5),x2e=rg(6);v_.range;ON.range;g2e.range;v2e.range;Wv.range;y2e.range;x2e.range;const ZI=na(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZI.range;const QI=na(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());QI.range;const Sf=na(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Sf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:na(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Sf.range;const Ef=na(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ef.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:na(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ef.range;function pQ(t,e,n,r,i,s){const a=[[am,1,cf],[am,5,5*cf],[am,15,15*cf],[am,30,30*cf],[s,1,hc],[s,5,5*hc],[s,15,15*hc],[s,30,30*hc],[i,1,uf],[i,3,3*uf],[i,6,6*uf],[i,12,12*uf],[r,1,Nf],[r,2,2*Nf],[n,1,WI],[e,1,Y7],[e,3,3*Y7],[t,1,Y5]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,p=RI(([,,x])=>x).right(a,m);if(p===a.length)return t.every(JP(u/Y5,d/Y5,f));if(p===0)return kN.every(Math.max(JP(u,d,f),1));const[y,v]=a[m/a[p-1][2]<a[p][2]/m?p-1:p];return y.every(v)}return[l,c]}const[b2e,w2e]=pQ(Ef,QI,v_,hQ,XI,GI),[N2e,S2e]=pQ(Sf,ZI,g_,v1,YI,KI);function X5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rx(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function E2e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=Ix(i),d=Dx(i),f=Ix(s),m=Dx(s),p=Ix(a),y=Dx(a),v=Ix(l),x=Dx(l),b=Ix(c),S=Dx(c),_={a:U,A:W,b:Y,B:ie,c:null,d:tz,e:tz,f:K2e,g:rNe,G:sNe,H:H2e,I:V2e,j:W2e,L:mQ,m:G2e,M:Y2e,p:Z,q:I,Q:iz,s:sz,S:X2e,u:Z2e,U:Q2e,V:J2e,w:eNe,W:tNe,x:null,X:null,y:nNe,Y:iNe,Z:aNe,"%":rz},j={a:V,A:Q,b:re,B:fe,c:null,d:nz,e:nz,f:uNe,g:bNe,G:NNe,H:oNe,I:lNe,j:cNe,L:vQ,m:dNe,M:fNe,p:pe,q:ve,Q:iz,s:sz,S:hNe,u:pNe,U:mNe,V:gNe,w:vNe,W:yNe,x:null,X:null,y:xNe,Y:wNe,Z:SNe,"%":rz},C={a:B,A:R,b:F,B:q,c:z,d:J7,e:J7,f:$2e,g:Q7,G:Z7,H:ez,I:ez,j:D2e,L:B2e,m:I2e,M:L2e,p:P,q:R2e,Q:q2e,s:U2e,S:F2e,u:k2e,U:T2e,V:O2e,w:C2e,W:P2e,x:G,X,y:Q7,Y:Z7,Z:M2e,"%":z2e};_.x=O(n,_),_.X=O(r,_),_.c=O(e,_),j.x=O(n,j),j.X=O(r,j),j.c=O(e,j);function O(de,be){return function(je){var ae=[],Oe=-1,ee=0,ne=de.length,Me,ut,Je;for(je instanceof Date||(je=new Date(+je));++Oe<ne;)de.charCodeAt(Oe)===37&&(ae.push(de.slice(ee,Oe)),(ut=X7[Me=de.charAt(++Oe)])!=null?Me=de.charAt(++Oe):ut=Me==="e"?" ":"0",(Je=be[Me])&&(Me=Je(je,ut)),ae.push(Me),ee=Oe+1);return ae.push(de.slice(ee,Oe)),ae.join("")}}function M(de,be){return function(je){var ae=Rx(1900,void 0,1),Oe=A(ae,de,je+="",0),ee,ne;if(Oe!=je.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(be&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ee=Z5(Rx(ae.y,0,1)),ne=ee.getUTCDay(),ee=ne>4||ne===0?ON.ceil(ee):ON(ee),ee=m_.offset(ee,(ae.V-1)*7),ae.y=ee.getUTCFullYear(),ae.m=ee.getUTCMonth(),ae.d=ee.getUTCDate()+(ae.w+6)%7):(ee=X5(Rx(ae.y,0,1)),ne=ee.getDay(),ee=ne>4||ne===0?TN.ceil(ee):TN(ee),ee=v1.offset(ee,(ae.V-1)*7),ae.y=ee.getFullYear(),ae.m=ee.getMonth(),ae.d=ee.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ne="Z"in ae?Z5(Rx(ae.y,0,1)).getUTCDay():X5(Rx(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ne+5)%7:ae.w+ae.U*7-(ne+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Z5(ae)):X5(ae)}}function A(de,be,je,ae){for(var Oe=0,ee=be.length,ne=je.length,Me,ut;Oe<ee;){if(ae>=ne)return-1;if(Me=be.charCodeAt(Oe++),Me===37){if(Me=be.charAt(Oe++),ut=C[Me in X7?be.charAt(Oe++):Me],!ut||(ae=ut(de,je,ae))<0)return-1}else if(Me!=je.charCodeAt(ae++))return-1}return ae}function P(de,be,je){var ae=u.exec(be.slice(je));return ae?(de.p=d.get(ae[0].toLowerCase()),je+ae[0].length):-1}function B(de,be,je){var ae=p.exec(be.slice(je));return ae?(de.w=y.get(ae[0].toLowerCase()),je+ae[0].length):-1}function R(de,be,je){var ae=f.exec(be.slice(je));return ae?(de.w=m.get(ae[0].toLowerCase()),je+ae[0].length):-1}function F(de,be,je){var ae=b.exec(be.slice(je));return ae?(de.m=S.get(ae[0].toLowerCase()),je+ae[0].length):-1}function q(de,be,je){var ae=v.exec(be.slice(je));return ae?(de.m=x.get(ae[0].toLowerCase()),je+ae[0].length):-1}function z(de,be,je){return A(de,e,be,je)}function G(de,be,je){return A(de,n,be,je)}function X(de,be,je){return A(de,r,be,je)}function U(de){return a[de.getDay()]}function W(de){return s[de.getDay()]}function Y(de){return c[de.getMonth()]}function ie(de){return l[de.getMonth()]}function Z(de){return i[+(de.getHours()>=12)]}function I(de){return 1+~~(de.getMonth()/3)}function V(de){return a[de.getUTCDay()]}function Q(de){return s[de.getUTCDay()]}function re(de){return c[de.getUTCMonth()]}function fe(de){return l[de.getUTCMonth()]}function pe(de){return i[+(de.getUTCHours()>=12)]}function ve(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var be=O(de+="",_);return be.toString=function(){return de},be},parse:function(de){var be=M(de+="",!1);return be.toString=function(){return de},be},utcFormat:function(de){var be=O(de+="",j);return be.toString=function(){return de},be},utcParse:function(de){var be=M(de+="",!0);return be.toString=function(){return de},be}}}var X7={"-":"",_:" ",0:"0"},Sa=/^\s*\d+/,_2e=/^%/,j2e=/[\\^$*+?|[\]().{}]/g;function Or(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function A2e(t){return t.replace(j2e,"\\$&")}function Ix(t){return new RegExp("^(?:"+t.map(A2e).join("|")+")","i")}function Dx(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function C2e(t,e,n){var r=Sa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function k2e(t,e,n){var r=Sa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function T2e(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function O2e(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function P2e(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Z7(t,e,n){var r=Sa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Q7(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function M2e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function R2e(t,e,n){var r=Sa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function I2e(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function J7(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function D2e(t,e,n){var r=Sa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ez(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function L2e(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function F2e(t,e,n){var r=Sa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function B2e(t,e,n){var r=Sa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $2e(t,e,n){var r=Sa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z2e(t,e,n){var r=_2e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function q2e(t,e,n){var r=Sa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function U2e(t,e,n){var r=Sa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tz(t,e){return Or(t.getDate(),e,2)}function H2e(t,e){return Or(t.getHours(),e,2)}function V2e(t,e){return Or(t.getHours()%12||12,e,2)}function W2e(t,e){return Or(1+v1.count(Sf(t),t),e,3)}function mQ(t,e){return Or(t.getMilliseconds(),e,3)}function K2e(t,e){return mQ(t,e)+"000"}function G2e(t,e){return Or(t.getMonth()+1,e,2)}function Y2e(t,e){return Or(t.getMinutes(),e,2)}function X2e(t,e){return Or(t.getSeconds(),e,2)}function Z2e(t){var e=t.getDay();return e===0?7:e}function Q2e(t,e){return Or(g_.count(Sf(t)-1,t),e,2)}function gQ(t){var e=t.getDay();return e>=4||e===0?Vv(t):Vv.ceil(t)}function J2e(t,e){return t=gQ(t),Or(Vv.count(Sf(t),t)+(Sf(t).getDay()===4),e,2)}function eNe(t){return t.getDay()}function tNe(t,e){return Or(TN.count(Sf(t)-1,t),e,2)}function nNe(t,e){return Or(t.getFullYear()%100,e,2)}function rNe(t,e){return t=gQ(t),Or(t.getFullYear()%100,e,2)}function iNe(t,e){return Or(t.getFullYear()%1e4,e,4)}function sNe(t,e){var n=t.getDay();return t=n>=4||n===0?Vv(t):Vv.ceil(t),Or(t.getFullYear()%1e4,e,4)}function aNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Or(e/60|0,"0",2)+Or(e%60,"0",2)}function nz(t,e){return Or(t.getUTCDate(),e,2)}function oNe(t,e){return Or(t.getUTCHours(),e,2)}function lNe(t,e){return Or(t.getUTCHours()%12||12,e,2)}function cNe(t,e){return Or(1+m_.count(Ef(t),t),e,3)}function vQ(t,e){return Or(t.getUTCMilliseconds(),e,3)}function uNe(t,e){return vQ(t,e)+"000"}function dNe(t,e){return Or(t.getUTCMonth()+1,e,2)}function fNe(t,e){return Or(t.getUTCMinutes(),e,2)}function hNe(t,e){return Or(t.getUTCSeconds(),e,2)}function pNe(t){var e=t.getUTCDay();return e===0?7:e}function mNe(t,e){return Or(v_.count(Ef(t)-1,t),e,2)}function yQ(t){var e=t.getUTCDay();return e>=4||e===0?Wv(t):Wv.ceil(t)}function gNe(t,e){return t=yQ(t),Or(Wv.count(Ef(t),t)+(Ef(t).getUTCDay()===4),e,2)}function vNe(t){return t.getUTCDay()}function yNe(t,e){return Or(ON.count(Ef(t)-1,t),e,2)}function xNe(t,e){return Or(t.getUTCFullYear()%100,e,2)}function bNe(t,e){return t=yQ(t),Or(t.getUTCFullYear()%100,e,2)}function wNe(t,e){return Or(t.getUTCFullYear()%1e4,e,4)}function NNe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wv(t):Wv.ceil(t),Or(t.getUTCFullYear()%1e4,e,4)}function SNe(){return"+0000"}function rz(){return"%"}function iz(t){return+t}function sz(t){return Math.floor(+t/1e3)}var Bg,xQ,bQ;ENe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ENe(t){return Bg=E2e(t),xQ=Bg.format,Bg.parse,bQ=Bg.utcFormat,Bg.utcParse,Bg}function _Ne(t){return new Date(t)}function jNe(t){return t instanceof Date?+t:+new Date(+t)}function JI(t,e,n,r,i,s,a,l,c,u){var d=BI(),f=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),S=u("%b %d"),_=u("%B"),j=u("%Y");function C(O){return(c(O)<O?p:l(O)<O?y:a(O)<O?v:s(O)<O?x:r(O)<O?i(O)<O?b:S:n(O)<O?_:j)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?m(Array.from(O,jNe)):m().map(_Ne)},d.ticks=function(O){var M=m();return t(M[0],M[M.length-1],O??10)},d.tickFormat=function(O,M){return M==null?C:u(M)},d.nice=function(O){var M=m();return(!O||typeof O.range!="function")&&(O=e(M[0],M[M.length-1],O??10)),O?m(aQ(M,O)):d},d.copy=function(){return g1(d,JI(t,e,n,r,i,s,a,l,c,u))},d}function ANe(){return Ec.apply(JI(N2e,S2e,Sf,ZI,g_,v1,YI,KI,am,xQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CNe(){return Ec.apply(JI(b2e,w2e,Ef,QI,v_,m_,XI,GI,am,bQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function y_(){var t=0,e=1,n,r,i,s,a=_o,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(m){var p,y;return arguments.length?([p,y]=m,a=f(p,y),u):[a(0),a(1)]}}return u.range=d(Fy),u.rangeRound=d(FI),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function fp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wQ(){var t=dp(y_()(_o));return t.copy=function(){return fp(t,wQ())},Tf.apply(t,arguments)}function NQ(){var t=qI(y_()).domain([1,10]);return t.copy=function(){return fp(t,NQ()).base(t.base())},Tf.apply(t,arguments)}function SQ(){var t=UI(y_());return t.copy=function(){return fp(t,SQ()).constant(t.constant())},Tf.apply(t,arguments)}function eD(){var t=HI(y_());return t.copy=function(){return fp(t,eD()).exponent(t.exponent())},Tf.apply(t,arguments)}function kNe(){return eD.apply(null,arguments).exponent(.5)}function EQ(){var t=[],e=_o;function n(r){if(r!=null&&!isNaN(r=+r))return e((p1(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>mwe(t,s/r))},n.copy=function(){return EQ(e).domain(t)},Tf.apply(n,arguments)}function x_(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,u=_o,d,f=!1,m;function p(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-s)*(r*v<r*s?l:c),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),s=d(e=+e),a=d(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function y(v){return function(x){var b,S,_;return arguments.length?([b,S,_]=x,u=zwe(v,[b,S,_]),p):[u(0),u(.5),u(1)]}}return p.range=y(Fy),p.rangeRound=y(FI),p.unknown=function(v){return arguments.length?(m=v,p):m},function(v){return d=v,i=v(t),s=v(e),a=v(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function _Q(){var t=dp(x_()(_o));return t.copy=function(){return fp(t,_Q())},Tf.apply(t,arguments)}function jQ(){var t=qI(x_()).domain([.1,1,10]);return t.copy=function(){return fp(t,jQ()).base(t.base())},Tf.apply(t,arguments)}function AQ(){var t=UI(x_());return t.copy=function(){return fp(t,AQ()).constant(t.constant())},Tf.apply(t,arguments)}function tD(){var t=HI(x_());return t.copy=function(){return fp(t,tD()).exponent(t.exponent())},Tf.apply(t,arguments)}function TNe(){return tD.apply(null,arguments).exponent(.5)}const az=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qb,scaleDiverging:_Q,scaleDivergingLog:jQ,scaleDivergingPow:tD,scaleDivergingSqrt:TNe,scaleDivergingSymlog:AQ,scaleIdentity:sQ,scaleImplicit:eM,scaleLinear:CN,scaleLog:oQ,scaleOrdinal:II,scalePoint:fb,scalePow:VI,scaleQuantile:uQ,scaleQuantize:dQ,scaleRadial:cQ,scaleSequential:wQ,scaleSequentialLog:NQ,scaleSequentialPow:eD,scaleSequentialQuantile:EQ,scaleSequentialSqrt:kNe,scaleSequentialSymlog:SQ,scaleSqrt:u2e,scaleSymlog:lQ,scaleThreshold:fQ,scaleTime:ANe,scaleUtc:CNe,tickFormat:iQ},Symbol.toStringTag,{value:"Module"}));var Q5,oz;function CQ(){if(oz)return Q5;oz=1;var t=Ry();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var l=n[s],c=r(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=l}return d}return Q5=e,Q5}var J5,lz;function ONe(){if(lz)return J5;lz=1;function t(e,n){return e>n}return J5=t,J5}var eT,cz;function PNe(){if(cz)return eT;cz=1;var t=CQ(),e=ONe(),n=Ly();function r(i){return i&&i.length?t(i,n,e):void 0}return eT=r,eT}var MNe=PNe();const Th=Ir(MNe);var tT,uz;function RNe(){if(uz)return tT;uz=1;function t(e,n){return e<n}return tT=t,tT}var nT,dz;function INe(){if(dz)return nT;dz=1;var t=CQ(),e=RNe(),n=Ly();function r(i){return i&&i.length?t(i,n,e):void 0}return nT=r,nT}var DNe=INe();const b_=Ir(DNe);var rT,fz;function LNe(){if(fz)return rT;fz=1;var t=yI(),e=cp(),n=LZ(),r=ol();function i(s,a){var l=r(s)?t:n;return l(s,e(a,3))}return rT=i,rT}var iT,hz;function FNe(){if(hz)return iT;hz=1;var t=IZ(),e=LNe();function n(r,i){return t(e(r,i),1)}return iT=n,iT}var BNe=FNe();const $Ne=Ir(BNe);var sT,pz;function zNe(){if(pz)return sT;pz=1;var t=TI();function e(n,r){return t(n,r)}return sT=e,sT}var qNe=zNe();const Mm=Ir(qNe);var By=1e9,UNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rD,qi=!0,wc="[DecimalError] ",gm=wc+"Invalid argument: ",nD=wc+"Exponent out of range: ",$y=Math.floor,Yp=Math.pow,HNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kl,ha=1e7,Ti=7,kQ=9007199254740991,PN=$y(kQ/Ti),Xt={};Xt.absoluteValue=Xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xt.comparedTo=Xt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ti;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Xt.dividedBy=Xt.div=function(t){return gf(this,new this.constructor(t))};Xt.dividedToIntegerBy=Xt.idiv=function(t){var e=this,n=e.constructor;return hi(gf(e,new n(t),0,1),n.precision)};Xt.equals=Xt.eq=function(t){return!this.cmp(t)};Xt.exponent=function(){return Ls(this)};Xt.greaterThan=Xt.gt=function(t){return this.cmp(t)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(t){return this.cmp(t)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(t){return this.cmp(t)<0};Xt.lessThanOrEqualTo=Xt.lte=function(t){return this.cmp(t)<1};Xt.logarithm=Xt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kl))throw Error(wc+"NaN");if(n.s<1)throw Error(wc+(n.s?"NaN":"-Infinity"));return n.eq(kl)?new r(0):(qi=!1,e=gf(r0(n,s),r0(t,s),s),qi=!0,hi(e,i))};Xt.minus=Xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PQ(e,t):TQ(e,(t.s=-t.s,t))};Xt.modulo=Xt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wc+"NaN");return n.s?(qi=!1,e=gf(n,t,0,1).times(t),qi=!0,n.minus(e)):hi(new r(n),i)};Xt.naturalExponential=Xt.exp=function(){return OQ(this)};Xt.naturalLogarithm=Xt.ln=function(){return r0(this)};Xt.negated=Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xt.plus=Xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TQ(e,t):PQ(e,(t.s=-t.s,t))};Xt.precision=Xt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gm+t);if(e=Ls(i)+1,r=i.d.length-1,n=r*Ti+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Xt.squareRoot=Xt.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wc+"NaN")}for(t=Ls(l),qi=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Xu(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=$y((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(gf(l,s,a+2)).times(.5),Xu(s.d).slice(0,a)===(e=Xu(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(hi(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return qi=!0,hi(r,n)};Xt.times=Xt.mul=function(t){var e,n,r,i,s,a,l,c,u,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+p[r]*m[i-r-1]+e,s[i--]=l%ha|0,e=l/ha|0;s[i]=(s[i]+e)%ha|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,qi?hi(t,f.precision):t};Xt.toDecimalPlaces=Xt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(dd(t,0,By),e===void 0?e=r.rounding:dd(e,0,8),hi(n,t+Ls(n)+1,e))};Xt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Rm(r,!0):(dd(t,0,By),e===void 0?e=i.rounding:dd(e,0,8),r=hi(new i(r),t+1,e),n=Rm(r,!0,t+1)),n};Xt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Rm(i):(dd(t,0,By),e===void 0?e=s.rounding:dd(e,0,8),r=hi(new s(i),t+Ls(i)+1,e),n=Rm(r.abs(),!1,t+Ls(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Xt.toInteger=Xt.toint=function(){var t=this,e=t.constructor;return hi(new e(t),Ls(t)+1,e.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(kl);if(l=new c(l),!l.s){if(t.s<1)throw Error(wc+"Infinity");return l}if(l.eq(kl))return l;if(r=c.precision,t.eq(kl))return hi(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=d<0?-d:d)<=kQ){for(i=new c(kl),e=Math.ceil(r/Ti+4),qi=!1;n%2&&(i=i.times(l),gz(i.d,e)),n=$y(n/2),n!==0;)l=l.times(l),gz(l.d,e);return qi=!0,t.s<0?new c(kl).div(i):hi(i,r)}}else if(s<0)throw Error(wc+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,qi=!1,i=t.times(r0(l,r+u)),qi=!0,i=OQ(i),i.s=s,i};Xt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ls(i),r=Rm(i,n<=s.toExpNeg||n>=s.toExpPos)):(dd(t,1,By),e===void 0?e=s.rounding:dd(e,0,8),i=hi(new s(i),t,e),n=Ls(i),r=Rm(i,t<=n||n<=s.toExpNeg,t)),r};Xt.toSignificantDigits=Xt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(dd(t,1,By),e===void 0?e=r.rounding:dd(e,0,8)),hi(new r(n),t,e)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ls(t),n=t.constructor;return Rm(t,e<=n.toExpNeg||e>=n.toExpPos)};function TQ(t,e){var n,r,i,s,a,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),qi?hi(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(f/Ti),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ha|0,c[s]%=ha;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,qi?hi(e,f):e}function dd(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gm+t)}function Xu(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Ti-r.length,n&&(s+=xh(n)),s+=r;a=t[e],r=a+"",n=Ti-r.length,n&&(s+=xh(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var gf=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%ha|0,a=s/ha|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ha+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,d,f,m,p,y,v,x,b,S,_,j,C,O,M,A,P=r.constructor,B=r.s==i.s?1:-1,R=r.d,F=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(wc+"Division by zero");for(c=r.e-i.e,M=F.length,C=R.length,p=new P(B),y=p.d=[],u=0;F[u]==(R[u]||0);)++u;if(F[u]>(R[u]||0)&&--c,s==null?S=s=P.precision:a?S=s+(Ls(r)-Ls(i))+1:S=s,S<0)return new P(0);if(S=S/Ti+2|0,u=0,M==1)for(d=0,F=F[0],S++;(u<C||d)&&S--;u++)_=d*ha+(R[u]||0),y[u]=_/F|0,d=_%F|0;else{for(d=ha/(F[0]+1)|0,d>1&&(F=t(F,d),R=t(R,d),M=F.length,C=R.length),j=M,v=R.slice(0,M),x=v.length;x<M;)v[x++]=0;A=F.slice(),A.unshift(0),O=F[0],F[1]>=ha/2&&++O;do d=0,l=e(F,v,M,x),l<0?(b=v[0],M!=x&&(b=b*ha+(v[1]||0)),d=b/O|0,d>1?(d>=ha&&(d=ha-1),f=t(F,d),m=f.length,x=v.length,l=e(f,v,m,x),l==1&&(d--,n(f,M<m?A:F,m))):(d==0&&(l=d=1),f=F.slice()),m=f.length,m<x&&f.unshift(0),n(v,f,x),l==-1&&(x=v.length,l=e(F,v,M,x),l<1&&(d++,n(v,M<x?A:F,x))),x=v.length):l===0&&(d++,v=[0]),y[u++]=d,l&&v[0]?v[x++]=R[j]||0:(v=[R[j]],x=1);while((j++<C||v[0]!==void 0)&&S--)}return y[0]||y.shift(),p.e=c,hi(p,a?s+Ls(p)+1:s)}})();function OQ(t,e){var n,r,i,s,a,l,c=0,u=0,d=t.constructor,f=d.precision;if(Ls(t)>16)throw Error(nD+Ls(t));if(!t.s)return new d(kl);for(qi=!1,l=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Yp(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(kl),d.precision=l;;){if(i=hi(i.times(t),l),n=n.times(++c),a=s.plus(gf(i,n,l)),Xu(a.d).slice(0,l)===Xu(s.d).slice(0,l)){for(;u--;)s=hi(s.times(s),l);return d.precision=f,e==null?(qi=!0,hi(s,f)):s}s=a}}function Ls(t){for(var e=t.e*Ti,n=t.d[0];n>=10;n/=10)e++;return e}function aT(t,e,n){if(e>t.LN10.sd())throw qi=!0,n&&(t.precision=n),Error(wc+"LN10 precision limit exceeded");return hi(new t(t.LN10),e)}function xh(t){for(var e="";t--;)e+="0";return e}function r0(t,e){var n,r,i,s,a,l,c,u,d,f=1,m=10,p=t,y=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(wc+(p.s?"NaN":"-Infinity"));if(p.eq(kl))return new v(0);if(e==null?(qi=!1,u=x):u=e,p.eq(10))return e==null&&(qi=!0),aT(v,u);if(u+=m,v.precision=u,n=Xu(y),r=n.charAt(0),s=Ls(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Xu(p.d),r=n.charAt(0),f++;s=Ls(p),r>1?(p=new v("0."+n),s++):p=new v(r+"."+n.slice(1))}else return c=aT(v,u+2,x).times(s+""),p=r0(new v(r+"."+n.slice(1)),u-m).plus(c),v.precision=x,e==null?(qi=!0,hi(p,x)):p;for(l=a=p=gf(p.minus(kl),p.plus(kl),u),d=hi(p.times(p),u),i=3;;){if(a=hi(a.times(d),u),c=l.plus(gf(a,new v(i),u)),Xu(c.d).slice(0,u)===Xu(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(aT(v,u+2,x).times(s+""))),l=gf(l,new v(f),u),v.precision=x,e==null?(qi=!0,hi(l,x)):l;l=c,i+=2}}function mz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=$y(n/Ti),t.d=[],r=(n+1)%Ti,n<0&&(r+=Ti),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ti;r<i;)t.d.push(+e.slice(r,r+=Ti));e=e.slice(r),r=Ti-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qi&&(t.e>PN||t.e<-PN))throw Error(nD+n)}else t.s=0,t.e=0,t.d=[0];return t}function hi(t,e,n){var r,i,s,a,l,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ti,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Ti),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=Ti,i=r-Ti+a}if(n!==void 0&&(s=Yp(10,a-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Yp(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=Ls(t),f.length=1,e=e-s-1,f[0]=Yp(10,(Ti-e%Ti)%Ti),t.e=$y(-e/Ti)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Yp(10,Ti-r),f[d]=i>0?(u/Yp(10,a-i)%Yp(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ha&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ha)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(qi&&(t.e>PN||t.e<-PN))throw Error(nD+Ls(t));return t}function PQ(t,e){var n,r,i,s,a,l,c,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),qi?hi(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(p/Ti),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ha-1;--c[s],c[i]+=ha}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,qi?hi(e,p):e):new m(0)}function Rm(t,e,n){var r,i=Ls(t),s=Xu(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+xh(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+xh(-i-1)+s,n&&(r=n-a)>0&&(s+=xh(r))):i>=a?(s+=xh(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+xh(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=xh(r))),t.s<0?"-"+s:s}function gz(t,e){if(t.length>e)return t.length=e,!0}function MQ(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gm+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return mz(a,s.toString())}else if(typeof s!="string")throw Error(gm+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,HNe.test(s))mz(a,s);else throw Error(gm+s)}if(i.prototype=Xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MQ,i.config=i.set=VNe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function VNe(t){if(!t||typeof t!="object")throw Error(wc+"Object expected");var e,n,r,i=["precision",1,By,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if($y(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gm+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gm+n+": "+r);return this}var rD=MQ(UNe);kl=new rD(1);const ni=rD;function WNe(t){return XNe(t)||YNe(t)||GNe(t)||KNe()}function KNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GNe(t,e){if(t){if(typeof t=="string")return iM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iM(t,e)}}function YNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function XNe(t){if(Array.isArray(t))return iM(t)}function iM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZNe=function(e){return e},RQ={},IQ=function(e){return e===RQ},vz=function(e){return function n(){return arguments.length===0||arguments.length===1&&IQ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},QNe=function t(e,n){return e===1?n:vz(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==RQ}).length;return a>=e?n.apply(void 0,i):t(e-a,vz(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return IQ(f)?c.shift():f});return n.apply(void 0,WNe(d).concat(c))}))})},w_=function(e){return QNe(e.length,e)},sM=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},JNe=w_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),eSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ZNe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},aM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DQ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function tSe(t){var e;return t===0?e=1:e=Math.floor(new ni(t).abs().log(10).toNumber())+1,e}function nSe(t,e,n){for(var r=new ni(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var rSe=w_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),iSe=w_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),sSe=w_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const N_={rangeStep:nSe,getDigitCount:tSe,interpolateNumber:rSe,uninterpolateNumber:iSe,uninterpolateTruncation:sSe};function oM(t){return lSe(t)||oSe(t)||LQ(t)||aSe()}function aSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lSe(t){if(Array.isArray(t))return lM(t)}function i0(t,e){return dSe(t)||uSe(t,e)||LQ(t,e)||cSe()}function cSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t,e){if(t){if(typeof t=="string")return lM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lM(t,e)}}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uSe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function dSe(t){if(Array.isArray(t))return t}function FQ(t){var e=i0(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function BQ(t,e,n){if(t.lte(0))return new ni(0);var r=N_.getDigitCount(t.toNumber()),i=new ni(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new ni(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new ni(Math.ceil(c))}function fSe(t,e,n){var r=1,i=new ni(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new ni(10).pow(N_.getDigitCount(t)-1),i=new ni(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ni(Math.floor(t)))}else t===0?i=new ni(Math.floor((e-1)/2)):n||(i=new ni(Math.floor(t)));var a=Math.floor((e-1)/2),l=eSe(JNe(function(c){return i.add(new ni(c-a).mul(r)).toNumber()}),sM);return l(0,e)}function $Q(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ni(0),tickMin:new ni(0),tickMax:new ni(0)};var s=BQ(new ni(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new ni(0):(a=new ni(t).add(e).div(2),a=a.sub(new ni(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new ni(e).sub(a).div(s).toNumber()),u=l+c+1;return u>n?$Q(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:a.sub(new ni(l).mul(s)),tickMax:a.add(new ni(c).mul(s))})}function hSe(t){var e=i0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=FQ([n,r]),c=i0(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(oM(sM(0,i-1).map(function(){return 1/0}))):[].concat(oM(sM(0,i-1).map(function(){return-1/0})),[d]);return n>r?aM(f):f}if(u===d)return fSe(u,i,s);var m=$Q(u,d,a,s),p=m.step,y=m.tickMin,v=m.tickMax,x=N_.rangeStep(y,v.add(new ni(.1).mul(p)),p);return n>r?aM(x):x}function pSe(t,e){var n=i0(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=FQ([r,i]),l=i0(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=BQ(new ni(u).sub(c).div(d-1),s,0),m=[].concat(oM(N_.rangeStep(new ni(c),new ni(u).sub(new ni(.99).mul(f)),f)),[u]);return r>i?aM(m):m}var mSe=DQ(hSe),gSe=DQ(pSe),vSe="Invariant failed";function Im(t,e){throw new Error(vSe)}var ySe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function MN(){return MN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MN.apply(this,arguments)}function xSe(t,e){return SSe(t)||NSe(t,e)||wSe(t,e)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wSe(t,e){if(t){if(typeof t=="string")return yz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yz(t,e)}}function yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function SSe(t){if(Array.isArray(t))return t}function ESe(t,e){if(t==null)return{};var n=_Se(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ASe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UQ(r.key),r)}}function CSe(t,e,n){return e&&ASe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kSe(t,e,n){return e=RN(e),TSe(t,zQ()?Reflect.construct(e,n||[],RN(t).constructor):e.apply(t,n))}function TSe(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OSe(t)}function OSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zQ=function(){return!!t})()}function RN(t){return RN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RN(t)}function PSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cM(t,e)}function cM(t,e){return cM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cM(t,e)}function qQ(t,e,n){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UQ(t){var e=MSe(t,"string");return Kv(e)=="symbol"?e:e+""}function MSe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zy=(function(t){function e(){return jSe(this,e),kSe(this,e,arguments)}return PSe(e,t),CSe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,m=ESe(r,ySe),p=Qn(m,!1);this.props.direction==="x"&&d.type!=="number"&&Im();var y=c.map(function(v){var x=u(v,l),b=x.x,S=x.y,_=x.value,j=x.errorVal;if(!j)return null;var C=[],O,M;if(Array.isArray(j)){var A=xSe(j,2);O=A[0],M=A[1]}else O=M=j;if(s==="vertical"){var P=d.scale,B=S+i,R=B+a,F=B-a,q=P(_-O),z=P(_+M);C.push({x1:z,y1:R,x2:z,y2:F}),C.push({x1:q,y1:B,x2:z,y2:B}),C.push({x1:q,y1:R,x2:q,y2:F})}else if(s==="horizontal"){var G=f.scale,X=b+i,U=X-a,W=X+a,Y=G(_-O),ie=G(_+M);C.push({x1:U,y1:ie,x2:W,y2:ie}),C.push({x1:X,y1:Y,x2:X,y2:ie}),C.push({x1:U,y1:Y,x2:W,y2:Y})}return xe.createElement(Rr,MN({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),C.map(function(Z){return xe.createElement("line",MN({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return xe.createElement(Rr,{className:"recharts-errorBars"},y)}}])})(xe.Component);qQ(zy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qQ(zy,"displayName","ErrorBar");function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}function xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(n),!0).forEach(function(r){RSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RSe(t,e,n){return e=ISe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ISe(t){var e=DSe(t,"string");return s0(e)=="symbol"?e:e+""}function DSe(t,e){if(s0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HQ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=El(n,mf);if(!a)return null;var l=mf.defaultProps,c=l!==void 0?Wp(Wp({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var m=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(v){return{type:a.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?Wp(Wp({},m),f.props):{},y=p.dataKey,v=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:c.iconType||x||"square",color:iD(f),value:v||y,payload:p}}),Wp(Wp(Wp({},c),mf.getWithHeight(a,i)),{},{payload:u,item:a})};function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}function bz(t){return $Se(t)||BSe(t)||FSe(t)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(t,e){if(t){if(typeof t=="string")return uM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uM(t,e)}}function BSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Se(t){if(Array.isArray(t))return uM(t)}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){Ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ev(t,e,n){return e=zSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zSe(t){var e=qSe(t,"string");return a0(e)=="symbol"?e:e+""}function qSe(t,e){if(a0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(a0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ta(t,e,n){return Gn(t)||Gn(e)?n:Zs(e)?mc(t,e,n):er(e)?e(t):n}function hb(t,e,n,r){var i=$Ne(t,function(l){return ta(l,e)});if(n==="number"){var s=i.filter(function(l){return Pt(l)||parseFloat(l)});return s.length?[b_(s),Th(s)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Gn(l)}):i;return a.map(function(l){return Zs(l)||l instanceof Date?l:""})}var USe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(lu(f-d)!==lu(m-f)){var y=[];if(lu(m-f)===lu(c[1]-c[0])){p=m;var v=f+c[1]-c[0];y[0]=Math.min(v,(v+d)/2),y[1]=Math.max(v,(v+d)/2)}else{p=d;var x=m+c[1]-c[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var S=Math.min(d,m),_=Math.max(d,m);if(e>(S+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){a=r[j].index;break}return a},iD=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?cs(cs({},e.type.defaultProps),e.props):e.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},HSe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],v=y.items,x=y.cateAxisId,b=v.filter(function(M){return hf(M.type).indexOf("Bar")>=0});if(b&&b.length){var S=b[0].type.defaultProps,_=S!==void 0?cs(cs({},S),b[0].props):b[0].props,j=_.barSize,C=_[x];a[C]||(a[C]=[]);var O=Gn(j)?n:j;a[C].push({item:b[0],stackList:b.slice(1),barSize:Gn(O)?void 0:Pm(O,r,0)})}}return a},VSe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,l=e.maxBarSize,c=a.length;if(c<1)return null;var u=Pm(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var m=!1,p=i/c,y=a.reduce(function(j,C){return j+C.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&p>0&&(m=!0,p*=.9,y=c*p);var v=(i-y)/2>>0,x={offset:v-u,size:0};d=a.reduce(function(j,C){var O={item:C.item,position:{offset:x.offset+x.size+u,size:m?p:C.barSize}},M=[].concat(bz(j),[O]);return x=M[M.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){M.push({item:A,position:x})}),M},f)}else{var b=Pm(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var S=(i-2*b-(c-1)*u)/c;S>1&&(S>>=0);var _=l===+l?Math.min(S,l):S;d=a.reduce(function(j,C,O){var M=[].concat(bz(j),[{item:C.item,position:{offset:b+(S+u)*O+(S-_)/2,size:_}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){M.push({item:A,position:M[M.length-1].position})}),M},f)}return d},WSe=function(e,n,r,i){var s=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),u=HQ({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,p=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&p!=="center"&&Pt(e[p]))return cs(cs({},e),{},Ev({},p,e[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&y!=="middle"&&Pt(e[y]))return cs(cs({},e),{},Ev({},y,e[y]+(m||0)))}return e},KSe=function(e,n,r){return Gn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},VQ=function(e,n,r,i,s){var a=n.props.children,l=nl(a,zy).filter(function(u){return KSe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ta(d,r);if(Gn(f))return u;var m=Array.isArray(f)?[b_(f),Th(f)]:[f,f],p=c.reduce(function(y,v){var x=ta(d,v,0),b=m[0]-Math.abs(Array.isArray(x)?x[0]:x),S=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},GSe=function(e,n,r,i,s){var a=n.map(function(l){return VQ(e,l,r,s,i)}).filter(function(l){return!Gn(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},WQ=function(e,n,r,i,s){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&VQ(e,c,u,i)||hb(e,u,r,s)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},KQ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},GQ=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,a,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(a=!0),c.coordinate});return s||l.push(n),a||l.push(r),l},df=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?lu(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!Dy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:s?s[f]:f,index:m,offset:u}})},oT=new WeakMap,Iw=function(e,n){if(typeof n!="function")return e;oT.has(e)||oT.set(e,new WeakMap);var r=oT.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},YSe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:Qb(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:CN(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fb(),realScaleType:"point"}:s==="category"?{scale:Qb(),realScaleType:"band"}:{scale:CN(),realScaleType:"linear"};if(Om(i)){var c="scale".concat(a_(i));return{scale:(az[c]||fb)(),realScaleType:az[c]?c:"point"}}return er(i)?{scale:i}:{scale:fb(),realScaleType:"point"}},Nz=1e-4,XSe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-Nz,a=Math.max(i[0],i[1])+Nz,l=e(n[0]),c=e(n[r-1]);(l<s||l>a||c<s||c>a)&&e.domain([n[0],n[r-1]])}},ZSe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},QSe=function(e,n){if(!n||n.length!==2||!Pt(n[0])||!Pt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Pt(e[0])||e[0]<r)&&(s[0]=r),(!Pt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},JSe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,l=0;l<n;++l){var c=Dy(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},eEe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var l=Dy(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},tEe={sign:JSe,expand:Fxe,none:Bv,silhouette:Bxe,wiggle:$xe,positive:eEe},nEe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=tEe[r],a=Lxe().keys(i).value(function(l,c){return+ta(l,c,0)}).order($P).offset(s);return a(e)},rEe=function(e,n,r,i,s,a){if(!e)return null;var l=a?n.reverse():n,c={},u=l.reduce(function(f,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?cs(cs({},m.type.defaultProps),m.props):m.props,v=y.stackId,x=y.hide;if(x)return f;var b=y[r],S=f[b]||{hasStack:!1,stackGroups:{}};if(Zs(v)){var _=S.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(m),S.hasStack=!0,S.stackGroups[v]=_}else S.stackGroups[tg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return cs(cs({},f),{},Ev({},b,S))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var b=p.stackGroups[x];return cs(cs({},v),{},Ev({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:nEe(e,b.items,s)}))},y)}return cs(cs({},f),{},Ev({},m,p))},d)},iEe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=mSe(u,s,l);return e.domain([b_(d),Th(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),m=gSe(f,s,l);return{niceTicks:m}}return null};function Gv(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gn(i[e.dataKey])){var l=cN(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=ta(i,Gn(a)?e.dataKey:a);return Gn(c)?null:e.scale(c)}var Sz=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=ta(a,n.dataKey,n.domain[l]);return Gn(c)?null:n.scale(c)-s/2+i},sEe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},aEe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?cs(cs({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Zs(s)){var a=n[s];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},oEe=function(e){return e.reduce(function(n,r){return[b_(r.concat([n[0]]).filter(Pt)),Th(r.concat([n[1]]).filter(Pt))]},[1/0,-1/0])},YQ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],l=a.stackedData,c=l.reduce(function(u,d){var f=oEe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Ez=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_z=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dM=function(e,n,r){if(er(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Pt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Ez.test(e[0])){var s=+Ez.exec(e[0])[1];i[0]=n[0]-s}else er(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Pt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(_z.test(e[1])){var a=+_z.exec(e[1])[1];i[1]=n[1]+a}else er(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},IN=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=PI(n,function(f){return f.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},jz=function(e,n,r){return!e||!e.length||Mm(e,mc(r,"type.defaultProps.domain"))?n:e},XQ=function(e,n){var r=e.type.defaultProps?cs(cs({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return cs(cs({},Qn(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:iD(e),value:ta(n,i),type:c,payload:n,chartType:u,hide:d})};function o0(t){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}function Az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(n),!0).forEach(function(r){lEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lEe(t,e,n){return e=cEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cEe(t){var e=uEe(t,"string");return o0(e)=="symbol"?e:e+""}function uEe(t,e){if(o0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(o0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DN=Math.PI/180,dEe=function(e){return e*180/Math.PI},Ia=function(e,n,r,i){return{x:e+Math.cos(-DN*i)*r,y:n+Math.sin(-DN*i)*r}},fEe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},hEe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,l=fEe({x:r,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:l,angle:dEe(u),angleInRadian:u}},pEe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},mEe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(s,a);return e+l*360},kz=function(e,n){var r=e.x,i=e.y,s=hEe({x:r,y:i},n),a=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=pEe(n),f=d.startAngle,m=d.endAngle,p=l,y;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=f}return y?Cz(Cz({},n),{},{radius:a,angle:mEe(p,n)}):null};function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}var gEe=["offset"];function vEe(t){return wEe(t)||bEe(t)||xEe(t)||yEe()}function yEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xEe(t,e){if(t){if(typeof t=="string")return fM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,e)}}function bEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wEe(t){if(Array.isArray(t))return fM(t)}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NEe(t,e){if(t==null)return{};var n=SEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(n),!0).forEach(function(r){EEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EEe(t,e,n){return e=_Ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ee(t){var e=jEe(t,"string");return l0(e)=="symbol"?e:e+""}function jEe(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}var AEe=function(e){var n=e.value,r=e.formatter,i=Gn(e.children)?n:e.children;return er(r)?r(i):i},CEe=function(e,n){var r=lu(n-e),i=Math.min(Math.abs(n-e),360);return r*i},kEe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,v=c.clockWise,x=(f+m)/2,b=CEe(p,y),S=b>=0?1:-1,_,j;i==="insideStart"?(_=p+S*a,j=v):i==="insideEnd"?(_=y-S*a,j=!v):i==="end"&&(_=y+S*a,j=v),j=b<=0?j:!j;var C=Ia(u,d,x,_),O=Ia(u,d,x,_+(j?1:-1)*359),M="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(O.x,",").concat(O.y),A=Gn(e.id)?tg("recharts-radial-line-"):e.id;return xe.createElement("text",c0({},r,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",l)}),xe.createElement("defs",null,xe.createElement("path",{id:A,d:M})),xe.createElement("textPath",{xlinkHref:"#".concat(A)},n))},TEe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(i==="outside"){var p=Ia(a,l,u+r,m),y=p.x,v=p.y;return{x:y,y:v,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Ia(a,l,x,m),S=b.x,_=b.y;return{x:S,y:_,textAnchor:"middle",verticalAnchor:"middle"}},OEe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,l=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,m=f*i,p=f>0?"end":"start",y=f>0?"start":"end",v=u>=0?1:-1,x=v*i,b=v>0?"end":"start",S=v>0?"start":"end";if(s==="top"){var _={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Ks(Ks({},_),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return Ks(Ks({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ks(Ks({},C),r?{width:Math.max(C.x-r.x,0),height:d}:{})}if(s==="right"){var O={x:l+u+x,y:c+d/2,textAnchor:S,verticalAnchor:"middle"};return Ks(Ks({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:d}:{})}var M=r?{width:u,height:d}:{};return s==="insideLeft"?Ks({x:l+x,y:c+d/2,textAnchor:S,verticalAnchor:"middle"},M):s==="insideRight"?Ks({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},M):s==="insideTop"?Ks({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},M):s==="insideBottom"?Ks({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},M):s==="insideTopLeft"?Ks({x:l+x,y:c+m,textAnchor:S,verticalAnchor:y},M):s==="insideTopRight"?Ks({x:l+u-x,y:c+m,textAnchor:b,verticalAnchor:y},M):s==="insideBottomLeft"?Ks({x:l+x,y:c+d-m,textAnchor:S,verticalAnchor:p},M):s==="insideBottomRight"?Ks({x:l+u-x,y:c+d-m,textAnchor:b,verticalAnchor:p},M):Iy(s)&&(Pt(s.x)||im(s.x))&&(Pt(s.y)||im(s.y))?Ks({x:l+Pm(s.x,u),y:c+Pm(s.y,d),textAnchor:"end",verticalAnchor:"end"},M):Ks({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},PEe=function(e){return"cx"in e&&Pt(e.cx)};function to(t){var e=t.offset,n=e===void 0?5:e,r=NEe(t,gEe),i=Ks({offset:n},r),s=i.viewBox,a=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!s||Gn(l)&&Gn(c)&&!N.isValidElement(u)&&!er(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var p;if(er(u)){if(p=N.createElement(u,i),N.isValidElement(p))return p}else p=AEe(i);var y=PEe(s),v=Qn(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return kEe(i,p,v);var x=y?TEe(i):OEe(i);return xe.createElement(wN,c0({className:fr("recharts-label",f)},v,x,{breakAll:m}),p)}to.displayName="Label";var ZQ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,p=e.top,y=e.left,v=e.width,x=e.height,b=e.clockWise,S=e.labelViewBox;if(S)return S;if(Pt(v)&&Pt(x)){if(Pt(f)&&Pt(m))return{x:f,y:m,width:v,height:x};if(Pt(p)&&Pt(y))return{x:p,y,width:v,height:x}}return Pt(f)&&Pt(m)?{x:f,y:m,width:0,height:0}:Pt(n)&&Pt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},MEe=function(e,n){return e?e===!0?xe.createElement(to,{key:"label-implicit",viewBox:n}):Zs(e)?xe.createElement(to,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===to?N.cloneElement(e,{key:"label-implicit",viewBox:n}):xe.createElement(to,{key:"label-implicit",content:e,viewBox:n}):er(e)?xe.createElement(to,{key:"label-implicit",content:e,viewBox:n}):Iy(e)?xe.createElement(to,c0({viewBox:n},e,{key:"label-implicit"})):null:null},REe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=ZQ(e),a=nl(i,to).map(function(c,u){return N.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var l=MEe(e.label,n||s);return[l].concat(vEe(a))};to.parseViewBox=ZQ;to.renderCallByParent=REe;var lT,Oz;function IEe(){if(Oz)return lT;Oz=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return lT=t,lT}var DEe=IEe();const LEe=Ir(DEe);function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}var FEe=["valueAccessor"],BEe=["data","dataKey","clockWise","id","textBreakAll"];function $Ee(t){return HEe(t)||UEe(t)||qEe(t)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(t,e){if(t){if(typeof t=="string")return hM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hM(t,e)}}function UEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HEe(t){if(Array.isArray(t))return hM(t)}function hM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LN.apply(this,arguments)}function Pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(n),!0).forEach(function(r){VEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VEe(t,e,n){return e=WEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WEe(t){var e=KEe(t,"string");return u0(e)=="symbol"?e:e+""}function KEe(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rz(t,e){if(t==null)return{};var n=GEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YEe=function(e){return Array.isArray(e.value)?LEe(e.value):e.value};function sd(t){var e=t.valueAccessor,n=e===void 0?YEe:e,r=Rz(t,FEe),i=r.data,s=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,u=Rz(r,BEe);return!i||!i.length?null:xe.createElement(Rr,{className:"recharts-label-list"},i.map(function(d,f){var m=Gn(s)?n(d,f):ta(d&&d.payload,s),p=Gn(l)?{}:{id:"".concat(l,"-").concat(f)};return xe.createElement(to,LN({},Qn(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:to.parseViewBox(Gn(a)?d:Mz(Mz({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}sd.displayName="LabelList";function XEe(t,e){return t?t===!0?xe.createElement(sd,{key:"labelList-implicit",data:e}):xe.isValidElement(t)||er(t)?xe.createElement(sd,{key:"labelList-implicit",data:e,content:t}):Iy(t)?xe.createElement(sd,LN({data:e},t,{key:"labelList-implicit"})):null:null}function ZEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=nl(r,sd).map(function(a,l){return N.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=XEe(t.label,e);return[s].concat($Ee(i))}sd.renderCallByParent=ZEe;function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function pM(){return pM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pM.apply(this,arguments)}function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(r){QEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QEe(t,e,n){return e=JEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JEe(t){var e=e_e(t,"string");return d0(e)=="symbol"?e:e+""}function e_e(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t_e=function(e,n){var r=lu(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Dw=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/DN,m=u?s:s+a*f,p=Ia(n,r,d,m),y=Ia(n,r,i,m),v=u?s-a*f:s,x=Ia(n,r,d*Math.cos(f*DN),v);return{center:p,circleTangency:y,lineTangency:x,theta:f}},QQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,l=e.endAngle,c=t_e(a,l),u=a+c,d=Ia(n,r,s,a),f=Ia(n,r,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ia(n,r,i,a),y=Ia(n,r,i,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},n_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=lu(d-u),m=Dw({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,v=m.theta,x=Dw({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),b=x.circleTangency,S=x.lineTangency,_=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-v-_;if(j<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):QQ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var O=Dw({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),M=O.circleTangency,A=O.lineTangency,P=O.theta,B=Dw({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),R=B.circleTangency,F=B.lineTangency,q=B.theta,z=c?Math.abs(u-d):Math.abs(u-d)-P-q;if(z<0&&a===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},r_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JQ=function(e){var n=Dz(Dz({},r_e),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(a<s||d===f)return null;var p=fr("recharts-sector",m),y=a-s,v=Pm(l,y,0,!0),x;return v>0&&Math.abs(d-f)<360?x=n_e({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=QQ({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),xe.createElement("path",pM({},Qn(n,!0),{className:p,d:x,role:"img"}))};function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function mM(){return mM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mM.apply(this,arguments)}function Lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(n),!0).forEach(function(r){i_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e,n){return e=s_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s_e(t){var e=a_e(t,"string");return f0(e)=="symbol"?e:e+""}function a_e(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bz={curveBasisClosed:jxe,curveBasisOpen:Axe,curveBasis:_xe,curveBumpX:dxe,curveBumpY:fxe,curveLinearClosed:Cxe,curveLinear:l_,curveMonotoneX:kxe,curveMonotoneY:Txe,curveNatural:Oxe,curveStep:Pxe,curveStepAfter:Rxe,curveStepBefore:Mxe},Lw=function(e){return e.x===+e.x&&e.y===+e.y},Lx=function(e){return e.x},Fx=function(e){return e.y},o_e=function(e,n){if(er(e))return e;var r="curve".concat(a_(e));return(r==="curveMonotone"||r==="curveBump")&&n?Bz["".concat(r).concat(n==="vertical"?"Y":"X")]:Bz[r]||l_},l_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=o_e(r,l),f=u?s.filter(function(v){return Lw(v)}):s,m;if(Array.isArray(a)){var p=u?a.filter(function(v){return Lw(v)}):a,y=f.map(function(v,x){return Fz(Fz({},v),{},{base:p[x]})});return l==="vertical"?m=Cw().y(Fx).x1(Lx).x0(function(v){return v.base.x}):m=Cw().x(Lx).y1(Fx).y0(function(v){return v.base.y}),m.defined(Lw).curve(d),m(y)}return l==="vertical"&&Pt(a)?m=Cw().y(Fx).x1(Lx).x0(a):Pt(a)?m=Cw().x(Lx).y1(Fx).y0(a):m=iZ().x(Lx).y(Fx),m.defined(Lw).curve(d),m(f)},vm=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?l_e(e):i;return N.createElement("path",mM({},Qn(e,!1),uN(e),{className:fr("recharts-curve",n),d:a,ref:s}))},cT={exports:{}},uT,$z;function c_e(){if($z)return uT;$z=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uT=t,uT}var dT,zz;function u_e(){if(zz)return dT;zz=1;var t=c_e();function e(){}function n(){}return n.resetWarningCache=e,dT=function(){function r(a,l,c,u,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},dT}var qz;function d_e(){return qz||(qz=1,cT.exports=u_e()()),cT.exports}var f_e=d_e();const zr=Ir(f_e);var h_e=Object.getOwnPropertyNames,p_e=Object.getOwnPropertySymbols,m_e=Object.prototype.hasOwnProperty;function Uz(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Fw(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function g_e(t){return t?.[Symbol.toStringTag]}function Hz(t){return h_e(t).concat(p_e(t))}var v_e=Object.hasOwn||(function(t,e){return m_e.call(t,e)});function ig(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var y_e="__v",x_e="__o",b_e="_owner",Vz=Object.getOwnPropertyDescriptor,Wz=Object.keys;function w_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function N_e(t,e){return ig(t.getTime(),e.getTime())}function S_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function E_e(t,e){return t===e}function Kz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,l,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=a.value,p=l.value;if(n.equals(m[0],p[0],c,f,t,e,n)&&n.equals(m[1],p[1],m[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var __e=ig;function j_e(t,e,n){var r=Wz(t),i=r.length;if(Wz(e).length!==i)return!1;for(;i-- >0;)if(!eJ(t,e,n,r[i]))return!1;return!0}function Bx(t,e,n){var r=Hz(t),i=r.length;if(Hz(e).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=r[i],!eJ(t,e,n,s)||(a=Vz(t,s),l=Vz(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function A_e(t,e){return ig(t.valueOf(),e.valueOf())}function C_e(t,e){return t.source===e.source&&t.flags===e.flags}function Gz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,l;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function k_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function T_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eJ(t,e,n,r){return(r===b_e||r===x_e||r===y_e)&&(t.$$typeof||e.$$typeof)?!0:v_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var O_e="[object Arguments]",P_e="[object Boolean]",M_e="[object Date]",R_e="[object Error]",I_e="[object Map]",D_e="[object Number]",L_e="[object Object]",F_e="[object RegExp]",B_e="[object Set]",$_e="[object String]",z_e="[object URL]",q_e=Array.isArray,Yz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Xz=Object.assign,U_e=Object.prototype.toString.call.bind(Object.prototype.toString);function H_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual,p=t.unknownTagComparators;return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;var S=typeof v;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?a(v,x,b):S==="function"?i(v,x,b):!1;var _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return l(v,x,b);if(q_e(v))return e(v,x,b);if(Yz!=null&&Yz(v))return f(v,x,b);if(_===Date)return n(v,x,b);if(_===RegExp)return u(v,x,b);if(_===Map)return s(v,x,b);if(_===Set)return d(v,x,b);var j=U_e(v);if(j===M_e)return n(v,x,b);if(j===F_e)return u(v,x,b);if(j===I_e)return s(v,x,b);if(j===B_e)return d(v,x,b);if(j===L_e)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(j===z_e)return m(v,x,b);if(j===R_e)return r(v,x,b);if(j===O_e)return l(v,x,b);if(j===P_e||j===D_e||j===$_e)return c(v,x,b);if(p){var C=p[j];if(!C){var O=g_e(v);O&&(C=p[O])}if(C)return C(v,x,b)}return!1}}function V_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Bx:w_e,areDatesEqual:N_e,areErrorsEqual:S_e,areFunctionsEqual:E_e,areMapsEqual:r?Uz(Kz,Bx):Kz,areNumbersEqual:__e,areObjectsEqual:r?Bx:j_e,arePrimitiveWrappersEqual:A_e,areRegExpsEqual:C_e,areSetsEqual:r?Uz(Gz,Bx):Gz,areTypedArraysEqual:r?Bx:k_e,areUrlsEqual:T_e,unknownTagComparators:void 0};if(n&&(i=Xz({},i,n(i))),e){var s=Fw(i.areArraysEqual),a=Fw(i.areMapsEqual),l=Fw(i.areObjectsEqual),c=Fw(i.areSetsEqual);i=Xz({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function W_e(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function K_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:m,equals:i,meta:p,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,a)}}var G_e=hp();hp({strict:!0});hp({circular:!0});hp({circular:!0,strict:!0});hp({createInternalComparator:function(){return ig}});hp({strict:!0,createInternalComparator:function(){return ig}});hp({circular:!0,createInternalComparator:function(){return ig}});hp({circular:!0,createInternalComparator:function(){return ig},strict:!0});function hp(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,l=V_e(t),c=H_e(l),u=r?r(c):W_e(c);return K_e({circular:n,comparator:c,createState:i,equals:u,strict:a})}function Y_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Zz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Y_e(i)};requestAnimationFrame(r)}function gM(t){"@babel/helpers - typeof";return gM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gM(t)}function X_e(t){return eje(t)||J_e(t)||Q_e(t)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(t,e){if(t){if(typeof t=="string")return Qz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qz(t,e)}}function Qz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eje(t){if(Array.isArray(t))return t}function tje(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,l=X_e(a),c=l[0],u=l.slice(1);if(typeof c=="number"){Zz(i.bind(null,u),c);return}i(c),Zz(i.bind(null,u));return}gM(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){tJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tJ(t,e,n){return e=nje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nje(t){var e=rje(t,"string");return h0(e)==="symbol"?e:String(e)}function rje(t,e){if(h0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ije=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},sje=function(e){return e},aje=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pb=function(e,n){return Object.keys(n).reduce(function(r,i){return e9(e9({},r),{},tJ({},i,e(i,n[i])))},{})},t9=function(e,n,r){return e.map(function(i){return"".concat(aje(i)," ").concat(n,"ms ").concat(r)}).join(",")};function oje(t,e){return uje(t)||cje(t,e)||nJ(t,e)||lje()}function lje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function uje(t){if(Array.isArray(t))return t}function dje(t){return pje(t)||hje(t)||nJ(t)||fje()}function fje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return vM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vM(t,e)}}function hje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pje(t){if(Array.isArray(t))return vM(t)}function vM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FN=1e-4,rJ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},iJ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},n9=function(e,n){return function(r){var i=rJ(e,n);return iJ(i,r)}},mje=function(e,n){return function(r){var i=rJ(e,n),s=[].concat(dje(i.map(function(a,l){return a*l}).slice(1)),[0]);return iJ(s,r)}},r9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=oje(u,4);i=d[0],s=d[1],a=d[2],l=d[3]}}}var f=n9(i,a),m=n9(s,l),p=mje(i,a),y=function(b){return b>1?1:b<0?0:b},v=function(b){for(var S=b>1?1:b,_=S,j=0;j<8;++j){var C=f(_)-S,O=p(_);if(Math.abs(C-S)<FN||O<FN)return m(_);_=y(_-C/O)}return m(_)};return v.isStepper=!1,v},gje=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(d,f,m){var p=-(d-f)*r,y=m*s,v=m+(p-y)*l/1e3,x=m*l/1e3+d;return Math.abs(x-f)<FN&&Math.abs(v)<FN?[f,0]:[x,v]};return c.isStepper=!0,c.dt=l,c},vje=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return r9(i);case"spring":return gje();default:if(i.split("(")[0]==="cubic-bezier")return r9(i)}return typeof i=="function"?i:null};function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function i9(t){return bje(t)||xje(t)||sJ(t)||yje()}function yje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bje(t){if(Array.isArray(t))return xM(t)}function s9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(n),!0).forEach(function(r){yM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yM(t,e,n){return e=wje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wje(t){var e=Nje(t,"string");return p0(e)==="symbol"?e:String(e)}function Nje(t,e){if(p0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sje(t,e){return jje(t)||_je(t,e)||sJ(t,e)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sJ(t,e){if(t){if(typeof t=="string")return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _je(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function jje(t){if(Array.isArray(t))return t}var BN=function(e,n,r){return e+(n-e)*r},bM=function(e){var n=e.from,r=e.to;return n!==r},Aje=function t(e,n,r){var i=pb(function(s,a){if(bM(a)){var l=e(a.from,a.to,a.velocity),c=Sje(l,2),u=c[0],d=c[1];return Oa(Oa({},a),{},{from:u,velocity:d})}return a},n);return r<1?pb(function(s,a){return bM(a)?Oa(Oa({},a),{},{velocity:BN(a.velocity,i[s].velocity,r),from:BN(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const Cje=(function(t,e,n,r,i){var s=ije(t,e),a=s.reduce(function(x,b){return Oa(Oa({},x),{},yM({},b,[t[b],e[b]]))},{}),l=s.reduce(function(x,b){return Oa(Oa({},x),{},yM({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return pb(function(b,S){return S.from},l)},p=function(){return!Object.values(l).filter(bM).length},y=function(b){u||(u=b);var S=b-u,_=S/n.dt;l=Aje(n,l,_),i(Oa(Oa(Oa({},t),e),m())),u=b,p()||(c=requestAnimationFrame(f))},v=function(b){d||(d=b);var S=(b-d)/r,_=pb(function(C,O){return BN.apply(void 0,i9(O).concat([n(S)]))},a);if(i(Oa(Oa(Oa({},t),e),_)),S<1)c=requestAnimationFrame(f);else{var j=pb(function(C,O){return BN.apply(void 0,i9(O).concat([n(1)]))},a);i(Oa(Oa(Oa({},t),e),j))}};return f=n.isStepper?y:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}var kje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tje(t,e){if(t==null)return{};var n=Oje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oje(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fT(t){return Ije(t)||Rje(t)||Mje(t)||Pje()}function Pje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mje(t,e){if(t){if(typeof t=="string")return wM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wM(t,e)}}function Rje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ije(t){if(Array.isArray(t))return wM(t)}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qx(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aJ(r.key),r)}}function Fje(t,e,n){return e&&Lje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aJ(t){var e=Bje(t,"string");return Yv(e)==="symbol"?e:String(e)}function Bje(t,e){if(Yv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NM(t,e)}function NM(t,e){return NM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NM(t,e)}function zje(t){var e=qje();return function(){var r=$N(t),i;if(e){var s=$N(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return SM(this,i)}}function SM(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EM(t)}function EM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $N(t){return $N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$N(t)}var fu=(function(t){$je(n,t);var e=zje(n);function n(r,i){var s;Dje(this,n),s=e.call(this,r,i);var a=s.props,l=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,m=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(EM(s)),s.changeStyle=s.changeStyle.bind(EM(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),SM(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},SM(s);s.state={style:c?Qx({},c,u):u}}else s.state={style:{}};return s}return Fje(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!a){var p={style:c?Qx({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(G_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?f:i.to;if(this.state&&m){var x={style:c?Qx({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(x)}this.runAnimation(Xc(Xc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,p=Cje(a,l,vje(u),c,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(v,x,b){if(b===0)return v;var S=x.duration,_=x.easing,j=_===void 0?"ease":_,C=x.style,O=x.properties,M=x.onAnimationEnd,A=b>0?a[b-1]:x,P=O||Object.keys(C);if(typeof j=="function"||j==="spring")return[].concat(fT(v),[s.runJSAnimation.bind(s,{from:A.style,to:C,duration:S,easing:j}),S]);var B=t9(P,S,j),R=Xc(Xc(Xc({},A.style),C),{},{transition:B});return[].concat(fT(v),[R,S,M]).filter(sje)};return this.manager.start([c].concat(fT(a.reduce(p,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=tje());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?Qx({},l,c):c,x=t9(Object.keys(v),a,u);y.start([d,s,Xc(Xc({},v),{},{transition:x}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Tje(i,kje),u=N.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||a<=0)return s;var f=function(p){var y=p.props,v=y.style,x=v===void 0?{}:v,b=y.className,S=N.cloneElement(p,Xc(Xc({},c),{},{style:Xc(Xc({},x),d),className:b}));return S};return u===1?f(N.Children.only(s)):xe.createElement("div",null,N.Children.map(s,function(m){return f(m)}))}}]),n})(N.PureComponent);fu.displayName="Animate";fu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fu.propTypes={from:zr.oneOfType([zr.object,zr.string]),to:zr.oneOfType([zr.object,zr.string]),attributeName:zr.string,duration:zr.number,begin:zr.number,easing:zr.oneOfType([zr.string,zr.func]),steps:zr.arrayOf(zr.shape({duration:zr.number.isRequired,style:zr.object.isRequired,easing:zr.oneOfType([zr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zr.func]),properties:zr.arrayOf("string"),onAnimationEnd:zr.func})),children:zr.oneOfType([zr.node,zr.func]),isActive:zr.bool,canBegin:zr.bool,onAnimationEnd:zr.func,shouldReAnimate:zr.bool,onAnimationStart:zr.func,onAnimationReStart:zr.func};function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zN.apply(this,arguments)}function Uje(t,e){return Kje(t)||Wje(t,e)||Vje(t,e)||Hje()}function Hje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vje(t,e){if(t){if(typeof t=="string")return o9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o9(t,e)}}function o9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Kje(t){if(Array.isArray(t))return t}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){Gje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gje(t,e,n){return e=Yje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yje(t){var e=Xje(t,"string");return m0(e)=="symbol"?e:e+""}function Xje(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u9=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=s[m]>a?a:s[m];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var y=Math.min(a,s);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Zje=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(a,a+c),m=Math.max(a,a+c);return r>=u&&r<=d&&i>=f&&i<=m}return!1},Qje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sD=function(e){var n=c9(c9({},Qje),e),r=N.useRef(),i=N.useState(-1),s=Uje(i,2),a=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,p=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,S=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=fr("recharts-rectangle",p);return S?xe.createElement(fu,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:y,isActive:S},function(j){var C=j.width,O=j.height,M=j.x,A=j.y;return xe.createElement(fu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:b,easing:y},xe.createElement("path",zN({},Qn(n,!0),{className:_,d:u9(M,A,C,O,m),ref:r})))}):xe.createElement("path",zN({},Qn(n,!0),{className:_,d:u9(c,u,d,f,m)}))};function _M(){return _M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_M.apply(this,arguments)}var S_=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=fr("recharts-dot",s);return n===+n&&r===+r&&i===+i?N.createElement("circle",_M({},Qn(e,!1),uN(e),{className:a,cx:n,cy:r,r:i})):null};function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}var Jje=["x","y","top","left","width","height","className"];function jM(){return jM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jM.apply(this,arguments)}function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){tAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tAe(t,e,n){return e=nAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nAe(t){var e=rAe(t,"string");return g0(e)=="symbol"?e:e+""}function rAe(t,e){if(g0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iAe(t,e){if(t==null)return{};var n=sAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aAe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},oAe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,p=m===void 0?0:m,y=e.className,v=iAe(e,Jje),x=eAe({x:r,y:s,top:l,left:u,width:f,height:p},v);return!Pt(r)||!Pt(s)||!Pt(f)||!Pt(p)||!Pt(l)||!Pt(u)?null:xe.createElement("path",jM({},Qn(x,!0),{className:fr("recharts-cross",y),d:aAe(r,s,f,p,l,u)}))},hT,f9;function lAe(){if(f9)return hT;f9=1;var t=AZ(),e=t(Object.getPrototypeOf,Object);return hT=e,hT}var pT,h9;function cAe(){if(h9)return pT;h9=1;var t=Cf(),e=lAe(),n=kf(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,l=s.hasOwnProperty,c=a.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==c}return pT=u,pT}var uAe=cAe();const dAe=Ir(uAe);var mT,p9;function fAe(){if(p9)return mT;p9=1;var t=Cf(),e=kf(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return mT=r,mT}var hAe=fAe();const pAe=Ir(hAe);function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qN.apply(this,arguments)}function mAe(t,e){return xAe(t)||yAe(t,e)||vAe(t,e)||gAe()}function gAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vAe(t,e){if(t){if(typeof t=="string")return m9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m9(t,e)}}function m9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function xAe(t){if(Array.isArray(t))return t}function g9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(n),!0).forEach(function(r){bAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bAe(t,e,n){return e=wAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wAe(t){var e=NAe(t,"string");return v0(e)=="symbol"?e:e+""}function NAe(t,e){if(v0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(v0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y9=function(e,n,r,i,s){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+s),l+="L ".concat(e+r-a/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},SAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EAe=function(e){var n=v9(v9({},SAe),e),r=N.useRef(),i=N.useState(-1),s=mAe(i,2),a=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,p=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var S=fr("recharts-trapezoid",p);return b?xe.createElement(fu,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:y,isActive:b},function(_){var j=_.upperWidth,C=_.lowerWidth,O=_.height,M=_.x,A=_.y;return xe.createElement(fu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:y},xe.createElement("path",qN({},Qn(n,!0),{className:S,d:y9(M,A,j,C,O),ref:r})))}):xe.createElement("g",null,xe.createElement("path",qN({},Qn(n,!0),{className:S,d:y9(c,u,d,f,m)})))},_Ae=["option","shapeType","propTransformer","activeClassName","isActive"];function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function jAe(t,e){if(t==null)return{};var n=AAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(n),!0).forEach(function(r){CAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CAe(t,e,n){return e=kAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kAe(t){var e=TAe(t,"string");return y0(e)=="symbol"?e:e+""}function TAe(t,e){if(y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OAe(t,e){return UN(UN({},e),t)}function PAe(t,e){return t==="symbols"}function b9(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return xe.createElement(sD,n);case"trapezoid":return xe.createElement(EAe,n);case"sector":return xe.createElement(JQ,n);case"symbols":if(PAe(e))return xe.createElement(u_,n);break;default:return null}}function MAe(t){return N.isValidElement(t)?t.props:t}function AM(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?OAe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,l=t.isActive,c=jAe(t,_Ae),u;if(N.isValidElement(e))u=N.cloneElement(e,UN(UN({},c),MAe(e)));else if(er(e))u=e(c);else if(dAe(e)&&!pAe(e)){var d=i(e,c);u=xe.createElement(b9,{shapeType:n,elementProps:d})}else{var f=c;u=xe.createElement(b9,{shapeType:n,elementProps:f})}return l?xe.createElement(Rr,{className:a},u):u}function E_(t,e){return e!=null&&"trapezoids"in t.props}function __(t,e){return e!=null&&"sectors"in t.props}function x0(t,e){return e!=null&&"points"in t.props}function RAe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function IAe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function DAe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function LAe(t,e){var n;return E_(t,e)?n=RAe:__(t,e)?n=IAe:x0(t,e)&&(n=DAe),n}function FAe(t,e){var n;return E_(t,e)?n="trapezoids":__(t,e)?n="sectors":x0(t,e)&&(n="points"),n}function BAe(t,e){if(E_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(__(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return x0(t,e)?e.payload:{}}function $Ae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=FAe(n,e),s=BAe(n,e),a=r.filter(function(c,u){var d=Mm(s,c),f=n.props[i].filter(function(y){var v=LAe(n,e);return v(y,e)}),m=n.props[i].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=r.indexOf(a[a.length-1]);return l}var gT,w9;function zAe(){if(w9)return gT;w9=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var l=-1,c=e(t((i-r)/(s||1)),0),u=Array(c);c--;)u[a?c:++l]=r,r+=s;return u}return gT=n,gT}var vT,N9;function oJ(){if(N9)return vT;N9=1;var t=UZ(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return vT=r,vT}var yT,S9;function qAe(){if(S9)return yT;S9=1;var t=zAe(),e=h_(),n=oJ();function r(i){return function(s,a,l){return l&&typeof l!="number"&&e(s,a,l)&&(a=l=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),l=l===void 0?s<a?1:-1:n(l),t(s,a,l,i)}}return yT=r,yT}var xT,E9;function UAe(){if(E9)return xT;E9=1;var t=qAe(),e=t();return xT=e,xT}var HAe=UAe();const HN=Ir(HAe);function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function _9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_9(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return e=VAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VAe(t){var e=WAe(t,"string");return b0(e)=="symbol"?e:e+""}function WAe(t,e){if(b0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KAe=["Webkit","Moz","O","ms"],GAe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=KAe.reduce(function(s,a){return j9(j9({},s),{},lJ({},a+r,n))},{});return i[e]=n,i};function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VN.apply(this,arguments)}function A9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(n),!0).forEach(function(r){Sl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uJ(r.key),r)}}function XAe(t,e,n){return e&&C9(t.prototype,e),n&&C9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZAe(t,e,n){return e=WN(e),QAe(t,cJ()?Reflect.construct(e,n||[],WN(t).constructor):e.apply(t,n))}function QAe(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JAe(t)}function JAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!t})()}function WN(t){return WN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WN(t)}function eCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CM(t,e)}function CM(t,e){return CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CM(t,e)}function Sl(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=tCe(t,"string");return Xv(e)=="symbol"?e:e+""}function tCe(t,e){if(Xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nCe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=fb().domain(HN(0,c)).range([s,s+a-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},k9=function(e){return e.changedTouches&&!!e.changedTouches.length},Zv=(function(t){function e(n){var r;return YAe(this,e),r=ZAe(this,e,[n]),Sl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Sl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Sl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a?.({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),Sl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Sl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Sl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Sl(r,"handleSlideDragStart",function(i){var s=k9(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return eCe(e,t),XAe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),m=Math.max(i,s),p=e.getIndexInRange(a,f),y=e.getIndexInRange(a,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=ta(s[r],l,r);return er(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+d-f-l,u+d-f-a):v<0&&(v=Math.max(v,u-a,u-l));var x=this.getIndex({startX:a+v,endX:l+v});(x.startIndex!==m||x.endIndex!==p)&&y&&y(x),this.setState({startX:a+v,endX:l+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=k9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,v=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},S=r.pageX-s;S>0?S=Math.min(S,f+m-p-u):S<0&&(S=Math.max(S,f-u)),b[a]=u+S;var _=this.getIndex(b),j=_.startIndex,C=_.endIndex,O=function(){var A=x.length-1;return a==="startX"&&(l>c?j%v===0:C%v===0)||l<c&&C===A||a==="endX"&&(l>c?C%v===0:j%v===0)||l>c&&C===A};this.setState(Sl(Sl({},a,u+S),"brushMoveStartX",r.pageX),function(){y&&O()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+r;if(!(m===-1||m>=l.length)){var p=l[m];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Sl({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.fill,u=r.stroke;return xe.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?xe.cloneElement(f,{x:i,y:s,width:a,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,v=c.startIndex,x=c.endIndex,b=Math.max(r,this.props.x),S=bT(bT({},Qn(this.props,!1)),{},{x:b,y:u,width:d,height:f}),_=p||"Min value: ".concat((s=y[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=y[x])===null||a===void 0?void 0:a.name);return xe.createElement(Rr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,S))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return xe.createElement(Rr,{className:"recharts-brush-texts"},xe.createElement(wN,VN({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:a+l/2},y),this.getTextOfTick(i)),xe.createElement(wN,VN({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:a+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,m=this.state,p=m.startX,y=m.endX,v=m.isTextActive,x=m.isSlideMoving,b=m.isTravellerMoving,S=m.isTravellerFocused;if(!i||!i.length||!Pt(l)||!Pt(c)||!Pt(u)||!Pt(d)||u<=0||d<=0)return null;var _=fr("recharts-brush",s),j=xe.Children.count(a)===1,C=GAe("userSelect","none");return xe.createElement(Rr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(v||x||b||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),xe.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return xe.isValidElement(r)?s=xe.cloneElement(r,i):er(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return bT({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?nCe({data:s,width:a,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var m=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])})(N.PureComponent);Sl(Zv,"displayName","Brush");Sl(Zv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wT,T9;function rCe(){if(T9)return wT;T9=1;var t=OI();function e(n,r){var i;return t(n,function(s,a,l){return i=r(s,a,l),!i}),!!i}return wT=e,wT}var NT,O9;function iCe(){if(O9)return NT;O9=1;var t=bZ(),e=cp(),n=rCe(),r=ol(),i=h_();function s(a,l,c){var u=r(a)?t:n;return c&&i(a,l,c)&&(l=void 0),u(a,e(l,3))}return NT=s,NT}var sCe=iCe();const aCe=Ir(sCe);var ad=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},ST,P9;function oCe(){if(P9)return ST;P9=1;var t=FZ();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return ST=e,ST}var ET,M9;function lCe(){if(M9)return ET;M9=1;var t=oCe(),e=DZ(),n=cp();function r(i,s){var a={};return s=n(s,3),e(i,function(l,c,u){t(a,c,s(l,c,u))}),a}return ET=r,ET}var cCe=lCe();const uCe=Ir(cCe);var _T,R9;function dCe(){if(R9)return _T;R9=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return _T=t,_T}var jT,I9;function fCe(){if(I9)return jT;I9=1;var t=OI();function e(n,r){var i=!0;return t(n,function(s,a,l){return i=!!r(s,a,l),i}),i}return jT=e,jT}var AT,D9;function hCe(){if(D9)return AT;D9=1;var t=dCe(),e=fCe(),n=cp(),r=ol(),i=h_();function s(a,l,c){var u=r(a)?t:e;return c&&i(a,l,c)&&(l=void 0),u(a,n(l,3))}return AT=s,AT}var pCe=hCe();const dJ=Ir(pCe);var mCe=["x","y"];function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function kM(){return kM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kM.apply(this,arguments)}function L9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(n),!0).forEach(function(r){gCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gCe(t,e,n){return e=vCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vCe(t){var e=yCe(t,"string");return w0(e)=="symbol"?e:e+""}function yCe(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xCe(t,e){if(t==null)return{};var n=bCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wCe(t,e){var n=t.x,r=t.y,i=xCe(t,mCe),s="".concat(n),a=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),m=parseInt(f,10);return $x($x($x($x($x({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function F9(t){return xe.createElement(AM,kM({shapeType:"rectangle",propTransformer:wCe,activeClassName:"recharts-active-bar"},t))}var NCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Pt(r)||Pye(r);return s?e(r,i):(s||Im(),n)}},SCe=["value","background"],fJ;function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function ECe(t,e){if(t==null)return{};var n=_Ce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KN.apply(this,arguments)}function B9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(n),!0).forEach(function(r){Oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pJ(r.key),r)}}function ACe(t,e,n){return e&&$9(t.prototype,e),n&&$9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CCe(t,e,n){return e=GN(e),kCe(t,hJ()?Reflect.construct(e,n||[],GN(t).constructor):e.apply(t,n))}function kCe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TCe(t)}function TCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hJ=function(){return!!t})()}function GN(t){return GN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GN(t)}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TM(t,e)}function TM(t,e){return TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TM(t,e)}function Oh(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=PCe(t,"string");return Qv(e)=="symbol"?e:e+""}function PCe(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jo=(function(t){function e(){var n;jCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=CCe(this,e,[].concat(i)),Oh(n,"state",{isAnimationFinished:!1}),Oh(n,"id",tg("recharts-bar-")),Oh(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Oh(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return OCe(e,t),ACe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Qn(this.props,!1);return r&&r.map(function(f,m){var p=m===c,y=p?u:a,v=Ms(Ms(Ms({},d),f),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return xe.createElement(Rr,KN({className:"recharts-bar-rectangle"},Hb(i.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),xe.createElement(F9,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return xe.createElement(fu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,v=s.map(function(x,b){var S=m&&m[b];if(S){var _=xs(S.x,x.x),j=xs(S.y,x.y),C=xs(S.width,x.width),O=xs(S.height,x.height);return Ms(Ms({},x),{},{x:_(y),y:j(y),width:C(y),height:O(y)})}if(a==="horizontal"){var M=xs(0,x.height),A=M(y);return Ms(Ms({},x),{},{y:x.y+x.height-A,height:A})}var P=xs(0,x.width),B=P(y);return Ms(Ms({},x),{},{width:B})});return xe.createElement(Rr,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Mm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=Qn(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,m=ECe(u,SCe);if(!f)return null;var p=Ms(Ms(Ms(Ms(Ms({},m),{},{fill:"#eee"},f),c),Hb(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return xe.createElement(F9,KN({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=nl(d,zy);if(!f)return null;var m=u==="vertical"?a[0].height/2:a[0].width/2,p=function(x,b){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:ta(x,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return xe.createElement(Rr,y,f.map(function(v){return xe.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,m=r.height,p=r.isAnimationActive,y=r.background,v=r.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=fr("recharts-bar",a),S=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,j=S||_,C=Gn(v)?this.id:v;return xe.createElement(Rr,{className:b},S||_?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(C)},xe.createElement("rect",{x:S?u:u-f/2,y:_?d:d-m/2,width:S?f:f*2,height:_?m:m*2}))):null,xe.createElement(Rr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(C,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,C),(!p||x)&&sd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(N.PureComponent);fJ=jo;Oh(jo,"displayName","Bar");Oh(jo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!up.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Oh(jo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,p=ZSe(r,n);if(!p)return null;var y=e.layout,v=n.type.defaultProps,x=v!==void 0?Ms(Ms({},v),n.props):n.props,b=x.dataKey,S=x.children,_=x.minPointSize,j=y==="horizontal"?a:s,C=u?j.scale.domain():null,O=sEe({numericAxis:j}),M=nl(S,kh),A=f.map(function(P,B){var R,F,q,z,G,X;u?R=QSe(u[d+B],C):(R=ta(P,b),Array.isArray(R)||(R=[O,R]));var U=NCe(_,fJ.defaultProps.minPointSize)(R[1],B);if(y==="horizontal"){var W,Y=[a.scale(R[0]),a.scale(R[1])],ie=Y[0],Z=Y[1];F=Sz({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:B}),q=(W=Z??ie)!==null&&W!==void 0?W:void 0,z=p.size;var I=ie-Z;if(G=Number.isNaN(I)?0:I,X={x:F,y:a.y,width:z,height:a.height},Math.abs(U)>0&&Math.abs(G)<Math.abs(U)){var V=lu(G||U)*(Math.abs(U)-Math.abs(G));q-=V,G+=V}}else{var Q=[s.scale(R[0]),s.scale(R[1])],re=Q[0],fe=Q[1];if(F=re,q=Sz({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:P,index:B}),z=fe-re,G=p.size,X={x:s.x,y:q,width:s.width,height:G},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var pe=lu(z||U)*(Math.abs(U)-Math.abs(z));z+=pe}}return Ms(Ms(Ms({},P),{},{x:F,y:q,width:z,height:G,value:u?R:R[1],payload:P,background:X},M&&M[B]&&M[B].props),{},{tooltipPayload:[XQ(n,P)],tooltipPosition:{x:F+z/2,y:q+G/2}})});return Ms({data:A,layout:y},m)});function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function MCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mJ(r.key),r)}}function RCe(t,e,n){return e&&z9(t.prototype,e),n&&z9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){j_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=ICe(t,"string");return N0(e)=="symbol"?e:e+""}function ICe(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aD=function(e,n,r,i,s){var a=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!El(u,jo);return d.reduce(function(p,y){var v=n[y],x=v.orientation,b=v.domain,S=v.padding,_=S===void 0?{}:S,j=v.mirror,C=v.reversed,O="".concat(x).concat(j?"Mirror":""),M,A,P,B,R;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var F=b[1]-b[0],q=1/0,z=v.categoricalDomain.sort(Dye);if(z.forEach(function(Q,re){re>0&&(q=Math.min((Q||0)-(z[re-1]||0),q))}),Number.isFinite(q)){var G=q/F,X=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(M=G*X/2),v.padding==="no-gap"){var U=Pm(e.barCategoryGap,G*X),W=G*X/2;M=W-U-(W-U)/X*U}}}i==="xAxis"?A=[r.left+(_.left||0)+(M||0),r.left+r.width-(_.right||0)-(M||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(M||0),r.top+r.height-(_.bottom||0)-(M||0)]:A=v.range,C&&(A=[A[1],A[0]]);var Y=YSe(v,s,m),ie=Y.scale,Z=Y.realScaleType;ie.domain(b).range(A),XSe(ie);var I=iEe(ie,eu(eu({},v),{},{realScaleType:Z}));i==="xAxis"?(R=x==="top"&&!j||x==="bottom"&&j,P=r.left,B=f[O]-R*v.height):i==="yAxis"&&(R=x==="left"&&!j||x==="right"&&j,P=f[O]-R*v.width,B=r.top);var V=eu(eu(eu({},v),I),{},{realScaleType:Z,x:P,y:B,scale:ie,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return V.bandSize=IN(V,I),!v.hide&&i==="xAxis"?f[O]+=(R?-1:1)*V.height:v.hide||(f[O]+=(R?-1:1)*V.width),eu(eu({},p),{},j_({},y,V))},{})},gJ=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},DCe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return gJ({x:n,y:r},{x:i,y:s})},vJ=(function(){function t(e){MCe(this,t),this.scale=e}return RCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();j_(vJ,"EPS",1e-4);var oD=function(e){var n=Object.keys(e).reduce(function(r,i){return eu(eu({},r),{},j_({},i,vJ.create(e[i])))},{});return eu(eu({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return uCe(i,function(c,u){return n[u].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return dJ(i,function(s,a){return n[a].isInRange(s)})}})};function LCe(t){return(t%180+180)%180}var FCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=LCe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},CT,U9;function BCe(){if(U9)return CT;U9=1;var t=cp(),e=h1(),n=d_();function r(i){return function(s,a,l){var c=Object(s);if(!e(s)){var u=t(a,3);s=n(s),a=function(f){return u(c[f],f,c)}}var d=i(s,a,l);return d>-1?c[u?s[d]:d]:void 0}}return CT=r,CT}var kT,H9;function $Ce(){if(H9)return kT;H9=1;var t=oJ();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return kT=e,kT}var TT,V9;function zCe(){if(V9)return TT;V9=1;var t=OZ(),e=cp(),n=$Ce(),r=Math.max;function i(s,a,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),t(s,e(a,3),u)}return TT=i,TT}var OT,W9;function qCe(){if(W9)return OT;W9=1;var t=BCe(),e=zCe(),n=t(e);return OT=n,OT}var UCe=qCe();const HCe=Ir(UCe);var VCe=WX();const WCe=Ir(VCe);var KCe=WCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lD=N.createContext(void 0),cD=N.createContext(void 0),yJ=N.createContext(void 0),xJ=N.createContext({}),bJ=N.createContext(void 0),wJ=N.createContext(0),NJ=N.createContext(0),K9=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,l=e.children,c=e.width,u=e.height,d=KCe(s);return xe.createElement(lD.Provider,{value:r},xe.createElement(cD.Provider,{value:i},xe.createElement(xJ.Provider,{value:s},xe.createElement(yJ.Provider,{value:d},xe.createElement(bJ.Provider,{value:a},xe.createElement(wJ.Provider,{value:u},xe.createElement(NJ.Provider,{value:c},l)))))))},GCe=function(){return N.useContext(bJ)},SJ=function(e){var n=N.useContext(lD);n==null&&Im();var r=n[e];return r==null&&Im(),r},YCe=function(){var e=N.useContext(lD);return _h(e)},XCe=function(){var e=N.useContext(cD),n=HCe(e,function(r){return dJ(r.domain,Number.isFinite)});return n||_h(e)},EJ=function(e){var n=N.useContext(cD);n==null&&Im();var r=n[e];return r==null&&Im(),r},ZCe=function(){var e=N.useContext(yJ);return e},QCe=function(){return N.useContext(xJ)},uD=function(){return N.useContext(NJ)},dD=function(){return N.useContext(wJ)};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function JCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jJ(r.key),r)}}function tke(t,e,n){return e&&eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nke(t,e,n){return e=YN(e),rke(t,_J()?Reflect.construct(e,n||[],YN(t).constructor):e.apply(t,n))}function rke(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ike(t)}function ike(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!t})()}function YN(t){return YN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YN(t)}function ske(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OM(t,e)}function OM(t,e){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OM(t,e)}function G9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(n),!0).forEach(function(r){fD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fD(t,e,n){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=ake(t,"string");return Jv(e)=="symbol"?e:e+""}function ake(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oke(t,e){return dke(t)||uke(t,e)||cke(t,e)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cke(t,e){if(t){if(typeof t=="string")return X9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X9(t,e)}}function X9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function dke(t){if(Array.isArray(t))return t}function PM(){return PM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PM.apply(this,arguments)}var fke=function(e,n){var r;return xe.isValidElement(e)?r=xe.cloneElement(e,n):er(e)?r=e(n):r=xe.createElement("line",PM({},n,{className:"recharts-reference-line-line"})),r},hke=function(e,n,r,i,s,a,l,c,u){var d=s.x,f=s.y,m=s.width,p=s.height;if(r){var y=u.y,v=e.y.apply(y,{position:a});if(ad(u,"discard")&&!e.y.isInRange(v))return null;var x=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?x.reverse():x}if(n){var b=u.x,S=e.x.apply(b,{position:a});if(ad(u,"discard")&&!e.x.isInRange(S))return null;var _=[{x:S,y:f+p},{x:S,y:f}];return l==="top"?_.reverse():_}if(i){var j=u.segment,C=j.map(function(O){return e.apply(O,{position:a})});return ad(u,"discard")&&aCe(C,function(O){return!e.isInRange(O)})?null:C}return null};function pke(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,u=GCe(),d=SJ(i),f=EJ(s),m=ZCe();if(!u||!m)return null;pf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=oD({x:d.scale,y:f.scale}),y=Zs(e),v=Zs(n),x=r&&r.length===2,b=hke(p,y,v,x,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var S=oke(b,2),_=S[0],j=_.x,C=_.y,O=S[1],M=O.x,A=O.y,P=ad(t,"hidden")?"url(#".concat(u,")"):void 0,B=Y9(Y9({clipPath:P},Qn(t,!0)),{},{x1:j,y1:C,x2:M,y2:A});return xe.createElement(Rr,{className:fr("recharts-reference-line",l)},fke(a,B),to.renderCallByParent(t,DCe({x1:j,y1:C,x2:M,y2:A})))}var hD=(function(t){function e(){return JCe(this,e),nke(this,e,arguments)}return ske(e,t),tke(e,[{key:"render",value:function(){return xe.createElement(pke,this.props)}}])})(xe.Component);fD(hD,"displayName","ReferenceLine");fD(hD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function MM(){return MM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MM.apply(this,arguments)}function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CJ(r.key),r)}}function vke(t,e,n){return e&&gke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yke(t,e,n){return e=XN(e),xke(t,AJ()?Reflect.construct(e,n||[],XN(t).constructor):e.apply(t,n))}function xke(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bke(t)}function bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AJ=function(){return!!t})()}function XN(t){return XN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XN(t)}function wke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RM(t,e)}function RM(t,e){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RM(t,e)}function A_(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=Nke(t,"string");return ey(e)=="symbol"?e:e+""}function Nke(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ske=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=oD({x:i.scale,y:s.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return ad(e,"discard")&&!a.isInRange(l)?null:l},C_=(function(t){function e(){return mke(this,e),yke(this,e,arguments)}return wke(e,t),vke(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,u=Zs(i),d=Zs(s);if(pf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Ske(this.props);if(!f)return null;var m=f.x,p=f.y,y=this.props,v=y.shape,x=y.className,b=ad(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=Q9(Q9({clipPath:b},Qn(this.props,!0)),{},{cx:m,cy:p});return xe.createElement(Rr,{className:fr("recharts-reference-dot",x)},e.renderDot(v,S),to.renderCallByParent(this.props,{x:m-a,y:p-a,width:2*a,height:2*a}))}}])})(xe.Component);A_(C_,"displayName","ReferenceDot");A_(C_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});A_(C_,"renderDot",function(t,e){var n;return xe.isValidElement(t)?n=xe.cloneElement(t,e):er(t)?n=t(e):n=xe.createElement(S_,MM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function IM(){return IM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IM.apply(this,arguments)}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){k_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TJ(r.key),r)}}function jke(t,e,n){return e&&_ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ake(t,e,n){return e=ZN(e),Cke(t,kJ()?Reflect.construct(e,n||[],ZN(t).constructor):e.apply(t,n))}function Cke(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kke(t)}function kke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kJ=function(){return!!t})()}function ZN(t){return ZN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZN(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DM(t,e)}function DM(t,e){return DM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DM(t,e)}function k_(t,e,n){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=Oke(t,"string");return ty(e)=="symbol"?e:e+""}function Oke(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pke=function(e,n,r,i,s){var a=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=oD({x:d.scale,y:f.scale}),p={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return ad(s,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:gJ(p,y)},T_=(function(t){function e(){return Eke(this,e),Ake(this,e,arguments)}return Tke(e,t),jke(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;pf(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Zs(i),m=Zs(s),p=Zs(a),y=Zs(l),v=this.props.shape;if(!f&&!m&&!p&&!y&&!v)return null;var x=Pke(f,m,p,y,this.props);if(!x&&!v)return null;var b=ad(this.props,"hidden")?"url(#".concat(d,")"):void 0;return xe.createElement(Rr,{className:fr("recharts-reference-area",c)},e.renderRect(v,eq(eq({clipPath:b},Qn(this.props,!0)),x)),to.renderCallByParent(this.props,x))}}])})(xe.Component);k_(T_,"displayName","ReferenceArea");k_(T_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});k_(T_,"renderRect",function(t,e){var n;return xe.isValidElement(t)?n=xe.cloneElement(t,e):er(t)?n=t(e):n=xe.createElement(sD,IM({},e,{className:"recharts-reference-area-rect"})),n});function OJ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Mke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return FCe(r,n)}function Rke(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function QN(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ike(t,e){return OJ(t,e+1)}function Dke(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,l=e.end,c=0,u=1,d=a,f=function(){var y=r?.[c];if(y===void 0)return{v:OJ(r,u)};var v=c,x,b=function(){return x===void 0&&(x=n(y,v)),x},S=y.coordinate,_=c===0||QN(t,S,b,d,l);_||(c=0,d=a,u+=1),_&&(d=S+t*(b()/2+i),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function tq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tq(Object(n),!0).forEach(function(r){Lke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lke(t,e,n){return e=Fke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fke(t){var e=Bke(t,"string");return S0(e)=="symbol"?e:e+""}function Bke(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ke(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end,u=function(m){var p=s[m],y,v=function(){return y===void 0&&(y=n(p,m)),y};if(m===a-1){var x=t*(p.coordinate+t*v()/2-c);s[m]=p=Qa(Qa({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else s[m]=p=Qa(Qa({},p),{},{tickCoord:p.coordinate});var b=QN(t,p.tickCoord,v,l,c);b&&(c=p.tickCoord-t*(v()/2+i),s[m]=Qa(Qa({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function zke(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),m=t*(d.coordinate+t*f/2-u);a[l-1]=d=Qa(Qa({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var p=QN(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),a[l-1]=Qa(Qa({},d),{},{isShow:!0}))}for(var y=s?l-1:l,v=function(S){var _=a[S],j,C=function(){return j===void 0&&(j=n(_,S)),j};if(S===0){var O=t*(_.coordinate-t*C()/2-c);a[S]=_=Qa(Qa({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else a[S]=_=Qa(Qa({},_),{},{tickCoord:_.coordinate});var M=QN(t,_.tickCoord,C,c,u);M&&(c=_.tickCoord+t*(C()/2+i),a[S]=Qa(Qa({},_),{},{isShow:!0}))},x=0;x<y;x++)v(x);return a}function pD(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Pt(c)||up.isSsr)return Ike(i,typeof c=="number"&&Pt(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?db(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,j){var C=er(u)?u(_.value,j):_.value;return p==="width"?Mke(db(C,{fontSize:e,letterSpacing:n}),y,f):db(C,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?lu(i[1].coordinate-i[0].coordinate):1,b=Rke(s,x,p);return c==="equidistantPreserveStart"?Dke(x,b,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=zke(x,b,v,i,a,c==="preserveStartEnd"):m=$ke(x,b,v,i,a),m.filter(function(S){return S.isShow}))}var qke=["viewBox"],Uke=["viewBox"],Hke=["ticks"];function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(this,arguments)}function nq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(n),!0).forEach(function(r){mD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PT(t,e){if(t==null)return{};var n=Vke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MJ(r.key),r)}}function Kke(t,e,n){return e&&rq(t.prototype,e),n&&rq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gke(t,e,n){return e=JN(e),Yke(t,PJ()?Reflect.construct(e,n||[],JN(t).constructor):e.apply(t,n))}function Yke(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xke(t)}function Xke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function JN(t){return JN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JN(t)}function Zke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}function LM(t,e){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LM(t,e)}function mD(t,e,n){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=Qke(t,"string");return ny(e)=="symbol"?e:e+""}function Qke(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qy=(function(t){function e(n){var r;return Wke(this,e),r=Gke(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Zke(e,t),Kke(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=PT(r,qke),l=this.props,c=l.viewBox,u=PT(l,Uke);return!Nv(s,c)||!Nv(a,u)||!Nv(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,p,y,v,x,b,S,_=f?-1:1,j=r.tickSize||d,C=Pt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,x=a+ +!f*c,v=x-_*j,S=v-_*m,b=C;break;case"left":v=x=r.coordinate,y=s+ +!f*l,p=y-_*j,b=p-_*m,S=C;break;case"right":v=x=r.coordinate,y=s+ +f*l,p=y+_*j,b=p+_*m,S=C;break;default:p=y=r.coordinate,x=a+ +f*c,v=x+_*j,S=v+_*m,b=C;break}return{line:{x1:p,y1:v,x2:y,y2:x},tick:{x:b,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Ws(Ws(Ws({},Qn(this.props,!1)),Qn(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Ws(Ws({},f),{},{x1:i,y1:s+m*l,x2:i+a,y2:s+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ws(Ws({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+l})}return xe.createElement("line",dv({},f,{className:fr("recharts-cartesian-axis-line",mc(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=pD(Ws(Ws({},this.props),{},{ticks:r}),i,s),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Qn(this.props,!1),b=Qn(d,!1),S=Ws(Ws({},x),{},{fill:"none"},Qn(c,!1)),_=p.map(function(j,C){var O=a.getTickLineCoord(j),M=O.line,A=O.tick,P=Ws(Ws(Ws(Ws({textAnchor:y,verticalAnchor:v},x),{},{stroke:"none",fill:u},b),A),{},{index:C,payload:j,visibleTicksCount:p.length,tickFormatter:f});return xe.createElement(Rr,dv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Hb(a.props,j,C)),c&&xe.createElement("line",dv({},S,M,{className:fr("recharts-cartesian-axis-tick-line",mc(c,"className"))})),d&&e.renderTickItem(d,P,"".concat(er(f)?f(j.value,C):j.value).concat(m||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,p=PT(f,Hke),y=m;return er(c)&&(y=m&&m.length>0?c(this.props):c(p)),a<=0||l<=0||!y||!y.length?null:xe.createElement(Rr,{className:fr("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),to.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,l=fr(i.className,"recharts-cartesian-axis-tick-value");return xe.isValidElement(r)?a=xe.cloneElement(r,Ws(Ws({},i),{},{className:l})):er(r)?a=r(Ws(Ws({},i),{},{className:l})):a=xe.createElement(wN,dv({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(N.Component);mD(qy,"displayName","CartesianAxis");mD(qy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jke=["x1","y1","x2","y2","key"],e5e=["offset"];function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iq(Object(n),!0).forEach(function(r){t5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t5e(t,e,n){return e=n5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5e(t){var e=r5e(t,"string");return Dm(e)=="symbol"?e:e+""}function r5e(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function sq(t,e){if(t==null)return{};var n=i5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var s5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,l=e.height,c=e.ry;return xe.createElement("rect",{x:i,y:s,ry:c,width:a,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RJ(t,e){var n;if(xe.isValidElement(t))n=xe.cloneElement(t,e);else if(er(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,l=e.key,c=sq(e,Jke),u=Qn(c,!1);u.offset;var d=sq(u,e5e);n=xe.createElement("line",om({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function a5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=no(no({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return RJ(i,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function o5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=no(no({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return RJ(i,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function l5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],v=y?i+a-m:d[p+1]-m;if(v<=0)return null;var x=p%e.length;return xe.createElement("rect",{key:"react-".concat(p),y:m,x:r,height:v,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function c5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],v=y?s+l-m:d[p+1]-m;if(v<=0)return null;var x=p%r.length;return xe.createElement("rect",{key:"react-".concat(p),x:m,y:a,width:v,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var u5e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return GQ(pD(no(no(no({},qy.defaultProps),r),{},{ticks:df(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},d5e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return GQ(pD(no(no(no({},qy.defaultProps),r),{},{ticks:df(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},$g={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _v(t){var e,n,r,i,s,a,l=uD(),c=dD(),u=QCe(),d=no(no({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:$g.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:$g.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:$g.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:$g.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:$g.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:$g.verticalFill,x:Pt(t.x)?t.x:u.left,y:Pt(t.y)?t.y:u.top,width:Pt(t.width)?t.width:u.width,height:Pt(t.height)?t.height:u.height}),f=d.x,m=d.y,p=d.width,y=d.height,v=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,S=YCe(),_=XCe();if(!Pt(p)||p<=0||!Pt(y)||y<=0||!Pt(f)||f!==+f||!Pt(m)||m!==+m)return null;var j=d.verticalCoordinatesGenerator||u5e,C=d.horizontalCoordinatesGenerator||d5e,O=d.horizontalPoints,M=d.verticalPoints;if((!O||!O.length)&&er(C)){var A=x&&x.length,P=C({yAxis:_?no(no({},_),{},{ticks:A?x:_.ticks}):void 0,width:l,height:c,offset:u},A?!0:v);pf(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Dm(P),"]")),Array.isArray(P)&&(O=P)}if((!M||!M.length)&&er(j)){var B=b&&b.length,R=j({xAxis:S?no(no({},S),{},{ticks:B?b:S.ticks}):void 0,width:l,height:c,offset:u},B?!0:v);pf(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Dm(R),"]")),Array.isArray(R)&&(M=R)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(s5e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),xe.createElement(a5e,om({},d,{offset:u,horizontalPoints:O,xAxis:S,yAxis:_})),xe.createElement(o5e,om({},d,{offset:u,verticalPoints:M,xAxis:S,yAxis:_})),xe.createElement(l5e,om({},d,{horizontalPoints:O})),xe.createElement(c5e,om({},d,{verticalPoints:M})))}_v.displayName="CartesianGrid";var f5e=["type","layout","connectNulls","ref"],h5e=["key"];function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function aq(t,e){if(t==null)return{};var n=p5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(n),!0).forEach(function(r){tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zg(t){return y5e(t)||v5e(t)||g5e(t)||m5e()}function m5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(t,e){if(t){if(typeof t=="string")return FM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(t,e)}}function v5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y5e(t){if(Array.isArray(t))return FM(t)}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DJ(r.key),r)}}function b5e(t,e,n){return e&&lq(t.prototype,e),n&&lq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w5e(t,e,n){return e=eS(e),N5e(t,IJ()?Reflect.construct(e,n||[],eS(t).constructor):e.apply(t,n))}function N5e(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S5e(t)}function S5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IJ=function(){return!!t})()}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(t)}function E5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BM(t,e)}function BM(t,e){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BM(t,e)}function tu(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=_5e(t,"string");return ry(e)=="symbol"?e:e+""}function _5e(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _f=(function(t){function e(){var n;x5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=w5e(this,e,[].concat(i)),tu(n,"state",{isAnimationFinished:!0,totalLength:0}),tu(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),tu(n,"getStrokeDasharray",function(a,l,c){var u=c.reduce(function(b,S){return b+S});if(!u)return n.generateSimpleStrokeDasharray(l,a);for(var d=Math.floor(a/u),f=a%u,m=l-a,p=[],y=0,v=0;y<c.length;v+=c[y],++y)if(v+c[y]>f){p=[].concat(zg(c.slice(0,y)),[f-v]);break}var x=p.length%2===0?[0,m]:[m];return[].concat(zg(e.repeat(c,d)),zg(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),tu(n,"id",tg("recharts-line-")),tu(n,"pathRef",function(a){n.mainCurve=a}),tu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),tu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return E5e(e,t),b5e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=nl(d,zy);if(!f)return null;var m=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:ta(v.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return xe.createElement(Rr,p,f.map(function(y){return xe.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Qn(this.props,!1),m=Qn(c,!0),p=u.map(function(v,x){var b=Nl(Nl(Nl({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return xe.createElement(Rr,mb({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,s,a){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=aq(l,f5e),m=Nl(Nl(Nl({},Qn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:c,layout:u,connectNulls:d});return xe.createElement(vm,mb({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,m=a.animationEasing,p=a.animationId,y=a.animateNewValues,v=a.width,x=a.height,b=this.state,S=b.prevPoints,_=b.totalLength;return xe.createElement(fu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var C=j.t;if(S){var O=S.length/l.length,M=l.map(function(F,q){var z=Math.floor(q*O);if(S[z]){var G=S[z],X=xs(G.x,F.x),U=xs(G.y,F.y);return Nl(Nl({},F),{},{x:X(C),y:U(C)})}if(y){var W=xs(v*2,F.x),Y=xs(x/2,F.y);return Nl(Nl({},F),{},{x:W(C),y:Y(C)})}return Nl(Nl({},F),{},{x:F.x,y:F.y})});return s.renderCurveStatically(M,r,i)}var A=xs(0,_),P=A(C),B;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});B=s.getStrokeDasharray(P,_,R)}else B=s.generateSimpleStrokeDasharray(_,P);return s.renderCurveStatically(l,r,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&a&&a.length&&(!u&&d>0||!Mm(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,p=i.width,y=i.height,v=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,_=fr("recharts-line",c),j=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,O=j||C,M=Gn(x)?this.id:x,A=(r=Qn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=A.r,B=P===void 0?3:P,R=A.strokeWidth,F=R===void 0?2:R,q=ZX(a)?a:{},z=q.clipDot,G=z===void 0?!0:z,X=B*2+F;return xe.createElement(Rr,{className:_},j||C?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(M)},xe.createElement("rect",{x:j?m:m-p/2,y:C?f:f-y/2,width:j?p:p*2,height:C?y:y*2})),!G&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(M)},xe.createElement("rect",{x:m-X/2,y:f-X/2,width:p+X,height:y+X}))):null,!S&&this.renderCurve(O,M),this.renderErrorBar(O,M),(S||a)&&this.renderDots(O,G,M),(!v||b)&&sd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(zg(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(zg(a),zg(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(xe.isValidElement(r))s=xe.cloneElement(r,i);else if(er(r))s=r(i);else{var a=i.key,l=aq(i,h5e),c=fr("recharts-line-dot",typeof r!="boolean"?r.className:"");s=xe.createElement(S_,mb({key:a},l,{className:c}))}return s}}])})(N.PureComponent);tu(_f,"displayName","Line");tu(_f,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!up.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});tu(_f,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(m,p){var y=ta(m,a);return d==="horizontal"?{x:Gv({axis:n,ticks:i,bandSize:l,entry:m,index:p}),y:Gn(y)?null:r.scale(y),value:y,payload:m}:{x:Gn(y)?null:n.scale(y),y:Gv({axis:r,ticks:s,bandSize:l,entry:m,index:p}),value:y,payload:m}});return Nl({points:f,layout:d},u)});var j5e=["layout","type","stroke","connectNulls","isRange","ref"],A5e=["key"],LJ;function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function FJ(t,e){if(t==null)return{};var n=C5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){Zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$J(r.key),r)}}function T5e(t,e,n){return e&&uq(t.prototype,e),n&&uq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O5e(t,e,n){return e=tS(e),P5e(t,BJ()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function P5e(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M5e(t)}function M5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(t)}function R5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$M(t,e)}function $M(t,e){return $M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$M(t,e)}function Zu(t,e,n){return e=$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=I5e(t,"string");return iy(e)=="symbol"?e:e+""}function I5e(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sg=(function(t){function e(){var n;k5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=O5e(this,e,[].concat(i)),Zu(n,"state",{isAnimationFinished:!0}),Zu(n,"id",tg("recharts-area-")),Zu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),er(a)&&a()}),Zu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),er(a)&&a()}),n}return R5e(e,t),T5e(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=Qn(this.props,!1),p=Qn(u,!0),y=d.map(function(x,b){var S=vh(vh(vh({key:"dot-".concat(b),r:3},m),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(u,S)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return xe.createElement(Rr,lm({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=r*Math.abs(c-u),f=Th(a.map(function(m){return m.y||0}));return Pt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Th(s.map(function(m){return m.y||0})),f)),Pt(f)?xe.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=r*Math.abs(c-u),f=Th(a.map(function(m){return m.x||0}));return Pt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Th(s.map(function(m){return m.x||0})),f)),Pt(f)?xe.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var p=FJ(l,j5e);return xe.createElement(Rr,{clipPath:s?"url(#clipPath-".concat(a,")"):null},xe.createElement(vm,lm({},Qn(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&xe.createElement(vm,lm({},Qn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&m&&xe.createElement(vm,lm({},Qn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,m=a.animationEasing,p=a.animationId,y=this.state,v=y.prevPoints,x=y.prevBaseLine;return xe.createElement(fu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(v){var _=v.length/l.length,j=l.map(function(A,P){var B=Math.floor(P*_);if(v[B]){var R=v[B],F=xs(R.x,A.x),q=xs(R.y,A.y);return vh(vh({},A),{},{x:F(S),y:q(S)})}return A}),C;if(Pt(c)&&typeof c=="number"){var O=xs(x,c);C=O(S)}else if(Gn(c)||Dy(c)){var M=xs(x,0);C=M(S)}else C=c.map(function(A,P){var B=Math.floor(P*_);if(x[B]){var R=x[B],F=xs(R.x,A.x),q=xs(R.y,A.y);return vh(vh({},A),{},{x:F(S),y:q(S)})}return A});return s.renderAreaStatically(j,C,r,i)}return xe.createElement(Rr,null,xe.createElement("defs",null,xe.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(S))),xe.createElement(Rr,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&a&&a.length&&(!d&&m>0||!Mm(d,a)||!Mm(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,p=i.width,y=i.height,v=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,_=fr("recharts-area",c),j=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,O=j||C,M=Gn(x)?this.id:x,A=(r=Qn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=A.r,B=P===void 0?3:P,R=A.strokeWidth,F=R===void 0?2:R,q=ZX(a)?a:{},z=q.clipDot,G=z===void 0?!0:z,X=B*2+F;return xe.createElement(Rr,{className:_},j||C?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(M)},xe.createElement("rect",{x:j?d:d-p/2,y:C?u:u-y/2,width:j?p:p*2,height:C?y:y*2})),!G&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(M)},xe.createElement("rect",{x:d-X/2,y:u-X/2,width:p+X,height:y+X}))):null,S?null:this.renderArea(O,M),(a||S)&&this.renderDots(O,G,M),(!v||b)&&sd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(N.PureComponent);LJ=sg;Zu(sg,"displayName","Area");Zu(sg,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!up.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Zu(sg,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,l=a??s;if(Pt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Zu(sg,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,p=e.layout,y=u&&u.length,v=LJ.getBaseValue(e,n,r,i),x=p==="horizontal",b=!1,S=f.map(function(j,C){var O;y?O=u[d+C]:(O=ta(j,c),Array.isArray(O)?b=!0:O=[v,O]);var M=O[1]==null||y&&ta(j,c)==null;return x?{x:Gv({axis:r,ticks:s,bandSize:l,entry:j,index:C}),y:M?null:i.scale(O[1]),value:O,payload:j}:{x:M?null:r.scale(O[1]),y:Gv({axis:i,ticks:a,bandSize:l,entry:j,index:C}),value:O,payload:j}}),_;return y||b?_=S.map(function(j){var C=Array.isArray(j.value)?j.value[0]:null;return x?{x:j.x,y:C!=null&&j.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:j.y}}):_=x?i.scale(v):r.scale(v),vh({points:S,baseLine:_,layout:p,isRange:b},m)});Zu(sg,"renderDotItem",function(t,e){var n;if(xe.isValidElement(t))n=xe.cloneElement(t,e);else if(er(t))n=t(e);else{var r=fr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=FJ(e,A5e);n=xe.createElement(S_,lm({},s,{key:i,className:r}))}return n});function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function D5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UJ(r.key),r)}}function F5e(t,e,n){return e&&L5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B5e(t,e,n){return e=nS(e),$5e(t,zJ()?Reflect.construct(e,n||[],nS(t).constructor):e.apply(t,n))}function $5e(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z5e(t)}function z5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zJ=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nS(t)}function q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zM(t,e)}function qJ(t,e,n){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=U5e(t,"string");return sy(e)=="symbol"?e:e+""}function U5e(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O_=(function(t){function e(){return D5e(this,e),B5e(this,e,arguments)}return q5e(e,t),F5e(e,[{key:"render",value:function(){return null}}])})(N.Component);qJ(O_,"displayName","ZAxis");qJ(O_,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var H5e=["option","isActive"];function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function V5e(t,e){if(t==null)return{};var n=W5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K5e(t){var e=t.option,n=t.isActive,r=V5e(t,H5e);return typeof e=="string"?N.createElement(AM,gb({option:N.createElement(u_,gb({type:e},r)),isActive:n,shapeType:"symbols"},r)):N.createElement(AM,gb({option:e,isActive:n,shapeType:"symbols"},r))}function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(this,arguments)}function dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(n),!0).forEach(function(r){Ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VJ(r.key),r)}}function Y5e(t,e,n){return e&&fq(t.prototype,e),n&&fq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X5e(t,e,n){return e=rS(e),Z5e(t,HJ()?Reflect.construct(e,n||[],rS(t).constructor):e.apply(t,n))}function Z5e(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HJ=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function J5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qM(t,e)}function qM(t,e){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qM(t,e)}function Ph(t,e,n){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=eTe(t,"string");return ay(e)=="symbol"?e:e+""}function eTe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P_=(function(t){function e(){var n;G5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=X5e(this,e,[].concat(i)),Ph(n,"state",{isAnimationFinished:!1}),Ph(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Ph(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Ph(n,"id",tg("recharts-scatter-")),n}return J5e(e,t),Y5e(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,s=this.props,a=s.shape,l=s.activeShape,c=s.activeIndex,u=Qn(this.props,!1);return r.map(function(d,f){var m=c===f,p=m?l:a,y=oc(oc({},u),d);return xe.createElement(Rr,vb({className:"recharts-scatter-symbol",key:"symbol-".concat(d?.cx,"-").concat(d?.cy,"-").concat(d?.size,"-").concat(f)},Hb(i.props,d,f),{role:"img"}),xe.createElement(K5e,vb({option:p,isActive:m,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,s=i.points,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return xe.createElement(fu,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,y=s.map(function(v,x){var b=f&&f[x];if(b){var S=xs(b.cx,v.cx),_=xs(b.cy,v.cy),j=xs(b.size,v.size);return oc(oc({},v),{},{cx:S(p),cy:_(p),size:j(p)})}var C=xs(0,v.size);return oc(oc({},v),{},{size:C(p)})});return xe.createElement(Rr,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,a=this.state.prevPoints;return s&&i&&i.length&&(!a||!Mm(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,a=i.xAxis,l=i.yAxis,c=i.children,u=nl(c,zy);return u?u.map(function(d,f){var m=d.props,p=m.direction,y=m.dataKey;return xe.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(s[f]),data:s,xAxis:a,yAxis:l,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,b){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:ta(x,b)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,s=r.line,a=r.lineType,l=r.lineJointType,c=Qn(this.props,!1),u=Qn(s,!1),d,f;if(a==="joint")d=i.map(function(_){return{x:_.cx,y:_.cy}});else if(a==="fitting"){var m=Iye(i),p=m.xmin,y=m.xmax,v=m.a,x=m.b,b=function(j){return v*j+x};d=[{x:p,y:b(p)},{x:y,y:b(y)}]}var S=oc(oc(oc({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return xe.isValidElement(s)?f=xe.cloneElement(s,S):er(s)?f=s(S):f=xe.createElement(vm,vb({},S,{type:l})),xe.createElement(Rr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.points,a=r.line,l=r.className,c=r.xAxis,u=r.yAxis,d=r.left,f=r.top,m=r.width,p=r.height,y=r.id,v=r.isAnimationActive;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=fr("recharts-scatter",l),S=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,j=S||_,C=Gn(y)?this.id:y;return xe.createElement(Rr,{className:b,clipPath:j?"url(#clipPath-".concat(C,")"):null},S||_?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(C)},xe.createElement("rect",{x:S?d:d-m/2,y:_?f:f-p/2,width:S?m:m*2,height:_?p:p*2}))):null,a&&this.renderLine(),this.renderErrorBar(),xe.createElement(Rr,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&sd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(N.PureComponent);Ph(P_,"displayName","Scatter");Ph(P_,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!up.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ph(P_,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,s=t.displayedData,a=t.xAxisTicks,l=t.yAxisTicks,c=t.offset,u=i.props.tooltipType,d=nl(i.props.children,kh),f=Gn(e.dataKey)?i.props.dataKey:e.dataKey,m=Gn(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,y=r?r.range:O_.defaultProps.range,v=y&&y[0],x=e.scale.bandwidth?e.scale.bandwidth():0,b=n.scale.bandwidth?n.scale.bandwidth():0,S=s.map(function(_,j){var C=ta(_,f),O=ta(_,m),M=!Gn(p)&&ta(_,p)||"-",A=[{name:Gn(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:C,payload:_,dataKey:f,type:u},{name:Gn(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:_,dataKey:m,type:u}];M!=="-"&&A.push({name:r.name||r.dataKey,unit:r.unit||"",value:M,payload:_,dataKey:p,type:u});var P=Gv({axis:e,ticks:a,bandSize:x,entry:_,index:j,dataKey:f}),B=Gv({axis:n,ticks:l,bandSize:b,entry:_,index:j,dataKey:m}),R=M!=="-"?r.scale(M):v,F=Math.sqrt(Math.max(R,0)/Math.PI);return oc(oc({},_),{},{cx:P,cy:B,x:P-F,y:B-F,xAxis:e,yAxis:n,zAxis:r,width:2*F,height:2*F,size:R,node:{x:C,y:O,z:M},tooltipPayload:A,tooltipPosition:{x:P,y:B},payload:_},d&&d[j]&&d[j].props)});return oc({points:S},c)});function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function tTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GJ(r.key),r)}}function rTe(t,e,n){return e&&nTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iTe(t,e,n){return e=iS(e),sTe(t,WJ()?Reflect.construct(e,n||[],iS(t).constructor):e.apply(t,n))}function sTe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aTe(t)}function aTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WJ=function(){return!!t})()}function iS(t){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iS(t)}function oTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UM(t,e)}function KJ(t,e,n){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=lTe(t,"string");return oy(e)=="symbol"?e:e+""}function lTe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HM(){return HM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HM.apply(this,arguments)}function cTe(t){var e=t.xAxisId,n=uD(),r=dD(),i=SJ(e);return i==null?null:N.createElement(qy,HM({},i,{className:fr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return df(a,!0)}}))}var od=(function(t){function e(){return tTe(this,e),iTe(this,e,arguments)}return oTe(e,t),rTe(e,[{key:"render",value:function(){return N.createElement(cTe,this.props)}}])})(N.Component);KJ(od,"displayName","XAxis");KJ(od,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function uTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZJ(r.key),r)}}function fTe(t,e,n){return e&&dTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hTe(t,e,n){return e=sS(e),pTe(t,YJ()?Reflect.construct(e,n||[],sS(t).constructor):e.apply(t,n))}function pTe(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mTe(t)}function mTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YJ=function(){return!!t})()}function sS(t){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sS(t)}function gTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VM(t,e)}function VM(t,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VM(t,e)}function XJ(t,e,n){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=vTe(t,"string");return ly(e)=="symbol"?e:e+""}function vTe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WM(){return WM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WM.apply(this,arguments)}var yTe=function(e){var n=e.yAxisId,r=uD(),i=dD(),s=EJ(n);return s==null?null:N.createElement(qy,WM({},s,{className:fr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return df(l,!0)}}))},pc=(function(t){function e(){return uTe(this,e),hTe(this,e,arguments)}return gTe(e,t),fTe(e,[{key:"render",value:function(){return N.createElement(yTe,this.props)}}])})(N.Component);XJ(pc,"displayName","YAxis");XJ(pc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hq(t){return NTe(t)||wTe(t)||bTe(t)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(t,e){if(t){if(typeof t=="string")return KM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KM(t,e)}}function wTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NTe(t){if(Array.isArray(t))return KM(t)}function KM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GM=function(e,n,r,i,s){var a=nl(e,hD),l=nl(e,C_),c=[].concat(hq(a),hq(l)),u=nl(e,T_),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,x){if(x.props[d]===r&&ad(x.props,"extendDomain")&&Pt(x.props[f])){var b=x.props[f];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},m)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(v,x){if(x.props[d]===r&&ad(x.props,"extendDomain")&&Pt(x.props[p])&&Pt(x.props[y])){var b=x.props[p],S=x.props[y];return[Math.min(v[0],b,S),Math.max(v[1],b,S)]}return v},m)}return s&&s.length&&(m=s.reduce(function(v,x){return Pt(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},m)),m},MT={exports:{}},pq;function STe(){return pq||(pq=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,m),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,S,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,p),!0;case 6:return x.fn.call(x.context,d,f,m,p,y),!0}for(_=1,S=new Array(b-1);_<b;_++)S[_-1]=arguments[_];x.fn.apply(x.context,S)}else{var j=x.length,C;for(_=0;_<j;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,d);break;case 3:x[_].fn.call(x[_].context,d,f);break;case 4:x[_].fn.call(x[_].context,d,f,m);break;default:if(!S)for(C=1,S=new Array(b-1);C<b;C++)S[C-1]=arguments[C];x[_].fn.apply(x[_].context,S)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&a(this,p);else{for(var v=0,x=[],b=y.length;v<b;v++)(y[v].fn!==d||m&&!y[v].once||f&&y[v].context!==f)&&x.push(y[v]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(MT)),MT.exports}var ETe=STe();const _Te=Ir(ETe);var RT=new _Te,IT="recharts.syncMouseEvents";function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ATe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QJ(r.key),r)}}function CTe(t,e,n){return e&&ATe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DT(t,e,n){return e=QJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=kTe(t,"string");return E0(e)=="symbol"?e:e+""}function kTe(t,e){if(E0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(E0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TTe=(function(){function t(){jTe(this,t),DT(this,"activeIndex",0),DT(this,"coordinateList",[]),DT(this,"layout","horizontal")}return CTe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,m=a+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function OTe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Pt(r)&&Pt(i))return!0}return!1}function PTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JJ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Ia(e,n,r,i),l=Ia(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function MTe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Ia(l,c,u,f),p=Ia(l,c,d,f);r=m.x,i=m.y,s=p.x,a=p.y}else return JJ(e);return[{x:r,y:i},{x:s,y:a}]}function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function mq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(n),!0).forEach(function(r){RTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RTe(t,e,n){return e=ITe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ITe(t){var e=DTe(t,"string");return _0(e)=="symbol"?e:e+""}function DTe(t,e){if(_0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LTe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var y,v=vm;if(m==="ScatterChart")y=a,v=oAe;else if(m==="BarChart")y=PTe(f,a,c,d),v=sD;else if(f==="radial"){var x=JJ(a),b=x.cx,S=x.cy,_=x.radius,j=x.startAngle,C=x.endAngle;y={cx:b,cy:S,startAngle:j,endAngle:C,innerRadius:_,outerRadius:_},v=JQ}else y={points:MTe(f,a,c)},v=vm;var O=Bw(Bw(Bw(Bw({stroke:"#ccc",pointerEvents:"none"},c),y),Qn(p,!1)),{},{payload:l,payloadIndex:u,className:fr("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,O):N.createElement(v,O)}var FTe=["item"],BTe=["children","className","width","height","style","compact","title","desc"];function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function gq(t,e){return qTe(t)||zTe(t,e)||tee(t,e)||$Te()}function $Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function qTe(t){if(Array.isArray(t))return t}function vq(t,e){if(t==null)return{};var n=UTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nee(r.key),r)}}function WTe(t,e,n){return e&&VTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KTe(t,e,n){return e=aS(e),GTe(t,eee()?Reflect.construct(e,n||[],aS(t).constructor):e.apply(t,n))}function GTe(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTe(t)}function YTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eee=function(){return!!t})()}function aS(t){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aS(t)}function XTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YM(t,e)}function YM(t,e){return YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YM(t,e)}function uy(t){return JTe(t)||QTe(t)||tee(t)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tee(t,e){if(t){if(typeof t=="string")return XM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XM(t,e)}}function QTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JTe(t){if(Array.isArray(t))return XM(t)}function XM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tn(t,e,n){return e=nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=eOe(t,"string");return cy(e)=="symbol"?e:e+""}function eOe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tOe={xAxis:["bottom","top"],yAxis:["left","right"]},nOe={width:"100%",height:"100%"},ree={x:0,y:0};function $w(t){return t}var rOe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},iOe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,l=i.radius;return st(st(st({},i),Ia(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,u=i.angle;return st(st(st({},i),Ia(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return ree},M_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(uy(l),uy(u)):l},[]);return a.length>0?a:e&&e.length&&Pt(i)&&Pt(s)?e.slice(i,s+1):[]};function iee(t){return t==="number"?[0,"auto"]:void 0}var ZM=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,l=M_(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?l:f;m=cN(p,a.dataKey,i)}else m=f&&f[r]||l[r];return m?[].concat(uy(c),[XQ(u,m)]):c},[])},xq=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=rOe(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=USe(a,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=ZM(e,n,d,f),p=iOe(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},sOe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,p=KQ(d,s);return r.reduce(function(y,v){var x,b=v.type.defaultProps!==void 0?st(st({},v.type.defaultProps),v.props):v.props,S=b.type,_=b.dataKey,j=b.allowDataOverflow,C=b.allowDuplicatedCategory,O=b.scale,M=b.ticks,A=b.includeHidden,P=b[a];if(y[P])return y;var B=M_(e.data,{graphicalItems:i.filter(function(I){var V,Q=a in I.props?I.props[a]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[a];return Q===P}),dataStartIndex:c,dataEndIndex:u}),R=B.length,F,q,z;OTe(b.domain,j,S)&&(F=dM(b.domain,null,j),p&&(S==="number"||O!=="auto")&&(z=hb(B,_,"category")));var G=iee(S);if(!F||F.length===0){var X,U=(X=b.domain)!==null&&X!==void 0?X:G;if(_){if(F=hb(B,_,S),S==="category"&&p){var W=Rye(F);C&&W?(q=F,F=HN(0,R)):C||(F=jz(U,F,v).reduce(function(I,V){return I.indexOf(V)>=0?I:[].concat(uy(I),[V])},[]))}else if(S==="category")C?F=F.filter(function(I){return I!==""&&!Gn(I)}):F=jz(U,F,v).reduce(function(I,V){return I.indexOf(V)>=0||V===""||Gn(V)?I:[].concat(uy(I),[V])},[]);else if(S==="number"){var Y=GSe(B,i.filter(function(I){var V,Q,re=a in I.props?I.props[a]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[a],fe="hide"in I.props?I.props.hide:(Q=I.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return re===P&&(A||!fe)}),_,s,d);Y&&(F=Y)}p&&(S==="number"||O!=="auto")&&(z=hb(B,_,"category"))}else p?F=HN(0,R):l&&l[P]&&l[P].hasStack&&S==="number"?F=m==="expand"?[0,1]:YQ(l[P].stackGroups,c,u):F=WQ(B,i.filter(function(I){var V=a in I.props?I.props[a]:I.type.defaultProps[a],Q="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return V===P&&(A||!Q)}),S,d,!0);if(S==="number")F=GM(f,F,P,s,M),U&&(F=dM(U,F,j));else if(S==="category"&&U){var ie=U,Z=F.every(function(I){return ie.indexOf(I)>=0});Z&&(F=ie)}}return st(st({},y),{},Tn({},P,st(st({},b),{},{axisType:s,domain:F,categoricalDomain:z,duplicateDomain:q,originalDomain:(x=b.domain)!==null&&x!==void 0?x:G,isCategorical:p,layout:d})))},{})},aOe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,m=M_(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=KQ(d,s),v=-1;return r.reduce(function(x,b){var S=b.type.defaultProps!==void 0?st(st({},b.type.defaultProps),b.props):b.props,_=S[a],j=iee("number");if(!x[_]){v++;var C;return y?C=HN(0,p):l&&l[_]&&l[_].hasStack?(C=YQ(l[_].stackGroups,c,u),C=GM(f,C,_,s)):(C=dM(j,WQ(m,r.filter(function(O){var M,A,P=a in O.props?O.props[a]:(M=O.type.defaultProps)===null||M===void 0?void 0:M[a],B="hide"in O.props?O.props.hide:(A=O.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===_&&!B}),"number",d),i.defaultProps.allowDataOverflow),C=GM(f,C,_,s)),st(st({},x),{},Tn({},_,st(st({axisType:s},i.defaultProps),{},{hide:!0,orientation:mc(tOe,"".concat(s,".").concat(v%2),null),domain:C,originalDomain:j,isCategorical:y,layout:d})))}return x},{})},oOe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),m=nl(d,s),p={};return m&&m.length?p=sOe(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=aOe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},lOe=function(e){var n=_h(e),r=df(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:PI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:IN(n,r)}},bq=function(e){var n=e.children,r=e.defaultShowTooltip,i=El(n,Zv),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},cOe=function(e){return!e||!e.length?!1:e.some(function(n){var r=hf(n&&n.type);return r&&r.indexOf("Bar")>=0})},wq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uOe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,m=r.margin||{},p=El(f,Zv),y=El(f,mf),v=Object.keys(c).reduce(function(C,O){var M=c[O],A=M.orientation;return!M.mirror&&!M.hide?st(st({},C),{},Tn({},A,C[A]+M.width)):C},{left:m.left||0,right:m.right||0}),x=Object.keys(a).reduce(function(C,O){var M=a[O],A=M.orientation;return!M.mirror&&!M.hide?st(st({},C),{},Tn({},A,mc(C,"".concat(A))+M.height)):C},{top:m.top||0,bottom:m.bottom||0}),b=st(st({},x),v),S=b.bottom;p&&(b.bottom+=p.props.height||Zv.defaultProps.height),y&&n&&(b=WSe(b,i,r,n));var _=u-b.left-b.right,j=d-b.top-b.bottom;return st(st({brushBottom:S},b),{},{width:Math.max(_,0),height:Math.max(j,0)})},dOe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},gD=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,S){var _=S.graphicalItems,j=S.stackGroups,C=S.offset,O=S.updateId,M=S.dataStartIndex,A=S.dataEndIndex,P=b.barSize,B=b.layout,R=b.barGap,F=b.barCategoryGap,q=b.maxBarSize,z=wq(B),G=z.numericAxisName,X=z.cateAxisName,U=cOe(_),W=[];return _.forEach(function(Y,ie){var Z=M_(b.data,{graphicalItems:[Y],dataStartIndex:M,dataEndIndex:A}),I=Y.type.defaultProps!==void 0?st(st({},Y.type.defaultProps),Y.props):Y.props,V=I.dataKey,Q=I.maxBarSize,re=I["".concat(G,"Id")],fe=I["".concat(X,"Id")],pe={},ve=c.reduce(function(Ne,Ce){var Ve=S["".concat(Ce.axisType,"Map")],We=I["".concat(Ce.axisType,"Id")];Ve&&Ve[We]||Ce.axisType==="zAxis"||Im();var Ue=Ve[We];return st(st({},Ne),{},Tn(Tn({},Ce.axisType,Ue),"".concat(Ce.axisType,"Ticks"),df(Ue)))},pe),de=ve[X],be=ve["".concat(X,"Ticks")],je=j&&j[re]&&j[re].hasStack&&aEe(Y,j[re].stackGroups),ae=hf(Y.type).indexOf("Bar")>=0,Oe=IN(de,be),ee=[],ne=U&&HSe({barSize:P,stackGroups:j,totalSize:dOe(ve,X)});if(ae){var Me,ut,Je=Gn(Q)?q:Q,He=(Me=(ut=IN(de,be,!0))!==null&&ut!==void 0?ut:Je)!==null&&Me!==void 0?Me:0;ee=VSe({barGap:R,barCategoryGap:F,bandSize:He!==Oe?He:Oe,sizeList:ne[fe],maxBarSize:Je}),He!==Oe&&(ee=ee.map(function(Ne){return st(st({},Ne),{},{position:st(st({},Ne.position),{},{offset:Ne.position.offset-He/2})})}))}var me=Y&&Y.type&&Y.type.getComposedData;me&&W.push({props:st(st({},me(st(st({},ve),{},{displayedData:Z,props:b,dataKey:V,item:Y,bandSize:Oe,barPosition:ee,offset:C,stackedData:je,layout:B,dataStartIndex:M,dataEndIndex:A}))),{},Tn(Tn(Tn({key:Y.key||"item-".concat(ie)},G,ve[G]),X,ve[X]),"animationId",O)),childIndex:Kye(Y,b.children),item:Y})}),W},p=function(b,S){var _=b.props,j=b.dataStartIndex,C=b.dataEndIndex,O=b.updateId;if(!z8({props:_}))return null;var M=_.children,A=_.layout,P=_.stackOffset,B=_.data,R=_.reverseStackOrder,F=wq(A),q=F.numericAxisName,z=F.cateAxisName,G=nl(M,r),X=rEe(B,G,"".concat(q,"Id"),"".concat(z,"Id"),P,R),U=c.reduce(function(I,V){var Q="".concat(V.axisType,"Map");return st(st({},I),{},Tn({},Q,oOe(_,st(st({},V),{},{graphicalItems:G,stackGroups:V.axisType===q&&X,dataStartIndex:j,dataEndIndex:C}))))},{}),W=uOe(st(st({},U),{},{props:_,graphicalItems:G}),S?.legendBBox);Object.keys(U).forEach(function(I){U[I]=d(_,U[I],W,I.replace("Map",""),n)});var Y=U["".concat(z,"Map")],ie=lOe(Y),Z=m(_,st(st({},U),{},{dataStartIndex:j,dataEndIndex:C,updateId:O,graphicalItems:G,stackGroups:X,offset:W}));return st(st({formattedGraphicalItems:Z,graphicalItems:G,offset:W,stackGroups:X},ie),U)},y=(function(x){function b(S){var _,j,C;return HTe(this,b),C=KTe(this,b,[S]),Tn(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Tn(C,"accessibilityManager",new TTe),Tn(C,"handleLegendBBoxUpdate",function(O){if(O){var M=C.state,A=M.dataStartIndex,P=M.dataEndIndex,B=M.updateId;C.setState(st({legendBBox:O},p({props:C.props,dataStartIndex:A,dataEndIndex:P,updateId:B},st(st({},C.state),{},{legendBBox:O}))))}}),Tn(C,"handleReceiveSyncEvent",function(O,M,A){if(C.props.syncId===O){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(M)}}),Tn(C,"handleBrushChange",function(O){var M=O.startIndex,A=O.endIndex;if(M!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var P=C.state.updateId;C.setState(function(){return st({dataStartIndex:M,dataEndIndex:A},p({props:C.props,dataStartIndex:M,dataEndIndex:A,updateId:P},C.state))}),C.triggerSyncEvent({dataStartIndex:M,dataEndIndex:A})}}),Tn(C,"handleMouseEnter",function(O){var M=C.getMouseInfo(O);if(M){var A=st(st({},M),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseEnter;er(P)&&P(A,O)}}),Tn(C,"triggeredAfterMouseMove",function(O){var M=C.getMouseInfo(O),A=M?st(st({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseMove;er(P)&&P(A,O)}),Tn(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Tn(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Tn(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),Tn(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var A=C.props.onMouseLeave;er(A)&&A(M,O)}),Tn(C,"handleOuterEvent",function(O){var M=Wye(O),A=mc(C.props,"".concat(M));if(M&&er(A)){var P,B;/.*touch.*/i.test(M)?B=C.getMouseInfo(O.changedTouches[0]):B=C.getMouseInfo(O),A((P=B)!==null&&P!==void 0?P:{},O)}}),Tn(C,"handleClick",function(O){var M=C.getMouseInfo(O);if(M){var A=st(st({},M),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var P=C.props.onClick;er(P)&&P(A,O)}}),Tn(C,"handleMouseDown",function(O){var M=C.props.onMouseDown;if(er(M)){var A=C.getMouseInfo(O);M(A,O)}}),Tn(C,"handleMouseUp",function(O){var M=C.props.onMouseUp;if(er(M)){var A=C.getMouseInfo(O);M(A,O)}}),Tn(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Tn(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),Tn(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),Tn(C,"handleDoubleClick",function(O){var M=C.props.onDoubleClick;if(er(M)){var A=C.getMouseInfo(O);M(A,O)}}),Tn(C,"handleContextMenu",function(O){var M=C.props.onContextMenu;if(er(M)){var A=C.getMouseInfo(O);M(A,O)}}),Tn(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&RT.emit(IT,C.props.syncId,O,C.eventEmitterSymbol)}),Tn(C,"applySyncEvent",function(O){var M=C.props,A=M.layout,P=M.syncMethod,B=C.state.updateId,R=O.dataStartIndex,F=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(st({dataStartIndex:R,dataEndIndex:F},p({props:C.props,dataStartIndex:R,dataEndIndex:F,updateId:B},C.state)));else if(O.activeTooltipIndex!==void 0){var q=O.chartX,z=O.chartY,G=O.activeTooltipIndex,X=C.state,U=X.offset,W=X.tooltipTicks;if(!U)return;if(typeof P=="function")G=P(W,O);else if(P==="value"){G=-1;for(var Y=0;Y<W.length;Y++)if(W[Y].value===O.activeLabel){G=Y;break}}var ie=st(st({},U),{},{x:U.left,y:U.top}),Z=Math.min(q,ie.x+ie.width),I=Math.min(z,ie.y+ie.height),V=W[G]&&W[G].value,Q=ZM(C.state,C.props.data,G),re=W[G]?{x:A==="horizontal"?W[G].coordinate:Z,y:A==="horizontal"?I:W[G].coordinate}:ree;C.setState(st(st({},O),{},{activeLabel:V,activeCoordinate:re,activePayload:Q,activeTooltipIndex:G}))}else C.setState(O)}),Tn(C,"renderCursor",function(O){var M,A=C.state,P=A.isTooltipActive,B=A.activeCoordinate,R=A.activePayload,F=A.offset,q=A.activeTooltipIndex,z=A.tooltipAxisBandSize,G=C.getTooltipEventType(),X=(M=O.props.active)!==null&&M!==void 0?M:P,U=C.props.layout,W=O.key||"_recharts-cursor";return xe.createElement(LTe,{key:W,activeCoordinate:B,activePayload:R,activeTooltipIndex:q,chartName:n,element:O,isActive:X,layout:U,offset:F,tooltipAxisBandSize:z,tooltipEventType:G})}),Tn(C,"renderPolarAxis",function(O,M,A){var P=mc(O,"type.axisType"),B=mc(C.state,"".concat(P,"Map")),R=O.type.defaultProps,F=R!==void 0?st(st({},R),O.props):O.props,q=B&&B[F["".concat(P,"Id")]];return N.cloneElement(O,st(st({},q),{},{className:fr(P,q.className),key:O.key||"".concat(M,"-").concat(A),ticks:df(q,!0)}))}),Tn(C,"renderPolarGrid",function(O){var M=O.props,A=M.radialLines,P=M.polarAngles,B=M.polarRadius,R=C.state,F=R.radiusAxisMap,q=R.angleAxisMap,z=_h(F),G=_h(q),X=G.cx,U=G.cy,W=G.innerRadius,Y=G.outerRadius;return N.cloneElement(O,{polarAngles:Array.isArray(P)?P:df(G,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(B)?B:df(z,!0).map(function(ie){return ie.coordinate}),cx:X,cy:U,innerRadius:W,outerRadius:Y,key:O.key||"polar-grid",radialLines:A})}),Tn(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,M=C.props,A=M.children,P=M.width,B=M.height,R=C.props.margin||{},F=P-(R.left||0)-(R.right||0),q=HQ({children:A,formattedGraphicalItems:O,legendWidth:F,legendContent:u});if(!q)return null;var z=q.item,G=vq(q,FTe);return N.cloneElement(z,st(st({},G),{},{chartWidth:P,chartHeight:B,margin:R,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Tn(C,"renderTooltip",function(){var O,M=C.props,A=M.children,P=M.accessibilityLayer,B=El(A,Xo);if(!B)return null;var R=C.state,F=R.isTooltipActive,q=R.activeCoordinate,z=R.activePayload,G=R.activeLabel,X=R.offset,U=(O=B.props.active)!==null&&O!==void 0?O:F;return N.cloneElement(B,{viewBox:st(st({},X),{},{x:X.left,y:X.top}),active:U,label:G,payload:U?z:[],coordinate:q,accessibilityLayer:P})}),Tn(C,"renderBrush",function(O){var M=C.props,A=M.margin,P=M.data,B=C.state,R=B.offset,F=B.dataStartIndex,q=B.dataEndIndex,z=B.updateId;return N.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Iw(C.handleBrushChange,O.props.onChange),data:P,x:Pt(O.props.x)?O.props.x:R.left,y:Pt(O.props.y)?O.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:Pt(O.props.width)?O.props.width:R.width,startIndex:F,endIndex:q,updateId:"brush-".concat(z)})}),Tn(C,"renderReferenceElement",function(O,M,A){if(!O)return null;var P=C,B=P.clipPathId,R=C.state,F=R.xAxisMap,q=R.yAxisMap,z=R.offset,G=O.type.defaultProps||{},X=O.props,U=X.xAxisId,W=U===void 0?G.xAxisId:U,Y=X.yAxisId,ie=Y===void 0?G.yAxisId:Y;return N.cloneElement(O,{key:O.key||"".concat(M,"-").concat(A),xAxis:F[W],yAxis:q[ie],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:B})}),Tn(C,"renderActivePoints",function(O){var M=O.item,A=O.activePoint,P=O.basePoint,B=O.childIndex,R=O.isRange,F=[],q=M.props.key,z=M.item.type.defaultProps!==void 0?st(st({},M.item.type.defaultProps),M.item.props):M.item.props,G=z.activeDot,X=z.dataKey,U=st(st({index:B,dataKey:X,cx:A.x,cy:A.y,r:4,fill:iD(M.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Qn(G,!1)),uN(G));return F.push(b.renderActiveDot(G,U,"".concat(q,"-activePoint-").concat(B))),P?F.push(b.renderActiveDot(G,st(st({},U),{},{cx:P.x,cy:P.y}),"".concat(q,"-basePoint-").concat(B))):R&&F.push(null),F}),Tn(C,"renderGraphicChild",function(O,M,A){var P=C.filterFormatItem(O,M,A);if(!P)return null;var B=C.getTooltipEventType(),R=C.state,F=R.isTooltipActive,q=R.tooltipAxis,z=R.activeTooltipIndex,G=R.activeLabel,X=C.props.children,U=El(X,Xo),W=P.props,Y=W.points,ie=W.isRange,Z=W.baseLine,I=P.item.type.defaultProps!==void 0?st(st({},P.item.type.defaultProps),P.item.props):P.item.props,V=I.activeDot,Q=I.hide,re=I.activeBar,fe=I.activeShape,pe=!!(!Q&&F&&U&&(V||re||fe)),ve={};B!=="axis"&&U&&U.props.trigger==="click"?ve={onClick:Iw(C.handleItemMouseEnter,O.props.onClick)}:B!=="axis"&&(ve={onMouseLeave:Iw(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Iw(C.handleItemMouseEnter,O.props.onMouseEnter)});var de=N.cloneElement(O,st(st({},P.props),ve));function be(Ce){return typeof q.dataKey=="function"?q.dataKey(Ce.payload):null}if(pe)if(z>=0){var je,ae;if(q.dataKey&&!q.allowDuplicatedCategory){var Oe=typeof q.dataKey=="function"?be:"payload.".concat(q.dataKey.toString());je=cN(Y,Oe,G),ae=ie&&Z&&cN(Z,Oe,G)}else je=Y?.[z],ae=ie&&Z&&Z[z];if(fe||re){var ee=O.props.activeIndex!==void 0?O.props.activeIndex:z;return[N.cloneElement(O,st(st(st({},P.props),ve),{},{activeIndex:ee})),null,null]}if(!Gn(je))return[de].concat(uy(C.renderActivePoints({item:P,activePoint:je,basePoint:ae,childIndex:z,isRange:ie})))}else{var ne,Me=(ne=C.getItemByXY(C.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:de},ut=Me.graphicalItem,Je=ut.item,He=Je===void 0?O:Je,me=ut.childIndex,Ne=st(st(st({},P.props),ve),{},{activeIndex:me});return[N.cloneElement(He,Ne),null,null]}return ie?[de,null,null]:[de,null]}),Tn(C,"renderCustomized",function(O,M,A){return N.cloneElement(O,st(st({key:"recharts-customized-".concat(A)},C.props),C.state))}),Tn(C,"renderMap",{CartesianGrid:{handler:$w,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:$w},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:$w},YAxis:{handler:$w},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((_=S.id)!==null&&_!==void 0?_:tg("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=HZ(C.triggeredAfterMouseMove,(j=S.throttleDelay)!==null&&j!==void 0?j:1e3/60),C.state={},C}return XTe(b,x),WTe(b,[{key:"componentDidMount",value:function(){var _,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,j=_.children,C=_.data,O=_.height,M=_.layout,A=El(j,Xo);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,R=ZM(this.state,C,P,B),F=this.state.tooltipTicks[P].coordinate,q=(this.state.offset.top+O)/2,z=M==="horizontal",G=z?{x:F,y:q}:{y:F,x:q},X=this.state.formattedGraphicalItems.find(function(W){var Y=W.item;return Y.type.name==="Scatter"});X&&(G=st(st({},G),X.props.points[P].tooltipPosition),R=X.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:B,activePayload:R,activeCoordinate:G};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(_){MP([El(_.children,Xo)],[El(this.props.children,Xo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=El(this.props.children,Xo);if(_&&typeof _.props.shared=="boolean"){var j=_.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var j=this.container,C=j.getBoundingClientRect(),O=M1e(C),M={chartX:Math.round(_.pageX-O.left),chartY:Math.round(_.pageY-O.top)},A=C.width/j.offsetWidth||1,P=this.inRange(M.chartX,M.chartY,A);if(!P)return null;var B=this.state,R=B.xAxisMap,F=B.yAxisMap,q=this.getTooltipEventType(),z=xq(this.state,this.props.data,this.props.layout,P);if(q!=="axis"&&R&&F){var G=_h(R).scale,X=_h(F).scale,U=G&&G.invert?G.invert(M.chartX):null,W=X&&X.invert?X.invert(M.chartY):null;return st(st({},M),{},{xValue:U,yValue:W},z)}return z?st(st({},M),z):null}},{key:"inRange",value:function(_,j){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,M=_/C,A=j/C;if(O==="horizontal"||O==="vertical"){var P=this.state.offset,B=M>=P.left&&M<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return B?{x:M,y:A}:null}var R=this.state,F=R.angleAxisMap,q=R.radiusAxisMap;if(F&&q){var z=_h(F);return kz({x:M,y:A},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,j=this.getTooltipEventType(),C=El(_,Xo),O={};C&&j==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=uN(this.props,this.handleOuterEvent);return st(st({},M),O)}},{key:"addListener",value:function(){RT.on(IT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RT.removeListener(IT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,j,C){for(var O=this.state.formattedGraphicalItems,M=0,A=O.length;M<A;M++){var P=O[M];if(P.item===_||P.props.key===_.key||j===hf(P.item.type)&&C===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,j=this.state.offset,C=j.left,O=j.top,M=j.height,A=j.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:_},xe.createElement("rect",{x:C,y:O,height:M,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(j,C){var O=gq(C,2),M=O[0],A=O[1];return st(st({},j),{},Tn({},M,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(j,C){var O=gq(C,2),M=O[0],A=O[1];return st(st({},j),{},Tn({},M,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(_){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(_){var j=this.state,C=j.formattedGraphicalItems,O=j.activeItem;if(C&&C.length)for(var M=0,A=C.length;M<A;M++){var P=C[M],B=P.props,R=P.item,F=R.type.defaultProps!==void 0?st(st({},R.type.defaultProps),R.props):R.props,q=hf(R.type);if(q==="Bar"){var z=(B.data||[]).find(function(W){return Zje(_,W)});if(z)return{graphicalItem:P,payload:z}}else if(q==="RadialBar"){var G=(B.data||[]).find(function(W){return kz(_,W)});if(G)return{graphicalItem:P,payload:G}}else if(E_(P,O)||__(P,O)||x0(P,O)){var X=$Ae({graphicalItem:P,activeTooltipItem:O,itemData:F.data}),U=F.activeIndex===void 0?X:F.activeIndex;return{graphicalItem:st(st({},P),{},{childIndex:U}),payload:x0(P,O)?F.data[X]:P.props.data[X]}}}return null}},{key:"render",value:function(){var _=this;if(!z8(this))return null;var j=this.props,C=j.children,O=j.className,M=j.width,A=j.height,P=j.style,B=j.compact,R=j.title,F=j.desc,q=vq(j,BTe),z=Qn(q,!1);if(B)return xe.createElement(K9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(IP,fv({},z,{width:M,height:A,title:R,desc:F}),this.renderClipPath(),U8(C,this.renderMap)));if(this.props.accessibilityLayer){var G,X;z.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,z.role=(X=this.props.role)!==null&&X!==void 0?X:"application",z.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},z.onFocus=function(){_.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return xe.createElement(K9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",fv({className:fr("recharts-wrapper",O),style:st({position:"relative",cursor:"default",width:M,height:A},P)},U,{ref:function(Y){_.container=Y}}),xe.createElement(IP,fv({},z,{width:M,height:A,title:R,desc:F,style:nOe}),this.renderClipPath(),U8(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);Tn(y,"displayName",n),Tn(y,"defaultProps",st({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Tn(y,"getDerivedStateFromProps",function(x,b){var S=x.dataKey,_=x.data,j=x.children,C=x.width,O=x.height,M=x.layout,A=x.stackOffset,P=x.margin,B=b.dataStartIndex,R=b.dataEndIndex;if(b.updateId===void 0){var F=bq(x);return st(st(st({},F),{},{updateId:0},p(st(st({props:x},F),{},{updateId:0}),b)),{},{prevDataKey:S,prevData:_,prevWidth:C,prevHeight:O,prevLayout:M,prevStackOffset:A,prevMargin:P,prevChildren:j})}if(S!==b.prevDataKey||_!==b.prevData||C!==b.prevWidth||O!==b.prevHeight||M!==b.prevLayout||A!==b.prevStackOffset||!Nv(P,b.prevMargin)){var q=bq(x),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},G=st(st({},xq(b,_,M)),{},{updateId:b.updateId+1}),X=st(st(st({},q),z),G);return st(st(st({},X),p(st({props:x},X),b)),{},{prevDataKey:S,prevData:_,prevWidth:C,prevHeight:O,prevLayout:M,prevStackOffset:A,prevMargin:P,prevChildren:j})}if(!MP(j,b.prevChildren)){var U,W,Y,ie,Z=El(j,Zv),I=Z&&(U=(W=Z.props)===null||W===void 0?void 0:W.startIndex)!==null&&U!==void 0?U:B,V=Z&&(Y=(ie=Z.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&Y!==void 0?Y:R,Q=I!==B||V!==R,re=!Gn(_),fe=re&&!Q?b.updateId:b.updateId+1;return st(st({updateId:fe},p(st(st({props:x},b),{},{updateId:fe,dataStartIndex:I,dataEndIndex:V}),b)),{},{prevChildren:j,dataStartIndex:I,dataEndIndex:V})}return null}),Tn(y,"renderActiveDot",function(x,b,S){var _;return N.isValidElement(x)?_=N.cloneElement(x,b):er(x)?_=x(b):_=xe.createElement(S_,b),xe.createElement(Rr,{className:"recharts-active-dot",key:S},_)});var v=N.forwardRef(function(b,S){return xe.createElement(y,fv({},b,{ref:S}))});return v.displayName=y.displayName,v},fOe=gD({chartName:"LineChart",GraphicalChild:_f,axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:pc}],formatAxisMap:aD}),QM=gD({chartName:"BarChart",GraphicalChild:jo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:pc}],formatAxisMap:aD}),hOe=gD({chartName:"ComposedChart",GraphicalChild:[_f,sg,jo,P_],axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:pc},{axisType:"zAxis",AxisComp:O_}],formatAxisMap:aD});function pOe(){const{data:t,isLoading:e}=rn({queryKey:["/api/dashboard/stats"]}),n=t?[{name:"Pendientes",value:t.tareasPendientes,fill:"hsl(var(--chart-4))"},{name:"En Progreso",value:t.tareasEnProgreso,fill:"hsl(var(--chart-2))"},{name:"Completadas",value:t.tareasCompletadas,fill:"hsl(var(--chart-3))"}]:[];return e?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx(Kn,{className:"h-9 w-48 mb-2"}),o.jsx(Kn,{className:"h-5 w-96"})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((r,i)=>o.jsxs(Ze,{children:[o.jsxs(xt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[o.jsx(Kn,{className:"h-4 w-32"}),o.jsx(Kn,{className:"h-4 w-4"})]}),o.jsxs(Qe,{children:[o.jsx(Kn,{className:"h-8 w-16 mb-2"}),o.jsx(Kn,{className:"h-3 w-24"})]})]},i))})]}):o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de la actividad"})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(Ze,{className:"hover-elevate",children:[o.jsxs(xt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[o.jsx(St,{className:"text-sm font-medium",children:"Clientes Activos"}),o.jsx(cb,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold",children:t?.clientesActivos||0}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.totalClientes||0," totales"]})]})]}),o.jsxs(Ze,{className:"hover-elevate",children:[o.jsxs(xt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[o.jsx(St,{className:"text-sm font-medium",children:"Impuestos Pendientes"}),o.jsx(io,{className:"h-4 w-4 text-chart-4"})]}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold text-chart-4",children:t?.impuestosPendientes||0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"requieren atencin"})]})]}),o.jsxs(Ze,{className:"hover-elevate",children:[o.jsxs(xt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[o.jsx(St,{className:"text-sm font-medium",children:"Tareas Activas"}),o.jsx(yv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold",children:(t?.tareasPendientes||0)+(t?.tareasEnProgreso||0)}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t?.tareasGenerales||0," generales, ",t?.tareasPersonales||0," personales"]})]})]}),o.jsxs(Ze,{className:"hover-elevate",children:[o.jsxs(xt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[o.jsx(St,{className:"text-sm font-medium",children:"Manuales"}),o.jsx(X2,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold",children:t?.manualesPublicados||0}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.manualesTotal||0," publicados"]})]})]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[null,o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(n1,{className:"h-5 w-5"}),"Distribucin de Tareas"]})}),o.jsx(Qe,{children:o.jsx(ub,{width:"100%",height:300,children:o.jsxs(QM,{data:n,children:[o.jsx(_v,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(od,{dataKey:"name",className:"text-xs"}),o.jsx(pc,{className:"text-xs"}),o.jsx(Xo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),o.jsx(jo,{dataKey:"value",radius:[8,8,0,0],children:n.map((r,i)=>o.jsx(kh,{fill:r.fill},`cell-${i}`))})]})})})]})]})]})}var P2={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var mOe=P2.exports,Nq;function gOe(){return Nq||(Nq=1,(function(t,e){((n,r)=>{t.exports=r()})(mOe,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,l={},c=0,u={};function d(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var B=C(P);B.chunkSize=parseInt(B.chunkSize),P.step||P.chunk||(B.chunkSize=null),this._handle=new v(B),(this._handle.streamer=this)._config=B}).call(this,A),this.parseChunk=function(P,B){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let q=this._config.newline;q||(F=this._config.quoteChar||'"',q=this._handle.guessLineEndings(P,F)),P=[...P.split(q).slice(R)].join(q)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(P))!==void 0&&(P=F),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+P,F=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=F.meta.cursor,R=(this._finished||(this._partialLine=R.substring(P-this._baseIndex),this._baseIndex=P),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:F,workerId:u.WORKER_ID,finished:R});else if(M(this._config.chunk)&&!B){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!R||!M(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(P){M(this._config.error)?this._config.error(P):a&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function f(A){var P;(A=A||{}).chunkSize||(A.chunkSize=u.RemoteChunkSize),d.call(this,A),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),s||(P.onload=O(this._chunkLoaded,this),P.onerror=O(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var B,R=this._config.downloadRequestHeaders;for(B in R)P.setRequestHeader(B,R[B])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+F));try{P.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(B){B=P.statusText||B,this._sendError(new Error(B))}}function m(A){(A=A||{}).chunkSize||(A.chunkSize=u.LocalChunkSize),d.call(this,A);var P,B,R=typeof FileReader<"u";this.stream=function(F){this._input=F,B=F.slice||F.webkitSlice||F.mozSlice,R?((P=new FileReader).onload=O(this._chunkLoaded,this),P.onerror=O(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),F=B.call(F,this._start,q)),P.readAsText(F,this._config.encoding));R||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(P.error)}}function p(A){var P;d.call(this,A=A||{}),this.stream=function(B){return P=B,this._nextChunk()},this._nextChunk=function(){var B,R;if(!this._finished)return B=this._config.chunkSize,P=B?(R=P.substring(0,B),P.substring(B)):(R=P,""),this._finished=!P,this.parseChunk(R)}}function y(A){d.call(this,A=A||{});var P=[],B=!0,R=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):B=!0},this._streamData=O(function(F){try{P.push(typeof F=="string"?F:F.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(q){this._streamError(q)}},this),this._streamError=O(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=O(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(A){var P,B,R,F,q=Math.pow(2,53),z=-q,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,W=0,Y=0,ie=!1,Z=!1,I=[],V={data:[],errors:[],meta:{}};function Q(ve){return A.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function re(){if(V&&R&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),A.skipEmptyLines&&(V.data=V.data.filter(function(je){return!Q(je)})),fe()){let je=function(ae,Oe){M(A.transformHeader)&&(ae=A.transformHeader(ae,Oe)),I.push(ae)};if(V)if(Array.isArray(V.data[0])){for(var ve=0;fe()&&ve<V.data.length;ve++)V.data[ve].forEach(je);V.data.splice(0,1)}else V.data.forEach(je)}function de(je,ae){for(var Oe=A.header?{}:[],ee=0;ee<je.length;ee++){var ne=ee,Me=je[ee],Me=((ut,Je)=>(He=>(A.dynamicTypingFunction&&A.dynamicTyping[He]===void 0&&(A.dynamicTyping[He]=A.dynamicTypingFunction(He)),(A.dynamicTyping[He]||A.dynamicTyping)===!0))(ut)?Je==="true"||Je==="TRUE"||Je!=="false"&&Je!=="FALSE"&&((He=>{if(G.test(He)&&(He=parseFloat(He),z<He&&He<q))return 1})(Je)?parseFloat(Je):X.test(Je)?new Date(Je):Je===""?null:Je):Je)(ne=A.header?ee>=I.length?"__parsed_extra":I[ee]:ne,Me=A.transform?A.transform(Me,ne):Me);ne==="__parsed_extra"?(Oe[ne]=Oe[ne]||[],Oe[ne].push(Me)):Oe[ne]=Me}return A.header&&(ee>I.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+ee,Y+ae):ee<I.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+ee,Y+ae)),Oe}var be;V&&(A.header||A.dynamicTyping||A.transform)&&(be=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(de),be=V.data.length):V.data=de(V.data,0),A.header&&V.meta&&(V.meta.fields=I),Y+=be)}function fe(){return A.header&&I.length===0}function pe(ve,de,be,je){ve={type:ve,code:de,message:be},je!==void 0&&(ve.row=je),V.errors.push(ve)}M(A.step)&&(F=A.step,A.step=function(ve){V=ve,fe()?re():(re(),V.data.length!==0&&(W+=ve.data.length,A.preview&&W>A.preview?B.abort():(V.data=V.data[0],F(V,U))))}),this.parse=function(ve,de,be){var je=A.quoteChar||'"',je=(A.newline||(A.newline=this.guessLineEndings(ve,je)),R=!1,A.delimiter?M(A.delimiter)&&(A.delimiter=A.delimiter(ve),V.meta.delimiter=A.delimiter):((je=((ae,Oe,ee,ne,Me)=>{var ut,Je,He,me;Me=Me||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ne=0;Ne<Me.length;Ne++){for(var Ce,Ve=Me[Ne],We=0,Ue=0,tt=0,_t=(He=void 0,new b({comments:ne,delimiter:Ve,newline:Oe,preview:10}).parse(ae)),bt=0;bt<_t.data.length;bt++)ee&&Q(_t.data[bt])?tt++:(Ce=_t.data[bt].length,Ue+=Ce,He===void 0?He=Ce:0<Ce&&(We+=Math.abs(Ce-He),He=Ce));0<_t.data.length&&(Ue/=_t.data.length-tt),(Je===void 0||We<=Je)&&(me===void 0||me<Ue)&&1.99<Ue&&(Je=We,ut=Ve,me=Ue)}return{successful:!!(A.delimiter=ut),bestDelimiter:ut}})(ve,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=je.bestDelimiter:(R=!0,A.delimiter=u.DefaultDelimiter),V.meta.delimiter=A.delimiter),C(A));return A.preview&&A.header&&je.preview++,P=ve,B=new b(je),V=B.parse(P,de,be),re(),ie?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,B.abort(),P=M(A.chunk)?"":P.substring(B.getCharIndex())},this.resume=function(){U.streamer._halted?(ie=!1,U.streamer.parseChunk(P,!0)):setTimeout(U.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,B.abort(),V.meta.aborted=!0,M(A.complete)&&A.complete(V),P=""},this.guessLineEndings=function(ae,je){ae=ae.substring(0,1048576);var je=new RegExp(x(je)+"([^]*?)"+x(je),"gm"),be=(ae=ae.replace(je,"")).split("\r"),je=ae.split(`
`),ae=1<je.length&&je[0].length<be[0].length;if(be.length===1||ae)return`
`;for(var Oe=0,ee=0;ee<be.length;ee++)be[ee][0]===`
`&&Oe++;return Oe>=be.length/2?`\r
`:"\r"}}function x(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(A){var P=(A=A||{}).delimiter,B=A.newline,R=A.comments,F=A.step,q=A.preview,z=A.fastMode,G=null,X=!1,U=A.quoteChar==null?'"':A.quoteChar,W=U;if(A.escapeChar!==void 0&&(W=A.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),R===P)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var Y=0,ie=!1;this.parse=function(Z,I,V){if(typeof Z!="string")throw new Error("Input must be a string");var Q=Z.length,re=P.length,fe=B.length,pe=R.length,ve=M(F),de=[],be=[],je=[],ae=Y=0;if(!Z)return We();if(z||z!==!1&&Z.indexOf(U)===-1){for(var Oe=Z.split(B),ee=0;ee<Oe.length;ee++){if(je=Oe[ee],Y+=je.length,ee!==Oe.length-1)Y+=B.length;else if(V)return We();if(!R||je.substring(0,pe)!==R){if(ve){if(de=[],me(je.split(P)),Ue(),ie)return We()}else me(je.split(P));if(q&&q<=ee)return de=de.slice(0,q),We(!0)}}return We()}for(var ne=Z.indexOf(P,Y),Me=Z.indexOf(B,Y),ut=new RegExp(x(W)+x(U),"g"),Je=Z.indexOf(U,Y);;)if(Z[Y]===U)for(Je=Y,Y++;;){if((Je=Z.indexOf(U,Je+1))===-1)return V||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:Y}),Ce();if(Je===Q-1)return Ce(Z.substring(Y,Je).replace(ut,U));if(U===W&&Z[Je+1]===W)Je++;else if(U===W||Je===0||Z[Je-1]!==W){ne!==-1&&ne<Je+1&&(ne=Z.indexOf(P,Je+1));var He=Ne((Me=Me!==-1&&Me<Je+1?Z.indexOf(B,Je+1):Me)===-1?ne:Math.min(ne,Me));if(Z.substr(Je+1+He,re)===P){je.push(Z.substring(Y,Je).replace(ut,U)),Z[Y=Je+1+He+re]!==U&&(Je=Z.indexOf(U,Y)),ne=Z.indexOf(P,Y),Me=Z.indexOf(B,Y);break}if(He=Ne(Me),Z.substring(Je+1+He,Je+1+He+fe)===B){if(je.push(Z.substring(Y,Je).replace(ut,U)),Ve(Je+1+He+fe),ne=Z.indexOf(P,Y),Je=Z.indexOf(U,Y),ve&&(Ue(),ie))return We();if(q&&de.length>=q)return We(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:Y}),Je++}}else if(R&&je.length===0&&Z.substring(Y,Y+pe)===R){if(Me===-1)return We();Y=Me+fe,Me=Z.indexOf(B,Y),ne=Z.indexOf(P,Y)}else if(ne!==-1&&(ne<Me||Me===-1))je.push(Z.substring(Y,ne)),Y=ne+re,ne=Z.indexOf(P,Y);else{if(Me===-1)break;if(je.push(Z.substring(Y,Me)),Ve(Me+fe),ve&&(Ue(),ie))return We();if(q&&de.length>=q)return We(!0)}return Ce();function me(tt){de.push(tt),ae=Y}function Ne(tt){var _t=0;return _t=tt!==-1&&(tt=Z.substring(Je+1,tt))&&tt.trim()===""?tt.length:_t}function Ce(tt){return V||(tt===void 0&&(tt=Z.substring(Y)),je.push(tt),Y=Q,me(je),ve&&Ue()),We()}function Ve(tt){Y=tt,me(je),je=[],Me=Z.indexOf(B,Y)}function We(tt){if(A.header&&!I&&de.length&&!X){var _t=de[0],bt=Object.create(null),Tt=new Set(_t);let Wt=!1;for(let At=0;At<_t.length;At++){let An=_t[At];if(bt[An=M(A.transformHeader)?A.transformHeader(An,At):An]){let En,zt=bt[An];for(;En=An+"_"+zt,zt++,Tt.has(En););Tt.add(En),_t[At]=En,bt[An]++,Wt=!0,(G=G===null?{}:G)[En]=An}else bt[An]=1,_t[At]=An;Tt.add(An)}Wt&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:de,errors:be,meta:{delimiter:P,linebreak:B,aborted:ie,truncated:!!tt,cursor:ae+(I||0),renamedHeaders:G}}}function Ue(){F(We()),de=[],be=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Y}}function S(A){var P=A.data,B=l[P.workerId],R=!1;if(P.error)B.userError(P.error,P.file);else if(P.results&&P.results.data){var F={abort:function(){R=!0,_(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(M(B.userStep)){for(var q=0;q<P.results.data.length&&(B.userStep({data:P.results.data[q],errors:P.results.errors,meta:P.results.meta},F),!R);q++);delete P.results}else M(B.userChunk)&&(B.userChunk(P.results,F,P.file),delete P.results)}P.finished&&!R&&_(P.workerId,P.results)}function _(A,P){var B=l[A];M(B.userComplete)&&B.userComplete(P),B.terminate(),delete l[A]}function j(){throw new Error("Not implemented.")}function C(A){if(typeof A!="object"||A===null)return A;var P,B=Array.isArray(A)?[]:{};for(P in A)B[P]=C(A[P]);return B}function O(A,P){return function(){A.apply(P,arguments)}}function M(A){return typeof A=="function"}return u.parse=function(A,P){var B=(P=P||{}).dynamicTyping||!1;if(M(B)&&(P.dynamicTypingFunction=B,B={}),P.dynamicTyping=B,P.transform=!!M(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return B=null,u.NODE_STREAM_INPUT,typeof A=="string"?(A=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(A),B=new(P.download?f:p)(P)):A.readable===!0&&M(A.read)&&M(A.on)?B=new y(P):(r.File&&A instanceof File||A instanceof Object)&&(B=new m(P)),B.stream(A);(B=(()=>{var R;return!!u.WORKERS_SUPPORTED&&(R=(()=>{var F=r.URL||r.webkitURL||null,q=n.toString();return u.BLOB_URL||(u.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(R=new r.Worker(R)).onmessage=S,R.id=c++,l[R.id]=R)})()).userStep=P.step,B.userChunk=P.chunk,B.userComplete=P.complete,B.userError=P.error,P.step=M(P.step),P.chunk=M(P.chunk),P.complete=M(P.complete),P.error=M(P.error),delete P.worker,B.postMessage({input:A,config:P,workerId:B.id})},u.unparse=function(A,P){var B=!1,R=!0,F=",",q=`\r
`,z='"',G=z+z,X=!1,U=null,W=!1,Y=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(I){return P.delimiter.indexOf(I)!==-1}).length||(F=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(B=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(X=P.skipEmptyLines),typeof P.newline=="string"&&(q=P.newline),typeof P.quoteChar=="string"&&(z=P.quoteChar),typeof P.header=="boolean"&&(R=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");U=P.columns}P.escapeChar!==void 0&&(G=P.escapeChar+z),P.escapeFormulae instanceof RegExp?W=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(z),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ie(null,A,X);if(typeof A[0]=="object")return ie(U||Object.keys(A[0]),A,X)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||U),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ie(A.fields||[],A.data||[],X);throw new Error("Unable to serialize unrecognized input");function ie(I,V,Q){var re="",fe=(typeof I=="string"&&(I=JSON.parse(I)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(I)&&0<I.length),pe=!Array.isArray(V[0]);if(fe&&R){for(var ve=0;ve<I.length;ve++)0<ve&&(re+=F),re+=Z(I[ve],ve);0<V.length&&(re+=q)}for(var de=0;de<V.length;de++){var be=(fe?I:V[de]).length,je=!1,ae=fe?Object.keys(V[de]).length===0:V[de].length===0;if(Q&&!fe&&(je=Q==="greedy"?V[de].join("").trim()==="":V[de].length===1&&V[de][0].length===0),Q==="greedy"&&fe){for(var Oe=[],ee=0;ee<be;ee++){var ne=pe?I[ee]:ee;Oe.push(V[de][ne])}je=Oe.join("").trim()===""}if(!je){for(var Me=0;Me<be;Me++){0<Me&&!ae&&(re+=F);var ut=fe&&pe?I[Me]:Me;re+=Z(V[de][ut],Me)}de<V.length-1&&(!Q||0<be&&!ae)&&(re+=q)}}return re}function Z(I,V){var Q,re;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(re=!1,W&&typeof I=="string"&&W.test(I)&&(I="'"+I,re=!0),Q=I.toString().replace(Y,G),(re=re||B===!0||typeof B=="function"&&B(I,V)||Array.isArray(B)&&B[V]||((fe,pe)=>{for(var ve=0;ve<pe.length;ve++)if(-1<fe.indexOf(pe[ve]))return!0;return!1})(Q,u.BAD_DELIMITERS)||-1<Q.indexOf(F)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?z+Q+z:Q)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=b,u.ParserHandle=v,u.NetworkStreamer=f,u.FileStreamer=m,u.StringStreamer=p,u.ReadableStreamStreamer=y,r.jQuery&&((i=r.jQuery).fn.parse=function(A){var P=A.config||{},B=[];return this.each(function(q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)B.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},P)})}),R(),this;function R(){if(B.length===0)M(A.complete)&&A.complete();else{var q,z,G,X,U=B[0];if(M(A.before)){var W=A.before(U.file,U.inputElem);if(typeof W=="object"){if(W.action==="abort")return q="AbortError",z=U.file,G=U.inputElem,X=W.reason,void(M(A.error)&&A.error({name:q},z,G,X));if(W.action==="skip")return void F();typeof W.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,W.config))}else if(W==="skip")return void F()}var Y=U.instanceConfig.complete;U.instanceConfig.complete=function(ie){M(Y)&&Y(ie,U.file,U.inputElem),F()},u.parse(U.file,U.instanceConfig)}}function F(){B.splice(0,1),R()}}),a&&(r.onmessage=function(A){A=A.data,u.WORKER_ID===void 0&&A&&(u.WORKER_ID=A.workerId),typeof A.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(A.input,A.config),finished:!0}):(r.File&&A.input instanceof File||A.input instanceof Object)&&(A=u.parse(A.input,A.config))&&r.postMessage({workerId:u.WORKER_ID,results:A,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(m.prototype=Object.create(d.prototype)).constructor=m,(p.prototype=Object.create(p.prototype)).constructor=p,(y.prototype=Object.create(d.prototype)).constructor=y,u})})(P2)),P2.exports}var vOe=gOe();const yOe=Ir(vOe),jf=N.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));jf.displayName="Textarea";const No=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:pt("w-full caption-bottom text-sm",t),...e})}));No.displayName="Table";const So=N.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:pt("[&_tr]:border-b",t),...e}));So.displayName="TableHeader";const Eo=N.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:pt("[&_tr:last-child]:border-0",t),...e}));Eo.displayName="TableBody";const xOe=N.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:pt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xOe.displayName="TableFooter";const ir=N.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:pt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ir.displayName="TableRow";const Ot=N.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:pt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ot.displayName="TableHead";const yt=N.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:pt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));yt.displayName="TableCell";const bOe=N.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:pt("mt-4 text-sm text-muted-foreground",t),...e}));bOe.displayName="TableCaption";const wOe=Qm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ct({className:t,variant:e,...n}){return o.jsx("div",{className:pt(wOe({variant:e}),t),...n})}function j0(t,[e,n]){return Math.min(n,Math.max(e,t))}function R_(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var NOe=[" ","Enter","ArrowUp","ArrowDown"],SOe=[" ","Enter"],Lm="Select",[I_,D_,EOe]=J0(Lm),[Uy]=wa(Lm,[EOe,op]),L_=op(),[_Oe,pp]=Uy(Lm),[jOe,AOe]=Uy(Lm),see=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=t,v=L_(e),[x,b]=N.useState(null),[S,_]=N.useState(null),[j,C]=N.useState(!1),O=My(u),[M,A]=xc({prop:r,defaultProp:i??!1,onChange:s,caller:Lm}),[P,B]=xc({prop:a,defaultProp:l,onChange:c,caller:Lm}),R=N.useRef(null),F=x?y||!!x.closest("form"):!0,[q,z]=N.useState(new Set),G=Array.from(q).map(X=>X.props.value).join(";");return o.jsx(LE,{...v,children:o.jsxs(_Oe,{required:p,scope:e,trigger:x,onTriggerChange:b,valueNode:S,onValueNodeChange:_,valueNodeHasChildren:j,onValueNodeHasChildrenChange:C,contentId:ya(),value:P,onValueChange:B,open:M,onOpenChange:A,dir:O,triggerPointerDownPosRef:R,disabled:m,children:[o.jsx(I_.Provider,{scope:e,children:o.jsx(jOe,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(X=>{z(U=>new Set(U).add(X))},[]),onNativeOptionRemove:N.useCallback(X=>{z(U=>{const W=new Set(U);return W.delete(X),W})},[]),children:n})}),F?o.jsxs(kee,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:X=>B(X.target.value),disabled:m,form:y,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(q)]},G):null]})})};see.displayName=Lm;var aee="SelectTrigger",oee=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=L_(n),a=pp(aee,n),l=a.disabled||r,c=kn(e,a.onTriggerChange),u=D_(n),d=N.useRef("touch"),[f,m,p]=Oee(v=>{const x=u().filter(_=>!_.disabled),b=x.find(_=>_.value===a.value),S=Pee(x,v,b);S!==void 0&&a.onValueChange(S.value)}),y=v=>{l||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(s1,{asChild:!0,...s,children:o.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Tee(a.value)?"":void 0,...i,ref:c,onClick:wt(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:wt(i.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:wt(i.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(x&&v.key===" ")&&NOe.includes(v.key)&&(y(),v.preventDefault())})})})});oee.displayName=aee;var lee="SelectValue",cee=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,c=pp(lee,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=kn(e,c.onValueNodeChange);return Es(()=>{u(d)},[u,d]),o.jsx(Bt.span,{...l,ref:f,style:{pointerEvents:"none"},children:Tee(c.value)?o.jsx(o.Fragment,{children:a}):s})});cee.displayName=lee;var COe="SelectIcon",uee=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return o.jsx(Bt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});uee.displayName=COe;var kOe="SelectPortal",dee=t=>o.jsx(_y,{asChild:!0,...t});dee.displayName=kOe;var Fm="SelectContent",fee=N.forwardRef((t,e)=>{const n=pp(Fm,t.__scopeSelect),[r,i]=N.useState();if(Es(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ou.createPortal(o.jsx(hee,{scope:t.__scopeSelect,children:o.jsx(I_.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(pee,{...t,ref:e})});fee.displayName=Fm;var Qc=10,[hee,mp]=Uy(Fm),TOe="SelectContentImpl",OOe=Xh("SelectContent.RemoveScroll"),pee=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:x,...b}=t,S=pp(Fm,n),[_,j]=N.useState(null),[C,O]=N.useState(null),M=kn(e,pe=>j(pe)),[A,P]=N.useState(null),[B,R]=N.useState(null),F=D_(n),[q,z]=N.useState(!1),G=N.useRef(!1);N.useEffect(()=>{if(_)return KE(_)},[_]),VE();const X=N.useCallback(pe=>{const[ve,...de]=F().map(ae=>ae.ref.current),[be]=de.slice(-1),je=document.activeElement;for(const ae of pe)if(ae===je||(ae?.scrollIntoView({block:"nearest"}),ae===ve&&C&&(C.scrollTop=0),ae===be&&C&&(C.scrollTop=C.scrollHeight),ae?.focus(),document.activeElement!==je))return},[F,C]),U=N.useCallback(()=>X([A,_]),[X,A,_]);N.useEffect(()=>{q&&U()},[q,U]);const{onOpenChange:W,triggerPointerDownPosRef:Y}=S;N.useEffect(()=>{if(_){let pe={x:0,y:0};const ve=be=>{pe={x:Math.abs(Math.round(be.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(Y.current?.y??0))}},de=be=>{pe.x<=10&&pe.y<=10?be.preventDefault():_.contains(be.target)||W(!1),document.removeEventListener("pointermove",ve),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",de,{capture:!0})}}},[_,W,Y]),N.useEffect(()=>{const pe=()=>W(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[W]);const[ie,Z]=Oee(pe=>{const ve=F().filter(je=>!je.disabled),de=ve.find(je=>je.ref.current===document.activeElement),be=Pee(ve,pe,de);be&&setTimeout(()=>be.ref.current.focus())}),I=N.useCallback((pe,ve,de)=>{const be=!G.current&&!de;(S.value!==void 0&&S.value===ve||be)&&(P(pe),be&&(G.current=!0))},[S.value]),V=N.useCallback(()=>_?.focus(),[_]),Q=N.useCallback((pe,ve,de)=>{const be=!G.current&&!de;(S.value!==void 0&&S.value===ve||be)&&R(pe)},[S.value]),re=r==="popper"?JM:mee,fe=re===JM?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:x}:{};return o.jsx(hee,{scope:n,content:_,viewport:C,onViewportChange:O,itemRefCallback:I,selectedItem:A,onItemLeave:V,itemTextRefCallback:Q,focusSelectedItem:U,selectedItemText:B,position:r,isPositioned:q,searchRef:ie,children:o.jsx(o1,{as:OOe,allowPinchZoom:!0,children:o.jsx(a1,{asChild:!0,trapped:S.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:wt(i,pe=>{S.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:o.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:o.jsx(re,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:pe=>pe.preventDefault(),...b,...fe,onPlaced:()=>z(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:wt(b.onKeyDown,pe=>{const ve=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!ve&&pe.key.length===1&&Z(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let be=F().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const je=pe.target,ae=be.indexOf(je);be=be.slice(ae+1)}setTimeout(()=>X(be)),pe.preventDefault()}})})})})})})});pee.displayName=TOe;var POe="SelectItemAlignedPosition",mee=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=pp(Fm,n),a=mp(Fm,n),[l,c]=N.useState(null),[u,d]=N.useState(null),f=kn(e,M=>d(M)),m=D_(n),p=N.useRef(!1),y=N.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:b,focusSelectedItem:S}=a,_=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&x&&b){const M=s.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),B=b.getBoundingClientRect();if(s.dir!=="rtl"){const je=B.left-A.left,ae=P.left-je,Oe=M.left-ae,ee=M.width+Oe,ne=Math.max(ee,A.width),Me=window.innerWidth-Qc,ut=j0(ae,[Qc,Math.max(Qc,Me-ne)]);l.style.minWidth=ee+"px",l.style.left=ut+"px"}else{const je=A.right-B.right,ae=window.innerWidth-P.right-je,Oe=window.innerWidth-M.right-ae,ee=M.width+Oe,ne=Math.max(ee,A.width),Me=window.innerWidth-Qc,ut=j0(ae,[Qc,Math.max(Qc,Me-ne)]);l.style.minWidth=ee+"px",l.style.right=ut+"px"}const R=m(),F=window.innerHeight-Qc*2,q=v.scrollHeight,z=window.getComputedStyle(u),G=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),U=parseInt(z.borderBottomWidth,10),W=parseInt(z.paddingBottom,10),Y=G+X+q+W+U,ie=Math.min(x.offsetHeight*5,Y),Z=window.getComputedStyle(v),I=parseInt(Z.paddingTop,10),V=parseInt(Z.paddingBottom,10),Q=M.top+M.height/2-Qc,re=F-Q,fe=x.offsetHeight/2,pe=x.offsetTop+fe,ve=G+X+pe,de=Y-ve;if(ve<=Q){const je=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const ae=u.clientHeight-v.offsetTop-v.offsetHeight,Oe=Math.max(re,fe+(je?V:0)+ae+U),ee=ve+Oe;l.style.height=ee+"px"}else{const je=R.length>0&&x===R[0].ref.current;l.style.top="0px";const Oe=Math.max(Q,G+v.offsetTop+(je?I:0)+fe)+de;l.style.height=Oe+"px",v.scrollTop=ve-Q+v.offsetTop}l.style.margin=`${Qc}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[m,s.trigger,s.valueNode,l,u,v,x,b,s.dir,r]);Es(()=>_(),[_]);const[j,C]=N.useState();Es(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const O=N.useCallback(M=>{M&&y.current===!0&&(_(),S?.(),y.current=!1)},[_,S]);return o.jsx(ROe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Bt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mee.displayName=POe;var MOe="SelectPopperPosition",JM=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Qc,...s}=t,a=L_(n);return o.jsx(FE,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});JM.displayName=MOe;var[ROe,vD]=Uy(Fm,{}),eR="SelectViewport",gee=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=mp(eR,n),a=vD(eR,n),l=kn(e,s.onViewportChange),c=N.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(I_.Slot,{scope:n,children:o.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:wt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Qc*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(v,x);if(b<y){const S=b+p,_=Math.min(y,S),j=S-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gee.displayName=eR;var vee="SelectGroup",[IOe,DOe]=Uy(vee),LOe=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ya();return o.jsx(IOe,{scope:n,id:i,children:o.jsx(Bt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});LOe.displayName=vee;var yee="SelectLabel",xee=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=DOe(yee,n);return o.jsx(Bt.div,{id:i.id,...r,ref:e})});xee.displayName=yee;var oS="SelectItem",[FOe,bee]=Uy(oS),wee=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=pp(oS,n),c=mp(oS,n),u=l.value===r,[d,f]=N.useState(s??""),[m,p]=N.useState(!1),y=kn(e,S=>c.itemRefCallback?.(S,r,i)),v=ya(),x=N.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(FOe,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:N.useCallback(S=>{f(_=>_||(S?.textContent??"").trim())},[]),children:o.jsx(I_.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(Bt.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:wt(a.onFocus,()=>p(!0)),onBlur:wt(a.onBlur,()=>p(!1)),onClick:wt(a.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:wt(a.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:wt(a.onPointerDown,S=>{x.current=S.pointerType}),onPointerMove:wt(a.onPointerMove,S=>{x.current=S.pointerType,i?c.onItemLeave?.():x.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wt(a.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:wt(a.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(SOe.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});wee.displayName=oS;var Jx="SelectItemText",Nee=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=pp(Jx,n),l=mp(Jx,n),c=bee(Jx,n),u=AOe(Jx,n),[d,f]=N.useState(null),m=kn(e,b=>f(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),p=d?.textContent,y=N.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return Es(()=>(v(y),()=>x(y)),[v,x,y]),o.jsxs(o.Fragment,{children:[o.jsx(Bt.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ou.createPortal(s.children,a.valueNode):null]})});Nee.displayName=Jx;var See="SelectItemIndicator",Eee=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bee(See,n).isSelected?o.jsx(Bt.span,{"aria-hidden":!0,...r,ref:e}):null});Eee.displayName=See;var tR="SelectScrollUpButton",_ee=N.forwardRef((t,e)=>{const n=mp(tR,t.__scopeSelect),r=vD(tR,t.__scopeSelect),[i,s]=N.useState(!1),a=kn(e,r.onScrollButtonChange);return Es(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(Aee,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_ee.displayName=tR;var nR="SelectScrollDownButton",jee=N.forwardRef((t,e)=>{const n=mp(nR,t.__scopeSelect),r=vD(nR,t.__scopeSelect),[i,s]=N.useState(!1),a=kn(e,r.onScrollButtonChange);return Es(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(Aee,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jee.displayName=nR;var Aee=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=mp("SelectScrollButton",n),a=N.useRef(null),l=D_(n),c=N.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),Es(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(Bt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:wt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:wt(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:wt(i.onPointerLeave,()=>{c()})})}),BOe="SelectSeparator",Cee=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Bt.div,{"aria-hidden":!0,...r,ref:e})});Cee.displayName=BOe;var rR="SelectArrow",$Oe=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=L_(n),s=pp(rR,n),a=mp(rR,n);return s.open&&a.position==="popper"?o.jsx(BE,{...i,...r,ref:e}):null});$Oe.displayName=rR;var zOe="SelectBubbleInput",kee=N.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=N.useRef(null),s=kn(r,i),a=R_(e);return N.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Bt.select,{...n,style:{...NK,...n.style},ref:s,defaultValue:e})});kee.displayName=zOe;function Tee(t){return t===""||t===void 0}function Oee(t){const e=hs(t),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(a=>{const l=n.current+a;e(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Pee(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=qOe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function qOe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var UOe=see,Mee=oee,HOe=cee,VOe=uee,WOe=dee,Ree=fee,KOe=gee,Iee=xee,Dee=wee,GOe=Nee,YOe=Eee,Lee=_ee,Fee=jee,Bee=Cee;const qn=UOe,Un=HOe,Ln=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Mee,{ref:r,className:pt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(VOe,{asChild:!0,children:o.jsx(L4,{className:"h-4 w-4 opacity-50"})})]}));Ln.displayName=Mee.displayName;const $ee=N.forwardRef(({className:t,...e},n)=>o.jsx(Lee,{ref:n,className:pt("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(gde,{className:"h-4 w-4"})}));$ee.displayName=Lee.displayName;const zee=N.forwardRef(({className:t,...e},n)=>o.jsx(Fee,{ref:n,className:pt("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(L4,{className:"h-4 w-4"})}));zee.displayName=Fee.displayName;const Fn=N.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>o.jsx(WOe,{children:o.jsxs(Ree,{ref:i,className:pt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx($ee,{}),o.jsx(KOe,{className:pt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(zee,{})]})}));Fn.displayName=Ree.displayName;const XOe=N.forwardRef(({className:t,...e},n)=>o.jsx(Iee,{ref:n,className:pt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));XOe.displayName=Iee.displayName;const it=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Dee,{ref:r,className:pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(YOe,{children:o.jsx(D4,{className:"h-4 w-4"})})}),o.jsx(GOe,{children:e})]}));it.displayName=Dee.displayName;const ZOe=N.forwardRef(({className:t,...e},n)=>o.jsx(Bee,{ref:n,className:pt("-mx-1 my-1 h-px bg-muted",t),...e}));ZOe.displayName=Bee.displayName;var F_="Checkbox",[QOe]=wa(F_),[JOe,yD]=QOe(F_);function ePe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[m,p]=xc({prop:n,defaultProp:i??!1,onChange:c,caller:F_}),[y,v]=N.useState(null),[x,b]=N.useState(null),S=N.useRef(!1),_=y?!!a||!!y.closest("form"):!0,j={checked:m,disabled:s,setChecked:p,control:y,setControl:v,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:S,required:u,defaultChecked:qh(i)?!1:i,isFormControl:_,bubbleInput:x,setBubbleInput:b};return o.jsx(JOe,{scope:e,...j,children:tPe(f)?f(j):r})}var qee="CheckboxTrigger",Uee=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=yD(qee,t),v=kn(i,d),x=N.useRef(c);return N.useEffect(()=>{const b=s?.form;if(b){const S=()=>f(x.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[s,f]),o.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":qh(c)?"mixed":c,"aria-required":u,"data-state":Gee(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:v,onKeyDown:wt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:wt(n,b=>{f(S=>qh(S)?!0:!S),y&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});Uee.displayName=qee;var xD=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(ePe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(Uee,{...f,ref:e,__scopeCheckbox:n}),m&&o.jsx(Kee,{__scopeCheckbox:n})]})})});xD.displayName=F_;var Hee="CheckboxIndicator",Vee=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=yD(Hee,n);return o.jsx(Na,{present:r||qh(s.checked)||s.checked===!0,children:o.jsx(Bt.span,{"data-state":Gee(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Vee.displayName=Hee;var Wee="CheckboxBubbleInput",Kee=N.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=yD(Wee,t),y=kn(n,p),v=R_(s),x=DE(r);N.useEffect(()=>{const S=m;if(!S)return;const _=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(_,"checked").set,O=!i.current;if(v!==s&&C){const M=new Event("click",{bubbles:O});S.indeterminate=qh(s),C.call(S,qh(s)?!1:s),S.dispatchEvent(M)}},[m,v,s,i]);const b=N.useRef(qh(s)?!1:s);return o.jsx(Bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kee.displayName=Wee;function tPe(t){return typeof t=="function"}function qh(t){return t==="indeterminate"}function Gee(t){return qh(t)?"indeterminate":t?"checked":"unchecked"}const Oi=N.forwardRef(({className:t,...e},n)=>o.jsx(xD,{ref:n,className:pt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Vee,{className:pt("flex items-center justify-center text-current"),children:o.jsx(D4,{className:"h-4 w-4"})})}));Oi.displayName=xD.displayName;var B_="Switch",[nPe]=wa(B_),[rPe,iPe]=nPe(B_),Yee=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,p]=N.useState(null),y=kn(e,_=>p(_)),v=N.useRef(!1),x=m?d||!!m.closest("form"):!0,[b,S]=xc({prop:i,defaultProp:s??!1,onChange:u,caller:B_});return o.jsxs(rPe,{scope:n,checked:b,disabled:l,children:[o.jsx(Bt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":Jee(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:wt(t.onClick,_=>{S(j=>!j),x&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),x&&o.jsx(Qee,{control:m,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Yee.displayName=B_;var Xee="SwitchThumb",Zee=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=iPe(Xee,n);return o.jsx(Bt.span,{"data-state":Jee(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Zee.displayName=Xee;var sPe="SwitchBubbleInput",Qee=N.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=N.useRef(null),l=kn(a,s),c=R_(n),u=DE(e);return N.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Qee.displayName=sPe;function Jee(t){return t?"checked":"unchecked"}var ete=Yee,aPe=Zee;const hu=N.forwardRef(({className:t,...e},n)=>o.jsx(ete,{className:pt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(aPe,{className:pt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hu.displayName=ete.displayName;var tte="AlertDialog",[oPe]=wa(tte,[OY]),Of=OY(),nte=t=>{const{__scopeAlertDialog:e,...n}=t,r=Of(e);return o.jsx(YE,{...r,...n,modal:!0})};nte.displayName=tte;var lPe="AlertDialogTrigger",cPe=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Of(n);return o.jsx(KY,{...i,...r,ref:e})});cPe.displayName=lPe;var uPe="AlertDialogPortal",rte=t=>{const{__scopeAlertDialog:e,...n}=t,r=Of(e);return o.jsx(XE,{...r,...n})};rte.displayName=uPe;var dPe="AlertDialogOverlay",ite=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Of(n);return o.jsx(Oy,{...i,...r,ref:e})});ite.displayName=dPe;var jv="AlertDialogContent",[fPe,hPe]=oPe(jv),pPe=yK("AlertDialogContent"),ste=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Of(n),a=N.useRef(null),l=kn(e,a),c=N.useRef(null);return o.jsx(xge,{contentName:jv,titleName:ate,docsSlug:"alert-dialog",children:o.jsx(fPe,{scope:n,cancelRef:c,children:o.jsxs(Py,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:wt(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(pPe,{children:r}),o.jsx(gPe,{contentRef:a})]})})})});ste.displayName=jv;var ate="AlertDialogTitle",ote=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Of(n);return o.jsx(l1,{...i,...r,ref:e})});ote.displayName=ate;var lte="AlertDialogDescription",cte=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Of(n);return o.jsx(c1,{...i,...r,ref:e})});cte.displayName=lte;var mPe="AlertDialogAction",ute=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Of(n);return o.jsx(ZE,{...i,...r,ref:e})});ute.displayName=mPe;var dte="AlertDialogCancel",fte=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=hPe(dte,n),s=Of(n),a=kn(e,i);return o.jsx(ZE,{...s,...r,ref:a})});fte.displayName=dte;var gPe=({contentRef:t})=>{const e=`\`${jv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jv}\` by passing a \`${lte}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},vPe=nte,yPe=rte,hte=ite,pte=ste,mte=ute,gte=fte,vte=ote,yte=cte;const y1=vPe,xPe=yPe,xte=N.forwardRef(({className:t,...e},n)=>o.jsx(hte,{className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));xte.displayName=hte.displayName;const Hy=N.forwardRef(({className:t,...e},n)=>o.jsxs(xPe,{children:[o.jsx(xte,{}),o.jsx(pte,{ref:n,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Hy.displayName=pte.displayName;const Vy=({className:t,...e})=>o.jsx("div",{className:pt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Vy.displayName="AlertDialogHeader";const bD=({className:t,...e})=>o.jsx("div",{className:pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bD.displayName="AlertDialogFooter";const Wy=N.forwardRef(({className:t,...e},n)=>o.jsx(vte,{ref:n,className:pt("text-lg font-semibold",t),...e}));Wy.displayName=vte.displayName;const Ky=N.forwardRef(({className:t,...e},n)=>o.jsx(yte,{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));Ky.displayName=yte.displayName;const Gy=N.forwardRef(({className:t,...e},n)=>o.jsx(mte,{ref:n,className:pt(Ub(),t),...e}));Gy.displayName=mte.displayName;const Yy=N.forwardRef(({className:t,...e},n)=>o.jsx(gte,{ref:n,className:pt(Ub({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Yy.displayName=gte.displayName;var x1=t=>t.type==="checkbox",cm=t=>t instanceof Date,Yo=t=>t==null;const bte=t=>typeof t=="object";var Fs=t=>!Yo(t)&&!Array.isArray(t)&&bte(t)&&!cm(t),wte=t=>Fs(t)&&t.target?x1(t.target)?t.target.checked:t.target.value:t,bPe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Nte=(t,e)=>t.has(bPe(e)),wPe=t=>{const e=t.constructor&&t.constructor.prototype;return Fs(e)&&e.hasOwnProperty("isPrototypeOf")},wD=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gs(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(wD&&(t instanceof Blob||r))&&(n||Fs(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!wPe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Gs(t[i]));else return t;return e}var $_=t=>/^\w*$/.test(t),us=t=>t===void 0,ND=t=>Array.isArray(t)?t.filter(Boolean):[],SD=t=>ND(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$t=(t,e,n)=>{if(!e||!Fs(t))return n;const r=($_(e)?[e]:SD(e)).reduce((i,s)=>Yo(i)?i:i[s],t);return us(r)||r===t?us(t[e])?n:t[e]:r},_l=t=>typeof t=="boolean",Xr=(t,e,n)=>{let r=-1;const i=$_(e)?[e]:SD(e),s=i.length,a=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==a){const u=t[l];c=Fs(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const lS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ru={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ED=xe.createContext(null);ED.displayName="HookFormContext";const z_=()=>xe.useContext(ED),NPe=t=>{const{children:e,...n}=t;return xe.createElement(ED.Provider,{value:n},e)};var Ste=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ru.all&&(e._proxyFormState[a]=!r||ru.all),n&&(n[a]=!0),t[a]}});return i};const _D=typeof window<"u"?xe.useLayoutEffect:xe.useEffect;function SPe(t){const e=z_(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[a,l]=xe.useState(n._formState),c=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return _D(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!r&&l({...n._formState,...u})}}),[i,r,s]),xe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),xe.useMemo(()=>Ste(a,n,c.current,!1),[a,n])}var Tl=t=>typeof t=="string",Ete=(t,e,n,r,i)=>Tl(t)?(r&&e.watch.add(t),$t(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),$t(n,s))):(r&&(e.watchAll=!0),n),iR=t=>Yo(t)||!bte(t);function lf(t,e,n=new WeakSet){if(iR(t)||iR(e))return t===e;if(cm(t)&&cm(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(cm(a)&&cm(l)||Fs(a)&&Fs(l)||Array.isArray(a)&&Array.isArray(l)?!lf(a,l,n):a!==l)return!1}}return!0}function EPe(t){const e=z_(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:a,compute:l}=t||{},c=xe.useRef(i),u=xe.useRef(l),d=xe.useRef(void 0);u.current=l;const f=xe.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,p]=xe.useState(u.current?u.current(f):f);return _D(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:y=>{if(!s){const v=Ete(r,n._names,y.values||n._formValues,!1,c.current);if(u.current){const x=u.current(v);lf(x,d.current)||(p(x),d.current=x)}else p(v)}}}),[n,s,r,a]),xe.useEffect(()=>n._removeUnmounted()),m}function _Pe(t){const e=z_(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:a}=t,l=Nte(i._names.array,n),c=xe.useMemo(()=>$t(i._formValues,n,$t(i._defaultValues,n,a)),[i,n,a]),u=EPe({control:i,name:n,defaultValue:c,exact:!0}),d=SPe({control:i,name:n,exact:!0}),f=xe.useRef(t),m=xe.useRef(void 0),p=xe.useRef(i.register(n,{...t.rules,value:u,..._l(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$t(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!$t(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$t(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!$t(d.validatingFields,n)},error:{enumerable:!0,get:()=>$t(d.errors,n)}}),[d,n]),v=xe.useCallback(_=>p.current.onChange({target:{value:wte(_),name:n},type:lS.CHANGE}),[n]),x=xe.useCallback(()=>p.current.onBlur({target:{value:$t(i._formValues,n),name:n},type:lS.BLUR}),[n,i._formValues]),b=xe.useCallback(_=>{const j=$t(i._fields,n);j&&_&&(j._f.ref={focus:()=>_.focus&&_.focus(),select:()=>_.select&&_.select(),setCustomValidity:C=>_.setCustomValidity(C),reportValidity:()=>_.reportValidity()})},[i._fields,n]),S=xe.useMemo(()=>({name:n,value:u,..._l(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:x,ref:b}),[n,r,d.disabled,v,x,b,u]);return xe.useEffect(()=>{const _=i._options.shouldUnregister||s,j=m.current;j&&j!==n&&!l&&i.unregister(j),i.register(n,{...f.current.rules,..._l(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(O,M)=>{const A=$t(i._fields,O);A&&A._f&&(A._f.mount=M)};if(C(n,!0),_){const O=Gs($t(i._options.defaultValues,n,f.current.defaultValue));Xr(i._defaultValues,n,O),us($t(i._formValues,n))&&Xr(i._formValues,n,O)}return!l&&i.register(n),m.current=n,()=>{(l?_&&!i._state.action:_)?i.unregister(n):C(n,!1)}},[n,i,l,s]),xe.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),xe.useMemo(()=>({field:S,formState:d,fieldState:y}),[S,d,y])}const jPe=t=>t.render(_Pe(t));var _te=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},yb=t=>Array.isArray(t)?t:[t],Sq=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function jte(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&Fs(i)&&s){const a=jte(i,s);Fs(a)&&(n[r]=a)}else t[r]&&(n[r]=s)}return n}var Go=t=>Fs(t)&&!Object.keys(t).length,jD=t=>t.type==="file",iu=t=>typeof t=="function",cS=t=>{if(!wD)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ate=t=>t.type==="select-multiple",AD=t=>t.type==="radio",APe=t=>AD(t)||x1(t),LT=t=>cS(t)&&t.isConnected;function CPe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=us(t)?r++:t[e[r++]];return t}function kPe(t){for(const e in t)if(t.hasOwnProperty(e)&&!us(t[e]))return!1;return!0}function Ps(t,e){const n=Array.isArray(e)?e:$_(e)?[e]:SD(e),r=n.length===1?t:CPe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Fs(r)&&Go(r)||Array.isArray(r)&&kPe(r))&&Ps(t,n.slice(0,-1)),t}var TPe=t=>{for(const e in t)if(iu(t[e]))return!0;return!1};function Cte(t){return Array.isArray(t)||Fs(t)&&!TPe(t)}function sR(t,e={}){for(const n in t)Cte(t[n])?(e[n]=Array.isArray(t[n])?[]:{},sR(t[n],e[n])):us(t[n])||(e[n]=!0);return e}function Jg(t,e,n){n||(n=sR(e));for(const r in t)Cte(t[r])?us(e)||iR(n[r])?n[r]=sR(t[r],Array.isArray(t[r])?[]:{}):Jg(t[r],Yo(e)?{}:e[r],n[r]):n[r]=!lf(t[r],e[r]);return n}const Eq={value:!1,isValid:!1},_q={value:!0,isValid:!0};var kte=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!us(t[0].attributes.value)?us(t[0].value)||t[0].value===""?_q:{value:t[0].value,isValid:!0}:_q:Eq}return Eq},Tte=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>us(t)?t:e?t===""?NaN:t&&+t:n&&Tl(t)?new Date(t):r?r(t):t;const jq={isValid:!1,value:null};var Ote=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,jq):jq;function Aq(t){const e=t.ref;return jD(e)?e.files:AD(e)?Ote(t.refs).value:Ate(e)?[...e.selectedOptions].map(({value:n})=>n):x1(e)?kte(t.refs).value:Tte(us(e.value)?t.ref.value:e.value,t)}var OPe=(t,e,n,r)=>{const i={};for(const s of t){const a=$t(e,s);a&&Xr(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},uS=t=>t instanceof RegExp,zx=t=>us(t)?t:uS(t)?t.source:Fs(t)?uS(t.value)?t.value.source:t.value:t,Cq=t=>({isOnSubmit:!t||t===ru.onSubmit,isOnBlur:t===ru.onBlur,isOnChange:t===ru.onChange,isOnAll:t===ru.all,isOnTouch:t===ru.onTouched});const kq="AsyncFunction";var PPe=t=>!!t&&!!t.validate&&!!(iu(t.validate)&&t.validate.constructor.name===kq||Fs(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===kq)),MPe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Tq=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const xb=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=$t(t,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(xb(l,e))break}else if(Fs(l)&&xb(l,e))break}}};function Oq(t,e,n){const r=$t(t,n);if(r||$_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=$t(e,s),l=$t(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var RPe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Go(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||ru.all))},IPe=(t,e,n)=>!t||!e||t===e||yb(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),DPe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,LPe=(t,e)=>!ND($t(t,e)).length&&Ps(t,e),FPe=(t,e,n)=>{const r=yb($t(t,n));return Xr(r,"root",e[n]),Xr(t,n,r),t};function Pq(t,e,n="validate"){if(Tl(t)||Array.isArray(t)&&t.every(Tl)||_l(t)&&!t)return{type:n,message:Tl(t)?t:"",ref:e}}var qg=t=>Fs(t)&&!uS(t)?t:{value:t,message:""},Mq=async(t,e,n,r,i,s)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:y,name:v,valueAsNumber:x,mount:b}=t._f,S=$t(n,v);if(!b||e.has(v))return{};const _=l?l[0]:a,j=F=>{i&&_.reportValidity&&(_.setCustomValidity(_l(F)?"":F||""),_.reportValidity())},C={},O=AD(a),M=x1(a),A=O||M,P=(x||jD(a))&&us(a.value)&&us(S)||cS(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,B=_te.bind(null,v,r,C),R=(F,q,z,G=Yd.maxLength,X=Yd.minLength)=>{const U=F?q:z;C[v]={type:F?G:X,message:U,ref:a,...B(F?G:X,U)}};if(s?!Array.isArray(S)||!S.length:c&&(!A&&(P||Yo(S))||_l(S)&&!S||M&&!kte(l).isValid||O&&!Ote(l).isValid)){const{value:F,message:q}=Tl(c)?{value:!!c,message:c}:qg(c);if(F&&(C[v]={type:Yd.required,message:q,ref:_,...B(Yd.required,q)},!r))return j(q),C}if(!P&&(!Yo(f)||!Yo(m))){let F,q;const z=qg(m),G=qg(f);if(!Yo(S)&&!isNaN(S)){const X=a.valueAsNumber||S&&+S;Yo(z.value)||(F=X>z.value),Yo(G.value)||(q=X<G.value)}else{const X=a.valueAsDate||new Date(S),U=ie=>new Date(new Date().toDateString()+" "+ie),W=a.type=="time",Y=a.type=="week";Tl(z.value)&&S&&(F=W?U(S)>U(z.value):Y?S>z.value:X>new Date(z.value)),Tl(G.value)&&S&&(q=W?U(S)<U(G.value):Y?S<G.value:X<new Date(G.value))}if((F||q)&&(R(!!F,z.message,G.message,Yd.max,Yd.min),!r))return j(C[v].message),C}if((u||d)&&!P&&(Tl(S)||s&&Array.isArray(S))){const F=qg(u),q=qg(d),z=!Yo(F.value)&&S.length>+F.value,G=!Yo(q.value)&&S.length<+q.value;if((z||G)&&(R(z,F.message,q.message),!r))return j(C[v].message),C}if(p&&!P&&Tl(S)){const{value:F,message:q}=qg(p);if(uS(F)&&!S.match(F)&&(C[v]={type:Yd.pattern,message:q,ref:a,...B(Yd.pattern,q)},!r))return j(q),C}if(y){if(iu(y)){const F=await y(S,n),q=Pq(F,_);if(q&&(C[v]={...q,...B(Yd.validate,q.message)},!r))return j(q.message),C}else if(Fs(y)){let F={};for(const q in y){if(!Go(F)&&!r)break;const z=Pq(await y[q](S,n),_,q);z&&(F={...z,...B(q,z.message)},j(z.message),r&&(C[v]=F))}if(!Go(F)&&(C[v]={ref:_,...F},!r))return C}}return j(!0),C};const BPe={mode:ru.onSubmit,reValidateMode:ru.onChange,shouldFocusError:!0};function $Pe(t={}){let e={...BPe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:iu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Fs(e.defaultValues)||Fs(e.values)?Gs(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Gs(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:Sq(),state:Sq()},p=e.criteriaMode===ru.all,y=me=>Ne=>{clearTimeout(u),u=setTimeout(me,Ne)},v=async me=>{if(!e.disabled&&(d.isValid||f.isValid||me)){const Ne=e.resolver?Go((await M()).errors):await P(r,!0);Ne!==n.isValid&&m.state.next({isValid:Ne})}},x=(me,Ne)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((me||Array.from(l.mount)).forEach(Ce=>{Ce&&(Ne?Xr(n.validatingFields,Ce,Ne):Ps(n.validatingFields,Ce))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Go(n.validatingFields)}))},b=(me,Ne=[],Ce,Ve,We=!0,Ue=!0)=>{if(Ve&&Ce&&!e.disabled){if(a.action=!0,Ue&&Array.isArray($t(r,me))){const tt=Ce($t(r,me),Ve.argA,Ve.argB);We&&Xr(r,me,tt)}if(Ue&&Array.isArray($t(n.errors,me))){const tt=Ce($t(n.errors,me),Ve.argA,Ve.argB);We&&Xr(n.errors,me,tt),LPe(n.errors,me)}if((d.touchedFields||f.touchedFields)&&Ue&&Array.isArray($t(n.touchedFields,me))){const tt=Ce($t(n.touchedFields,me),Ve.argA,Ve.argB);We&&Xr(n.touchedFields,me,tt)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Jg(i,s)),m.state.next({name:me,isDirty:R(me,Ne),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Xr(s,me,Ne)},S=(me,Ne)=>{Xr(n.errors,me,Ne),m.state.next({errors:n.errors})},_=me=>{n.errors=me,m.state.next({errors:n.errors,isValid:!1})},j=(me,Ne,Ce,Ve)=>{const We=$t(r,me);if(We){const Ue=$t(s,me,us(Ce)?$t(i,me):Ce);us(Ue)||Ve&&Ve.defaultChecked||Ne?Xr(s,me,Ne?Ue:Aq(We._f)):z(me,Ue),a.mount&&v()}},C=(me,Ne,Ce,Ve,We)=>{let Ue=!1,tt=!1;const _t={name:me};if(!e.disabled){if(!Ce||Ve){(d.isDirty||f.isDirty)&&(tt=n.isDirty,n.isDirty=_t.isDirty=R(),Ue=tt!==_t.isDirty);const bt=lf($t(i,me),Ne);tt=!!$t(n.dirtyFields,me),bt?Ps(n.dirtyFields,me):Xr(n.dirtyFields,me,!0),_t.dirtyFields=n.dirtyFields,Ue=Ue||(d.dirtyFields||f.dirtyFields)&&tt!==!bt}if(Ce){const bt=$t(n.touchedFields,me);bt||(Xr(n.touchedFields,me,Ce),_t.touchedFields=n.touchedFields,Ue=Ue||(d.touchedFields||f.touchedFields)&&bt!==Ce)}Ue&&We&&m.state.next(_t)}return Ue?_t:{}},O=(me,Ne,Ce,Ve)=>{const We=$t(n.errors,me),Ue=(d.isValid||f.isValid)&&_l(Ne)&&n.isValid!==Ne;if(e.delayError&&Ce?(c=y(()=>S(me,Ce)),c(e.delayError)):(clearTimeout(u),c=null,Ce?Xr(n.errors,me,Ce):Ps(n.errors,me)),(Ce?!lf(We,Ce):We)||!Go(Ve)||Ue){const tt={...Ve,...Ue&&_l(Ne)?{isValid:Ne}:{},errors:n.errors,name:me};n={...n,...tt},m.state.next(tt)}},M=async me=>{x(me,!0);const Ne=await e.resolver(s,e.context,OPe(me||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(me),Ne},A=async me=>{const{errors:Ne}=await M(me);if(me)for(const Ce of me){const Ve=$t(Ne,Ce);Ve?Xr(n.errors,Ce,Ve):Ps(n.errors,Ce)}else n.errors=Ne;return Ne},P=async(me,Ne,Ce={valid:!0})=>{for(const Ve in me){const We=me[Ve];if(We){const{_f:Ue,...tt}=We;if(Ue){const _t=l.array.has(Ue.name),bt=We._f&&PPe(We._f);bt&&d.validatingFields&&x([Ue.name],!0);const Tt=await Mq(We,l.disabled,s,p,e.shouldUseNativeValidation&&!Ne,_t);if(bt&&d.validatingFields&&x([Ue.name]),Tt[Ue.name]&&(Ce.valid=!1,Ne))break;!Ne&&($t(Tt,Ue.name)?_t?FPe(n.errors,Tt,Ue.name):Xr(n.errors,Ue.name,Tt[Ue.name]):Ps(n.errors,Ue.name))}!Go(tt)&&await P(tt,Ne,Ce)}}return Ce.valid},B=()=>{for(const me of l.unMount){const Ne=$t(r,me);Ne&&(Ne._f.refs?Ne._f.refs.every(Ce=>!LT(Ce)):!LT(Ne._f.ref))&&pe(me)}l.unMount=new Set},R=(me,Ne)=>!e.disabled&&(me&&Ne&&Xr(s,me,Ne),!lf(ie(),i)),F=(me,Ne,Ce)=>Ete(me,l,{...a.mount?s:us(Ne)?i:Tl(me)?{[me]:Ne}:Ne},Ce,Ne),q=me=>ND($t(a.mount?s:i,me,e.shouldUnregister?$t(i,me,[]):[])),z=(me,Ne,Ce={})=>{const Ve=$t(r,me);let We=Ne;if(Ve){const Ue=Ve._f;Ue&&(!Ue.disabled&&Xr(s,me,Tte(Ne,Ue)),We=cS(Ue.ref)&&Yo(Ne)?"":Ne,Ate(Ue.ref)?[...Ue.ref.options].forEach(tt=>tt.selected=We.includes(tt.value)):Ue.refs?x1(Ue.ref)?Ue.refs.forEach(tt=>{(!tt.defaultChecked||!tt.disabled)&&(Array.isArray(We)?tt.checked=!!We.find(_t=>_t===tt.value):tt.checked=We===tt.value||!!We)}):Ue.refs.forEach(tt=>tt.checked=tt.value===We):jD(Ue.ref)?Ue.ref.value="":(Ue.ref.value=We,Ue.ref.type||m.state.next({name:me,values:Gs(s)})))}(Ce.shouldDirty||Ce.shouldTouch)&&C(me,We,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&Y(me)},G=(me,Ne,Ce)=>{for(const Ve in Ne){if(!Ne.hasOwnProperty(Ve))return;const We=Ne[Ve],Ue=me+"."+Ve,tt=$t(r,Ue);(l.array.has(me)||Fs(We)||tt&&!tt._f)&&!cm(We)?G(Ue,We,Ce):z(Ue,We,Ce)}},X=(me,Ne,Ce={})=>{const Ve=$t(r,me),We=l.array.has(me),Ue=Gs(Ne);Xr(s,me,Ue),We?(m.array.next({name:me,values:Gs(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Ce.shouldDirty&&m.state.next({name:me,dirtyFields:Jg(i,s),isDirty:R(me,Ue)})):Ve&&!Ve._f&&!Yo(Ue)?G(me,Ue,Ce):z(me,Ue,Ce),Tq(me,l)&&m.state.next({...n,name:me}),m.state.next({name:a.mount?me:void 0,values:Gs(s)})},U=async me=>{a.mount=!0;const Ne=me.target;let Ce=Ne.name,Ve=!0;const We=$t(r,Ce),Ue=bt=>{Ve=Number.isNaN(bt)||cm(bt)&&isNaN(bt.getTime())||lf(bt,$t(s,Ce,bt))},tt=Cq(e.mode),_t=Cq(e.reValidateMode);if(We){let bt,Tt;const Wt=Ne.type?Aq(We._f):wte(me),At=me.type===lS.BLUR||me.type===lS.FOCUS_OUT,An=!MPe(We._f)&&!e.resolver&&!$t(n.errors,Ce)&&!We._f.deps||DPe(At,$t(n.touchedFields,Ce),n.isSubmitted,_t,tt),En=Tq(Ce,l,At);Xr(s,Ce,Wt),At?(!Ne||!Ne.readOnly)&&(We._f.onBlur&&We._f.onBlur(me),c&&c(0)):We._f.onChange&&We._f.onChange(me);const zt=C(Ce,Wt,At),yn=!Go(zt)||En;if(!At&&m.state.next({name:Ce,type:me.type,values:Gs(s)}),An)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?At&&v():At||v()),yn&&m.state.next({name:Ce,...En?{}:zt});if(!At&&En&&m.state.next({...n}),e.resolver){const{errors:nr}=await M([Ce]);if(Ue(Wt),Ve){const an=Oq(n.errors,r,Ce),Cn=Oq(nr,r,an.name||Ce);bt=Cn.error,Ce=Cn.name,Tt=Go(nr)}}else x([Ce],!0),bt=(await Mq(We,l.disabled,s,p,e.shouldUseNativeValidation))[Ce],x([Ce]),Ue(Wt),Ve&&(bt?Tt=!1:(d.isValid||f.isValid)&&(Tt=await P(r,!0)));Ve&&(We._f.deps&&(!Array.isArray(We._f.deps)||We._f.deps.length>0)&&Y(We._f.deps),O(Ce,Tt,bt,zt))}},W=(me,Ne)=>{if($t(n.errors,Ne)&&me.focus)return me.focus(),1},Y=async(me,Ne={})=>{let Ce,Ve;const We=yb(me);if(e.resolver){const Ue=await A(us(me)?me:We);Ce=Go(Ue),Ve=me?!We.some(tt=>$t(Ue,tt)):Ce}else me?(Ve=(await Promise.all(We.map(async Ue=>{const tt=$t(r,Ue);return await P(tt&&tt._f?{[Ue]:tt}:tt)}))).every(Boolean),!(!Ve&&!n.isValid)&&v()):Ve=Ce=await P(r);return m.state.next({...!Tl(me)||(d.isValid||f.isValid)&&Ce!==n.isValid?{}:{name:me},...e.resolver||!me?{isValid:Ce}:{},errors:n.errors}),Ne.shouldFocus&&!Ve&&xb(r,W,me?We:l.mount),Ve},ie=(me,Ne)=>{let Ce={...a.mount?s:i};return Ne&&(Ce=jte(Ne.dirtyFields?n.dirtyFields:n.touchedFields,Ce)),us(me)?Ce:Tl(me)?$t(Ce,me):me.map(Ve=>$t(Ce,Ve))},Z=(me,Ne)=>({invalid:!!$t((Ne||n).errors,me),isDirty:!!$t((Ne||n).dirtyFields,me),error:$t((Ne||n).errors,me),isValidating:!!$t(n.validatingFields,me),isTouched:!!$t((Ne||n).touchedFields,me)}),I=me=>{me&&yb(me).forEach(Ne=>Ps(n.errors,Ne)),m.state.next({errors:me?n.errors:{}})},V=(me,Ne,Ce)=>{const Ve=($t(r,me,{_f:{}})._f||{}).ref,We=$t(n.errors,me)||{},{ref:Ue,message:tt,type:_t,...bt}=We;Xr(n.errors,me,{...bt,...Ne,ref:Ve}),m.state.next({name:me,errors:n.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Ve&&Ve.focus&&Ve.focus()},Q=(me,Ne)=>iu(me)?m.state.subscribe({next:Ce=>"values"in Ce&&me(F(void 0,Ne),Ce)}):F(me,Ne,!0),re=me=>m.state.subscribe({next:Ne=>{IPe(me.name,Ne.name,me.exact)&&RPe(Ne,me.formState||d,ut,me.reRenderRoot)&&me.callback({values:{...s},...n,...Ne,defaultValues:i})}}).unsubscribe,fe=me=>(a.mount=!0,f={...f,...me.formState},re({...me,formState:f})),pe=(me,Ne={})=>{for(const Ce of me?yb(me):l.mount)l.mount.delete(Ce),l.array.delete(Ce),Ne.keepValue||(Ps(r,Ce),Ps(s,Ce)),!Ne.keepError&&Ps(n.errors,Ce),!Ne.keepDirty&&Ps(n.dirtyFields,Ce),!Ne.keepTouched&&Ps(n.touchedFields,Ce),!Ne.keepIsValidating&&Ps(n.validatingFields,Ce),!e.shouldUnregister&&!Ne.keepDefaultValue&&Ps(i,Ce);m.state.next({values:Gs(s)}),m.state.next({...n,...Ne.keepDirty?{isDirty:R()}:{}}),!Ne.keepIsValid&&v()},ve=({disabled:me,name:Ne})=>{(_l(me)&&a.mount||me||l.disabled.has(Ne))&&(me?l.disabled.add(Ne):l.disabled.delete(Ne))},de=(me,Ne={})=>{let Ce=$t(r,me);const Ve=_l(Ne.disabled)||_l(e.disabled);return Xr(r,me,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:me}},name:me,mount:!0,...Ne}}),l.mount.add(me),Ce?ve({disabled:_l(Ne.disabled)?Ne.disabled:e.disabled,name:me}):j(me,!0,Ne.value),{...Ve?{disabled:Ne.disabled||e.disabled}:{},...e.progressive?{required:!!Ne.required,min:zx(Ne.min),max:zx(Ne.max),minLength:zx(Ne.minLength),maxLength:zx(Ne.maxLength),pattern:zx(Ne.pattern)}:{},name:me,onChange:U,onBlur:U,ref:We=>{if(We){de(me,Ne),Ce=$t(r,me);const Ue=us(We.value)&&We.querySelectorAll&&We.querySelectorAll("input,select,textarea")[0]||We,tt=APe(Ue),_t=Ce._f.refs||[];if(tt?_t.find(bt=>bt===Ue):Ue===Ce._f.ref)return;Xr(r,me,{_f:{...Ce._f,...tt?{refs:[..._t.filter(LT),Ue,...Array.isArray($t(i,me))?[{}]:[]],ref:{type:Ue.type,name:me}}:{ref:Ue}}}),j(me,!1,void 0,Ue)}else Ce=$t(r,me,{}),Ce._f&&(Ce._f.mount=!1),(e.shouldUnregister||Ne.shouldUnregister)&&!(Nte(l.array,me)&&a.action)&&l.unMount.add(me)}}},be=()=>e.shouldFocusError&&xb(r,W,l.mount),je=me=>{_l(me)&&(m.state.next({disabled:me}),xb(r,(Ne,Ce)=>{const Ve=$t(r,Ce);Ve&&(Ne.disabled=Ve._f.disabled||me,Array.isArray(Ve._f.refs)&&Ve._f.refs.forEach(We=>{We.disabled=Ve._f.disabled||me}))},0,!1))},ae=(me,Ne)=>async Ce=>{let Ve;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let We=Gs(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Ue,values:tt}=await M();n.errors=Ue,We=Gs(tt)}else await P(r);if(l.disabled.size)for(const Ue of l.disabled)Ps(We,Ue);if(Ps(n.errors,"root"),Go(n.errors)){m.state.next({errors:{}});try{await me(We,Ce)}catch(Ue){Ve=Ue}}else Ne&&await Ne({...n.errors},Ce),be(),setTimeout(be);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Go(n.errors)&&!Ve,submitCount:n.submitCount+1,errors:n.errors}),Ve)throw Ve},Oe=(me,Ne={})=>{$t(r,me)&&(us(Ne.defaultValue)?X(me,Gs($t(i,me))):(X(me,Ne.defaultValue),Xr(i,me,Gs(Ne.defaultValue))),Ne.keepTouched||Ps(n.touchedFields,me),Ne.keepDirty||(Ps(n.dirtyFields,me),n.isDirty=Ne.defaultValue?R(me,Gs($t(i,me))):R()),Ne.keepError||(Ps(n.errors,me),d.isValid&&v()),m.state.next({...n}))},ee=(me,Ne={})=>{const Ce=me?Gs(me):i,Ve=Gs(Ce),We=Go(me),Ue=We?i:Ve;if(Ne.keepDefaultValues||(i=Ce),!Ne.keepValues){if(Ne.keepDirtyValues){const tt=new Set([...l.mount,...Object.keys(Jg(i,s))]);for(const _t of Array.from(tt))$t(n.dirtyFields,_t)?Xr(Ue,_t,$t(s,_t)):X(_t,$t(Ue,_t))}else{if(wD&&us(me))for(const tt of l.mount){const _t=$t(r,tt);if(_t&&_t._f){const bt=Array.isArray(_t._f.refs)?_t._f.refs[0]:_t._f.ref;if(cS(bt)){const Tt=bt.closest("form");if(Tt){Tt.reset();break}}}}if(Ne.keepFieldsRef)for(const tt of l.mount)X(tt,$t(Ue,tt));else r={}}s=e.shouldUnregister?Ne.keepDefaultValues?Gs(i):{}:Gs(Ue),m.array.next({values:{...Ue}}),m.state.next({values:{...Ue}})}l={mount:Ne.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!Ne.keepIsValid||!!Ne.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:Ne.keepSubmitCount?n.submitCount:0,isDirty:We?!1:Ne.keepDirty?n.isDirty:!!(Ne.keepDefaultValues&&!lf(me,i)),isSubmitted:Ne.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:We?{}:Ne.keepDirtyValues?Ne.keepDefaultValues&&s?Jg(i,s):n.dirtyFields:Ne.keepDefaultValues&&me?Jg(i,me):Ne.keepDirty?n.dirtyFields:{},touchedFields:Ne.keepTouched?n.touchedFields:{},errors:Ne.keepErrors?n.errors:{},isSubmitSuccessful:Ne.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ne=(me,Ne)=>ee(iu(me)?me(s):me,Ne),Me=(me,Ne={})=>{const Ce=$t(r,me),Ve=Ce&&Ce._f;if(Ve){const We=Ve.refs?Ve.refs[0]:Ve.ref;We.focus&&(We.focus(),Ne.shouldSelect&&iu(We.select)&&We.select())}},ut=me=>{n={...n,...me}},He={control:{register:de,unregister:pe,getFieldState:Z,handleSubmit:ae,setError:V,_subscribe:re,_runSchema:M,_focusError:be,_getWatch:F,_getDirty:R,_setValid:v,_setFieldArray:b,_setDisabledField:ve,_setErrors:_,_getFieldArray:q,_reset:ee,_resetDefaultValues:()=>iu(e.defaultValues)&&e.defaultValues().then(me=>{ne(me,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:je,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(me){a=me},get _defaultValues(){return i},get _names(){return l},set _names(me){l=me},get _formState(){return n},get _options(){return e},set _options(me){e={...e,...me}}},subscribe:fe,trigger:Y,register:de,handleSubmit:ae,watch:Q,setValue:X,getValues:ie,reset:ne,resetField:Oe,clearErrors:I,unregister:pe,setError:V,setFocus:Me,getFieldState:Z};return{...He,formControl:He}}function zPe(t={}){const e=xe.useRef(void 0),n=xe.useRef(void 0),[r,i]=xe.useState({isDirty:!1,isValidating:!1,isLoading:iu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:iu(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!iu(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=$Pe(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,_D(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),xe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),xe.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),xe.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),xe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),xe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),xe.useEffect(()=>{t.values&&!lf(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),xe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Ste(r,s),e.current}const Rq=(t,e,n)=>{if(t&&"reportValidity"in t){const r=$t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Pte=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Rq(r.ref,n,t):r.refs&&r.refs.forEach(i=>Rq(i,n,t))}},qPe=(t,e)=>{e.shouldUseNativeValidation&&Pte(t,e);const n={};for(const r in t){const i=$t(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(UPe(e.names||Object.keys(t),r)){const a=Object.assign({},$t(n,r));Xr(a,"root",s),Xr(n,r,a)}else Xr(n,r,s)}return n},UPe=(t,e)=>t.some(n=>n.startsWith(e+"."));var HPe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=_te(a,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},VPe=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve((function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&Pte({},s),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(a){if((function(l){return Array.isArray(l?.errors)})(a))return{values:{},errors:qPe(HPe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},Tr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Tr||(Tr={}));var Iq;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Iq||(Iq={}));const ln=Tr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bh=t=>{switch(typeof t){case"undefined":return ln.undefined;case"string":return ln.string;case"number":return Number.isNaN(t)?ln.nan:ln.number;case"boolean":return ln.boolean;case"function":return ln.function;case"bigint":return ln.bigint;case"symbol":return ln.symbol;case"object":return Array.isArray(t)?ln.array:t===null?ln.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ln.promise:typeof Map<"u"&&t instanceof Map?ln.map:typeof Set<"u"&&t instanceof Set?ln.set:typeof Date<"u"&&t instanceof Date?ln.date:ln.object;default:return ln.unknown}},kt=Tr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Af extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof Af))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Af.create=t=>new Af(t);const aR=(t,e)=>{let n;switch(t.code){case kt.invalid_type:t.received===ln.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case kt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Tr.jsonStringifyReplacer)}`;break;case kt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Tr.joinValues(t.keys,", ")}`;break;case kt.invalid_union:n="Invalid input";break;case kt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Tr.joinValues(t.options)}`;break;case kt.invalid_enum_value:n=`Invalid enum value. Expected ${Tr.joinValues(t.options)}, received '${t.received}'`;break;case kt.invalid_arguments:n="Invalid function arguments";break;case kt.invalid_return_type:n="Invalid function return type";break;case kt.invalid_date:n="Invalid date";break;case kt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Tr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case kt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case kt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case kt.custom:n="Invalid input";break;case kt.invalid_intersection_types:n="Intersection results could not be merged";break;case kt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case kt.not_finite:n="Number must be finite";break;default:n=e.defaultError,Tr.assertNever(t)}return{message:n}};let WPe=aR;function KPe(){return WPe}const GPe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Vt(t,e){const n=KPe(),r=GPe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===aR?void 0:aR].filter(i=>!!i)});t.common.issues.push(r)}class Dl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Zn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Dl.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Zn;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Zn=Object.freeze({status:"aborted"}),eb=t=>({status:"dirty",value:t}),_c=t=>({status:"valid",value:t}),Dq=t=>t.status==="aborted",Lq=t=>t.status==="dirty",dy=t=>t.status==="valid",dS=t=>typeof Promise<"u"&&t instanceof Promise;var fn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(fn||(fn={}));class tp{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fq=(t,e)=>{if(dy(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Af(t.common.issues);return this._error=n,this._error}}};function hr(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class jr{get description(){return this._def.description}_getType(e){return bh(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:bh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Dl,ctx:{common:e.parent.common,data:e.data,parsedType:bh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dS(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bh(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Fq(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bh(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return dy(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>dy(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bh(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(dS(i)?i:Promise.resolve(i));return Fq(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:kt.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new hy({schema:this,typeName:Jn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Uh.create(this,this._def)}nullable(){return py.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ld.create(this)}promise(){return mS.create(this,this._def)}or(e){return hS.create([this,e],this._def)}and(e){return pS.create(this,e,this._def)}transform(e){return new hy({...hr(this._def),schema:this,typeName:Jn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new cR({...hr(this._def),innerType:this,defaultValue:n,typeName:Jn.ZodDefault})}brand(){return new vMe({typeName:Jn.ZodBranded,type:this,...hr(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new uR({...hr(this._def),innerType:this,catchValue:n,typeName:Jn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return CD.create(this,e)}readonly(){return dR.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YPe=/^c[^\s-]{8,}$/i,XPe=/^[0-9a-z]+$/,ZPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JPe=/^[a-z0-9_-]{21}$/i,eMe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tMe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nMe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rMe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let FT;const iMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lMe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cMe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Mte="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uMe=new RegExp(`^${Mte}$`);function Rte(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function dMe(t){return new RegExp(`^${Rte(t)}$`)}function fMe(t){let e=`${Mte}T${Rte(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function hMe(t,e){return!!((e==="v4"||!e)&&iMe.test(t)||(e==="v6"||!e)&&aMe.test(t))}function pMe(t,e){if(!eMe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mMe(t,e){return!!((e==="v4"||!e)&&sMe.test(t)||(e==="v6"||!e)&&oMe.test(t))}class Mh extends jr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ln.string){const s=this._getOrReturnCtx(e);return Vt(s,{code:kt.invalid_type,expected:ln.string,received:s.parsedType}),Zn}const r=new Dl;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?Vt(i,{code:kt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Vt(i,{code:kt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")nMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"email",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")FT||(FT=new RegExp(rMe,"u")),FT.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"emoji",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")QPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"uuid",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")JPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"nanoid",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")YPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"cuid",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")XPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"cuid2",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")ZPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"ulid",code:kt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Vt(i,{validation:"url",code:kt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"regex",code:kt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?fMe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?uMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?dMe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?tMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"duration",code:kt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?hMe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"ip",code:kt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?pMe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"jwt",code:kt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?mMe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"cidr",code:kt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?lMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"base64",code:kt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?cMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"base64url",code:kt.invalid_string,message:s.message}),r.dirty()):Tr.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:kt.invalid_string,...fn.errToObj(r)})}_addCheck(e){return new Mh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...fn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...fn.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...fn.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...fn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fn.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...fn.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...fn.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...fn.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...fn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...fn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...fn.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...fn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...fn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...fn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...fn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...fn.errToObj(n)})}nonempty(e){return this.min(1,fn.errToObj(e))}trim(){return new Mh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mh.create=t=>new Mh({checks:[],typeName:Jn.ZodString,coerce:t?.coerce??!1,...hr(t)});function gMe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class A0 extends jr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ln.number){const s=this._getOrReturnCtx(e);return Vt(s,{code:kt.invalid_type,expected:ln.number,received:s.parsedType}),Zn}let r;const i=new Dl;for(const s of this._def.checks)s.kind==="int"?Tr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?gMe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.not_finite,message:s.message}),i.dirty()):Tr.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,fn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,fn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,fn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,fn.toString(n))}setLimit(e,n,r,i){return new A0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:fn.toString(i)}]})}_addCheck(e){return new A0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:fn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:fn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}A0.create=t=>new A0({checks:[],typeName:Jn.ZodNumber,coerce:t?.coerce||!1,...hr(t)});class C0 extends jr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ln.bigint)return this._getInvalidInput(e);let r;const i=new Dl;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:kt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Tr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Vt(n,{code:kt.invalid_type,expected:ln.bigint,received:n.parsedType}),Zn}gte(e,n){return this.setLimit("min",e,!0,fn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,fn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,fn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,fn.toString(n))}setLimit(e,n,r,i){return new C0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:fn.toString(i)}]})}_addCheck(e){return new C0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:fn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}C0.create=t=>new C0({checks:[],typeName:Jn.ZodBigInt,coerce:t?.coerce??!1,...hr(t)});class oR extends jr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ln.boolean){const r=this._getOrReturnCtx(e);return Vt(r,{code:kt.invalid_type,expected:ln.boolean,received:r.parsedType}),Zn}return _c(e.data)}}oR.create=t=>new oR({typeName:Jn.ZodBoolean,coerce:t?.coerce||!1,...hr(t)});class fS extends jr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ln.date){const s=this._getOrReturnCtx(e);return Vt(s,{code:kt.invalid_type,expected:ln.date,received:s.parsedType}),Zn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Vt(s,{code:kt.invalid_date}),Zn}const r=new Dl;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:kt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Tr.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fS({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:fn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:fn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fS.create=t=>new fS({checks:[],coerce:t?.coerce||!1,typeName:Jn.ZodDate,...hr(t)});class Bq extends jr{_parse(e){if(this._getType(e)!==ln.symbol){const r=this._getOrReturnCtx(e);return Vt(r,{code:kt.invalid_type,expected:ln.symbol,received:r.parsedType}),Zn}return _c(e.data)}}Bq.create=t=>new Bq({typeName:Jn.ZodSymbol,...hr(t)});class $q extends jr{_parse(e){if(this._getType(e)!==ln.undefined){const r=this._getOrReturnCtx(e);return Vt(r,{code:kt.invalid_type,expected:ln.undefined,received:r.parsedType}),Zn}return _c(e.data)}}$q.create=t=>new $q({typeName:Jn.ZodUndefined,...hr(t)});class zq extends jr{_parse(e){if(this._getType(e)!==ln.null){const r=this._getOrReturnCtx(e);return Vt(r,{code:kt.invalid_type,expected:ln.null,received:r.parsedType}),Zn}return _c(e.data)}}zq.create=t=>new zq({typeName:Jn.ZodNull,...hr(t)});class qq extends jr{constructor(){super(...arguments),this._any=!0}_parse(e){return _c(e.data)}}qq.create=t=>new qq({typeName:Jn.ZodAny,...hr(t)});class Uq extends jr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _c(e.data)}}Uq.create=t=>new Uq({typeName:Jn.ZodUnknown,...hr(t)});class np extends jr{_parse(e){const n=this._getOrReturnCtx(e);return Vt(n,{code:kt.invalid_type,expected:ln.never,received:n.parsedType}),Zn}}np.create=t=>new np({typeName:Jn.ZodNever,...hr(t)});class Hq extends jr{_parse(e){if(this._getType(e)!==ln.undefined){const r=this._getOrReturnCtx(e);return Vt(r,{code:kt.invalid_type,expected:ln.void,received:r.parsedType}),Zn}return _c(e.data)}}Hq.create=t=>new Hq({typeName:Jn.ZodVoid,...hr(t)});class ld extends jr{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ln.array)return Vt(n,{code:kt.invalid_type,expected:ln.array,received:n.parsedType}),Zn;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(a||l)&&(Vt(n,{code:a?kt.too_big:kt.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Vt(n,{code:kt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Vt(n,{code:kt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>i.type._parseAsync(new tp(n,a,n.path,l)))).then(a=>Dl.mergeArray(r,a));const s=[...n.data].map((a,l)=>i.type._parseSync(new tp(n,a,n.path,l)));return Dl.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ld({...this._def,minLength:{value:e,message:fn.toString(n)}})}max(e,n){return new ld({...this._def,maxLength:{value:e,message:fn.toString(n)}})}length(e,n){return new ld({...this._def,exactLength:{value:e,message:fn.toString(n)}})}nonempty(e){return this.min(1,e)}}ld.create=(t,e)=>new ld({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Jn.ZodArray,...hr(e)});function ev(t){if(t instanceof Rs){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Uh.create(ev(r))}return new Rs({...t._def,shape:()=>e})}else return t instanceof ld?new ld({...t._def,type:ev(t.element)}):t instanceof Uh?Uh.create(ev(t.unwrap())):t instanceof py?py.create(ev(t.unwrap())):t instanceof Bm?Bm.create(t.items.map(e=>ev(e))):t}class Rs extends jr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Tr.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ln.object){const u=this._getOrReturnCtx(e);return Vt(u,{code:kt.invalid_type,expected:ln.object,received:u.parsedType}),Zn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof np&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new tp(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof np){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Vt(i,{code:kt.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new tp(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Dl.mergeObjectSync(r,u)):Dl.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return fn.errToObj,new Rs({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:fn.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Rs({...this._def,unknownKeys:"strip"})}passthrough(){return new Rs({...this._def,unknownKeys:"passthrough"})}extend(e){return new Rs({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Rs({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Jn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Rs({...this._def,catchall:e})}pick(e){const n={};for(const r of Tr.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Rs({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Tr.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Rs({...this._def,shape:()=>n})}deepPartial(){return ev(this)}partial(e){const n={};for(const r of Tr.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Rs({...this._def,shape:()=>n})}required(e){const n={};for(const r of Tr.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Uh;)s=s._def.innerType;n[r]=s}return new Rs({...this._def,shape:()=>n})}keyof(){return Ite(Tr.objectKeys(this.shape))}}Rs.create=(t,e)=>new Rs({shape:()=>t,unknownKeys:"strip",catchall:np.create(),typeName:Jn.ZodObject,...hr(e)});Rs.strictCreate=(t,e)=>new Rs({shape:()=>t,unknownKeys:"strict",catchall:np.create(),typeName:Jn.ZodObject,...hr(e)});Rs.lazycreate=(t,e)=>new Rs({shape:t,unknownKeys:"strip",catchall:np.create(),typeName:Jn.ZodObject,...hr(e)});class hS extends jr{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new Af(l.ctx.common.issues));return Vt(n,{code:kt.invalid_union,unionErrors:a}),Zn}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(c=>new Af(c));return Vt(n,{code:kt.invalid_union,unionErrors:l}),Zn}}get options(){return this._def.options}}hS.create=(t,e)=>new hS({options:t,typeName:Jn.ZodUnion,...hr(e)});function lR(t,e){const n=bh(t),r=bh(e);if(t===e)return{valid:!0,data:t};if(n===ln.object&&r===ln.object){const i=Tr.objectKeys(e),s=Tr.objectKeys(t).filter(l=>i.indexOf(l)!==-1),a={...t,...e};for(const l of s){const c=lR(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===ln.array&&r===ln.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],l=e[s],c=lR(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ln.date&&r===ln.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pS extends jr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Dq(s)||Dq(a))return Zn;const l=lR(s.value,a.value);return l.valid?((Lq(s)||Lq(a))&&n.dirty(),{status:n.value,value:l.data}):(Vt(r,{code:kt.invalid_intersection_types}),Zn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pS.create=(t,e,n)=>new pS({left:t,right:e,typeName:Jn.ZodIntersection,...hr(n)});class Bm extends jr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ln.array)return Vt(r,{code:kt.invalid_type,expected:ln.array,received:r.parsedType}),Zn;if(r.data.length<this._def.items.length)return Vt(r,{code:kt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zn;!this._def.rest&&r.data.length>this._def.items.length&&(Vt(r,{code:kt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new tp(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Dl.mergeArray(n,a)):Dl.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Bm({...this._def,rest:e})}}Bm.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bm({items:t,typeName:Jn.ZodTuple,rest:null,...hr(e)})};class Vq extends jr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ln.map)return Vt(r,{code:kt.invalid_type,expected:ln.map,received:r.parsedType}),Zn;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new tp(r,l,r.path,[u,"key"])),value:s._parse(new tp(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Zn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Zn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Vq.create=(t,e,n)=>new Vq({valueType:e,keyType:t,typeName:Jn.ZodMap,...hr(n)});class k0 extends jr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ln.set)return Vt(r,{code:kt.invalid_type,expected:ln.set,received:r.parsedType}),Zn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Vt(r,{code:kt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Vt(r,{code:kt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Zn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>s._parse(new tp(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new k0({...this._def,minSize:{value:e,message:fn.toString(n)}})}max(e,n){return new k0({...this._def,maxSize:{value:e,message:fn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}k0.create=(t,e)=>new k0({valueType:t,minSize:null,maxSize:null,typeName:Jn.ZodSet,...hr(e)});class Wq extends jr{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Wq.create=(t,e)=>new Wq({getter:t,typeName:Jn.ZodLazy,...hr(e)});class Kq extends jr{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Vt(n,{received:n.data,code:kt.invalid_literal,expected:this._def.value}),Zn}return{status:"valid",value:e.data}}get value(){return this._def.value}}Kq.create=(t,e)=>new Kq({value:t,typeName:Jn.ZodLiteral,...hr(e)});function Ite(t,e){return new fy({values:t,typeName:Jn.ZodEnum,...hr(e)})}class fy extends jr{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Vt(n,{expected:Tr.joinValues(r),received:n.parsedType,code:kt.invalid_type}),Zn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Vt(n,{received:n.data,code:kt.invalid_enum_value,options:r}),Zn}return _c(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fy.create(e,{...this._def,...n})}exclude(e,n=this._def){return fy.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}fy.create=Ite;class Gq extends jr{_parse(e){const n=Tr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ln.string&&r.parsedType!==ln.number){const i=Tr.objectValues(n);return Vt(r,{expected:Tr.joinValues(i),received:r.parsedType,code:kt.invalid_type}),Zn}if(this._cache||(this._cache=new Set(Tr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Tr.objectValues(n);return Vt(r,{received:r.data,code:kt.invalid_enum_value,options:i}),Zn}return _c(e.data)}get enum(){return this._def.values}}Gq.create=(t,e)=>new Gq({values:t,typeName:Jn.ZodNativeEnum,...hr(e)});class mS extends jr{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ln.promise&&n.common.async===!1)return Vt(n,{code:kt.invalid_type,expected:ln.promise,received:n.parsedType}),Zn;const r=n.parsedType===ln.promise?n.data:Promise.resolve(n.data);return _c(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}mS.create=(t,e)=>new mS({type:t,typeName:Jn.ZodPromise,...hr(e)});class hy extends jr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Jn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Vt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Zn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Zn:c.status==="dirty"||n.value==="dirty"?eb(c.value):c});{if(n.value==="aborted")return Zn;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Zn:l.status==="dirty"||n.value==="dirty"?eb(l.value):l}}if(i.type==="refinement"){const a=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Zn:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Zn:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!dy(a))return Zn;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>dy(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:n.value,value:l})):Zn);Tr.assertNever(i)}}hy.create=(t,e,n)=>new hy({schema:t,typeName:Jn.ZodEffects,effect:e,...hr(n)});hy.createWithPreprocess=(t,e,n)=>new hy({schema:e,effect:{type:"preprocess",transform:t},typeName:Jn.ZodEffects,...hr(n)});class Uh extends jr{_parse(e){return this._getType(e)===ln.undefined?_c(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uh.create=(t,e)=>new Uh({innerType:t,typeName:Jn.ZodOptional,...hr(e)});class py extends jr{_parse(e){return this._getType(e)===ln.null?_c(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}py.create=(t,e)=>new py({innerType:t,typeName:Jn.ZodNullable,...hr(e)});class cR extends jr{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ln.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}cR.create=(t,e)=>new cR({innerType:t,typeName:Jn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...hr(e)});class uR extends jr{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dS(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Af(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Af(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uR.create=(t,e)=>new uR({innerType:t,typeName:Jn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...hr(e)});class Yq extends jr{_parse(e){if(this._getType(e)!==ln.nan){const r=this._getOrReturnCtx(e);return Vt(r,{code:kt.invalid_type,expected:ln.nan,received:r.parsedType}),Zn}return{status:"valid",value:e.data}}}Yq.create=t=>new Yq({typeName:Jn.ZodNaN,...hr(t)});class vMe extends jr{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class CD extends jr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Zn:s.status==="dirty"?(n.dirty(),eb(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Zn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new CD({in:e,out:n,typeName:Jn.ZodPipeline})}}class dR extends jr{_parse(e){const n=this._def.innerType._parse(e),r=i=>(dy(i)&&(i.value=Object.freeze(i.value)),i);return dS(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}dR.create=(t,e)=>new dR({innerType:t,typeName:Jn.ZodReadonly,...hr(e)});var Jn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Jn||(Jn={}));const qx=Mh.create,yMe=oR.create;np.create;ld.create;const xMe=Rs.create;hS.create;pS.create;Bm.create;fy.create;mS.create;Uh.create;py.create;const bMe=NPe,Dte=N.createContext({}),Ug=({...t})=>o.jsx(Dte.Provider,{value:{name:t.name},children:o.jsx(jPe,{...t})}),q_=()=>{const t=N.useContext(Dte),e=N.useContext(Lte),{getFieldState:n,formState:r}=z_(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Lte=N.createContext({}),Xp=N.forwardRef(({className:t,...e},n)=>{const r=N.useId();return o.jsx(Lte.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:pt("space-y-2",t),...e})})});Xp.displayName="FormItem";const Zp=N.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=q_();return o.jsx(De,{ref:n,className:pt(r&&"text-destructive",t),htmlFor:i,...e})});Zp.displayName="FormLabel";const tb=N.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=q_();return o.jsx(jE,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});tb.displayName="FormControl";const wMe=N.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=q_();return o.jsx("p",{ref:n,id:r,className:pt("text-sm text-muted-foreground",t),...e})});wMe.displayName="FormDescription";const tv=N.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=q_(),a=i?String(i?.message??""):e;return a?o.jsx("p",{ref:r,id:s,className:pt("text-sm font-medium text-destructive",t),...n,children:a}):null});tv.displayName="FormMessage";const Fte={100:{allowedTypes:["AUTONOMO","PARTICULAR"],allowedPeriods:["ANUAL"]},200:{allowedTypes:["EMPRESA"],allowedPeriods:["ANUAL"]},202:{allowedTypes:["EMPRESA"],allowedPeriods:["ESPECIAL_FRACCIONADO"],labels:["Abril","Octubre","Diciembre"]},130:{allowedTypes:["AUTONOMO"],allowedPeriods:["TRIMESTRAL"]},131:{allowedTypes:["AUTONOMO"],allowedPeriods:["TRIMESTRAL"]},303:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]},390:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},347:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},349:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]},720:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},190:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},180:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},111:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]}},U_={100:{name:"IRPF - Declaracin de la Renta"},111:{name:"Retenciones - Modelo 111"},130:{name:"IRPF - Pago fraccionado (actividades econmicas)"},131:{name:"IRPF - Pago fraccionado (estimacin directa)"},180:{name:"Retenciones - Alquileres"},190:{name:"Retenciones - Resumen anual"},200:{name:"Impuesto sobre Sociedades"},202:{name:"Pagos fraccionados IS"},303:{name:"IVA - Autoliquidacin"},347:{name:"Operaciones con terceras personas"},349:{name:"Operaciones intracomunitarias"},390:{name:"IVA - Resumen anual"},720:{name:"Bienes en el extranjero"}};function NMe(t){return Fte[t]?.allowedPeriods??[]}function SMe(t){return t.endDate?!1:!!t.activeFlag}function EMe(t,e){return e.length===0?Object.entries(Fte).filter(([,n])=>n.allowedTypes.includes(t)).map(([n,r])=>({code:n,name:`Modelo ${n}`,allowedTypes:r.allowedTypes,allowedPeriods:r.allowedPeriods,labels:r.labels??null,isActive:!0,createdAt:"",updatedAt:""})):e.filter(n=>n.allowedTypes.some(r=>r===t))}function _Me(t,e){const n=e.find(r=>r.code===t);return n?n.name:`Modelo ${t}`}function zw(t,e){const n=e.find(r=>r.code===t);return n?n.allowedPeriods:NMe(t)}function jMe(t){return SMe({endDate:t.endDate,activeFlag:t.activeFlag})}const AMe=xMe({taxModelCode:qx().min(1,"Selecciona un modelo"),periodicity:qx().min(1,"Selecciona la periodicidad"),startDate:qx().min(1,"La fecha de alta es obligatoria").refine(t=>!Number.isNaN(Date.parse(t)),"Fecha de alta invlida"),endDate:qx().optional().refine(t=>!t||!Number.isNaN(Date.parse(t)),"Fecha de baja invlida"),activeFlag:yMe(),notes:qx().max(1e3,"Mximo 1000 caracteres").optional()}).superRefine((t,e)=>{if(t.endDate){const n=Date.parse(t.startDate);Date.parse(t.endDate)<n&&e.addIssue({path:["endDate"],code:kt.custom,message:"La fecha de baja debe ser posterior a la fecha de alta"})}});function Ux(t){if(!t)return"";const e=typeof t=="string"?new Date(t):t;if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}const CMe={ANUAL:"Anual",TRIMESTRAL:"Trimestral",MENSUAL:"Mensual",ESPECIAL_FRACCIONADO:"Pagos fraccionados (Abr/Oct/Dic)"};function kMe({open:t,mode:e,clientType:n,assignedCodes:r,taxModelsConfig:i,assignment:s,onClose:a,onSubmit:l,isSubmitting:c}){const u=zPe({resolver:VPe(AMe),defaultValues:{taxModelCode:s?.taxModelCode??"",periodicity:s?.periodicity??"",startDate:Ux(s?.startDate)||"",endDate:Ux(s?.endDate)||"",activeFlag:s?s.activeFlag&&!s.endDate:!0,notes:s?.notes??""}}),d=N.useMemo(()=>e==="edit"&&s?r.filter(j=>j!==s.taxModelCode):r,[r,s,e]),f=N.useMemo(()=>EMe(n,i).filter(j=>!d.includes(j.code)),[n,i,d]),m=u.watch("taxModelCode"),p=zw(m,i),y=u.watch("periodicity"),v=u.watch("endDate"),x=u.watch("activeFlag");N.useEffect(()=>{if(!t){u.reset({taxModelCode:s?.taxModelCode??"",periodicity:s?.periodicity??"",startDate:Ux(s?.startDate)||"",endDate:Ux(s?.endDate)||"",activeFlag:s?s.activeFlag&&!s.endDate:!0,notes:s?.notes??""});return}if(!s&&f.length>0){u.setValue("taxModelCode",f[0].code);const j=zw(f[0].code,i);j.length>0&&u.setValue("periodicity",j[0]),u.getValues("startDate")||u.setValue("startDate",Ux(new Date))}},[t,s,f,i,u]),N.useEffect(()=>{if(m){const j=zw(m,i);j.length>0&&!j.includes(y)&&u.setValue("periodicity",j[0])}},[m,y,u,i]),N.useEffect(()=>{v&&x&&u.setValue("activeFlag",!1)},[v,x,u]);const b=N.useMemo(()=>{const j=zw(m,i),C=i.find(O=>O.code===m)?.labels;return{periods:j,labels:C}},[m,i]),S=u.handleSubmit(async j=>{const C={taxModelCode:j.taxModelCode,periodicity:j.periodicity,startDate:j.startDate,endDate:j.endDate?j.endDate:null,activeFlag:j.endDate?!1:j.activeFlag,notes:j.notes?.trim()?j.notes.trim():null};await l(C,s?.id),a()}),_=m?_Me(m,i):null;return o.jsx(ci,{open:t,onOpenChange:j=>!c&&!j?a():void 0,children:o.jsxs(ri,{className:"sm:max-w-lg",children:[o.jsxs(ui,{children:[o.jsx(di,{children:e==="create"?"Aadir impuesto":`Editar modelo ${m||""}`}),o.jsx(Ss,{children:"Gestiona los modelos fiscales asignados a este cliente."})]}),o.jsx(bMe,{...u,children:o.jsxs("form",{className:"space-y-4",onSubmit:S,children:[o.jsx(Ug,{control:u.control,name:"taxModelCode",render:({field:j})=>o.jsxs(Xp,{children:[o.jsx(Zp,{children:"Modelo"}),o.jsxs(qn,{disabled:c||f.length===0,value:j.value,onValueChange:C=>j.onChange(C.toUpperCase()),children:[o.jsx(Ln,{children:o.jsx(Un,{placeholder:"Selecciona un modelo"})}),o.jsx(Fn,{children:f.map(C=>o.jsxs(it,{value:C.code,children:[C.code,"  ",C.name]},C.code))})]}),o.jsx(tv,{})]})}),o.jsx(Ug,{control:u.control,name:"periodicity",render:({field:j})=>o.jsxs(Xp,{children:[o.jsx(Zp,{children:"Periodicidad"}),o.jsxs(qn,{disabled:c||p.length===0,value:j.value,onValueChange:C=>j.onChange(C.toUpperCase()),children:[o.jsx(Ln,{children:o.jsx(Un,{placeholder:"Selecciona periodicidad"})}),o.jsx(Fn,{children:p.map(C=>o.jsx(it,{value:C,children:CMe[C]},C))})]}),b.labels&&b.labels.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Presentaciones en: ",b.labels.join(", ")]}),y&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[y==="MENSUAL"&&"Se generarn periodos M01..M12 cada ao.",y==="TRIMESTRAL"&&"Se generarn 1T, 2T, 3T y 4T cada ao.",y==="ANUAL"&&"Una presentacin anual por ejercicio."]}),o.jsx(tv,{})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(Ug,{control:u.control,name:"startDate",render:({field:j})=>o.jsxs(Xp,{children:[o.jsx(Zp,{children:"Fecha de alta"}),o.jsx(tb,{children:o.jsx(Ge,{type:"date",...j,disabled:c})}),o.jsx(tv,{})]})}),o.jsx(Ug,{control:u.control,name:"endDate",render:({field:j})=>o.jsxs(Xp,{children:[o.jsx(Zp,{children:"Fecha de baja"}),o.jsx(tb,{children:o.jsx(Ge,{type:"date",value:j.value??"",onChange:C=>j.onChange(C.target.value||""),disabled:c})}),o.jsx(tv,{})]})})]}),o.jsx(Ug,{control:u.control,name:"activeFlag",render:({field:j})=>o.jsxs(Xp,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Zp,{className:"text-base",children:"Activo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"El impuesto permanecer activo mientras no tenga fecha de baja."})]}),o.jsx(tb,{children:o.jsx(hu,{checked:j.value,onCheckedChange:j.onChange,disabled:!!v||c})})]})}),o.jsx(Ug,{control:u.control,name:"notes",render:({field:j})=>o.jsxs(Xp,{children:[o.jsx(Zp,{children:"Notas"}),o.jsx(tb,{children:o.jsx(jf,{placeholder:_?`Notas internas sobre el modelo ${_}`:"Notas internas",...j,disabled:c})}),o.jsx(tv,{})]})}),o.jsxs(va,{children:[o.jsx(Se,{type:"button",variant:"outline",onClick:a,disabled:c,children:"Cancelar"}),o.jsx(Se,{type:"submit",disabled:c||f.length===0,children:c?"Guardando...":"Guardar"})]})]})})]})})}const TMe={ANUAL:"default",TRIMESTRAL:"secondary",MENSUAL:"outline",ESPECIAL_FRACCIONADO:"destructive"},OMe={ANUAL:"Anual",TRIMESTRAL:"Trimestral",MENSUAL:"Mensual",ESPECIAL_FRACCIONADO:"Especial fraccionado"};function Xq(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}function PMe({assignment:t,onEdit:e,onDelete:n,onToggleActive:r,disabled:i,selectable:s,selected:a,onSelectChange:l}){const c=jMe(t),u=t.periodicity,d=TMe[u]??"default",f=OMe[u]??u,m=!!t.endDate;return o.jsxs(ir,{children:[o.jsx(yt,{className:"w-10",children:s?o.jsx(Oi,{checked:a,onCheckedChange:p=>l?.(!!p,t)}):null}),o.jsx(yt,{className:"font-medium",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:`${t.taxModelCode}`}),t.taxModel?.name&&o.jsx("span",{className:"text-xs text-muted-foreground",children:t.taxModel.name})]})}),o.jsx(yt,{children:o.jsx(ct,{variant:d,children:f})}),o.jsx(yt,{children:Xq(t.startDate)}),o.jsx(yt,{children:Xq(t.endDate)}),o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hu,{checked:c,disabled:i||m,onCheckedChange:p=>r(t,p)}),o.jsx("span",{className:"text-sm text-muted-foreground",children:c?"Activo":m?"Baja":"Inactivo"})]})}),o.jsx(yt,{className:"max-w-sm truncate text-sm text-muted-foreground",children:t.notes||""}),o.jsxs(yt,{className:"flex items-center gap-2",children:[o.jsx(Se,{variant:"secondary",size:"icon",onClick:()=>e(t),disabled:i,children:o.jsx(U4,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"destructive",size:"icon",onClick:()=>n(t),disabled:i,children:o.jsx(ea,{className:"h-4 w-4"})})]})]})}function MMe(t){return Jt("GET",`/api/clients/${t}`)}function RMe(){return Jt("GET","/api/tax-models-config")}function IMe(t){return Jt("POST","/api/clients",t)}function DMe(t,e){return Jt("PATCH",`/api/clients/${t}`,e)}function LMe(t,e){return Jt("POST",`/api/clients/${t}/tax-assignments`,e)}function FMe(t,e){return Jt("PATCH",`/api/tax-assignments/${t}`,e)}function BMe(t,e){return Jt("DELETE",`/api/tax-assignments/${t}${e?"?hard=1":""}`)}function Zq(t,e){const n={codes:e?.codes,assignmentIds:e?.assignmentIds,hard:e?.hard??!0};return Jt("POST",`/api/clients/${t}/tax-assignments/delete`,n)}function BT(t){return[...t].sort((e,n)=>{const r=new Date(n.startDate).getTime()-new Date(e.startDate).getTime();return r!==0?r:e.taxModelCode.localeCompare(n.taxModelCode)})}function $Me({clientId:t,clientType:e,assignments:n,taxModelsConfig:r,onAssignmentsChange:i,disabled:s}){const{toast:a}=Pr(),[l,c]=N.useState(!1),[u,d]=N.useState("create"),[f,m]=N.useState(null),[p,y]=N.useState(null),[v,x]=N.useState(new Set),[b,S]=N.useState(!0),_=N.useMemo(()=>n.map(q=>q.taxModelCode),[n]),j=hn({mutationFn:async q=>{if(!t)throw new Error("El cliente debe guardarse antes de aadir impuestos");return await LMe(t,q)},onSuccess:q=>{i(z=>BT([...z,q])),t&&nn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Impuesto asignado",description:`El modelo ${q.taxModelCode} se asign correctamente.`})},onError:q=>{a({title:"No se pudo asignar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),C=hn({mutationFn:async({assignmentId:q,payload:z})=>await FMe(q,z),onSuccess:q=>{i(z=>BT(z.map(G=>G.id===q.id?q:G))),t&&nn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Asignacin actualizada",description:`Modelo ${q.taxModelCode} actualizado correctamente.`})},onError:q=>{a({title:"No se pudo actualizar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),O=hn({mutationFn:async q=>await BMe(q,b),onSuccess:q=>{q.softDeleted?(i(z=>BT(z.map(G=>G.id===q.assignment.id?q.assignment:G))),t&&nn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Asignacin desactivada",description:q.message})):(i(z=>z.filter(G=>G.id!==q.assignment.id)),a({title:"Asignacin eliminada",description:q.message}))},onError:q=>{a({title:"No se pudo eliminar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),M=()=>{d("create"),m(null),c(!0)},A=q=>{d("edit"),m(q),c(!0)},P=q=>{y(q)},B=(q,z)=>{C.mutate({assignmentId:q.id,payload:{activeFlag:z}})},R=j.isPending||C.isPending,F=(q,z)=>{x(G=>{const X=new Set(G);return q?X.add(z.id):X.delete(z.id),X})};return o.jsxs(Ze,{children:[o.jsxs(xt,{className:"flex flex-row items-center justify-between",children:[o.jsx(St,{children:"Asignaciones fiscales"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{onClick:M,disabled:!t||s,children:"Aadir impuesto"}),o.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l",children:[o.jsx(hu,{id:"hard-delete",checked:b,onCheckedChange:S}),o.jsx(De,{htmlFor:"hard-delete",className:"text-xs text-muted-foreground",children:"Borrado definitivo"})]}),o.jsx(Se,{variant:"outline",disabled:!t||s||n.length===0,onClick:async()=>{if(!(!t||!window.confirm("Eliminar todas las asignaciones fiscales de este cliente? Los modelos con histrico se desactivarn.")))try{const z=await Zq(t,{hard:b});Array.isArray(z.assignments)?i(()=>z.assignments):i(()=>[]),nn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Limpieza completada",description:`${z.deleted} eliminadas, ${z.deactivated} desactivadas`})}catch(z){a({title:"Error",description:z?.message??"No se pudo limpiar",variant:"destructive"})}},children:"Borrar modelos"}),o.jsx(Se,{variant:"destructive",disabled:!t||s||v.size===0,onClick:async()=>{if(!t)return;const q=Array.from(v);if(window.confirm(`Eliminar/desactivar modelos seleccionados? (${q.length} registros)`))try{const G=await Zq(t,{assignmentIds:q,hard:b});x(new Set),Array.isArray(G.assignments)?i(()=>G.assignments):nn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Seleccin procesada",description:`${G.deleted} eliminadas, ${G.deactivated} desactivadas`})}catch(G){a({title:"Error",description:G?.message??"No se pudo procesar la seleccin",variant:"destructive"})}},children:"Borrar seleccionados"})]})]}),o.jsx(Qe,{children:t?n.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay impuestos asignados. Aade un modelo fiscal para empezar a controlar sus obligaciones."}):o.jsx("div",{className:"overflow-x-auto rounded-md border",children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{className:"w-10"}),o.jsx(Ot,{children:"Modelo"}),o.jsx(Ot,{children:"Periodicidad"}),o.jsx(Ot,{children:"Alta"}),o.jsx(Ot,{children:"Baja"}),o.jsx(Ot,{children:"Activo"}),o.jsx(Ot,{children:"Notas"}),o.jsx(Ot,{className:"w-[120px] text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:n.map(q=>o.jsx(PMe,{assignment:q,onEdit:A,onDelete:P,onToggleActive:B,selectable:!0,selected:v.has(q.id),onSelectChange:F,disabled:s||C.isPending||O.isPending},q.id))})]})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"Guarda los datos del cliente para gestionar sus modelos fiscales."})}),o.jsx(kMe,{open:l,mode:u,clientType:e,assignedCodes:_,taxModelsConfig:r,assignment:f,onClose:()=>c(!1),onSubmit:async(q,z)=>{u==="create"?await j.mutateAsync(q):z&&await C.mutateAsync({assignmentId:z,payload:q})},isSubmitting:R}),o.jsx(y1,{open:!!p,onOpenChange:q=>!q&&y(null),children:o.jsxs(Hy,{children:[o.jsxs(Vy,{children:[o.jsx(Wy,{children:"Eliminar asignacin fiscal?"}),o.jsxs(Ky,{children:["Esta accin eliminar la asignacin del modelo"," ",o.jsx("strong",{children:p?.taxModelCode}),". Si existen histricos, se dar de baja automticamente."]})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Borrado definitivo"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Si est activado, se eliminar tambin el histrico asociado a este modelo."})]}),o.jsx(hu,{checked:b,onCheckedChange:S})]}),o.jsxs(bD,{children:[o.jsx(Yy,{disabled:O.isPending,onClick:()=>y(null),children:"Cancelar"}),o.jsx(Gy,{onClick:()=>p&&O.mutate(p.id),disabled:O.isPending,children:O.isPending?"Eliminando...":"Eliminar"})]})]})})]})}const zMe=Qm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hh=N.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:pt(zMe({variant:e}),t),...n}));Hh.displayName="Alert";const qMe=N.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:pt("mb-1 font-medium leading-none tracking-tight",t),...e}));qMe.displayName="AlertTitle";const Vh=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pt("text-sm [&_p]:leading-relaxed",t),...e}));Vh.displayName="AlertDescription";var kD="Progress",TD=100,[UMe]=wa(kD),[HMe,VMe]=UMe(kD),Bte=N.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=WMe,...a}=t;(i||i===0)&&!Qq(i)&&console.error(KMe(`${i}`,"Progress"));const l=Qq(i)?i:TD;r!==null&&!Jq(r,l)&&console.error(GMe(`${r}`,"Progress"));const c=Jq(r,l)?r:null,u=gS(c)?s(c,l):void 0;return o.jsx(HMe,{scope:n,value:c,max:l,children:o.jsx(Bt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gS(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":qte(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});Bte.displayName=kD;var $te="ProgressIndicator",zte=N.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=VMe($te,n);return o.jsx(Bt.div,{"data-state":qte(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});zte.displayName=$te;function WMe(t,e){return`${Math.round(t/e*100)}%`}function qte(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gS(t){return typeof t=="number"}function Qq(t){return gS(t)&&!isNaN(t)&&t>0}function Jq(t,e){return gS(t)&&!isNaN(t)&&t<=e&&t>=0}function KMe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TD}\`.`}function GMe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ute=Bte,YMe=zte;const my=N.forwardRef(({className:t,value:e,...n},r)=>o.jsx(Ute,{ref:r,className:pt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(YMe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));my.displayName=Ute.displayName;function XMe({open:t,onOpenChange:e}){const{toast:n}=Pr(),r=Xm(),[i,s]=N.useState(null),[a,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(!1),m=async()=>{try{const S=localStorage.getItem("token");if(console.log(" Token disponible:",S?"S":"No"),!S)throw new Error("No hay sesin activa. Por favor, inicia sesin nuevamente.");const _=await fetch("/api/clients/import-template",{headers:{Authorization:`Bearer ${S}`},credentials:"include"});if(console.log(" Respuesta del servidor:",_.status,_.statusText),!_.ok){const M=await _.json().catch(()=>({error:"Error desconocido"}));throw console.error(" Error del servidor:",M),new Error(M.error||"Error al descargar la plantilla")}const j=await _.blob(),C=window.URL.createObjectURL(j),O=document.createElement("a");O.href=C,O.download="plantilla-importacion-clientes.xlsx",document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(C),document.body.removeChild(O),n({title:"Plantilla descargada",description:"El archivo Excel se ha descargado correctamente"})}catch(S){n({title:"Error al descargar",description:S?.message||"No se pudo descargar la plantilla",variant:"destructive"})}},p=S=>{S.target.files&&S.target.files[0]&&(s(S.target.files[0]),u(null))},y=N.useCallback(S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?f(!0):S.type==="dragleave"&&f(!1)},[]),v=N.useCallback(S=>{if(S.preventDefault(),S.stopPropagation(),f(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const _=S.dataTransfer.files[0];_.name.endsWith(".xlsx")||_.name.endsWith(".xls")?(s(_),u(null)):n({title:"Archivo no vlido",description:"Por favor selecciona un archivo Excel (.xlsx o .xls)",variant:"destructive"})}},[n]),x=async()=>{if(!i){n({title:"Sin archivo",description:"Por favor selecciona un archivo Excel",variant:"destructive"});return}l(!0),u(null);try{const S=new FormData;S.append("file",i);const _=await fetch("/api/clients/import-excel",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:S}),j=await _.json();if(!_.ok)throw j.result&&u(j.result),new Error(j.error||"Error en la importacin");u(j.result),r.invalidateQueries({queryKey:["/api/clients"]}),n({title:"Importacin exitosa",description:`${j.result.imported} clientes nuevos, ${j.result.updated} actualizados`})}catch(S){n({title:"Error en la importacin",description:S?.message||"No se pudo importar el archivo",variant:"destructive"})}finally{l(!1)}},b=()=>{s(null),u(null),l(!1),e(!1)};return o.jsx(ci,{open:t,onOpenChange:b,children:o.jsxs(ri,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(ui,{children:[o.jsxs(di,{className:"flex items-center gap-2",children:[o.jsx(Fb,{className:"h-5 w-5"}),"Importar Clientes desde Excel"]}),o.jsx(Ss,{children:"Descarga la plantilla, compltala con los datos de tus clientes y sube el archivo para importarlos."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"1. Descargar plantilla Excel"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Plantilla con instrucciones y ejemplos incluidos"})]}),o.jsxs(Se,{onClick:m,variant:"outline",className:"gap-2",children:[o.jsx(Da,{className:"h-4 w-4"}),"Descargar"]})]}),o.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 transition-colors ${d?"border-primary bg-primary/5":"border-muted-foreground/25"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:v,children:[o.jsx("input",{type:"file",id:"file-upload",accept:".xlsx,.xls",onChange:p,className:"hidden"}),o.jsxs("div",{className:"text-center",children:[o.jsx(Qo,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"2. Subir archivo completado"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Arrastra el archivo aqu o haz clic para seleccionarlo"}),o.jsx("label",{htmlFor:"file-upload",children:o.jsx(Se,{variant:"outline",type:"button",className:"cursor-pointer",asChild:!0,children:o.jsx("span",{children:"Seleccionar archivo"})})})]}),i&&o.jsxs("div",{className:"mt-4 p-3 bg-primary/10 rounded-md flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fb,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:i.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(i.size/1024).toFixed(1)," KB)"]})]}),o.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>s(null),className:"h-8 w-8 p-0",children:o.jsx(bc,{className:"h-4 w-4"})})]})]}),a&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Importando clientes..."}),o.jsx("span",{children:"Por favor espera"})]}),o.jsx(my,{value:void 0,className:"h-2"})]}),c&&o.jsxs("div",{className:"space-y-3",children:[c.success?o.jsxs(Hh,{className:"border-green-200 bg-green-50",children:[o.jsx(Co,{className:"h-4 w-4 text-green-600"}),o.jsxs(Vh,{className:"text-green-800",children:[o.jsx("p",{className:"font-medium mb-1",children:"Importacin completada exitosamente"}),o.jsxs("ul",{className:"text-sm space-y-1",children:[o.jsxs("li",{children:[" ",c.imported," clientes nuevos importados"]}),o.jsxs("li",{children:[" ",c.updated," clientes actualizados"]})]})]})]}):o.jsxs(Hh,{variant:"destructive",children:[o.jsx(io,{className:"h-4 w-4"}),o.jsxs(Vh,{children:[o.jsx("p",{className:"font-medium mb-1",children:"Importacin con errores"}),o.jsxs("p",{className:"text-sm",children:["Registros importados: ",c.imported+c.updated]})]})]}),c.errors&&c.errors.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm font-medium text-destructive",children:["Errores encontrados (",c.errors.length,"):"]}),o.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-3 bg-destructive/5",children:o.jsx("ul",{className:"space-y-1 text-sm",children:c.errors.map((S,_)=>o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-destructive",children:""}),o.jsx("span",{className:"flex-1",children:S})]},_))})})]})]}),o.jsx(Hh,{children:o.jsxs(Vh,{className:"text-sm",children:[o.jsx("p",{className:"font-medium mb-2",children:" Informacin importante:"}),o.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[o.jsx("li",{children:" Los clientes existentes (mismo NIF/CIF) sern actualizados"}),o.jsx("li",{children:" Los modelos fiscales se asignarn automticamente"}),o.jsx("li",{children:" Los campos obligatorios deben estar completos"}),o.jsx("li",{children:' Revisa la hoja "Instrucciones" en la plantilla para ms detalles'})]})]})})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:b,children:"Cerrar"}),o.jsx(Se,{onClick:x,disabled:!i||a,className:"gap-2",children:a?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Importando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Qo,{className:"h-4 w-4"}),"Importar Clientes"]})})]})]})})}const eU=[{value:"AUTONOMO",label:"Autnomo"},{value:"EMPRESA",label:"Empresa"},{value:"PARTICULAR",label:"Particular"}],hv="__none__";function nf(t){if(!t)return"";const e=new Date(t);if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}function nb(){return nf(new Date().toISOString())}const tU={razonSocial:"",nifCif:"",tipo:"AUTONOMO",email:"",telefono:"",direccion:"",responsableAsignado:hv,fechaAlta:nb(),fechaBaja:"",isActive:!0,notes:""};function ZMe(t){return{razonSocial:t.razonSocial.trim(),nifCif:t.nifCif.trim(),tipo:t.tipo,email:t.email.trim()?t.email.trim():null,telefono:t.telefono.trim()?t.telefono.trim():null,direccion:t.direccion.trim()?t.direccion.trim():null,responsableAsignado:t.responsableAsignado===hv?null:t.responsableAsignado,isActive:t.isActive,fechaAlta:t.fechaAlta||null,fechaBaja:t.fechaBaja||null,notes:t.notes.trim()?t.notes.trim():null}}function QMe(){const{toast:t}=Pr(),[e,n]=N.useState(""),[r,i]=N.useState("todos"),[s,a]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState("general"),[f,m]=N.useState(null),[p,y]=N.useState(null),[v,x]=N.useState(null),[b,S]=N.useState([]),[_,j]=N.useState([]),[C,O]=N.useState(""),[M,A]=N.useState(tU),{data:P=[],isLoading:B}=rn({queryKey:["/api/clients",{view:"list"}],queryFn:()=>Jt("GET","/api/clients?full=0"),staleTime:6e4}),{data:R=[]}=rn({queryKey:["/api/users"],staleTime:5*6e4}),F=N.useMemo(()=>{const ee=new Map;return(R||[]).forEach(ne=>ee.set(ne.id,ne.username)),ee},[R]),{data:q=[],isLoading:z,error:G}=rn({queryKey:["tax-models-config"],queryFn:()=>RMe()});console.log(" Tax Models Config:",q?.length,"modelos",q),console.log(" Loading:",z,"Error:",G);const{data:X,isFetching:U}=rn({queryKey:["client-detail",v],queryFn:()=>MMe(v),enabled:!!(v&&s)});N.useEffect(()=>{if(!X)return;y(X),S(X.taxAssignments??[]),A({razonSocial:X.razonSocial??"",nifCif:X.nifCif??"",tipo:X.tipo||"AUTONOMO",email:X.email??"",telefono:X.telefono??"",direccion:X.direccion??"",responsableAsignado:X.responsableAsignado??hv,fechaAlta:nf(X.fechaAlta)||nb(),fechaBaja:nf(X.fechaBaja),isActive:X.isActive??!0,notes:X.notes??""});const ee=X.employees?.map(Me=>Me.userId)??[],ne=X.employees?.find(Me=>Me.isPrimary)?.userId??"";j(ee),O(ne)},[X]);const W=hn({mutationFn:async ee=>await IMe(ee),onSuccess:ee=>{nn.invalidateQueries({queryKey:["/api/clients"]}),m({...ee,tipo:ee.tipo,fechaAlta:ee.fechaAlta,fechaBaja:ee.fechaBaja}),y(ee),A({razonSocial:ee.razonSocial??"",nifCif:ee.nifCif??"",tipo:ee.tipo||"AUTONOMO",email:ee.email??"",telefono:ee.telefono??"",direccion:ee.direccion??"",responsableAsignado:ee.responsableAsignado??hv,fechaAlta:nf(ee.fechaAlta)||nb(),fechaBaja:nf(ee.fechaBaja),isActive:ee.isActive??!0,notes:ee.notes??""}),x(ee.id),S(ee.taxAssignments??[]),d("fiscal"),t({title:"Cliente creado exitosamente"})},onError:ee=>{t({title:"No se pudo crear el cliente",description:ee?.message??"Intenta de nuevo",variant:"destructive"})}}),Y=hn({mutationFn:async({id:ee,payload:ne})=>await DMe(ee,ne),onSuccess:ee=>{nn.invalidateQueries({queryKey:["/api/clients"]}),y(ee),A({razonSocial:ee.razonSocial??"",nifCif:ee.nifCif??"",tipo:ee.tipo||"AUTONOMO",email:ee.email??"",telefono:ee.telefono??"",direccion:ee.direccion??"",responsableAsignado:ee.responsableAsignado??hv,fechaAlta:nf(ee.fechaAlta)||nb(),fechaBaja:nf(ee.fechaBaja),isActive:ee.isActive??!0,notes:ee.notes??""}),S(ee.taxAssignments??[]),m(ne=>ne?{...ne,...ee}:null),t({title:"Cliente actualizado exitosamente"})},onError:ee=>{t({title:"No se pudo actualizar el cliente",description:ee?.message??"Intenta de nuevo",variant:"destructive"})}}),ie=hn({mutationFn:async ee=>await Jt("DELETE",`/api/clients/${ee}`,{}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Cliente eliminado exitosamente"}),s&&Q()}}),Z=hn({mutationFn:async ee=>await Jt("PATCH",`/api/clients/${ee}/toggle-active`,{}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Estado del cliente actualizado"})},onError:()=>{t({title:"Error al cambiar el estado del cliente",variant:"destructive"})}}),I=hn({mutationFn:async({clientId:ee,employeeIds:ne,primaryId:Me})=>await Jt("PUT",`/api/clients/${ee}/employees`,{employeeIds:ne,primaryEmployeeId:Me}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/clients"]})}}),V=N.useMemo(()=>P.filter(ee=>{const ne=ee.razonSocial.toLowerCase().includes(e.toLowerCase())||ee.nifCif.toLowerCase().includes(e.toLowerCase()),Me=r==="todos"||ee.tipo.toUpperCase()===r.toUpperCase();return ne&&Me}),[P,e,r]),Q=()=>{a(!1),setTimeout(()=>{re()},200)},re=()=>{A(tU),j([]),O(""),m(null),y(null),x(null),S([]),d("general")},fe=()=>{re(),a(!0)},pe=ee=>{m(ee),A({razonSocial:ee.razonSocial,nifCif:ee.nifCif,tipo:(ee.tipo||"AUTONOMO").toUpperCase(),email:ee.email??"",telefono:ee.telefono??"",direccion:ee.direccion??"",responsableAsignado:ee.responsableAsignado??hv,fechaAlta:nf(ee.fechaAlta)||nb(),fechaBaja:nf(ee.fechaBaja),isActive:ee.isActive??!0,notes:ee.notes??""});const ne=ee.employees?.map(ut=>ut.userId)??[],Me=ee.employees?.find(ut=>ut.isPrimary)?.userId??"";j(ne),O(Me),S(ee.taxAssignments??[]),x(ee.id),d("general"),a(!0)},ve=async ee=>{ee.preventDefault();const ne=ZMe(M);try{let Me=f?.id||p?.id||v;Me?Me=(await Y.mutateAsync({id:Me,payload:ne})).id:Me=(await W.mutateAsync(ne)).id,Me&&await I.mutateAsync({clientId:Me,employeeIds:_,primaryId:_.length>0?C||_[0]:""})}catch(Me){t({title:"Error al guardar el cliente",description:Me?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}},de=()=>{if(!P||P.length===0)return;const ee=yOe.unparse(P),ne=new Blob([ee],{type:"text/csv"}),Me=window.URL.createObjectURL(ne),ut=document.createElement("a");ut.href=Me,ut.download=`clientes_${new Date().toISOString().split("T")[0]}.csv`,ut.click(),t({title:"Exportacin completada"})},be=ee=>ee&&F.get(ee)||"Sin asignar",je=async ee=>{await ie.mutateAsync(ee)},ae=W.isPending||Y.isPending||I.isPending,Oe=p?.id??f?.id??null;return B?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx(Kn,{className:"h-9 w-48"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Kn,{className:"h-10 flex-1"}),o.jsx(Kn,{className:"h-10 w-32"}),o.jsx(Kn,{className:"h-10 w-32"})]}),o.jsx(Ze,{children:o.jsx(Qe,{className:"p-6",children:[...Array(5)].map((ee,ne)=>o.jsx(Kn,{className:"h-12 w-full mb-2"},ne))})})]}):o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Clientes"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de clientes y contactos"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Se,{variant:"outline",onClick:()=>c(!0),className:"gap-2",children:[o.jsx(Fb,{className:"h-4 w-4"}),"Importar desde Excel"]}),o.jsxs(ci,{open:s,onOpenChange:ee=>{ee?a(!0):Q()},children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{onClick:fe,"data-testid":"button-add-client",children:[o.jsx(Js,{className:"mr-2 h-4 w-4"}),"Nuevo Cliente"]})}),o.jsxs(ri,{className:"max-w-4xl",children:[o.jsxs(ui,{className:"space-y-1",children:[o.jsx(di,{children:f?"Editar Cliente":"Nuevo Cliente"}),o.jsx(Ss,{children:f?"Actualiza la informacin del cliente":"Completa la informacin para crear un nuevo cliente"})]}),o.jsxs("form",{id:"client-editor-form",onSubmit:ve,className:"space-y-6 mt-6",children:[o.jsxs(Sc,{value:u,onValueChange:ee=>d(ee),children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs(Fl,{children:[o.jsx(zn,{value:"general",children:" Datos del cliente"}),o.jsxs(zn,{value:"fiscal",disabled:!Oe,children:[" Datos fiscales y contables",!Oe&&o.jsx("span",{className:"ml-2 text-xs opacity-60",children:"(guarda primero)"})]})]}),o.jsx(Se,{type:"submit",disabled:ae,className:"shrink-0",children:ae?"Guardando...":"Guardar cambios"})]}),o.jsx(sr,{value:"general",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"razonSocial",children:"Razn Social *"}),o.jsx(Ge,{id:"razonSocial",value:M.razonSocial,onChange:ee=>A(ne=>({...ne,razonSocial:ee.target.value})),required:!0,"data-testid":"input-razon-social"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"nifCif",children:"NIF/CIF *"}),o.jsx(Ge,{id:"nifCif",value:M.nifCif,onChange:ee=>A(ne=>({...ne,nifCif:ee.target.value})),required:!0,"data-testid":"input-nif-cif"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"tipo",children:"Tipo *"}),o.jsxs(qn,{value:M.tipo,onValueChange:ee=>A(ne=>({...ne,tipo:ee})),children:[o.jsx(Ln,{"data-testid":"select-tipo",children:o.jsx(Un,{})}),o.jsx(Fn,{children:eU.map(ee=>o.jsx(it,{value:ee.value,children:ee.label},ee.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"fechaAlta",children:"Fecha de alta"}),o.jsx(Ge,{id:"fechaAlta",type:"date",value:M.fechaAlta,onChange:ee=>A(ne=>({...ne,fechaAlta:ee.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"fechaBaja",children:"Fecha de baja"}),o.jsx(Ge,{id:"fechaBaja",type:"date",value:M.fechaBaja,onChange:ee=>A(ne=>({...ne,fechaBaja:ee.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:"Email"}),o.jsx(Ge,{id:"email",type:"email",value:M.email,onChange:ee=>A(ne=>({...ne,email:ee.target.value})),"data-testid":"input-email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"telefono",children:"Telfono"}),o.jsx(Ge,{id:"telefono",value:M.telefono,onChange:ee=>A(ne=>({...ne,telefono:ee.target.value})),"data-testid":"input-telefono"})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx(De,{htmlFor:"direccion",children:"Direccin"}),o.jsx(Ge,{id:"direccion",value:M.direccion,onChange:ee=>A(ne=>({...ne,direccion:ee.target.value}))})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx(De,{htmlFor:"notes",children:"Notas internas"}),o.jsx(jf,{id:"notes",value:M.notes,onChange:ee=>A(ne=>({...ne,notes:ee.target.value})),rows:3})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[o.jsxs("div",{children:[o.jsxs(De,{className:"flex items-center gap-2 text-sm font-semibold",children:[o.jsx(uP,{className:"h-4 w-4"}),"Cliente activo"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Desactiva el cliente cuando ya no se gestione para mantener el histrico."})]}),o.jsx(hu,{checked:M.isActive,onCheckedChange:ee=>A(ne=>({...ne,isActive:ee}))})]})}),o.jsxs("div",{className:"md:col-span-2 space-y-3",children:[o.jsxs("div",{children:[o.jsxs(De,{className:"flex items-center gap-2 text-base font-semibold",children:[o.jsx(vde,{className:"h-5 w-5"}),"Responsables del cliente"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Selecciona uno o varios empleados. El marcado como "Principal" ser el responsable principal del cliente.'})]}),o.jsx("div",{className:"border rounded-md p-4 space-y-3 max-h-64 overflow-y-auto",children:R.map(ee=>{const ne=_.includes(ee.id),Me=C===ee.id;return o.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-md hover:bg-muted/40",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Oi,{id:`employee-${ee.id}`,checked:ne,onCheckedChange:ut=>{if(ut){const Je=[..._,ee.id];j(Je),Je.length===1&&O(ee.id)}else j(Je=>Je.filter(He=>He!==ee.id)),Me&&O(Je=>_.filter(me=>me!==ee.id)[0]||"")}}),o.jsxs(De,{htmlFor:`employee-${ee.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[ee.username,Me&&o.jsx(ct,{variant:"default",className:"text-xs bg-primary",children:" Principal"})]})]}),ne&&!Me&&o.jsx(Se,{type:"button",variant:"outline",size:"sm",onClick:()=>O(ee.id),className:"text-xs",children:"Marcar como principal"})]},ee.id)})}),_.length===0&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:o.jsx("p",{className:"text-xs text-amber-800",children:" Selecciona al menos un responsable para asignar al cliente. El primero seleccionado ser el principal por defecto."})}),_.length>0&&!C&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:o.jsx("p",{className:"text-xs text-amber-800",children:" Marca un empleado como principal para establecer el responsable principal del cliente."})})]})]})}),o.jsxs(sr,{value:"fiscal",children:[U&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(Kn,{className:"h-8 w-48"}),o.jsx(Kn,{className:"h-64 w-full"})]}),!U&&o.jsx($Me,{clientId:Oe??void 0,clientType:M.tipo,assignments:b,taxModelsConfig:q,disabled:!Oe,onAssignmentsChange:ee=>S(ne=>ee(ne))})]})]}),o.jsx(va,{className:"flex items-center justify-between",children:o.jsx(Se,{type:"button",variant:"outline",onClick:Q,disabled:ae,children:"Cancelar"})})]})]})]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(jy,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ge,{placeholder:"Buscar por razn social o NIF/CIF",value:e,onChange:ee=>n(ee.target.value),className:"pl-8"})]}),o.jsxs(qn,{value:r,onValueChange:i,children:[o.jsx(Ln,{className:"w-40",children:o.jsx(Un,{placeholder:"Filtrar por tipo"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"todos",children:"Todos"}),eU.map(ee=>o.jsx(it,{value:ee.value,children:ee.label},ee.value))]})]})]}),o.jsxs(Se,{variant:"outline",onClick:de,children:[o.jsx(Da,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Listado de clientes"})}),o.jsx(Qe,{className:"p-0",children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Cliente"}),o.jsx(Ot,{children:"Tipo"}),o.jsx(Ot,{children:"Responsable"}),o.jsx(Ot,{children:"Telfono"}),o.jsx(Ot,{children:"Email"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{className:"text-right w-[150px]",children:"Acciones"})]})}),o.jsxs(Eo,{children:[V.map(ee=>o.jsxs(ir,{children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:ee.razonSocial}),o.jsx("span",{className:"text-xs text-muted-foreground",children:ee.nifCif})]})}),o.jsx(yt,{children:ee.tipo?.toUpperCase()}),o.jsx(yt,{children:be(ee.responsableAsignado)}),o.jsx(yt,{children:ee.telefono||""}),o.jsx(yt,{children:ee.email||""}),o.jsx(yt,{children:o.jsx(ct,{variant:ee.isActive?"default":"outline",children:ee.isActive?"Activo":"Inactivo"})}),o.jsx(yt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>pe(ee),children:o.jsx(td,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>Z.mutate(ee.id),title:ee.isActive?"Desactivar":"Activar",children:ee.isActive?o.jsx(uP,{className:"h-4 w-4"}):o.jsx(r1,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"destructive",size:"icon",onClick:()=>je(ee.id),children:o.jsx(ea,{className:"h-4 w-4"})})]})})]},ee.id)),V.length===0&&o.jsx(ir,{children:o.jsx(yt,{colSpan:7,className:"text-center text-muted-foreground py-6",children:"No se encontraron clientes con los filtros seleccionados."})})]})]})})]}),o.jsx(XMe,{open:l,onOpenChange:c})]})}var Hte=["PageUp","PageDown"],Vte=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wte={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xy="Slider",[fR,JMe,eRe]=J0(Xy),[Kte]=wa(Xy,[eRe]),[tRe,H_]=Kte(Xy),Gte=N.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...v}=t,x=N.useRef(new Set),b=N.useRef(0),_=a==="horizontal"?nRe:rRe,[j=[],C]=xc({prop:d,defaultProp:u,onChange:R=>{[...x.current][b.current]?.focus(),f(R)}}),O=N.useRef(j);function M(R){const F=lRe(j,R);B(R,F)}function A(R){B(R,b.current)}function P(){const R=O.current[b.current];j[b.current]!==R&&m(j)}function B(R,F,{commit:q}={commit:!1}){const z=fRe(s),G=hRe(Math.round((R-r)/s)*s+r,z),X=j0(G,[r,i]);C((U=[])=>{const W=aRe(U,X,F);if(dRe(W,c*s)){b.current=W.indexOf(X);const Y=String(W)!==String(U);return Y&&q&&m(W),Y?W:U}else return U})}return o.jsx(tRe,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:b,thumbs:x.current,values:j,orientation:a,form:y,children:o.jsx(fR.Provider,{scope:t.__scopeSlider,children:o.jsx(fR.Slot,{scope:t.__scopeSlider,children:o.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:e,onPointerDown:wt(v.onPointerDown,()=>{l||(O.current=j)}),min:r,max:i,inverted:p,onSlideStart:l?void 0:M,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&B(r,0,{commit:!0}),onEndKeyDown:()=>!l&&B(i,j.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:F})=>{if(!l){const G=Hte.includes(R.key)||R.shiftKey&&Vte.includes(R.key)?10:1,X=b.current,U=j[X],W=s*G*F;B(U+W,X,{commit:!0})}}})})})})});Gte.displayName=Xy;var[Yte,Xte]=Kte(Xy,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nRe=N.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,m]=N.useState(null),p=kn(e,_=>m(_)),y=N.useRef(void 0),v=My(i),x=v==="ltr",b=x&&!s||!x&&s;function S(_){const j=y.current||f.getBoundingClientRect(),C=[0,j.width],M=OD(C,b?[n,r]:[r,n]);return y.current=j,M(_-j.left)}return o.jsx(Yte,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:o.jsx(Zte,{dir:v,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const j=S(_.clientX);a?.(j)},onSlideMove:_=>{const j=S(_.clientX);l?.(j)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:_=>{const C=Wte[b?"from-left":"from-right"].includes(_.key);u?.({event:_,direction:C?-1:1})}})})}),rRe=N.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=N.useRef(null),f=kn(e,d),m=N.useRef(void 0),p=!i;function y(v){const x=m.current||d.current.getBoundingClientRect(),b=[0,x.height],_=OD(b,p?[r,n]:[n,r]);return m.current=x,_(v-x.top)}return o.jsx(Yte,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(Zte,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=y(v.clientY);s?.(x)},onSlideMove:v=>{const x=y(v.clientY);a?.(x)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:v=>{const b=Wte[p?"from-bottom":"from-top"].includes(v.key);c?.({event:v,direction:b?-1:1})}})})}),Zte=N.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=H_(Xy,n);return o.jsx(Bt.span,{...u,ref:e,onKeyDown:wt(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Hte.concat(Vte).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:wt(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():r(f)}),onPointerMove:wt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:wt(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),s(f))})})}),Qte="SliderTrack",Jte=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=H_(Qte,n);return o.jsx(Bt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Jte.displayName=Qte;var hR="SliderRange",ene=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=H_(hR,n),s=Xte(hR,n),a=N.useRef(null),l=kn(e,a),c=i.values.length,u=i.values.map(m=>rne(m,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(Bt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});ene.displayName=hR;var pR="SliderThumb",tne=N.forwardRef((t,e)=>{const n=JMe(t.__scopeSlider),[r,i]=N.useState(null),s=kn(e,l=>i(l)),a=N.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(iRe,{...t,ref:s,index:a})}),iRe=N.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=H_(pR,n),l=Xte(pR,n),[c,u]=N.useState(null),d=kn(e,S=>u(S)),f=c?a.form||!!c.closest("form"):!0,m=DE(c),p=a.values[r],y=p===void 0?0:rne(p,a.min,a.max),v=oRe(r,a.values.length),x=m?.[l.size],b=x?cRe(x,y,l.direction):0;return N.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${b}px)`},children:[o.jsx(fR.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(Bt.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:wt(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&o.jsx(nne,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},r)]})});tne.displayName=pR;var sRe="RadioBubbleInput",nne=N.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=N.useRef(null),s=kn(i,r),a=R_(e);return N.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Bt.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});nne.displayName=sRe;function aRe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function rne(t,e,n){const s=100/(n-e)*(t-e);return j0(s,[0,100])}function oRe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function lRe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function cRe(t,e,n){const r=t/2,s=OD([0,50],[0,r]);return(r-s(e)*n)*n}function uRe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function dRe(t,e){if(e>0){const n=uRe(t);return Math.min(...n)>=e}return!0}function OD(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function fRe(t){return(String(t).split(".")[1]||"").length}function hRe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var ine=Gte,pRe=Jte,mRe=ene,gRe=tne;const sne=N.forwardRef(({className:t,...e},n)=>o.jsxs(ine,{ref:n,className:pt("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(pRe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(mRe,{className:"absolute h-full bg-primary"})}),o.jsx(gRe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));sne.displayName=ine.displayName;function _r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ll(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function wo(t,e){const n=_r(t);return isNaN(e)?Ll(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function pu(t,e){const n=_r(t);if(isNaN(e))return Ll(t,NaN);if(!e)return n;const r=n.getDate(),i=Ll(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const PD=6048e5,vRe=864e5;let yRe={};function b1(){return yRe}function fd(t,e){const n=b1(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=_r(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function $m(t){return fd(t,{weekStartsOn:1})}function ane(t){const e=_r(t),n=e.getFullYear(),r=Ll(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=$m(r),s=Ll(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=$m(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function gy(t){const e=_r(t);return e.setHours(0,0,0,0),e}function vS(t){const e=_r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Qu(t,e){const n=gy(t),r=gy(e),i=+n-vS(n),s=+r-vS(r);return Math.round((i-s)/vRe)}function xRe(t){const e=ane(t),n=Ll(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),$m(n)}function mR(t,e){const n=e*7;return wo(t,n)}function bRe(t,e){return pu(t,e*12)}function wRe(t){let e;return t.forEach(function(n){const r=_r(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function NRe(t){let e;return t.forEach(n=>{const r=_r(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function tl(t,e){const n=gy(t),r=gy(e);return+n==+r}function MD(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SRe(t){if(!MD(t)&&typeof t!="number")return!1;const e=_r(t);return!isNaN(Number(e))}function T0(t,e){const n=_r(t),r=_r(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function ERe(t,e,n){const r=fd(t,n),i=fd(e,n),s=+r-vS(r),a=+i-vS(i);return Math.round((s-a)/PD)}function RD(t){const e=_r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function rl(t){const e=_r(t);return e.setDate(1),e.setHours(0,0,0,0),e}function one(t){const e=_r(t),n=Ll(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ID(t,e){const n=b1(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=_r(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function lne(t){return ID(t,{weekStartsOn:1})}const _Re={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jRe=(t,e,n)=>{let r;const i=_Re[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Av(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ARe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CRe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kRe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TRe={date:Av({formats:ARe,defaultWidth:"full"}),time:Av({formats:CRe,defaultWidth:"full"}),dateTime:Av({formats:kRe,defaultWidth:"full"})},ORe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PRe=(t,e,n,r)=>ORe[t];function Ku(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const MRe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RRe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IRe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DRe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BRe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$Re={ordinalNumber:BRe,era:Ku({values:MRe,defaultWidth:"wide"}),quarter:Ku({values:RRe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ku({values:IRe,defaultWidth:"wide"}),day:Ku({values:DRe,defaultWidth:"wide"}),dayPeriod:Ku({values:LRe,defaultWidth:"wide",formattingValues:FRe,defaultFormattingWidth:"wide"})};function Gu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?qRe(l,f=>f.test(a)):zRe(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function zRe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qRe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cne(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const URe=/^(\d+)(th|st|nd|rd)?/i,HRe=/\d+/i,VRe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WRe={any:[/^b/i,/^(a|c)/i]},KRe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GRe={any:[/1/i,/2/i,/3/i,/4/i]},YRe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XRe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZRe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QRe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JRe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t4e={ordinalNumber:cne({matchPattern:URe,parsePattern:HRe,valueCallback:t=>parseInt(t,10)}),era:Gu({matchPatterns:VRe,defaultMatchWidth:"wide",parsePatterns:WRe,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:KRe,defaultMatchWidth:"wide",parsePatterns:GRe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gu({matchPatterns:YRe,defaultMatchWidth:"wide",parsePatterns:XRe,defaultParseWidth:"any"}),day:Gu({matchPatterns:ZRe,defaultMatchWidth:"wide",parsePatterns:QRe,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:JRe,defaultMatchWidth:"any",parsePatterns:e4e,defaultParseWidth:"any"})},une={code:"en-US",formatDistance:jRe,formatLong:TRe,formatRelative:PRe,localize:$Re,match:t4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n4e(t){const e=_r(t);return Qu(e,one(e))+1}function dne(t){const e=_r(t),n=+$m(e)-+xRe(e);return Math.round(n/PD)+1}function fne(t,e){const n=_r(t),r=n.getFullYear(),i=b1(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Ll(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=fd(a,e),c=Ll(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=fd(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function r4e(t,e){const n=b1(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=fne(t,e),s=Ll(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),fd(s,e)}function hne(t,e){const n=_r(t),r=+fd(n,e)-+r4e(n,e);return Math.round(r/PD)+1}function Zr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const fh={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Zr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Zr(n+1,2)},d(t,e){return Zr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Zr(t.getHours()%12||12,e.length)},H(t,e){return Zr(t.getHours(),e.length)},m(t,e){return Zr(t.getMinutes(),e.length)},s(t,e){return Zr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Zr(i,e.length)}},Hg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nU={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return fh.y(t,e)},Y:function(t,e,n,r){const i=fne(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Zr(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Zr(s,e.length)},R:function(t,e){const n=ane(t);return Zr(n,e.length)},u:function(t,e){const n=t.getFullYear();return Zr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return fh.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=hne(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Zr(i,e.length)},I:function(t,e,n){const r=dne(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Zr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):fh.d(t,e)},D:function(t,e,n){const r=n4e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Zr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Zr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Zr(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Zr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Hg.noon:r===0?i=Hg.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Hg.evening:r>=12?i=Hg.afternoon:r>=4?i=Hg.morning:i=Hg.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return fh.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):fh.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Zr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Zr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):fh.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):fh.s(t,e)},S:function(t,e){return fh.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iU(r);case"XXXX":case"XX":return Qp(r);case"XXXXX":case"XXX":default:return Qp(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return iU(r);case"xxxx":case"xx":return Qp(r);case"xxxxx":case"xxx":default:return Qp(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rU(r,":");case"OOOO":default:return"GMT"+Qp(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rU(r,":");case"zzzz":default:return"GMT"+Qp(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Zr(r,e.length)},T:function(t,e,n){const r=t.getTime();return Zr(r,e.length)}};function rU(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Zr(s,2)}function iU(t,e){return t%60===0?(t>0?"-":"+")+Zr(Math.abs(t)/60,2):Qp(t,e)}function Qp(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Zr(Math.trunc(r/60),2),s=Zr(r%60,2);return n+i+e+s}const sU=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pne=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},i4e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return sU(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",sU(r,e)).replace("{{time}}",pne(i,e))},s4e={p:pne,P:i4e},a4e=/^D+$/,o4e=/^Y+$/,l4e=["D","DD","YY","YYYY"];function c4e(t){return a4e.test(t)}function u4e(t){return o4e.test(t)}function d4e(t,e,n){const r=f4e(t,e,n);if(console.warn(r),l4e.includes(t))throw new RangeError(r)}function f4e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m4e=/^'([^]*?)'?$/,g4e=/''/g,v4e=/[a-zA-Z]/;function Ao(t,e,n){const r=b1(),i=n?.locale??r.locale??une,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=_r(t);if(!SRe(l))throw new RangeError("Invalid time value");let c=e.match(p4e).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=s4e[f];return m(d,i.formatLong)}return d}).join("").match(h4e).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:y4e(d)};if(nU[f])return{isToken:!0,value:d};if(f.match(v4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&u4e(f)||!n?.useAdditionalDayOfYearTokens&&c4e(f))&&d4e(f,e,String(t));const m=nU[f[0]];return m(l,f,i.localize,u)}).join("")}function y4e(t){const e=t.match(m4e);return e?e[1].replace(g4e,"'"):t}function x4e(t){const e=_r(t),n=e.getFullYear(),r=e.getMonth(),i=Ll(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function b4e(t){return Math.trunc(+_r(t)/1e3)}function w4e(t){const e=_r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function N4e(t,e){return ERe(w4e(t),rl(t),e)+1}function gR(t,e){const n=_r(t),r=_r(e);return n.getTime()>r.getTime()}function mne(t,e){const n=_r(t),r=_r(e);return+n<+r}function DD(t,e){const n=_r(t),r=_r(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function S4e(t,e){const n=_r(t),r=_r(e);return n.getFullYear()===r.getFullYear()}function $T(t,e){return wo(t,-e)}function zT(t,e){const n=_r(t),r=n.getFullYear(),i=n.getDate(),s=Ll(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=x4e(s);return n.setMonth(e,Math.min(i,a)),n}function aU(t,e){const n=_r(t);return isNaN(+n)?Ll(t,NaN):(n.setFullYear(e),n)}const E4e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},_4e=(t,e,n)=>{let r;const i=E4e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},j4e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},A4e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},C4e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k4e={date:Av({formats:j4e,defaultWidth:"full"}),time:Av({formats:A4e,defaultWidth:"full"}),dateTime:Av({formats:C4e,defaultWidth:"full"})},T4e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},O4e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},P4e=(t,e,n,r)=>e.getHours()!==1?O4e[t]:T4e[t],M4e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},R4e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},I4e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},D4e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},L4e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},F4e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},B4e=(t,e)=>Number(t)+"",$4e={ordinalNumber:B4e,era:Ku({values:M4e,defaultWidth:"wide"}),quarter:Ku({values:R4e,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Ku({values:I4e,defaultWidth:"wide"}),day:Ku({values:D4e,defaultWidth:"wide"}),dayPeriod:Ku({values:L4e,defaultWidth:"wide",formattingValues:F4e,defaultFormattingWidth:"wide"})},z4e=/^(\d+)()?/i,q4e=/\d+/i,U4e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},H4e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},V4e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},W4e={any:[/1/i,/2/i,/3/i,/4/i]},K4e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},G4e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Y4e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},X4e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Z4e={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Q4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},J4e={ordinalNumber:cne({matchPattern:z4e,parsePattern:q4e,valueCallback:function(t){return parseInt(t,10)}}),era:Gu({matchPatterns:U4e,defaultMatchWidth:"wide",parsePatterns:H4e,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:V4e,defaultMatchWidth:"wide",parsePatterns:W4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gu({matchPatterns:K4e,defaultMatchWidth:"wide",parsePatterns:G4e,defaultParseWidth:"any"}),day:Gu({matchPatterns:Y4e,defaultMatchWidth:"wide",parsePatterns:X4e,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:Z4e,defaultMatchWidth:"any",parsePatterns:Q4e,defaultParseWidth:"any"})},Vu={code:"es",formatDistance:_4e,formatLong:k4e,formatRelative:P4e,localize:$4e,match:J4e,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Dn=function(){return Dn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dn.apply(this,arguments)};function eIe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gne(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function w1(t){return t.mode==="multiple"}function N1(t){return t.mode==="range"}function V_(t){return t.mode==="single"}var tIe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function nIe(t,e){return Ao(t,"LLLL y",e)}function rIe(t,e){return Ao(t,"d",e)}function iIe(t,e){return Ao(t,"LLLL",e)}function sIe(t){return"".concat(t)}function aIe(t,e){return Ao(t,"cccccc",e)}function oIe(t,e){return Ao(t,"yyyy",e)}var lIe=Object.freeze({__proto__:null,formatCaption:nIe,formatDay:rIe,formatMonthCaption:iIe,formatWeekNumber:sIe,formatWeekdayName:aIe,formatYearCaption:oIe}),cIe=function(t,e,n){return Ao(t,"do MMMM (EEEE)",n)},uIe=function(){return"Month: "},dIe=function(){return"Go to next month"},fIe=function(){return"Go to previous month"},hIe=function(t,e){return Ao(t,"cccc",e)},pIe=function(t){return"Week n. ".concat(t)},mIe=function(){return"Year: "},gIe=Object.freeze({__proto__:null,labelDay:cIe,labelMonthDropdown:uIe,labelNext:dIe,labelPrevious:fIe,labelWeekNumber:pIe,labelWeekday:hIe,labelYearDropdown:mIe});function vIe(){var t="buttons",e=tIe,n=une,r={},i={},s=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:lIe,labels:gIe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function yIe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=rl(r):e&&(s=new Date(e,0,1)),i?a=RD(i):n&&(a=new Date(n,11,31)),{fromDate:s?gy(s):void 0,toDate:a?gy(a):void 0}}var vne=N.createContext(void 0);function xIe(t){var e,n=t.initialProps,r=vIe(),i=yIe(n),s=i.fromDate,a=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;(V_(n)||w1(n)||N1(n))&&(c=n.onSelect);var u=Dn(Dn(Dn({},r),n),{captionLayout:l,classNames:Dn(Dn({},r.classNames),n.classNames),components:Dn({},n.components),formatters:Dn(Dn({},r.formatters),n.formatters),fromDate:s,labels:Dn(Dn({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Dn(Dn({},r.modifiers),n.modifiers),modifiersClassNames:Dn(Dn({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Dn(Dn({},r.styles),n.styles),toDate:a});return o.jsx(vne.Provider,{value:u,children:t.children})}function Si(){var t=N.useContext(vne);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function yne(t){var e=Si(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function bIe(t){return o.jsx("svg",Dn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xne(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,l=t.className,c=t.style,u=Si(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:bIe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function wIe(t){var e,n=Si(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var f=[];if(S4e(r,i))for(var m=rl(r),p=r.getMonth();p<=i.getMonth();p++)f.push(zT(m,p));else for(var m=rl(new Date),p=0;p<=11;p++)f.push(zT(m,p));var y=function(x){var b=Number(x.target.value),S=zT(rl(t.displayMonth),b);t.onChange(S)},v=(e=u?.Dropdown)!==null&&e!==void 0?e:xne;return o.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(x){return o.jsx("option",{value:x.getMonth(),children:l(x,{locale:a})},x.getMonth())})})}function NIe(t){var e,n=t.displayMonth,r=Si(),i=r.fromDate,s=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!i)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var p=i.getFullYear(),y=s.getFullYear(),v=p;v<=y;v++)m.push(aU(one(new Date),v));var x=function(S){var _=aU(rl(n),Number(S.target.value));t.onChange(_)},b=(e=u?.Dropdown)!==null&&e!==void 0?e:xne;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:a}),children:m.map(function(S){return o.jsx("option",{value:S.getFullYear(),children:d(S,{locale:a})},S.getFullYear())})})}function SIe(t,e){var n=N.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function EIe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(s&&T0(s,i)<0){var u=-1*(c-1);i=pu(s,u)}return a&&T0(i,a)<0&&(i=a),rl(i)}function _Ie(){var t=Si(),e=EIe(t),n=SIe(e,t.month),r=n[0],i=n[1],s=function(a){var l;if(!t.disableNavigation){var c=rl(a);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,s]}function jIe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=rl(t),s=rl(pu(i,r)),a=T0(s,i),l=[],c=0;c<a;c++){var u=pu(i,c);l.push(u)}return n&&(l=l.reverse()),l}function AIe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=rl(t);if(!n)return pu(l,a);var c=T0(n,t);if(!(c<s))return pu(l,a)}}function CIe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=rl(t);if(!n)return pu(l,-a);var c=T0(l,n);if(!(c<=0))return pu(l,-a)}}var bne=N.createContext(void 0);function kIe(t){var e=Si(),n=_Ie(),r=n[0],i=n[1],s=jIe(r,e),a=AIe(r,e),l=CIe(r,e),c=function(f){return s.some(function(m){return DD(f,m)})},u=function(f,m){c(f)||(m&&mne(f,m)?i(pu(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(bne.Provider,{value:d,children:t.children})}function S1(){var t=N.useContext(bne);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function oU(t){var e,n=Si(),r=n.classNames,i=n.styles,s=n.components,a=S1().goToMonth,l=function(d){a(pu(d,t.displayIndex?-t.displayIndex:0))},c=(e=s?.CaptionLabel)!==null&&e!==void 0?e:yne,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(wIe,{onChange:l,displayMonth:t.displayMonth}),o.jsx(NIe,{onChange:l,displayMonth:t.displayMonth})]})}function TIe(t){return o.jsx("svg",Dn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function OIe(t){return o.jsx("svg",Dn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var yS=N.forwardRef(function(t,e){var n=Si(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),l=Dn(Dn({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Dn({},t,{ref:e,type:"button",className:a,style:l}))});function PIe(t){var e,n,r=Si(),i=r.dir,s=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var m=u(t.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:s}),v=[a.nav_button,a.nav_button_next].join(" "),x=(e=f?.IconRight)!==null&&e!==void 0?e:OIe,b=(n=f?.IconLeft)!==null&&n!==void 0?n:TIe;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(yS,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(yS,{name:"next-month","aria-label":y,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})})]})}function lU(t){var e=Si().numberOfMonths,n=S1(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(y){return DD(t.displayMonth,y)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){r&&s(r)},p=function(){i&&s(i)};return o.jsx(PIe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:p})}function MIe(t){var e,n=Si(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,l=n.components,c=(e=l?.CaptionLabel)!==null&&e!==void 0?e:yne,u;return i?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=o.jsx(oU,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(oU,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(lU,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(lU,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:r.caption,style:s.caption,children:u})}function RIe(t){var e=Si(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?o.jsx("tfoot",{className:i,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function IIe(t,e,n){for(var r=n?$m(new Date):fd(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=wo(r,s);i.push(a)}return i}function DIe(){var t=Si(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=IIe(i,s,a);return o.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function LIe(){var t,e=Si(),n=e.classNames,r=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:DIe;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(s,{})})}function FIe(t){var e=Si(),n=e.locale,r=e.formatters.formatDay;return o.jsx(o.Fragment,{children:r(t.date,{locale:n})})}var LD=N.createContext(void 0);function BIe(t){if(!w1(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(LD.Provider,{value:e,children:t.children})}return o.jsx($Ie,{initialProps:t.initialProps,children:t.children})}function $Ie(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(u,d,f){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var y=!!(d.selected&&i&&r?.length===i);if(!y){var v=!!(!d.selected&&s&&r?.length===s);if(!v){var x=r?gne([],r):[];if(d.selected){var b=x.findIndex(function(S){return tl(u,S)});x.splice(b,1)}else x.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,x,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=s&&r.length>s-1,f=r.some(function(m){return tl(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(LD.Provider,{value:c,children:n})}function FD(){var t=N.useContext(LD);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function zIe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?tl(i,t)&&tl(r,t)?void 0:tl(i,t)?{from:i,to:void 0}:tl(r,t)?void 0:gR(r,t)?{from:t,to:i}:{from:r,to:t}:i?gR(t,i)?{from:i,to:t}:{from:t,to:i}:r?mne(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var BD=N.createContext(void 0);function qIe(t){if(!N1(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(BD.Provider,{value:e,children:t.children})}return o.jsx(UIe,{initialProps:t.initialProps,children:t.children})}function UIe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,l=e.min,c=e.max,u=function(p,y,v){var x,b;(x=e.onDayClick)===null||x===void 0||x.call(e,p,y,v);var S=zIe(p,r);(b=e.onSelect)===null||b===void 0||b.call(e,S,p,y,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],tl(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),l&&(s&&!a&&d.disabled.push({after:$T(s,l-1),before:wo(s,l-1)}),s&&a&&d.disabled.push({after:s,before:wo(s,l-1)}),!s&&a&&d.disabled.push({after:$T(a,l-1),before:wo(a,l-1)})),c){if(s&&!a&&(d.disabled.push({before:wo(s,-c+1)}),d.disabled.push({after:wo(s,c-1)})),s&&a){var f=Qu(a,s)+1,m=c-f;d.disabled.push({before:$T(s,m)}),d.disabled.push({after:wo(a,m)})}!s&&a&&(d.disabled.push({before:wo(a,-c+1)}),d.disabled.push({after:wo(a,c-1)}))}return o.jsx(BD.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function $D(){var t=N.useContext(BD);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function M2(t){return Array.isArray(t)?gne([],t):t!==void 0?[t]:[]}function HIe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=M2(i)}),e}var mu;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(mu||(mu={}));var VIe=mu.Selected,Xd=mu.Disabled,WIe=mu.Hidden,KIe=mu.Today,qT=mu.RangeEnd,UT=mu.RangeMiddle,HT=mu.RangeStart,GIe=mu.Outside;function YIe(t,e,n){var r,i=(r={},r[VIe]=M2(t.selected),r[Xd]=M2(t.disabled),r[WIe]=M2(t.hidden),r[KIe]=[t.today],r[qT]=[],r[UT]=[],r[HT]=[],r[GIe]=[],r);return t.fromDate&&i[Xd].push({before:t.fromDate}),t.toDate&&i[Xd].push({after:t.toDate}),w1(t)?i[Xd]=i[Xd].concat(e.modifiers[Xd]):N1(t)&&(i[Xd]=i[Xd].concat(n.modifiers[Xd]),i[HT]=n.modifiers[HT],i[UT]=n.modifiers[UT],i[qT]=n.modifiers[qT]),i}var wne=N.createContext(void 0);function XIe(t){var e=Si(),n=FD(),r=$D(),i=YIe(e,n,r),s=HIe(e.modifiers),a=Dn(Dn({},i),s);return o.jsx(wne.Provider,{value:a,children:t.children})}function Nne(){var t=N.useContext(wne);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function ZIe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function QIe(t){return!!(t&&typeof t=="object"&&"from"in t)}function JIe(t){return!!(t&&typeof t=="object"&&"after"in t)}function eDe(t){return!!(t&&typeof t=="object"&&"before"in t)}function tDe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function nDe(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=Qu(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=Qu(t,r)>=0&&Qu(i,t)>=0;return a}return i?tl(i,t):r?tl(r,t):!1}function rDe(t){return MD(t)}function iDe(t){return Array.isArray(t)&&t.every(MD)}function sDe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(rDe(n))return tl(t,n);if(iDe(n))return n.includes(t);if(QIe(n))return nDe(t,n);if(tDe(n))return n.dayOfWeek.includes(t.getDay());if(ZIe(n)){var r=Qu(n.before,t),i=Qu(n.after,t),s=r>0,a=i<0,l=gR(n.before,n.after);return l?a&&s:s||a}return JIe(n)?Qu(t,n.after)>0:eDe(n)?Qu(n.before,t)>0:typeof n=="function"?n(t):!1})}function zD(t,e,n){var r=Object.keys(e).reduce(function(s,a){var l=e[a];return sDe(t,l)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!DD(t,n)&&(i.outside=!0),i}function aDe(t,e){for(var n=rl(t[0]),r=RD(t[t.length-1]),i,s,a=n;a<=r;){var l=zD(a,e),c=!l.disabled&&!l.hidden;if(!c){a=wo(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=wo(a,1)}return s||i}var oDe=365;function Sne(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,m={day:wo,week:mR,month:pu,year:bRe,startOfWeek:function(x){return i.ISOWeek?$m(x):fd(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return i.ISOWeek?lne(x):ID(x,{locale:f,weekStartsOn:c})}},p=m[n](t,r==="after"?1:-1);r==="before"&&u?p=wRe([u,p]):r==="after"&&d&&(p=NRe([d,p]));var y=!0;if(s){var v=zD(p,s);y=!v.disabled&&!v.hidden}return y?p:l.count>oDe?l.lastFocused:Sne(p,{moveBy:n,direction:r,context:i,modifiers:s,retry:Dn(Dn({},l),{count:l.count+1})})}var Ene=N.createContext(void 0);function lDe(t){var e=S1(),n=Nne(),r=N.useState(),i=r[0],s=r[1],a=N.useState(),l=a[0],c=a[1],u=aDe(e.displayMonths,n),d=i??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(i),s(void 0)},m=function(x){s(x)},p=Si(),y=function(x,b){if(i){var S=Sne(i,{moveBy:x,direction:b,context:p,modifiers:n});tl(i,S)||(e.goToDate(S,i),m(S))}},v={focusedDay:i,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return o.jsx(Ene.Provider,{value:v,children:t.children})}function qD(){var t=N.useContext(Ene);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function cDe(t,e){var n=Nne(),r=zD(t,n,e);return r}var UD=N.createContext(void 0);function uDe(t){if(!V_(t.initialProps)){var e={selected:void 0};return o.jsx(UD.Provider,{value:e,children:t.children})}return o.jsx(dDe,{initialProps:t.initialProps,children:t.children})}function dDe(t){var e=t.initialProps,n=t.children,r=function(s,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,l)},i={selected:e.selected,onDayClick:r};return o.jsx(UD.Provider,{value:i,children:n})}function _ne(){var t=N.useContext(UD);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function fDe(t,e){var n=Si(),r=_ne(),i=FD(),s=$D(),a=qD(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,m=a.focus,p=a.focusMonthBefore,y=a.focusMonthAfter,v=a.focusYearBefore,x=a.focusYearAfter,b=a.focusStartOfWeek,S=a.focusEndOfWeek,_=function(U){var W,Y,ie,Z;V_(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,t,e,U):w1(n)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,t,e,U):N1(n)?(ie=s.onDayClick)===null||ie===void 0||ie.call(s,t,e,U):(Z=n.onDayClick)===null||Z===void 0||Z.call(n,t,e,U)},j=function(U){var W;m(t),(W=n.onDayFocus)===null||W===void 0||W.call(n,t,e,U)},C=function(U){var W;f(),(W=n.onDayBlur)===null||W===void 0||W.call(n,t,e,U)},O=function(U){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,t,e,U)},M=function(U){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,t,e,U)},A=function(U){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,t,e,U)},P=function(U){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,t,e,U)},B=function(U){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,t,e,U)},R=function(U){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,t,e,U)},F=function(U){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,t,e,U)},q=function(U){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,t,e,U)},z=function(U){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,t,e,U)},G=function(U){var W;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?v():p();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?x():y();break;case"Home":U.preventDefault(),U.stopPropagation(),b();break;case"End":U.preventDefault(),U.stopPropagation(),S();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,t,e,U)},X={onClick:_,onFocus:j,onBlur:C,onKeyDown:G,onKeyUp:z,onMouseEnter:O,onMouseLeave:M,onPointerEnter:A,onPointerLeave:P,onTouchCancel:B,onTouchEnd:R,onTouchMove:F,onTouchStart:q};return X}function hDe(){var t=Si(),e=_ne(),n=FD(),r=$D(),i=V_(t)?e.selected:w1(t)?n.selected:N1(t)?r.selected:void 0;return i}function pDe(t){return Object.values(mu).includes(t)}function mDe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(pDe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function gDe(t,e){var n=Dn({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Dn(Dn({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function vDe(t,e,n){var r,i,s,a=Si(),l=qD(),c=cDe(t,e),u=fDe(t,c),d=hDe(),f=!!(a.onDayClick||a.mode!=="default");N.useEffect(function(){var O;c.outside||l.focusedDay&&f&&tl(l.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,t,n,f,c.outside]);var m=mDe(a,c).join(" "),p=gDe(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:FIe,x=o.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),b={style:p,className:m,children:x,role:"gridcell"},S=l.focusTarget&&tl(l.focusTarget,t)&&!c.outside,_=l.focusedDay&&tl(l.focusedDay,t),j=Dn(Dn(Dn({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=_||S?0:-1,r)),u),C={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:b};return C}function yDe(t){var e=N.useRef(null),n=vDe(t.date,t.displayMonth,e);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(yS,Dn({name:"day",ref:e},n.buttonProps)):o.jsx("div",Dn({},n.divProps))}function xDe(t){var e=t.number,n=t.dates,r=Si(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!i)return o.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(p){i(e,n,p)};return o.jsx(yS,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:m,children:d})}function bDe(t){var e,n,r=Si(),i=r.styles,s=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l?.Day)!==null&&e!==void 0?e:yDe,u=(n=l?.WeekNumber)!==null&&n!==void 0?n:xDe,d;return a&&(d=o.jsx("td",{className:s.cell,style:i.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},b4e(f))})]})}function cU(t,e,n){for(var r=n?.ISOWeek?lne(e):ID(e,n),i=n?.ISOWeek?$m(t):fd(t,n),s=Qu(r,i),a=[],l=0;l<=s;l++)a.push(wo(i,l));var c=a.reduce(function(u,d){var f=n?.ISOWeek?dne(d):hne(d,n),m=u.find(function(p){return p.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function wDe(t,e){var n=cU(rl(t),RD(t),e);if(e?.useFixedWeeks){var r=N4e(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=mR(s,6-r),l=cU(mR(s,1),a,e);n.push.apply(n,l)}}return n}function NDe(t){var e,n,r,i=Si(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,m=i.firstWeekContainsDate,p=i.ISOWeek,y=wDe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:m}),v=(e=d?.Head)!==null&&e!==void 0?e:LIe,x=(n=d?.Row)!==null&&n!==void 0?n:bDe,b=(r=d?.Footer)!==null&&r!==void 0?r:RIe;return o.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(v,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(S){return o.jsx(x,{displayMonth:t.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),o.jsx(b,{displayMonth:t.displayMonth})]})}function SDe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var EDe=SDe()?N.useLayoutEffect:N.useEffect,VT=!1,_De=0;function uU(){return"react-day-picker-".concat(++_De)}function jDe(t){var e,n=t??(VT?uU():null),r=N.useState(n),i=r[0],s=r[1];return EDe(function(){i===null&&s(uU())},[]),N.useEffect(function(){VT===!1&&(VT=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function ADe(t){var e,n,r=Si(),i=r.dir,s=r.classNames,a=r.styles,l=r.components,c=S1().displayMonths,u=jDe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],m=a.month,p=t.displayIndex===0,y=t.displayIndex===c.length-1,v=!p&&!y;i==="rtl"&&(e=[p,y],y=e[0],p=e[1]),p&&(f.push(s.caption_start),m=Dn(Dn({},m),a.caption_start)),y&&(f.push(s.caption_end),m=Dn(Dn({},m),a.caption_end)),v&&(f.push(s.caption_between),m=Dn(Dn({},m),a.caption_between));var x=(n=l?.Caption)!==null&&n!==void 0?n:MIe;return o.jsxs("div",{className:f.join(" "),style:m,children:[o.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(NDe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function CDe(t){var e=Si(),n=e.classNames,r=e.styles;return o.jsx("div",{className:n.months,style:r.months,children:t.children})}function kDe(t){var e,n,r=t.initialProps,i=Si(),s=qD(),a=S1(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Dn(Dn({},i.styles.root),i.style),m=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,v){var x;return Dn(Dn({},y),(x={},x[v]=r[v],x))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:CDe;return o.jsx("div",Dn({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:o.jsx(p,{children:a.displayMonths.map(function(y,v){return o.jsx(ADe,{displayIndex:v,displayMonth:y},v)})})}))}function TDe(t){var e=t.children,n=eIe(t,["children"]);return o.jsx(xIe,{initialProps:n,children:o.jsx(kIe,{children:o.jsx(uDe,{initialProps:n,children:o.jsx(BIe,{initialProps:n,children:o.jsx(qIe,{initialProps:n,children:o.jsx(XIe,{children:o.jsx(lDe,{children:e})})})})})})})}function ODe(t){return o.jsx(TDe,Dn({},t,{children:o.jsx(kDe,{initialProps:t})}))}function vR({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(ODe,{showOutsideDays:n,className:pt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pt(Ub({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pt(Ub({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>o.jsx(mde,{className:pt("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>o.jsx(YK,{className:pt("h-4 w-4",i),...s})},...r})}vR.displayName="Calendar";var W_="Popover",[jne]=wa(W_,[op]),E1=op(),[PDe,gp]=jne(W_),Ane=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,l=E1(e),c=N.useRef(null),[u,d]=N.useState(!1),[f,m]=xc({prop:r,defaultProp:i??!1,onChange:s,caller:W_});return o.jsx(LE,{...l,children:o.jsx(PDe,{scope:e,contentId:ya(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:a,children:n})})};Ane.displayName=W_;var Cne="PopoverAnchor",MDe=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=gp(Cne,n),s=E1(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return N.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(s1,{...s,...r,ref:e})});MDe.displayName=Cne;var kne="PopoverTrigger",Tne=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=gp(kne,n),s=E1(n),a=kn(e,i.triggerRef),l=o.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ine(i.open),...r,ref:a,onClick:wt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(s1,{asChild:!0,...s,children:l})});Tne.displayName=kne;var HD="PopoverPortal",[RDe,IDe]=jne(HD,{forceMount:void 0}),One=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=gp(HD,e);return o.jsx(RDe,{scope:e,forceMount:n,children:o.jsx(Na,{present:n||s.open,children:o.jsx(_y,{asChild:!0,container:i,children:r})})})};One.displayName=HD;var vy="PopoverContent",Pne=N.forwardRef((t,e)=>{const n=IDe(vy,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=gp(vy,t.__scopePopover);return o.jsx(Na,{present:r||s.open,children:s.modal?o.jsx(LDe,{...i,ref:e}):o.jsx(FDe,{...i,ref:e})})});Pne.displayName=vy;var DDe=Xh("PopoverContent.RemoveScroll"),LDe=N.forwardRef((t,e)=>{const n=gp(vy,t.__scopePopover),r=N.useRef(null),i=kn(e,r),s=N.useRef(!1);return N.useEffect(()=>{const a=r.current;if(a)return KE(a)},[]),o.jsx(o1,{as:DDe,allowPinchZoom:!0,children:o.jsx(Mne,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:wt(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:wt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),FDe=N.forwardRef((t,e)=>{const n=gp(vy,t.__scopePopover),r=N.useRef(!1),i=N.useRef(!1);return o.jsx(Mne,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Mne=N.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=gp(vy,n),p=E1(n);return VE(),o.jsx(a1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(FE,{"data-state":Ine(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Rne="PopoverClose",BDe=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=gp(Rne,n);return o.jsx(Bt.button,{type:"button",...r,ref:e,onClick:wt(t.onClick,()=>i.onOpenChange(!1))})});BDe.displayName=Rne;var $De="PopoverArrow",zDe=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=E1(n);return o.jsx(BE,{...i,...r,ref:e})});zDe.displayName=$De;function Ine(t){return t?"open":"closed"}var qDe=Ane,UDe=Tne,HDe=One,Dne=Pne;const pv=qDe,mv=UDe,um=N.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>o.jsx(HDe,{children:o.jsx(Dne,{ref:i,align:e,sideOffset:n,className:pt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));um.displayName=Dne.displayName;function VDe({taskId:t,currentUser:e}){const{toast:n}=Pr(),[r,i]=N.useState(""),[s,a]=N.useState(null),[l,c]=N.useState(""),[u,d]=N.useState(null),[f,m]=N.useState(!1),{data:p,isLoading:y}=rn({queryKey:[`/api/tasks/${t}/comments`],enabled:!!t}),v=hn({mutationFn:async M=>await Jt("POST",`/api/tasks/${t}/comments`,{contenido:M}),onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario agregado exitosamente"}),i(""),m(!1)},onError:()=>{n({title:"Error al agregar comentario",variant:"destructive"}),m(!1)}}),x=hn({mutationFn:async({id:M,content:A})=>await Jt("PATCH",`/api/tasks/${t}/comments/${M}`,{contenido:A}),onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario actualizado exitosamente"}),a(null),c("")},onError:()=>{n({title:"Error al actualizar comentario",variant:"destructive"})}}),b=hn({mutationFn:async M=>await Jt("DELETE",`/api/tasks/${t}/comments/${M}`),onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario eliminado exitosamente"}),d(null)},onError:()=>{n({title:"Error al eliminar comentario",variant:"destructive"})}}),S=()=>{if(!r.trim()){n({title:"El comentario no puede estar vaco",variant:"destructive"});return}m(!0),v.mutate(r)},_=M=>{if(!l.trim()){n({title:"El comentario no puede estar vaco",variant:"destructive"});return}x.mutate({id:M,content:l})},j=M=>{b.mutate(M)},C=(M,A)=>{a(M),c(A)},O=()=>{a(null),c("")};return y?o.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,A)=>o.jsxs("div",{className:"flex gap-3 animate-pulse",children:[o.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-secondary rounded w-1/4"}),o.jsx("div",{className:"h-12 bg-secondary rounded"})]})]},A))}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[o.jsxs("div",{className:"flex gap-3 mb-3",children:[o.jsx(oN,{className:"h-10 w-10",children:o.jsx(lN,{children:e?.username?.[0]?.toUpperCase()||"U"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:e?.username||"Annimo"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Ahora"})]})]}),o.jsx(jf,{value:r,onChange:M=>i(M.target.value),placeholder:"Escribe un comentario...",rows:3,className:"resize-none"}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx(Se,{onClick:()=>i(""),variant:"outline",size:"sm",children:"Cancelar"}),o.jsxs(Se,{onClick:S,size:"sm",disabled:!r.trim()||f,children:[f&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),o.jsx(tN,{className:"w-4 h-4 mr-2"}),"Comentar"]})]})]}),o.jsx("div",{className:"space-y-4",children:p&&p.length>0?p.map(M=>o.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx(oN,{className:"h-10 w-10",children:o.jsx(lN,{children:M.usuario?.username?.[0]?.toUpperCase()||"U"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-medium",children:M.usuario?.username||"Annimo"}),e?.id===M.usuarioId&&o.jsx(ct,{variant:"secondary",className:"text-xs",children:"T"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ao(new Date(M.createdAt),"PPpp",{locale:Vu}),new Date(M.updatedAt).getTime()>new Date(M.createdAt).getTime()&&o.jsx("span",{className:"ml-2",children:"(editado)"})]})]}),e?.id===M.usuarioId&&o.jsx("div",{className:"flex gap-1",children:s===M.id?o.jsxs(o.Fragment,{children:[o.jsxs(Se,{onClick:()=>_(M.id),size:"sm",variant:"ghost",disabled:x.isPending,children:[x.isPending&&o.jsx(Bh,{className:"w-4 h-4 animate-spin"}),!x.isPending&&"Guardar"]}),o.jsx(Se,{onClick:O,size:"sm",variant:"ghost",children:"Cancelar"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Se,{onClick:()=>C(M.id,M.contenido),size:"sm",variant:"ghost",children:o.jsx(lG,{className:"w-4 h-4"})}),o.jsx(Se,{onClick:()=>d(M.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",children:o.jsx(ea,{className:"w-4 h-4"})})]})})]}),s===M.id?o.jsx(jf,{value:l,onChange:A=>c(A.target.value),rows:3,className:"resize-none"}):o.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:M.contenido})]},M.id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"No hay comentarios an"}),o.jsx("p",{className:"text-xs",children:"S el primero en comentar"})]})}),o.jsx(y1,{open:!!u,onOpenChange:()=>d(null),children:o.jsxs(Hy,{children:[o.jsxs(Vy,{children:[o.jsx(Wy,{children:"Eliminar comentario"}),o.jsx(Ky,{children:"Ests seguro de que deseas eliminar este comentario? Esta accin no se puede deshacer."})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(Yy,{children:"Cancelar"}),o.jsxs(Gy,{onClick:()=>u&&j(u),className:"bg-destructive hover:bg-destructive/90",disabled:b.isPending,children:[b.isPending&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const WDe=t=>t.startsWith("image/")?o.jsx(B4,{className:"w-4 h-4"}):t.startsWith("audio/")?o.jsx(Ide,{className:"w-4 h-4"}):t.startsWith("video/")?o.jsx(Yde,{className:"w-4 h-4"}):t.includes("pdf")||t.includes("word")||t.includes("spreadsheet")?o.jsx(Ui,{className:"w-4 h-4"}):t.includes("zip")||t.includes("compressed")||t.includes("archive")?o.jsx(cde,{className:"w-4 h-4"}):o.jsx(F4,{className:"w-4 h-4"}),KDe=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+n[r]};function GDe({taskId:t}){const{toast:e}=Pr(),n=N.useRef(null),[r,i]=N.useState(null),[s,a]=N.useState(!1),{data:l,isLoading:c}=rn({queryKey:[`/api/tasks/${t}/attachments`],enabled:!!t}),u=hn({mutationFn:async x=>{const b=new FormData;b.append("file",x);const S=await fetch(`/api/tasks/${t}/attachments`,{method:"POST",body:b,headers:{}});if(!S.ok)throw new Error("Upload failed");return S.json()},onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/attachments`]}),e({title:"Archivo cargado exitosamente"}),n.current&&(n.current.value="")},onError:()=>{e({title:"Error al cargar archivo",variant:"destructive"})}}),d=hn({mutationFn:async x=>await Jt("DELETE",`/api/tasks/${t}/attachments/${x}`),onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/attachments`]}),e({title:"Archivo eliminado exitosamente"}),i(null)},onError:()=>{e({title:"Error al eliminar archivo",variant:"destructive"})}}),f=x=>{if(x.size>10485760){e({title:"Archivo demasiado grande",description:"El archivo no puede superar 10MB",variant:"destructive"});return}u.mutate(x)},m=x=>{const b=x.target.files?.[0];b&&f(b)},p=x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?a(!0):x.type==="dragleave"&&a(!1)},y=x=>{x.preventDefault(),x.stopPropagation(),a(!1);const b=x.dataTransfer.files?.[0];b&&f(b)},v=x=>{const b=document.createElement("a");b.href=x.filePath,b.download=x.originalName,document.body.appendChild(b),b.click(),document.body.removeChild(b)};return c?o.jsx("div",{className:"space-y-4",children:[...Array(2)].map((x,b)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg animate-pulse",children:[o.jsx("div",{className:"w-8 h-8 bg-primary rounded"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-primary rounded w-1/3"}),o.jsx("div",{className:"h-3 bg-primary rounded w-1/4"})]})]},b))}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:y,className:`border-2 border-dashed rounded-lg p-6 text-center transition-all ${s?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[o.jsx("input",{ref:n,type:"file",onChange:m,className:"hidden",disabled:u.isPending}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Qo,{className:"w-8 h-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Arrastra archivos aqu o haz clic para seleccionar"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Mximo 10MB por archivo"})]}),o.jsxs(Se,{onClick:()=>n.current?.click(),size:"sm",className:"mt-2",disabled:u.isPending,children:[u.isPending&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),u.isPending?"Cargando...":"Seleccionar archivo"]})]})]}),o.jsx("div",{className:"space-y-2",children:l&&l.length>0?l.map(x=>o.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 text-muted-foreground",children:WDe(x.fileType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:x.originalName}),o.jsx("p",{className:"text-xs text-muted-foreground",children:KDe(x.fileSize)})]}),o.jsx(ct,{variant:"secondary",className:"text-xs flex-shrink-0",children:x.fileType.split("/")[1]?.toUpperCase()||"FILE"}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(Se,{onClick:()=>v(x),size:"sm",variant:"ghost",title:"Descargar",children:o.jsx(Da,{className:"w-4 h-4"})}),o.jsx(Se,{onClick:()=>i(x.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",title:"Eliminar",children:o.jsx(ea,{className:"w-4 h-4"})})]})]},x.id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(F4,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No hay archivos adjuntos"}),o.jsx("p",{className:"text-xs",children:"Carga tu primer archivo"})]})}),o.jsx(y1,{open:!!r,onOpenChange:()=>i(null),children:o.jsxs(Hy,{children:[o.jsxs(Vy,{children:[o.jsx(Wy,{children:"Eliminar archivo"}),o.jsx(Ky,{children:"Ests seguro de que deseas eliminar este archivo? Esta accin no se puede deshacer."})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(Yy,{children:"Cancelar"}),o.jsxs(Gy,{onClick:()=>r&&d.mutate(r),className:"bg-destructive hover:bg-destructive/90",disabled:d.isPending,children:[d.isPending&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const qw=t=>{const e=Math.floor(t/60),n=t%60;return`${e}h ${n}m`};function YDe({taskId:t,estimatedMinutes:e=null}){const{toast:n}=Pr(),[r,i]=N.useState(!1),[s,a]=N.useState(0),[l,c]=N.useState(!1),[u,d]=N.useState(""),[f,m]=N.useState(""),[p,y]=N.useState(null),{data:v,isLoading:x}=rn({queryKey:[`/api/tasks/${t}/time-entries`],enabled:!!t});N.useEffect(()=>{let B;return r&&(B=setInterval(()=>{a(R=>R+1)},1e3)),()=>clearInterval(B)},[r]);const b=hn({mutationFn:async B=>await Jt("POST",`/api/tasks/${t}/time-entries`,B),onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/time-entries`]}),n({title:"Tiempo registrado exitosamente"}),O()},onError:()=>{n({title:"Error al registrar tiempo",variant:"destructive"})}}),S=hn({mutationFn:async B=>await Jt("DELETE",`/api/tasks/${t}/time-entries/${B}`),onSuccess:()=>{nn.invalidateQueries({queryKey:[`/api/tasks/${t}/time-entries`]}),n({title:"Tiempo eliminado exitosamente"}),y(null)},onError:()=>{n({title:"Error al eliminar tiempo",variant:"destructive"})}}),_=()=>{i(!r)},j=()=>{if(s===0){n({title:"El temporizador est en cero",variant:"destructive"});return}const B=Math.round(s/60);b.mutate({duration:B,description:"Tiempo registrado desde el temporizador"}),i(!1),a(0)},C=()=>{if(!u||parseInt(u)<=0){n({title:"Ingresa una cantidad vlida de minutos",variant:"destructive"});return}b.mutate({duration:parseInt(u),description:f||"Tiempo registrado manualmente"})},O=()=>{d(""),m(""),c(!1)},M=(v||[]).reduce((B,R)=>B+R.duration,0),A=e&&e>0?Math.round(M/e*100):0,P=e&&M>e;return x?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-32 bg-secondary rounded-lg animate-pulse"}),o.jsx("div",{className:"h-48 bg-secondary rounded-lg animate-pulse"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Temporizador"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"text-6xl font-mono font-bold",children:[String(Math.floor(s/3600)).padStart(2,"0"),":",String(Math.floor(s%3600/60)).padStart(2,"0"),":",String(s%60).padStart(2,"0")]})}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsx(Se,{onClick:_,size:"sm",variant:r?"destructive":"default",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Lde,{className:"w-4 h-4 mr-2"}),"Pausar"]}):o.jsxs(o.Fragment,{children:[o.jsx(Bde,{className:"w-4 h-4 mr-2"}),"Iniciar"]})}),o.jsxs(Se,{onClick:j,size:"sm",variant:"outline",disabled:s===0||b.isPending,children:[b.isPending&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),o.jsx(Ude,{className:"w-4 h-4 mr-2"}),"Registrar"]})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{className:"text-lg",children:"Resumen"})}),o.jsxs(Qe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Tiempo Total:"}),o.jsx("span",{className:"text-2xl font-bold",children:qw(M)})]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Tiempo Estimado:"}),o.jsx("span",{className:"text-lg font-semibold",children:qw(e)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Progreso:"}),o.jsxs(ct,{variant:P?"destructive":"default",className:"text-xs",children:[A,"%",P&&" (+exceso)"]})]}),o.jsx("div",{className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full transition-all ${P?"bg-destructive":"bg-primary"}`,style:{width:`${Math.min(A,100)}%`}})}),P&&o.jsxs("p",{className:"text-xs text-destructive",children:["Has excedido el tiempo estimado por"," ",qw(M-e)]})]})]})]}),o.jsxs(ci,{open:l,onOpenChange:c,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{variant:"outline",className:"w-full",children:[o.jsx(Js,{className:"w-4 h-4 mr-2"}),"Agregar Tiempo Manualmente"]})}),o.jsxs(ri,{children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Agregar Tiempo Manualmente"}),o.jsx(Ss,{children:"Registra tiempo que hayas trabajado fuera del temporizador"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"minutes",children:"Minutos"}),o.jsx(Ge,{id:"minutes",type:"number",value:u,onChange:B=>d(B.target.value),placeholder:"0",min:"1"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"description",children:"Descripcin (opcional)"}),o.jsx(Ge,{id:"description",value:f,onChange:B=>m(B.target.value),placeholder:"Describe qu hiciste..."})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(Se,{variant:"outline",onClick:()=>O(),children:"Cancelar"}),o.jsxs(Se,{onClick:C,disabled:b.isPending,children:[b.isPending&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),"Agregar"]})]})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{className:"text-lg flex items-center gap-2",children:[o.jsx(Jo,{className:"w-4 h-4"}),"Historial de Tiempo"]})}),o.jsx(Qe,{children:v&&v.length>0?o.jsx("div",{className:"space-y-2",children:v.map(B=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:qw(B.duration)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:B.description}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Ao(new Date(B.createdAt),"PPp",{locale:Vu})})]}),o.jsx(Se,{onClick:()=>y(B.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",children:o.jsx(ea,{className:"w-4 h-4"})})]},B.id))}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Jo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No hay registros de tiempo"})]})})]}),o.jsx(y1,{open:!!p,onOpenChange:()=>y(null),children:o.jsxs(Hy,{children:[o.jsxs(Vy,{children:[o.jsx(Wy,{children:"Eliminar registro de tiempo"}),o.jsx(Ky,{children:"Ests seguro de que deseas eliminar este registro? Esta accin no se puede deshacer."})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(Yy,{children:"Cancelar"}),o.jsxs(Gy,{onClick:()=>p&&S.mutate(p),className:"bg-destructive hover:bg-destructive/90",disabled:S.isPending,children:[S.isPending&&o.jsx(Bh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const dU={BAJA:"#94a3b8",MEDIA:"#f59e0b",ALTA:"#ef4444"},fU={PENDIENTE:"#64748b",EN_PROGRESO:"#3b82f6",COMPLETADA:"#10b981",CANCELADA:"#ef4444"},XDe=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#64748b"];function ZDe({task:t,isOpen:e,onClose:n,clients:r=[],users:i=[]}){const{toast:s}=Pr(),[a,l]=N.useState("details"),[c,u]=N.useState(!1),[d,f]=N.useState({titulo:t?.titulo||"",descripcion:t?.descripcion||"",clienteId:t?.clienteId||"",asignadoA:t?.asignadoA||"",prioridad:t?.prioridad||"MEDIA",estado:t?.estado||"PENDIENTE",visibilidad:t?.visibilidad||"GENERAL",fechaVencimiento:t?.fechaVencimiento||"",progreso:t?.progreso||0,color:t?.color||null,etiquetas:t?.etiquetas||[],estimatedMinutes:t?.estimatedMinutes||null}),[m,p]=N.useState(t?.fechaInicio?new Date(t.fechaInicio):void 0),[y,v]=N.useState(t?.fechaVencimiento?new Date(t.fechaVencimiento):void 0),x=hn({mutationFn:async _=>{if(!t?.id)throw new Error("No task ID");return await Jt("PATCH",`/api/tasks/${t.id}`,_)},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/tasks"]}),s({title:"Tarea actualizada exitosamente"}),u(!1)},onError:()=>{s({title:"Error al actualizar tarea",variant:"destructive"})}}),b=()=>{const _={...d,fechaInicio:m?.toISOString(),fechaVencimiento:y?.toISOString()};x.mutate(_)},S=()=>{t&&(f({titulo:t.titulo,descripcion:t.descripcion||"",clienteId:t.clienteId||"",asignadoA:t.asignadoA||"",prioridad:t.prioridad,estado:t.estado,visibilidad:t.visibilidad,fechaVencimiento:t.fechaVencimiento||"",progreso:t.progreso||0,color:t.color||null,etiquetas:t.etiquetas||[],estimatedMinutes:t.estimatedMinutes||null}),p(t.fechaInicio?new Date(t.fechaInicio):void 0),v(t.fechaVencimiento?new Date(t.fechaVencimiento):void 0)),u(!1)};return t?o.jsx(ci,{open:e,onOpenChange:n,children:o.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ui,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[c?o.jsx(Ge,{value:d.titulo,onChange:_=>f({...d,titulo:_.target.value}),className:"text-xl font-semibold",placeholder:"Ttulo de la tarea"}):o.jsx(di,{className:"text-2xl",children:t.titulo}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs(ct,{variant:"outline",children:["#",t.id.slice(0,8)]}),o.jsx(ct,{style:{backgroundColor:fU[t.estado]+"20",color:fU[t.estado]},children:t.estado.replace("_"," ")}),o.jsx(ct,{style:{backgroundColor:dU[t.prioridad]+"20",color:dU[t.prioridad]},children:t.prioridad})]})]}),o.jsx("div",{className:"flex gap-2",children:c?o.jsxs(o.Fragment,{children:[o.jsxs(Se,{onClick:b,size:"sm",children:[o.jsx(t1,{className:"w-4 h-4 mr-2"}),"Guardar"]}),o.jsxs(Se,{onClick:S,variant:"outline",size:"sm",children:[o.jsx(bc,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):o.jsx(Se,{onClick:()=>u(!0),size:"sm",children:"Editar"})})]})}),o.jsxs(Sc,{value:a,onValueChange:l,className:"mt-4",children:[o.jsxs(Fl,{className:"grid w-full grid-cols-6",children:[o.jsxs(zn,{value:"details",children:[o.jsx(yv,{className:"w-4 h-4 mr-2"}),"Detalles"]}),o.jsxs(zn,{value:"subtasks",children:[o.jsx(yv,{className:"w-4 h-4 mr-2"}),"Subtareas"]}),o.jsxs(zn,{value:"comments",children:[o.jsx(X6,{className:"w-4 h-4 mr-2"}),"Comentarios"]}),o.jsxs(zn,{value:"attachments",children:[o.jsx(Zh,{className:"w-4 h-4 mr-2"}),"Adjuntos"]}),o.jsxs(zn,{value:"time",children:[o.jsx(Jo,{className:"w-4 h-4 mr-2"}),"Tiempo"]}),o.jsxs(zn,{value:"activity",children:[o.jsx(Am,{className:"w-4 h-4 mr-2"}),"Historial"]})]}),o.jsx(sr,{value:"details",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(De,{children:"Descripcin"}),c?o.jsx(jf,{value:d.descripcion,onChange:_=>f({...d,descripcion:_.target.value}),rows:4,placeholder:"Descripcin de la tarea..."}):o.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:t.descripcion||"Sin descripcin"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Cliente"}),c?o.jsxs(qn,{value:d.clienteId,onValueChange:_=>f({...d,clienteId:_}),children:[o.jsx(Ln,{children:o.jsx(Un,{placeholder:"Seleccionar cliente"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"",children:"Sin cliente"}),r.map(_=>o.jsx(it,{value:_.id,children:_.razonSocial},_.id))]})]}):o.jsx("p",{className:"text-sm mt-1",children:r.find(_=>_.id===t.clienteId)?.razonSocial||"Sin cliente"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Asignado a"}),c?o.jsxs(qn,{value:d.asignadoA,onValueChange:_=>f({...d,asignadoA:_}),children:[o.jsx(Ln,{children:o.jsx(Un,{placeholder:"Seleccionar usuario"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"",children:"Sin asignar"}),i.map(_=>o.jsx(it,{value:_.id,children:_.username},_.id))]})]}):o.jsx("p",{className:"text-sm mt-1",children:i.find(_=>_.id===t.asignadoA)?.username||"Sin asignar"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Prioridad"}),c?o.jsxs(qn,{value:d.prioridad,onValueChange:_=>f({...d,prioridad:_}),children:[o.jsx(Ln,{children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"BAJA",children:"Baja"}),o.jsx(it,{value:"MEDIA",children:"Media"}),o.jsx(it,{value:"ALTA",children:"Alta"})]})]}):o.jsx("p",{className:"text-sm mt-1",children:t.prioridad})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Estado"}),c?o.jsxs(qn,{value:d.estado,onValueChange:_=>f({...d,estado:_}),children:[o.jsx(Ln,{children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"PENDIENTE",children:"Pendiente"}),o.jsx(it,{value:"EN_PROGRESO",children:"En Progreso"}),o.jsx(it,{value:"COMPLETADA",children:"Completada"}),o.jsx(it,{value:"CANCELADA",children:"Cancelada"})]})]}):o.jsx("p",{className:"text-sm mt-1",children:t.estado.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Fecha de Inicio"}),c?o.jsxs(pv,{children:[o.jsx(mv,{asChild:!0,children:o.jsxs(Se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[o.jsx(Z2,{className:"mr-2 h-4 w-4"}),m?Ao(m,"PPP",{locale:Vu}):o.jsx("span",{children:"Seleccionar fecha"})]})}),o.jsx(um,{className:"w-auto p-0",children:o.jsx(vR,{mode:"single",selected:m,onSelect:p,locale:Vu,initialFocus:!0})})]}):o.jsx("p",{className:"text-sm mt-1",children:t.fechaInicio?Ao(new Date(t.fechaInicio),"PPP",{locale:Vu}):"Sin fecha"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Fecha de Vencimiento"}),c?o.jsxs(pv,{children:[o.jsx(mv,{asChild:!0,children:o.jsxs(Se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[o.jsx(Z2,{className:"mr-2 h-4 w-4"}),y?Ao(y,"PPP",{locale:Vu}):o.jsx("span",{children:"Seleccionar fecha"})]})}),o.jsx(um,{className:"w-auto p-0",children:o.jsx(vR,{mode:"single",selected:y,onSelect:v,locale:Vu,initialFocus:!0})})]}):o.jsx("p",{className:"text-sm mt-1",children:t.fechaVencimiento?Ao(new Date(t.fechaVencimiento),"PPP",{locale:Vu}):"Sin fecha"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsxs(De,{children:["Progreso: ",d.progreso,"%"]}),c?o.jsx(sne,{value:[d.progreso],onValueChange:_=>f({...d,progreso:_[0]}),max:100,step:5,className:"mt-2"}):o.jsx("div",{className:"w-full bg-secondary h-2 rounded-full mt-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${t.progreso||0}%`}})})]}),c&&o.jsxs("div",{className:"col-span-2",children:[o.jsxs(De,{className:"flex items-center gap-2",children:[o.jsx(q4,{className:"w-4 h-4"}),"Color de la Tarea"]}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[XDe.map(_=>o.jsx("button",{onClick:()=>f({...d,color:_}),className:"w-8 h-8 rounded-full border-2 transition-all hover:scale-110",style:{backgroundColor:_,borderColor:d.color===_?"#000":"transparent"}},_)),o.jsx("button",{onClick:()=>f({...d,color:null}),className:"w-8 h-8 rounded-full border-2 bg-white transition-all hover:scale-110",style:{borderColor:d.color?"#e5e7eb":"#000"},children:o.jsx(bc,{className:"w-4 h-4 mx-auto text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Tiempo Estimado (minutos)"}),c?o.jsx(Ge,{type:"number",value:d.estimatedMinutes||"",onChange:_=>f({...d,estimatedMinutes:_.target.value?parseInt(_.target.value):null}),placeholder:"0"}):o.jsx("p",{className:"text-sm mt-1",children:t.estimatedMinutes?`${t.estimatedMinutes} min`:"No estimado"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Visibilidad"}),c?o.jsxs(qn,{value:d.visibilidad,onValueChange:_=>f({...d,visibilidad:_}),children:[o.jsx(Ln,{children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"GENERAL",children:"General"}),o.jsx(it,{value:"PERSONAL",children:"Personal"})]})]}):o.jsx("p",{className:"text-sm mt-1",children:t.visibilidad})]})]})}),o.jsx(sr,{value:"subtasks",children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(yv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Funcin de subtareas prximamente"})]})}),o.jsx(sr,{value:"comments",children:t?.id?o.jsx(VDe,{taskId:t.id,currentUser:i?.[0]}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(X6,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No se puede cargar la tarea"})]})}),o.jsx(sr,{value:"attachments",children:t?.id?o.jsx(GDe,{taskId:t.id}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Zh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No se puede cargar la tarea"})]})}),o.jsx(sr,{value:"time",children:t?.id?o.jsx(YDe,{taskId:t.id,estimatedMinutes:t.estimatedMinutes}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Jo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No se puede cargar la tarea"})]})}),o.jsx(sr,{value:"activity",children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Am,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Funcin de historial prximamente"})]})})]})]})}):null}function QDe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zy(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function VD(t){return"nodeType"in t}function ll(t){var e,n;return t?Zy(t)?t:VD(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function WD(t){const{Document:e}=ll(t);return t instanceof e}function _1(t){return Zy(t)?!1:t instanceof ll(t).HTMLElement}function Lne(t){return t instanceof ll(t).SVGElement}function Qy(t){return t?Zy(t)?t.document:VD(t)?WD(t)?t:_1(t)||Lne(t)?t.ownerDocument:document:document:document}const hd=K_?N.useLayoutEffect:N.useEffect;function KD(t){const e=N.useRef(t);return hd(()=>{e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function JDe(){const t=N.useRef(null),e=N.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=N.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function O0(t,e){e===void 0&&(e=[t]);const n=N.useRef(t);return hd(()=>{n.current!==t&&(n.current=t)},e),n}function j1(t,e){const n=N.useRef();return N.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function xS(t){const e=KD(t),n=N.useRef(null),r=N.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function yR(t){const e=N.useRef();return N.useEffect(()=>{e.current=t},[t]),e.current}let WT={};function A1(t,e){return N.useMemo(()=>{if(e)return e;const n=WT[t]==null?0:WT[t]+1;return WT[t]=n,t+"-"+n},[t,e])}function Fne(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const Cv=Fne(1),P0=Fne(-1);function eLe(t){return"clientX"in t&&"clientY"in t}function GD(t){if(!t)return!1;const{KeyboardEvent:e}=ll(t.target);return e&&t instanceof e}function tLe(t){if(!t)return!1;const{TouchEvent:e}=ll(t.target);return e&&t instanceof e}function xR(t){if(tLe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return eLe(t)?{x:t.clientX,y:t.clientY}:null}const M0=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[M0.Translate.toString(t),M0.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),hU="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nLe(t){return t.matches(hU)?t:t.querySelector(hU)}const rLe={display:"none"};function iLe(t){let{id:e,value:n}=t;return xe.createElement("div",{id:e,style:rLe},n)}function sLe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function aLe(){const[t,e]=N.useState("");return{announce:N.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Bne=N.createContext(null);function oLe(t){const e=N.useContext(Bne);N.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function lLe(){const[t]=N.useState(()=>new Set),e=N.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[N.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const cLe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uLe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function dLe(t){let{announcements:e=uLe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=cLe}=t;const{announce:s,announcement:a}=aLe(),l=A1("DndLiveRegion"),[c,u]=N.useState(!1);if(N.useEffect(()=>{u(!0)},[]),oLe(N.useMemo(()=>({onDragStart(f){let{active:m}=f;s(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;e.onDragMove&&s(e.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;s(e.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;s(e.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;s(e.onDragCancel({active:m,over:p}))}}),[s,e])),!c)return null;const d=xe.createElement(xe.Fragment,null,xe.createElement(iLe,{id:r,value:i.draggable}),xe.createElement(sLe,{id:l,announcement:a}));return n?ou.createPortal(d,n):d}var Ys;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ys||(Ys={}));function bS(){}function wS(t,e){return N.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function $ne(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const gu=Object.freeze({x:0,y:0});function zne(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qne(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function fLe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function pU(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Une(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function mU(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const hLe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=mU(e,e.left,e.top),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=zne(mU(c),i);s.push({id:l,data:{droppableContainer:a,value:u}})}}return s.sort(qne)},Hne=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=pU(e),s=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=pU(c),d=i.reduce((m,p,y)=>m+zne(u[y],p),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:f}})}}return s.sort(qne)};function pLe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const c=e.width*e.height,u=t.width*t.height,d=a*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const mLe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=pLe(l,e);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(fLe)};function gLe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Vne(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:gu}function vLe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const yLe=vLe(1);function xLe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function bLe(t,e,n){const r=xLe(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,c=t.left-a-(1-i)*parseFloat(n),u=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const wLe={ignoreTransform:!1};function Jy(t,e){e===void 0&&(e=wLe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=ll(t).getComputedStyle(t);u&&(n=bLe(n,u,d))}const{top:r,left:i,width:s,height:a,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:c}}function gU(t){return Jy(t,{ignoreTransform:!0})}function NLe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function SLe(t,e){return e===void 0&&(e=ll(t).getComputedStyle(t)),e.position==="fixed"}function ELe(t,e){e===void 0&&(e=ll(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function G_(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(WD(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!_1(i)||Lne(i)||n.includes(i))return n;const s=ll(t).getComputedStyle(i);return i!==t&&ELe(i,s)&&n.push(i),SLe(i,s)?n:r(i.parentNode)}return t?r(t):n}function Wne(t){const[e]=G_(t,1);return e??null}function KT(t){return!K_||!t?null:Zy(t)?t:VD(t)?WD(t)||t===Qy(t).scrollingElement?window:_1(t)?t:null:null}function Kne(t){return Zy(t)?t.scrollX:t.scrollLeft}function Gne(t){return Zy(t)?t.scrollY:t.scrollTop}function bR(t){return{x:Kne(t),y:Gne(t)}}var pa;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(pa||(pa={}));function Yne(t){return!K_||!t?!1:t===document.scrollingElement}function Xne(t){const e={x:0,y:0},n=Yne(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const _Le={x:.2,y:.2};function jLe(t,e,n,r,i){let{top:s,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=_Le);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=Xne(t),p={x:0,y:0},y={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+v.height?(p.y=pa.Backward,y.y=r*Math.abs((e.top+v.height-s)/v.height)):!d&&c>=e.bottom-v.height&&(p.y=pa.Forward,y.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!m&&l>=e.right-v.width?(p.x=pa.Forward,y.x=r*Math.abs((e.right-v.width-l)/v.width)):!f&&a<=e.left+v.width&&(p.x=pa.Backward,y.x=r*Math.abs((e.left+v.width-a)/v.width)),{direction:p,speed:y}}function ALe(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Zne(t){return t.reduce((e,n)=>Cv(e,bR(n)),gu)}function CLe(t){return t.reduce((e,n)=>e+Kne(n),0)}function kLe(t){return t.reduce((e,n)=>e+Gne(n),0)}function TLe(t,e){if(e===void 0&&(e=Jy),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);Wne(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const OLe=[["x",["left","right"],CLe],["y",["top","bottom"],kLe]];class YD{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=G_(n),i=Zne(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of OLe)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class bb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function PLe(t){const{EventTarget:e}=ll(t);return t instanceof e?t:Qy(t)}function GT(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var cc;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(cc||(cc={}));function vU(t){t.preventDefault()}function MLe(t){t.stopPropagation()}var vr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(vr||(vr={}));const Qne={start:[vr.Space,vr.Enter],cancel:[vr.Esc],end:[vr.Space,vr.Enter,vr.Tab]},RLe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case vr.Right:return{...n,x:n.x+25};case vr.Left:return{...n,x:n.x-25};case vr.Down:return{...n,y:n.y+25};case vr.Up:return{...n,y:n.y-25}}};class XD{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new bb(Qy(n)),this.windowListeners=new bb(ll(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cc.Resize,this.handleCancel),this.windowListeners.add(cc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&TLe(r),n(gu)}handleKeyDown(e){if(GD(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=Qne,coordinateGetter:a=RLe,scrollBehavior:l="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:gu;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:n,context:r.current,currentCoordinates:d});if(f){const m=P0(f,d),p={x:0,y:0},{scrollableAncestors:y}=r.current;for(const v of y){const x=e.code,{isTop:b,isRight:S,isLeft:_,isBottom:j,maxScroll:C,minScroll:O}=Xne(v),M=ALe(v),A={x:Math.min(x===vr.Right?M.right-M.width/2:M.right,Math.max(x===vr.Right?M.left:M.left+M.width/2,f.x)),y:Math.min(x===vr.Down?M.bottom-M.height/2:M.bottom,Math.max(x===vr.Down?M.top:M.top+M.height/2,f.y))},P=x===vr.Right&&!S||x===vr.Left&&!_,B=x===vr.Down&&!j||x===vr.Up&&!b;if(P&&A.x!==f.x){const R=v.scrollLeft+m.x,F=x===vr.Right&&R<=C.x||x===vr.Left&&R>=O.x;if(F&&!m.y){v.scrollTo({left:R,behavior:l});return}F?p.x=v.scrollLeft-R:p.x=x===vr.Right?v.scrollLeft-C.x:v.scrollLeft-O.x,p.x&&v.scrollBy({left:-p.x,behavior:l});break}else if(B&&A.y!==f.y){const R=v.scrollTop+m.y,F=x===vr.Down&&R<=C.y||x===vr.Up&&R>=O.y;if(F&&!m.x){v.scrollTo({top:R,behavior:l});return}F?p.y=v.scrollTop-R:p.y=x===vr.Down?v.scrollTop-C.y:v.scrollTop-O.y,p.y&&v.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(e,Cv(P0(f,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}XD.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Qne,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function yU(t){return!!(t&&"distance"in t)}function xU(t){return!!(t&&"delay"in t)}class ZD{constructor(e,n,r){var i;r===void 0&&(r=PLe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Qy(a),this.documentListeners=new bb(this.document),this.listeners=new bb(r),this.windowListeners=new bb(ll(a)),this.initialCoordinates=(i=xR(s))!=null?i:gu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(cc.Resize,this.handleCancel),this.windowListeners.add(cc.DragStart,vU),this.windowListeners.add(cc.VisibilityChange,this.handleCancel),this.windowListeners.add(cc.ContextMenu,vU),this.documentListeners.add(cc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xU(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(yU(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(cc.Click,MLe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cc.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=xR(e))!=null?n:gu,u=P0(i,c);if(!r&&l){if(yU(l)){if(l.tolerance!=null&&GT(u,l.tolerance))return this.handleCancel();if(GT(u,l.distance))return this.handleStart()}if(xU(l)&&GT(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===vr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const ILe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class QD extends ZD{constructor(e){const{event:n}=e,r=Qy(n.target);super(e,ILe,r)}}QD.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const DLe={move:{name:"mousemove"},end:{name:"mouseup"}};var wR;(function(t){t[t.RightClick=2]="RightClick"})(wR||(wR={}));class Jne extends ZD{constructor(e){super(e,DLe,Qy(e.event.target))}}Jne.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===wR.RightClick?!1:(r?.({event:n}),!0)}}];const YT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ere extends ZD{constructor(e){super(e,YT)}static setup(){return window.addEventListener(YT.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(YT.move.name,e)};function e(){}}}ere.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var wb;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(wb||(wb={}));var NS;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(NS||(NS={}));function LLe(t){let{acceleration:e,activator:n=wb.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=NS.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=t;const p=BLe({delta:f,disabled:!s}),[y,v]=JDe(),x=N.useRef({x:0,y:0}),b=N.useRef({x:0,y:0}),S=N.useMemo(()=>{switch(n){case wb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case wb.DraggableRect:return i}},[n,i,c]),_=N.useRef(null),j=N.useCallback(()=>{const O=_.current;if(!O)return;const M=x.current.x*b.current.x,A=x.current.y*b.current.y;O.scrollBy(M,A)},[]),C=N.useMemo(()=>l===NS.TreeOrder?[...u].reverse():u,[l,u]);N.useEffect(()=>{if(!s||!u.length||!S){v();return}for(const O of C){if(r?.(O)===!1)continue;const M=u.indexOf(O),A=d[M];if(!A)continue;const{direction:P,speed:B}=jLe(O,A,S,e,m);for(const R of["x","y"])p[R][P[R]]||(B[R]=0,P[R]=0);if(B.x>0||B.y>0){v(),_.current=O,y(j,a),x.current=B,b.current=P;return}}x.current={x:0,y:0},b.current={x:0,y:0},v()},[e,j,r,v,s,a,JSON.stringify(S),JSON.stringify(p),y,u,C,d,JSON.stringify(m)])}const FLe={x:{[pa.Backward]:!1,[pa.Forward]:!1},y:{[pa.Backward]:!1,[pa.Forward]:!1}};function BLe(t){let{delta:e,disabled:n}=t;const r=yR(e);return j1(i=>{if(n||!r||!i)return FLe;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[pa.Backward]:i.x[pa.Backward]||s.x===-1,[pa.Forward]:i.x[pa.Forward]||s.x===1},y:{[pa.Backward]:i.y[pa.Backward]||s.y===-1,[pa.Forward]:i.y[pa.Forward]||s.y===1}}},[n,e,r])}function $Le(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return j1(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function zLe(t,e){return N.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var R0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(R0||(R0={}));var NR;(function(t){t.Optimized="optimized"})(NR||(NR={}));const bU=new Map;function qLe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=N.useState(null),{frequency:l,measure:c,strategy:u}=i,d=N.useRef(t),f=x(),m=O0(f),p=N.useCallback(function(b){b===void 0&&(b=[]),!m.current&&a(S=>S===null?b:S.concat(b.filter(_=>!S.includes(_))))},[m]),y=N.useRef(null),v=j1(b=>{if(f&&!n)return bU;if(!b||b===bU||d.current!==t||s!=null){const S=new Map;for(let _ of t){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){S.set(_.id,_.rect.current);continue}const j=_.node.current,C=j?new YD(c(j),j):null;_.rect.current=C,C&&S.set(_.id,C)}return S}return b},[t,s,n,f,c]);return N.useEffect(()=>{d.current=t},[t]),N.useEffect(()=>{f||p()},[n,f]),N.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),N.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},l))},[l,f,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function x(){switch(u){case R0.Always:return!1;case R0.BeforeDragging:return n;default:return!n}}}function tre(t,e){return j1(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function ULe(t,e){return tre(t,e)}function HLe(t){let{callback:e,disabled:n}=t;const r=KD(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function Y_(t){let{callback:e,disabled:n}=t;const r=KD(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function VLe(t){return new YD(Jy(t),t)}function wU(t,e,n){e===void 0&&(e=VLe);const[r,i]=N.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=HLe({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),l=Y_({callback:s});return hd(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),r}function WLe(t){const e=tre(t);return Vne(t,e)}const NU=[];function KLe(t){const e=N.useRef(t),n=j1(r=>t?r&&r!==NU&&t&&e.current&&t.parentNode===e.current.parentNode?r:G_(t):NU,[t]);return N.useEffect(()=>{e.current=t},[t]),n}function GLe(t){const[e,n]=N.useState(null),r=N.useRef(t),i=N.useCallback(s=>{const a=KT(s.target);a&&n(l=>l?(l.set(a,bR(a)),new Map(l)):null)},[]);return N.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(c=>{const u=KT(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,bR(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(c=>{const u=KT(c);u?.removeEventListener("scroll",i)})}},[i,t]),N.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Cv(s,a),gu):Zne(t):gu,[t,e])}function SU(t,e){e===void 0&&(e=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},e),N.useEffect(()=>{const r=t!==gu;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?P0(t,n.current):gu}function YLe(t){N.useEffect(()=>{if(!K_)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function XLe(t,e){return N.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function nre(t){return N.useMemo(()=>t?NLe(t):null,[t])}const EU=[];function ZLe(t,e){e===void 0&&(e=Jy);const[n]=t,r=nre(n?ll(n):null),[i,s]=N.useState(EU);function a(){s(()=>t.length?t.map(c=>Yne(c)?r:new YD(e(c),c)):EU)}const l=Y_({callback:a});return hd(()=>{l?.disconnect(),a(),t.forEach(c=>l?.observe(c))},[t]),i}function QLe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return _1(e)?e:t}function JLe(t){let{measure:e}=t;const[n,r]=N.useState(null),i=N.useCallback(u=>{for(const{target:d}of u)if(_1(d)){r(f=>{const m=e(d);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),s=Y_({callback:i}),a=N.useCallback(u=>{const d=QLe(u);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[l,c]=xS(a);return N.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const e3e=[{sensor:QD,options:{}},{sensor:XD,options:{}}],t3e={current:{}},R2={draggable:{measure:gU},droppable:{measure:gU,strategy:R0.WhileDragging,frequency:NR.Optimized},dragOverlay:{measure:Jy}};class Nb extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const n3e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:bS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:R2,measureDroppableContainers:bS,windowRect:null,measuringScheduled:!1},r3e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:bS,draggableNodes:new Map,over:null,measureDroppableContainers:bS},X_=N.createContext(r3e),rre=N.createContext(n3e);function i3e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nb}}}function s3e(t,e){switch(e.type){case Ys.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ys.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ys.DragEnd:case Ys.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ys.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Nb(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ys.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Nb(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Ys.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Nb(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function a3e(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=N.useContext(X_),s=yR(r),a=yR(n?.id);return N.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!GD(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=nLe(d);if(f){f.focus();break}}})}},[r,e,i,a,s]),null}function o3e(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function l3e(t){return N.useMemo(()=>({draggable:{...R2.draggable,...t?.draggable},droppable:{...R2.droppable,...t?.droppable},dragOverlay:{...R2.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function c3e(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=N.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;hd(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Vne(d,r);if(a||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Wne(u);m&&m.scrollBy({top:f.y,left:f.x})}},[e,a,l,r,n])}const ire=N.createContext({...gu,scaleX:1,scaleY:1});var wh;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(wh||(wh={}));const sre=N.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:d=e3e,collisionDetection:f=mLe,measuring:m,modifiers:p,...y}=e;const v=N.useReducer(s3e,void 0,i3e),[x,b]=v,[S,_]=lLe(),[j,C]=N.useState(wh.Uninitialized),O=j===wh.Initialized,{draggable:{active:M,nodes:A,translate:P},droppable:{containers:B}}=x,R=M!=null?A.get(M):null,F=N.useRef({initial:null,translated:null}),q=N.useMemo(()=>{var mn;return M!=null?{id:M,data:(mn=R?.data)!=null?mn:t3e,rect:F}:null},[M,R]),z=N.useRef(null),[G,X]=N.useState(null),[U,W]=N.useState(null),Y=O0(y,Object.values(y)),ie=A1("DndDescribedBy",a),Z=N.useMemo(()=>B.getEnabled(),[B]),I=l3e(m),{droppableRects:V,measureDroppableContainers:Q,measuringScheduled:re}=qLe(Z,{dragging:O,dependencies:[P.x,P.y],config:I.droppable}),fe=$Le(A,M),pe=N.useMemo(()=>U?xR(U):null,[U]),ve=Cr(),de=ULe(fe,I.draggable.measure);c3e({activeNode:M!=null?A.get(M):null,config:ve.layoutShiftCompensation,initialRect:de,measure:I.draggable.measure});const be=wU(fe,I.draggable.measure,de),je=wU(fe?fe.parentElement:null),ae=N.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Oe=B.getNodeFor((n=ae.current.over)==null?void 0:n.id),ee=JLe({measure:I.dragOverlay.measure}),ne=(r=ee.nodeRef.current)!=null?r:fe,Me=O?(i=ee.rect)!=null?i:be:null,ut=!!(ee.nodeRef.current&&ee.rect),Je=WLe(ut?null:be),He=nre(ne?ll(ne):null),me=KLe(O?Oe??fe:null),Ne=ZLe(me),Ce=o3e(p,{transform:{x:P.x-Je.x,y:P.y-Je.y,scaleX:1,scaleY:1},activatorEvent:U,active:q,activeNodeRect:be,containerNodeRect:je,draggingNodeRect:Me,over:ae.current.over,overlayNodeRect:ee.rect,scrollableAncestors:me,scrollableAncestorRects:Ne,windowRect:He}),Ve=pe?Cv(pe,P):null,We=GLe(me),Ue=SU(We),tt=SU(We,[be]),_t=Cv(Ce,Ue),bt=Me?yLe(Me,Ce):null,Tt=q&&bt?f({active:q,collisionRect:bt,droppableRects:V,droppableContainers:Z,pointerCoordinates:Ve}):null,Wt=Une(Tt,"id"),[At,An]=N.useState(null),En=ut?Ce:Cv(Ce,tt),zt=gLe(En,(s=At?.rect)!=null?s:null,be),yn=N.useRef(null),nr=N.useCallback((mn,Ut)=>{let{sensor:Ee,options:Ye}=Ut;if(z.current==null)return;const ft=A.get(z.current);if(!ft)return;const It=mn.nativeEvent,On=new Ee({active:z.current,activeNode:ft,event:It,options:Ye,context:ae,onAbort(Fe){if(!A.get(Fe))return;const{onDragAbort:Lt}=Y.current,Hn={id:Fe};Lt?.(Hn),S({type:"onDragAbort",event:Hn})},onPending(Fe,dt,Lt,Hn){if(!A.get(Fe))return;const{onDragPending:pr}=Y.current,or={id:Fe,constraint:dt,initialCoordinates:Lt,offset:Hn};pr?.(or),S({type:"onDragPending",event:or})},onStart(Fe){const dt=z.current;if(dt==null)return;const Lt=A.get(dt);if(!Lt)return;const{onDragStart:Hn}=Y.current,gn={activatorEvent:It,active:{id:dt,data:Lt.data,rect:F}};ou.unstable_batchedUpdates(()=>{Hn?.(gn),C(wh.Initializing),b({type:Ys.DragStart,initialCoordinates:Fe,active:dt}),S({type:"onDragStart",event:gn}),X(yn.current),W(It)})},onMove(Fe){b({type:Ys.DragMove,coordinates:Fe})},onEnd:ce(Ys.DragEnd),onCancel:ce(Ys.DragCancel)});yn.current=On;function ce(Fe){return async function(){const{active:Lt,collisions:Hn,over:gn,scrollAdjustedTranslate:pr}=ae.current;let or=null;if(Lt&&pr){const{cancelDrop:Ur}=Y.current;or={activatorEvent:It,active:Lt,collisions:Hn,delta:pr,over:gn},Fe===Ys.DragEnd&&typeof Ur=="function"&&await Promise.resolve(Ur(or))&&(Fe=Ys.DragCancel)}z.current=null,ou.unstable_batchedUpdates(()=>{b({type:Fe}),C(wh.Uninitialized),An(null),X(null),W(null),yn.current=null;const Ur=Fe===Ys.DragEnd?"onDragEnd":"onDragCancel";if(or){const mi=Y.current[Ur];mi?.(or),S({type:Ur,event:or})}})}}},[A]),an=N.useCallback((mn,Ut)=>(Ee,Ye)=>{const ft=Ee.nativeEvent,It=A.get(Ye);if(z.current!==null||!It||ft.dndKit||ft.defaultPrevented)return;const On={active:It};mn(Ee,Ut.options,On)===!0&&(ft.dndKit={capturedBy:Ut.sensor},z.current=Ye,nr(Ee,Ut))},[A,nr]),Cn=zLe(d,an);YLe(d),hd(()=>{be&&j===wh.Initializing&&C(wh.Initialized)},[be,j]),N.useEffect(()=>{const{onDragMove:mn}=Y.current,{active:Ut,activatorEvent:Ee,collisions:Ye,over:ft}=ae.current;if(!Ut||!Ee)return;const It={active:Ut,activatorEvent:Ee,collisions:Ye,delta:{x:_t.x,y:_t.y},over:ft};ou.unstable_batchedUpdates(()=>{mn?.(It),S({type:"onDragMove",event:It})})},[_t.x,_t.y]),N.useEffect(()=>{const{active:mn,activatorEvent:Ut,collisions:Ee,droppableContainers:Ye,scrollAdjustedTranslate:ft}=ae.current;if(!mn||z.current==null||!Ut||!ft)return;const{onDragOver:It}=Y.current,On=Ye.get(Wt),ce=On&&On.rect.current?{id:On.id,rect:On.rect.current,data:On.data,disabled:On.disabled}:null,Fe={active:mn,activatorEvent:Ut,collisions:Ee,delta:{x:ft.x,y:ft.y},over:ce};ou.unstable_batchedUpdates(()=>{An(ce),It?.(Fe),S({type:"onDragOver",event:Fe})})},[Wt]),hd(()=>{ae.current={activatorEvent:U,active:q,activeNode:fe,collisionRect:bt,collisions:Tt,droppableRects:V,draggableNodes:A,draggingNode:ne,draggingNodeRect:Me,droppableContainers:B,over:At,scrollableAncestors:me,scrollAdjustedTranslate:_t},F.current={initial:Me,translated:bt}},[q,fe,Tt,bt,A,ne,Me,V,B,At,me,_t]),LLe({...ve,delta:P,draggingRect:bt,pointerCoordinates:Ve,scrollableAncestors:me,scrollableAncestorRects:Ne});const wn=N.useMemo(()=>({active:q,activeNode:fe,activeNodeRect:be,activatorEvent:U,collisions:Tt,containerNodeRect:je,dragOverlay:ee,draggableNodes:A,droppableContainers:B,droppableRects:V,over:At,measureDroppableContainers:Q,scrollableAncestors:me,scrollableAncestorRects:Ne,measuringConfiguration:I,measuringScheduled:re,windowRect:He}),[q,fe,be,U,Tt,je,ee,A,B,V,At,Q,me,Ne,I,re,He]),Ar=N.useMemo(()=>({activatorEvent:U,activators:Cn,active:q,activeNodeRect:be,ariaDescribedById:{draggable:ie},dispatch:b,draggableNodes:A,over:At,measureDroppableContainers:Q}),[U,Cn,q,be,b,ie,A,At,Q]);return xe.createElement(Bne.Provider,{value:_},xe.createElement(X_.Provider,{value:Ar},xe.createElement(rre.Provider,{value:wn},xe.createElement(ire.Provider,{value:zt},u)),xe.createElement(a3e,{disabled:l?.restoreFocus===!1})),xe.createElement(dLe,{...l,hiddenTextDescribedById:ie}));function Cr(){const mn=G?.autoScrollEnabled===!1,Ut=typeof c=="object"?c.enabled===!1:c===!1,Ee=O&&!mn&&!Ut;return typeof c=="object"?{...c,enabled:Ee}:{enabled:Ee}}}),u3e=N.createContext(null),_U="button",d3e="Draggable";function are(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=A1(d3e),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=N.useContext(X_),{role:p=_U,roleDescription:y="draggable",tabIndex:v=0}=i??{},x=c?.id===e,b=N.useContext(x?ire:u3e),[S,_]=xS(),[j,C]=xS(),O=XLe(a,e),M=O0(n);hd(()=>(f.set(e,{id:e,key:s,node:S,activatorNode:j,data:M}),()=>{const P=f.get(e);P&&P.key===s&&f.delete(e)}),[f,e]);const A=N.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":x&&p===_U?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,p,v,x,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:x,listeners:r?void 0:O,node:S,over:m,setNodeRef:_,setActivatorNodeRef:C,transform:b}}function f3e(){return N.useContext(rre)}const h3e="Droppable",p3e={timeout:25};function ore(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=A1(h3e),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=N.useContext(X_),d=N.useRef({disabled:n}),f=N.useRef(!1),m=N.useRef(null),p=N.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:x}={...p3e,...i},b=O0(v??r),S=N.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),p.current=null},x)},[x]),_=Y_({callback:S,disabled:y||!a}),j=N.useCallback((A,P)=>{_&&(P&&(_.unobserve(P),f.current=!1),A&&_.observe(A))},[_]),[C,O]=xS(j),M=O0(e);return N.useEffect(()=>{!_||!C.current||(_.disconnect(),f.current=!1,_.observe(C.current))},[C,_]),N.useEffect(()=>(l({type:Ys.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:m,data:M}}),()=>l({type:Ys.UnregisterDroppable,key:s,id:r})),[r]),N.useEffect(()=>{n!==d.current.disabled&&(l({type:Ys.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:a,rect:m,isOver:c?.id===r,node:C,over:c,setNodeRef:O}}function lre(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function m3e(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Uw(t){return t!==null&&t>=0}function g3e(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function v3e(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const cre=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=lre(e,r,n),a=e[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},Hw={scaleX:1,scaleY:1},y3e=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(l.top+l.height):u.top-l.top,...Hw}:null}const c=x3e(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-c,...Hw}:i<n&&i>=a?{x:0,y:l.height+c,...Hw}:{x:0,y:0,...Hw}};function x3e(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const ure="Sortable",dre=xe.createContext({activeIndex:-1,containerId:ure,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cre,disabled:{draggable:!1,droppable:!1}});function b3e(t){let{children:e,id:n,items:r,strategy:i=cre,disabled:s=!1}=t;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=f3e(),f=A1(ure,n),m=l.rect!==null,p=N.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),y=a!=null,v=a?p.indexOf(a.id):-1,x=u?p.indexOf(u.id):-1,b=N.useRef(p),S=!g3e(p,b.current),_=x!==-1&&v===-1||S,j=v3e(s);hd(()=>{S&&y&&d(p)},[S,p,y,d]),N.useEffect(()=>{b.current=p},[p]);const C=N.useMemo(()=>({activeIndex:v,containerId:f,disabled:j,disableTransforms:_,items:p,overIndex:x,useDragOverlay:m,sortedRects:m3e(p,c),strategy:i}),[v,f,j.draggable,j.droppable,_,p,x,c,m,i]);return xe.createElement(dre.Provider,{value:C},e)}const w3e=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return lre(n,r,i).indexOf(e)},N3e=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==s&&i===a?!1:n?!0:a!==i&&e===c},S3e={duration:200,easing:"ease"},fre="transform",E3e=M0.Transition.toString({property:fre,duration:0,easing:"linear"}),_3e={roleDescription:"sortable"};function j3e(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,a]=N.useState(null),l=N.useRef(n);return hd(()=>{if(!e&&n!==l.current&&r.current){const c=i.current;if(c){const u=Jy(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&a(d)}}n!==l.current&&(l.current=n)},[e,n,r,i]),N.useEffect(()=>{s&&a(null)},[s]),s}function A3e(t){let{animateLayoutChanges:e=N3e,attributes:n,disabled:r,data:i,getNewIndex:s=w3e,id:a,strategy:l,resizeObserverConfig:c,transition:u=S3e}=t;const{items:d,containerId:f,activeIndex:m,disabled:p,disableTransforms:y,sortedRects:v,overIndex:x,useDragOverlay:b,strategy:S}=N.useContext(dre),_=C3e(r,p),j=d.indexOf(a),C=N.useMemo(()=>({sortable:{containerId:f,index:j,items:d},...i}),[f,i,j,d]),O=N.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:M,node:A,isOver:P,setNodeRef:B}=ore({id:a,data:C,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...c}}),{active:R,activatorEvent:F,activeNodeRect:q,attributes:z,setNodeRef:G,listeners:X,isDragging:U,over:W,setActivatorNodeRef:Y,transform:ie}=are({id:a,data:C,attributes:{..._3e,...n},disabled:_.draggable}),Z=QDe(B,G),I=!!R,V=I&&!y&&Uw(m)&&Uw(x),Q=!b&&U,re=Q&&V?ie:null,pe=V?re??(l??S)({rects:v,activeNodeRect:q,activeIndex:m,overIndex:x,index:j}):null,ve=Uw(m)&&Uw(x)?s({id:a,items:d,activeIndex:m,overIndex:x}):j,de=R?.id,be=N.useRef({activeId:de,items:d,newIndex:ve,containerId:f}),je=d!==be.current.items,ae=e({active:R,containerId:f,isDragging:U,isSorting:I,id:a,index:j,items:d,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:u,wasDragging:be.current.activeId!=null}),Oe=j3e({disabled:!ae,index:j,node:A,rect:M});return N.useEffect(()=>{I&&be.current.newIndex!==ve&&(be.current.newIndex=ve),f!==be.current.containerId&&(be.current.containerId=f),d!==be.current.items&&(be.current.items=d)},[I,ve,f,d]),N.useEffect(()=>{if(de===be.current.activeId)return;if(de!=null&&be.current.activeId==null){be.current.activeId=de;return}const ne=setTimeout(()=>{be.current.activeId=de},50);return()=>clearTimeout(ne)},[de]),{active:R,activeIndex:m,attributes:z,data:C,rect:M,index:j,newIndex:ve,items:d,isOver:P,isSorting:I,isDragging:U,listeners:X,node:A,overIndex:x,over:W,setNodeRef:Z,setActivatorNodeRef:Y,setDroppableNodeRef:B,setDraggableNodeRef:G,transform:Oe??pe,transition:ee()};function ee(){if(Oe||je&&be.current.newIndex===j)return E3e;if(!(Q&&!GD(F)||!u)&&(I||ae))return M0.Transition.toString({...u,property:fre})}}function C3e(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function SS(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const k3e=[vr.Down,vr.Right,vr.Up,vr.Left],T3e=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:l}}=e;if(k3e.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(t.code){case vr.Down:r.top<m.top&&c.push(f);break;case vr.Up:r.top>m.top&&c.push(f);break;case vr.Left:r.left>m.left&&c.push(f);break;case vr.Right:r.left<m.left&&c.push(f);break}});const u=Hne({collisionRect:r,droppableRects:i,droppableContainers:c});let d=Une(u,"id");if(d===a?.id&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),m=s.get(d),p=m?i.get(m.id):null,y=m?.node.current;if(y&&p&&f&&m){const x=G_(y).some((O,M)=>l[M]!==O),b=hre(f,m),S=O3e(f,m),_=x||!b?{x:0,y:0}:{x:S?r.width-p.width:0,y:S?r.height-p.height:0},j={x:p.left,y:p.top};return _.x&&_.y?j:P0(j,_)}}}};function hre(t,e){return!SS(t)||!SS(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function O3e(t,e){return!SS(t)||!SS(e)||!hre(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const jU={PENDIENTE:{label:"Pendiente",color:"bg-slate-100",icon:io},EN_PROGRESO:{label:"En Progreso",color:"bg-blue-100",icon:Jo},COMPLETADA:{label:"Completada",color:"bg-green-100",icon:Co},CANCELADA:{label:"Cancelada",color:"bg-red-100",icon:io}};function P3e({task:t,onTaskClick:e,users:n}){const{attributes:r,listeners:i,setNodeRef:s,transform:a,transition:l,isDragging:c}=A3e({id:t.id}),u={transform:M0.Transform.toString(a),transition:l,opacity:c?.5:1},d={BAJA:"text-slate-500",MEDIA:"text-amber-500",ALTA:"text-red-500"},f=n?.find(p=>p.id===t.asignadoA),m=t.fechaVencimiento&&new Date(t.fechaVencimiento)<new Date;return o.jsx("div",{ref:s,style:u,...r,...i,className:"mb-3 cursor-grab active:cursor-grabbing",children:o.jsx(Ze,{className:`border-l-4 hover:shadow-md transition-all ${c?"shadow-lg":""}`,style:{borderLeftColor:t.color||"#cbd5e1",backgroundColor:t.color?`${t.color}15`:void 0},onClick:()=>e?.(t),children:o.jsxs(Qe,{className:"p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h3",{className:"font-medium text-sm flex-1 break-words",children:t.titulo}),t.progreso!==void 0&&t.progreso>0&&o.jsxs(ct,{variant:"outline",className:"text-xs flex-shrink-0",children:[t.progreso,"%"]})]}),t.descripcion&&o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.descripcion}),o.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[o.jsx(ct,{variant:"secondary",className:`text-xs ${d[t.prioridad]}`,children:t.prioridad}),m&&o.jsx(ct,{variant:"destructive",className:"text-xs",children:"Vencida"})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.fechaVencimiento&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Z2,{className:"w-3 h-3"}),o.jsx("span",{children:Ao(new Date(t.fechaVencimiento),"dd MMM",{locale:Vu})})]}),f&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:f.username[0]})]}),t.progreso!==void 0&&o.jsx("div",{className:"w-full bg-secondary h-1 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-primary h-full transition-all",style:{width:`${t.progreso}%`}})})]})})})}function M3e({onTaskClick:t,clients:e=[],users:n=[]}){const{toast:r}=Pr(),[i,s]=N.useState([]),{isLoading:a,data:l}=rn({queryKey:["/api/tasks"]});N.useEffect(()=>{l&&s(l)},[l]);const c=hn({mutationFn:async({taskId:m,estado:p})=>await Jt("PATCH",`/api/tasks/${m}`,{estado:p}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/tasks"]})},onError:()=>{r({title:"Error al actualizar tarea",variant:"destructive"}),nn.invalidateQueries({queryKey:["/api/tasks"]})}}),u=$ne(wS(QD),wS(XD,{coordinateGetter:T3e})),d=N.useMemo(()=>({PENDIENTE:i.filter(m=>m.estado==="PENDIENTE"),EN_PROGRESO:i.filter(m=>m.estado==="EN_PROGRESO"),COMPLETADA:i.filter(m=>m.estado==="COMPLETADA")}),[i]),f=m=>{const{active:p,over:y}=m;if(!y)return;const v=i.find(b=>b.id===p.id),x=y.id;!v||!Object.keys(jU).includes(x)||v.estado!==x&&(s(b=>b.map(S=>S.id===v.id?{...S,estado:x}:S)),c.mutate({taskId:v.id,estado:x}))};return a?o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(m=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-8 bg-secondary rounded-lg animate-pulse"}),[1,2,3].map(p=>o.jsx("div",{className:"h-24 bg-secondary rounded-lg animate-pulse"},p))]},m))}):o.jsx(sre,{sensors:u,collisionDetection:hLe,onDragEnd:f,children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(jU).map(([m,p])=>{const y=d[m]||[],v=p.icon;return o.jsxs(Ze,{className:`${p.color} min-h-96`,children:[o.jsx(xt,{className:"pb-3",children:o.jsxs(St,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(v,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:p.label})]}),o.jsx(ct,{variant:"secondary",className:"text-xs",children:y.length})]})}),o.jsx(Qe,{children:o.jsx(b3e,{items:y.map(x=>x.id),strategy:y3e,children:o.jsx("div",{className:"space-y-2",children:y.length>0?y.map(x=>o.jsx(P3e,{task:x,onTaskClick:t,users:n},x.id)):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{className:"text-xs",children:"Sin tareas"})})})})})]},m)})})})}function R3e(){const{toast:t}=Pr(),{user:e}=Jm(),[n,r]=N.useState("table"),[i,s]=N.useState(!1),[a,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""}),{data:m,isLoading:p}=rn({queryKey:["/api/tasks"]}),{data:y}=rn({queryKey:["/api/clients"]}),{data:v}=rn({queryKey:["/api/users"]}),x=hn({mutationFn:async A=>await Jt("POST","/api/tasks",A),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/tasks"]}),t({title:"Tarea creada exitosamente"}),s(!1),_()}}),b=hn({mutationFn:async({id:A,estado:P})=>await Jt("PATCH",`/api/tasks/${A}`,{estado:P}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/tasks"]})}}),S=m?.filter(A=>A.visibilidad==="GENERAL"?!0:A.visibilidad==="PERSONAL"?e?.role==="ADMIN"||A.asignadoA===e?.id:!1)||[],_=()=>{f({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""})},j=A=>{A.preventDefault(),x.mutate(d)},C=A=>{l(A),u(!0)},O=A=>{const P={BAJA:"text-muted-foreground bg-muted",MEDIA:"text-chart-2 bg-chart-2/10",ALTA:"text-destructive bg-destructive/10"};return o.jsx(ct,{variant:"outline",className:P[A],children:A})},M=A=>{const P={PENDIENTE:{color:"text-muted-foreground bg-muted",icon:Jo},EN_PROGRESO:{color:"text-chart-2 bg-chart-2/10",icon:n1},COMPLETADA:{color:"text-chart-3 bg-chart-3/10",icon:Co}},B=P[A]||P.PENDIENTE,R=B.icon;return o.jsxs(ct,{variant:"outline",className:B.color,children:[o.jsx(R,{className:"h-3 w-3 mr-1"}),A.replace("_"," ")]})};return p?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx(Kn,{className:"h-9 w-48"}),o.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((A,P)=>o.jsx(Kn,{className:"h-64"},P))})]}):o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Tareas"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de tareas generales y personales"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Sc,{value:n,onValueChange:A=>r(A),children:o.jsxs(Fl,{children:[o.jsxs(zn,{value:"table","data-testid":"button-view-table",children:[o.jsx(jde,{className:"h-4 w-4 mr-2"}),"Tabla"]}),o.jsxs(zn,{value:"kanban","data-testid":"button-view-kanban",children:[o.jsx(_de,{className:"h-4 w-4 mr-2"}),"Tablero"]})]})}),o.jsxs(ci,{open:i,onOpenChange:s,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{onClick:_,"data-testid":"button-add-task",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nueva Tarea"]})}),o.jsxs(ri,{className:"max-w-2xl",children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Nueva Tarea"}),o.jsx(Ss,{children:"Crea una nueva tarea general o personal"})]}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(De,{htmlFor:"titulo",children:"Ttulo *"}),o.jsx(Ge,{id:"titulo",value:d.titulo,onChange:A=>f({...d,titulo:A.target.value}),required:!0,"data-testid":"input-titulo"})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(De,{htmlFor:"descripcion",children:"Descripcin"}),o.jsx(jf,{id:"descripcion",value:d.descripcion,onChange:A=>f({...d,descripcion:A.target.value}),"data-testid":"textarea-descripcion"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"cliente",children:"Cliente"}),o.jsxs(qn,{value:d.clienteId||"none",onValueChange:A=>f({...d,clienteId:A==="none"?"":A}),children:[o.jsx(Ln,{"data-testid":"select-cliente",children:o.jsx(Un,{placeholder:"Sin cliente"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"none",children:"Sin cliente"}),y?.map(A=>o.jsx(it,{value:A.id,children:A.razonSocial},A.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"asignado",children:"Asignado a"}),o.jsxs(qn,{value:d.asignadoA||"none",onValueChange:A=>f({...d,asignadoA:A==="none"?"":A}),children:[o.jsx(Ln,{"data-testid":"select-asignado",children:o.jsx(Un,{placeholder:"Sin asignar"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"none",children:"Sin asignar"}),v?.map(A=>o.jsx(it,{value:A.id,children:A.username},A.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"prioridad",children:"Prioridad"}),o.jsxs(qn,{value:d.prioridad,onValueChange:A=>f({...d,prioridad:A}),children:[o.jsx(Ln,{"data-testid":"select-prioridad",children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"BAJA",children:"Baja"}),o.jsx(it,{value:"MEDIA",children:"Media"}),o.jsx(it,{value:"ALTA",children:"Alta"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"visibilidad",children:"Visibilidad"}),o.jsxs(qn,{value:d.visibilidad,onValueChange:A=>f({...d,visibilidad:A}),children:[o.jsx(Ln,{"data-testid":"select-visibilidad",children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"GENERAL",children:"General"}),o.jsx(it,{value:"PERSONAL",children:"Personal"})]})]})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(De,{htmlFor:"fechaVencimiento",children:"Fecha de Vencimiento"}),o.jsx(Ge,{id:"fechaVencimiento",type:"date",value:d.fechaVencimiento,onChange:A=>f({...d,fechaVencimiento:A.target.value}),"data-testid":"input-fecha-vencimiento"})]})]}),o.jsxs(va,{children:[o.jsx(Se,{type:"button",variant:"outline",onClick:()=>{s(!1),_()},children:"Cancelar"}),o.jsx(Se,{type:"submit","data-testid":"button-submit-task",children:"Crear Tarea"})]})]})]})]})]})]}),n==="table"?o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{children:["Lista de Tareas (",S.length,")"]})}),o.jsx(Qe,{children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Ttulo"}),o.jsx(Ot,{children:"Cliente"}),o.jsx(Ot,{children:"Asignado"}),o.jsx(Ot,{children:"Prioridad"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Vencimiento"}),o.jsx(Ot,{className:"text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:S.length===0?o.jsx(ir,{children:o.jsx(yt,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay tareas registradas"})}):S.map(A=>o.jsxs(ir,{"data-testid":`row-task-${A.id}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>C(A),children:[o.jsx(yt,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[A.visibilidad==="PERSONAL"&&o.jsx(z4,{className:"h-3 w-3 text-muted-foreground"}),A.titulo]})}),o.jsx(yt,{children:A.client?.razonSocial||"-"}),o.jsx(yt,{children:A.assignedUser?.username||"-"}),o.jsx(yt,{children:O(A.prioridad)}),o.jsx(yt,{children:M(A.estado)}),o.jsx(yt,{children:A.fechaVencimiento?new Date(A.fechaVencimiento).toLocaleDateString():"-"}),o.jsx(yt,{className:"text-right",onClick:P=>P.stopPropagation(),children:o.jsxs(qn,{value:A.estado,onValueChange:P=>b.mutate({id:A.id,estado:P}),children:[o.jsx(Ln,{className:"w-[140px]","data-testid":`select-estado-${A.id}`,children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"PENDIENTE",children:"Pendiente"}),o.jsx(it,{value:"EN_PROGRESO",children:"En Progreso"}),o.jsx(it,{value:"COMPLETADA",children:"Completada"})]})]})})]},A.id))})]})})]}):o.jsx(M3e,{onTaskClick:C,clients:y,users:v}),o.jsx(ZDe,{task:a,isOpen:c,onClose:()=>{u(!1),l(null)},clients:y,users:v})]})}function I3e(){Pr();const{user:t}=Jm(),[,e]=sl(),[n,r]=N.useState(""),[i,s]=N.useState(null),{data:a,isLoading:l}=rn({queryKey:["/api/manuals"]}),c=t?.permissions||[],u=Array.isArray(c)&&c.includes("manuals:create"),d=Array.isArray(c)&&c.includes("manuals:update"),f=u||d,m=a?.filter(p=>p.titulo.toLowerCase().includes(n.toLowerCase())||p.categoria?.toLowerCase().includes(n.toLowerCase()))||[];return l?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx(Kn,{className:"h-9 w-48"}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((p,y)=>o.jsx(Kn,{className:"h-48"},y))})]}):o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Manuales"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Base de conocimientos y documentacin interna"})]}),f&&o.jsxs(Se,{onClick:()=>e("/manuales/nuevo"),"data-testid":"button-nuevo-manual",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nuevo Manual"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(jy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ge,{placeholder:"Buscar manuales...",value:n,onChange:p=>r(p.target.value),className:"pl-10","data-testid":"input-search-manuals"})]}),m.length===0?o.jsx(Ze,{children:o.jsxs(Qe,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx(Ui,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay manuales disponibles"}),o.jsx("p",{className:"text-muted-foreground text-center mb-4",children:f?"Comienza creando tu primer manual":"An no se han publicado manuales"})]})}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(p=>o.jsxs(Ze,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/manuales/${p.id}`),"data-testid":`card-manual-${p.id}`,children:[o.jsxs(xt,{children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx(Ui,{className:"h-8 w-8 text-primary"}),p.publicado?o.jsx(ct,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):o.jsx(ct,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),o.jsx(St,{className:"mt-4",children:p.titulo}),o.jsx(Er,{children:p.categoria||"Sin categora"})]}),o.jsxs(Qe,{children:[p.etiquetas&&p.etiquetas.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.etiquetas.slice(0,3).map(y=>o.jsx(ct,{variant:"secondary",className:"text-xs",children:y},y))}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[o.jsx("span",{children:new Date(p.fechaCreacion).toLocaleDateString()}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:y=>{y.stopPropagation(),e(`/manuales/${p.id}`)},"data-testid":`button-view-${p.id}`,children:o.jsx(jm,{className:"h-4 w-4"})}),f&&o.jsxs(o.Fragment,{children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:y=>{y.stopPropagation(),e(`/manuales/${p.id}/editar`)},"data-testid":`button-edit-${p.id}`,children:o.jsx(td,{className:"h-4 w-4"})}),d&&o.jsx(Se,{variant:"ghost",size:"icon",onClick:async y=>{if(y.stopPropagation(),!!window.confirm(`Eliminar el manual "${p.titulo}"?`))try{s(p.id),await Jt("DELETE",`/api/manuals/${encodeURIComponent(p.id)}`),nn.setQueryData(["/api/manuals"],x=>Array.isArray(x)?x.filter(b=>b.id!==p.id):x),await nn.invalidateQueries({queryKey:["/api/manuals"],exact:!0})}catch(x){nn.invalidateQueries({queryKey:["/api/manuals"],exact:!0});const b=x?.message||"No se pudo eliminar";alert(b)}finally{s(null)}},disabled:i===p.id,"data-testid":`button-delete-${p.id}`,title:"Eliminar",children:o.jsx(ea,{className:"h-4 w-4"})})]})]})]})]})]},p.id))})]})}var SR=["Enter"," "],D3e=["ArrowDown","PageUp","Home"],pre=["ArrowUp","PageDown","End"],L3e=[...D3e,...pre],F3e={ltr:[...SR,"ArrowRight"],rtl:[...SR,"ArrowLeft"]},B3e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},C1="Menu",[I0,$3e,z3e]=J0(C1),[ag,mre]=wa(C1,[z3e,op,JE]),Z_=op(),gre=JE(),[q3e,og]=ag(C1),[U3e,k1]=ag(C1),vre=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=Z_(e),[c,u]=N.useState(null),d=N.useRef(!1),f=hs(s),m=My(i);return N.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(LE,{...l,children:o.jsx(q3e,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(U3e,{scope:e,onClose:N.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};vre.displayName=C1;var H3e="MenuAnchor",JD=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Z_(n);return o.jsx(s1,{...i,...r,ref:e})});JD.displayName=H3e;var eL="MenuPortal",[V3e,yre]=ag(eL,{forceMount:void 0}),xre=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=og(eL,e);return o.jsx(V3e,{scope:e,forceMount:n,children:o.jsx(Na,{present:n||s.open,children:o.jsx(_y,{asChild:!0,container:i,children:r})})})};xre.displayName=eL;var gc="MenuContent",[W3e,tL]=ag(gc),bre=N.forwardRef((t,e)=>{const n=yre(gc,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=og(gc,t.__scopeMenu),a=k1(gc,t.__scopeMenu);return o.jsx(I0.Provider,{scope:t.__scopeMenu,children:o.jsx(Na,{present:r||s.open,children:o.jsx(I0.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(K3e,{...i,ref:e}):o.jsx(G3e,{...i,ref:e})})})})}),K3e=N.forwardRef((t,e)=>{const n=og(gc,t.__scopeMenu),r=N.useRef(null),i=kn(e,r);return N.useEffect(()=>{const s=r.current;if(s)return KE(s)},[]),o.jsx(nL,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:wt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),G3e=N.forwardRef((t,e)=>{const n=og(gc,t.__scopeMenu);return o.jsx(nL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Y3e=Xh("MenuContent.ScrollLock"),nL=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...v}=t,x=og(gc,n),b=k1(gc,n),S=Z_(n),_=gre(n),j=$3e(n),[C,O]=N.useState(null),M=N.useRef(null),A=kn(e,M,x.onContentChange),P=N.useRef(0),B=N.useRef(""),R=N.useRef(0),F=N.useRef(null),q=N.useRef("right"),z=N.useRef(0),G=y?o1:N.Fragment,X=y?{as:Y3e,allowPinchZoom:!0}:void 0,U=Y=>{const ie=B.current+Y,Z=j().filter(pe=>!pe.disabled),I=document.activeElement,V=Z.find(pe=>pe.ref.current===I)?.textValue,Q=Z.map(pe=>pe.textValue),re=o6e(Q,ie,V),fe=Z.find(pe=>pe.textValue===re)?.ref.current;(function pe(ve){B.current=ve,window.clearTimeout(P.current),ve!==""&&(P.current=window.setTimeout(()=>pe(""),1e3))})(ie),fe&&setTimeout(()=>fe.focus())};N.useEffect(()=>()=>window.clearTimeout(P.current),[]),VE();const W=N.useCallback(Y=>q.current===F.current?.side&&c6e(Y,F.current?.area),[]);return o.jsx(W3e,{scope:n,searchRef:B,onItemEnter:N.useCallback(Y=>{W(Y)&&Y.preventDefault()},[W]),onItemLeave:N.useCallback(Y=>{W(Y)||(M.current?.focus(),O(null))},[W]),onTriggerLeave:N.useCallback(Y=>{W(Y)&&Y.preventDefault()},[W]),pointerGraceTimerRef:R,onPointerGraceIntentChange:N.useCallback(Y=>{F.current=Y},[]),children:o.jsx(G,{...X,children:o.jsx(a1,{asChild:!0,trapped:i,onMountAutoFocus:wt(s,Y=>{Y.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:o.jsx(kX,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:O,onEntryFocus:wt(c,Y=>{b.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(FE,{role:"menu","aria-orientation":"vertical","data-state":Dre(x.open),"data-radix-menu-content":"",dir:b.dir,...S,...v,ref:A,style:{outline:"none",...v.style},onKeyDown:wt(v.onKeyDown,Y=>{const Z=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,I=Y.ctrlKey||Y.altKey||Y.metaKey,V=Y.key.length===1;Z&&(Y.key==="Tab"&&Y.preventDefault(),!I&&V&&U(Y.key));const Q=M.current;if(Y.target!==Q||!L3e.includes(Y.key))return;Y.preventDefault();const fe=j().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);pre.includes(Y.key)&&fe.reverse(),s6e(fe)}),onBlur:wt(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(P.current),B.current="")}),onPointerMove:wt(t.onPointerMove,D0(Y=>{const ie=Y.target,Z=z.current!==Y.clientX;if(Y.currentTarget.contains(ie)&&Z){const I=Y.clientX>z.current?"right":"left";q.current=I,z.current=Y.clientX}}))})})})})})})});bre.displayName=gc;var X3e="MenuGroup",rL=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Bt.div,{role:"group",...r,ref:e})});rL.displayName=X3e;var Z3e="MenuLabel",wre=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Bt.div,{...r,ref:e})});wre.displayName=Z3e;var ES="MenuItem",AU="menu.itemSelect",Q_=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=N.useRef(null),a=k1(ES,t.__scopeMenu),l=tL(ES,t.__scopeMenu),c=kn(e,s),u=N.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const m=new CustomEvent(AU,{bubbles:!0,cancelable:!0});f.addEventListener(AU,p=>r?.(p),{once:!0}),P4(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(Nre,{...i,ref:c,disabled:n,onClick:wt(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:wt(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:wt(t.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||SR.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Q_.displayName=ES;var Nre=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=tL(ES,n),l=gre(n),c=N.useRef(null),u=kn(e,c),[d,f]=N.useState(!1),[m,p]=N.useState("");return N.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[s.children]),o.jsx(I0.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:o.jsx(TX,{asChild:!0,...l,focusable:!r,children:o.jsx(Bt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:wt(t.onPointerMove,D0(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wt(t.onPointerLeave,D0(y=>a.onItemLeave(y))),onFocus:wt(t.onFocus,()=>f(!0)),onBlur:wt(t.onBlur,()=>f(!1))})})})}),Q3e="MenuCheckboxItem",Sre=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return o.jsx(Cre,{scope:t.__scopeMenu,checked:n,children:o.jsx(Q_,{role:"menuitemcheckbox","aria-checked":_S(n)?"mixed":n,...i,ref:e,"data-state":sL(n),onSelect:wt(i.onSelect,()=>r?.(_S(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Sre.displayName=Q3e;var Ere="MenuRadioGroup",[J3e,e6e]=ag(Ere,{value:void 0,onValueChange:()=>{}}),_re=N.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=hs(r);return o.jsx(J3e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:o.jsx(rL,{...i,ref:e})})});_re.displayName=Ere;var jre="MenuRadioItem",Are=N.forwardRef((t,e)=>{const{value:n,...r}=t,i=e6e(jre,t.__scopeMenu),s=n===i.value;return o.jsx(Cre,{scope:t.__scopeMenu,checked:s,children:o.jsx(Q_,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":sL(s),onSelect:wt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Are.displayName=jre;var iL="MenuItemIndicator",[Cre,t6e]=ag(iL,{checked:!1}),kre=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=t6e(iL,n);return o.jsx(Na,{present:r||_S(s.checked)||s.checked===!0,children:o.jsx(Bt.span,{...i,ref:e,"data-state":sL(s.checked)})})});kre.displayName=iL;var n6e="MenuSeparator",Tre=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Tre.displayName=n6e;var r6e="MenuArrow",Ore=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Z_(n);return o.jsx(BE,{...i,...r,ref:e})});Ore.displayName=r6e;var i6e="MenuSub",[xYe,Pre]=ag(i6e),rb="MenuSubTrigger",Mre=N.forwardRef((t,e)=>{const n=og(rb,t.__scopeMenu),r=k1(rb,t.__scopeMenu),i=Pre(rb,t.__scopeMenu),s=tL(rb,t.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>d,[d]),N.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(JD,{asChild:!0,...u,children:o.jsx(Nre,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Dre(n.open),...t,ref:xf(e,i.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:wt(t.onPointerMove,D0(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:wt(t.onPointerLeave,D0(f=>{d();const m=n.content?.getBoundingClientRect();if(m){const p=n.content?.dataset.side,y=p==="right",v=y?-5:5,x=m[y?"left":"right"],b=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:wt(t.onKeyDown,f=>{const m=s.searchRef.current!=="";t.disabled||m&&f.key===" "||F3e[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});Mre.displayName=rb;var Rre="MenuSubContent",Ire=N.forwardRef((t,e)=>{const n=yre(gc,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=og(gc,t.__scopeMenu),a=k1(gc,t.__scopeMenu),l=Pre(Rre,t.__scopeMenu),c=N.useRef(null),u=kn(e,c);return o.jsx(I0.Provider,{scope:t.__scopeMenu,children:o.jsx(Na,{present:r||s.open,children:o.jsx(I0.Slot,{scope:t.__scopeMenu,children:o.jsx(nL,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:wt(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:wt(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:wt(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=B3e[a.dir].includes(d.key);f&&m&&(s.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});Ire.displayName=Rre;function Dre(t){return t?"open":"closed"}function _S(t){return t==="indeterminate"}function sL(t){return _S(t)?"indeterminate":t?"checked":"unchecked"}function s6e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function a6e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function o6e(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=a6e(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function l6e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],c=e[a],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function c6e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return l6e(n,e)}function D0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var u6e=vre,d6e=JD,f6e=xre,h6e=bre,p6e=rL,m6e=wre,g6e=Q_,v6e=Sre,y6e=_re,x6e=Are,b6e=kre,w6e=Tre,N6e=Ore,S6e=Mre,E6e=Ire,J_="DropdownMenu",[_6e]=wa(J_,[mre]),Po=mre(),[j6e,Lre]=_6e(J_),Fre=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,c=Po(e),u=N.useRef(null),[d,f]=xc({prop:i,defaultProp:s??!1,onChange:a,caller:J_});return o.jsx(j6e,{scope:e,triggerId:ya(),triggerRef:u,contentId:ya(),open:d,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(u6e,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Fre.displayName=J_;var Bre="DropdownMenuTrigger",$re=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Lre(Bre,n),a=Po(n);return o.jsx(d6e,{asChild:!0,...a,children:o.jsx(Bt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:xf(e,s.triggerRef),onPointerDown:wt(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:wt(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});$re.displayName=Bre;var A6e="DropdownMenuPortal",zre=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Po(e);return o.jsx(f6e,{...r,...n})};zre.displayName=A6e;var qre="DropdownMenuContent",Ure=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Lre(qre,n),s=Po(n),a=N.useRef(!1);return o.jsx(h6e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:wt(t.onCloseAutoFocus,l=>{a.current||i.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:wt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ure.displayName=qre;var C6e="DropdownMenuGroup",k6e=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(p6e,{...i,...r,ref:e})});k6e.displayName=C6e;var T6e="DropdownMenuLabel",Hre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(m6e,{...i,...r,ref:e})});Hre.displayName=T6e;var O6e="DropdownMenuItem",Vre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(g6e,{...i,...r,ref:e})});Vre.displayName=O6e;var P6e="DropdownMenuCheckboxItem",Wre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(v6e,{...i,...r,ref:e})});Wre.displayName=P6e;var M6e="DropdownMenuRadioGroup",R6e=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(y6e,{...i,...r,ref:e})});R6e.displayName=M6e;var I6e="DropdownMenuRadioItem",Kre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(x6e,{...i,...r,ref:e})});Kre.displayName=I6e;var D6e="DropdownMenuItemIndicator",Gre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(b6e,{...i,...r,ref:e})});Gre.displayName=D6e;var L6e="DropdownMenuSeparator",Yre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(w6e,{...i,...r,ref:e})});Yre.displayName=L6e;var F6e="DropdownMenuArrow",B6e=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(N6e,{...i,...r,ref:e})});B6e.displayName=F6e;var $6e="DropdownMenuSubTrigger",Xre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(S6e,{...i,...r,ref:e})});Xre.displayName=$6e;var z6e="DropdownMenuSubContent",Zre=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Po(n);return o.jsx(E6e,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zre.displayName=z6e;var q6e=Fre,U6e=$re,H6e=zre,Qre=Ure,Jre=Hre,eie=Vre,tie=Wre,nie=Kre,rie=Gre,iie=Yre,sie=Xre,aie=Zre;const ER=q6e,_R=U6e,V6e=N.forwardRef(({className:t,inset:e,children:n,...r},i)=>o.jsxs(sie,{ref:i,className:pt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,o.jsx(YK,{className:"ml-auto"})]}));V6e.displayName=sie.displayName;const W6e=N.forwardRef(({className:t,...e},n)=>o.jsx(aie,{ref:n,className:pt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));W6e.displayName=aie.displayName;const jS=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(H6e,{children:o.jsx(Qre,{ref:r,sideOffset:e,className:pt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));jS.displayName=Qre.displayName;const jl=N.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(eie,{ref:r,className:pt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));jl.displayName=eie.displayName;const K6e=N.forwardRef(({className:t,children:e,checked:n,...r},i)=>o.jsxs(tie,{ref:i,className:pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(rie,{children:o.jsx(D4,{className:"h-4 w-4"})})}),e]}));K6e.displayName=tie.displayName;const G6e=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(nie,{ref:r,className:pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(rie,{children:o.jsx(yde,{className:"h-2 w-2 fill-current"})})}),e]}));G6e.displayName=nie.displayName;const Y6e=N.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(Jre,{ref:r,className:pt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Y6e.displayName=Jre.displayName;const AS=N.forwardRef(({className:t,...e},n)=>o.jsx(iie,{ref:n,className:pt("-mx-1 my-1 h-px bg-muted",t),...e}));AS.displayName=iie.displayName;function X6e({open:t,filingData:e,onConfirm:n,onCancel:r}){const{toast:i}=Pr(),[s,a]=N.useState(new Date().toISOString().split("T")[0]),[l,c]=N.useState([]),[u,d]=N.useState(!1),[f,m]=N.useState({}),p=S=>{const _=Array.from(S.target.files||[]);if(_.filter(O=>O.type!=="application/pdf").length>0){i({title:"Archivos invlidos",description:"Solo se permiten archivos PDF",variant:"destructive"});return}if(_.filter(O=>O.size>10*1024*1024).length>0){i({title:"Archivos muy grandes",description:"El tamao mximo por archivo es 10MB",variant:"destructive"});return}c(O=>[...O,..._]),m(O=>({...O,files:void 0}))},y=S=>{c(_=>_.filter((j,C)=>C!==S))},v=()=>{const S={};if(!s)S.date="La fecha de presentacin es obligatoria";else{const _=new Date(s),j=new Date;j.setHours(23,59,59,999),_>j&&(S.date="La fecha de presentacin no puede ser futura")}return m(S),Object.keys(S).length===0},x=async()=>{if(v()){d(!0);try{await n(s,l),a(new Date().toISOString().split("T")[0]),c([]),m({})}catch(S){i({title:"Error al presentar",description:S?.message||"No se pudo completar la presentacin",variant:"destructive"})}finally{d(!1)}}},b=()=>{a(new Date().toISOString().split("T")[0]),c([]),m({}),r()};return e?o.jsx(ci,{open:t,onOpenChange:S=>!S&&!u&&b(),children:o.jsxs(ri,{className:"max-w-2xl",onInteractOutside:S=>S.preventDefault(),children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Marcar como Presentado"}),o.jsx(Ss,{children:"Complete la informacin de presentacin del modelo fiscal. Todos los campos son obligatorios."})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),o.jsx("p",{className:"font-medium",children:e.clientName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Modelo:"}),o.jsx("p",{className:"font-medium",children:e.taxModelCode})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Periodo:"}),o.jsx("p",{className:"font-medium",children:e.periodLabel})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Ao:"}),o.jsx("p",{className:"font-medium",children:e.year})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"presented-date",className:"text-sm font-medium",children:"Fecha de presentacin *"}),o.jsx(Ge,{id:"presented-date",type:"date",value:s,onChange:S=>{a(S.target.value),m(_=>({..._,date:void 0}))},max:new Date().toISOString().split("T")[0],className:f.date?"border-destructive":""}),f.date&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[o.jsx(io,{className:"h-3 w-3"}),f.date]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Documentos de presentacin (opcional)"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Adjunte los justificantes de presentacin si ya los tiene disponibles (solo archivos PDF, mximo 10MB cada uno). Podr aadirlos ms tarde si an no los tiene."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"file",id:"file-upload",accept:".pdf,application/pdf",multiple:!0,onChange:p,className:"hidden"}),o.jsxs(Se,{type:"button",variant:"outline",onClick:()=>document.getElementById("file-upload")?.click(),className:"w-full",disabled:u,children:[o.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Seleccionar archivos PDF"]})]}),l.length>0&&o.jsx("div",{className:"space-y-2",children:l.map((S,_)=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx(Ui,{className:"h-4 w-4 text-red-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:S.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(S.size/1024).toFixed(1)," KB"]})]})]}),o.jsx(Se,{type:"button",variant:"ghost",size:"icon",onClick:()=>y(_),disabled:u,className:"h-8 w-8 flex-shrink-0",children:o.jsx(bc,{className:"h-4 w-4"})})]},_))}),l.length===0&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[o.jsx(io,{className:"h-3 w-3"}),"Sin documentos adjuntos. Podr aadirlos ms tarde desde la tarjeta."]})]})]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:b,disabled:u,children:"Cancelar"}),o.jsx(Se,{onClick:x,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Iv,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):l.length===0?"Presentar sin documentos":`Presentar con ${l.length} documento(s)`})]})]})}):null}function Z6e({open:t,filingData:e,onClose:n}){const{toast:r}=Pr(),[i,s]=N.useState([]),[a,l]=N.useState([]),[c,u]=N.useState(!1);N.useEffect(()=>{t&&e&&d()},[t,e]);const d=async()=>{if(e){u(!0);try{const _=await fetch(`/api/documents?clientId=${e.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(_.ok){const C=(await _.json()).filter(O=>{try{return JSON.parse(O.description||"{}").filingId===e.id}catch{return!1}});s(C.map(O=>({id:O.id,name:O.name,fileName:O.file_name||"documento.pdf",fileSize:O.file_size||0,createdAt:O.created_at})))}if(e.notes)try{const j=JSON.parse(e.notes);j.history&&Array.isArray(j.history)&&l(j.history)}catch{l([])}}catch{r({title:"Error",description:"No se pudieron cargar los detalles",variant:"destructive"})}finally{u(!1)}}},f=async(_,j)=>{try{const C=await fetch(`/api/documents/${_}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!C.ok)throw new Error("Error al descargar");const O=await C.blob(),M=window.URL.createObjectURL(O),A=document.createElement("a");A.href=M,A.download=j,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(M),document.body.removeChild(A),r({title:"Descarga iniciada",description:`Descargando ${j}`})}catch{r({title:"Error",description:"No se pudo descargar el documento",variant:"destructive"})}},m=async()=>{for(const _ of i)await f(_.id,_.fileName),await new Promise(j=>setTimeout(j,500))},p=async _=>{if(confirm("Ests seguro de que quieres eliminar este documento?"))try{if(!(await fetch(`/api/documents/${_}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"})).ok)throw new Error("Error al eliminar");r({title:"Documento eliminado",description:"El documento ha sido eliminado correctamente"}),await d()}catch{r({title:"Error",description:"No se pudo eliminar el documento",variant:"destructive"})}},y=async()=>{const _=document.createElement("input");_.type="file",_.multiple=!0,_.accept=".pdf,.jpg,.jpeg,.png,.doc,.docx",_.onchange=async j=>{const C=Array.from(j.target.files||[]);if(C.length!==0){u(!0);try{const O={filingId:e.id,clientId:e.clientId,taxModelCode:e.taxModelCode,periodId:e.periodId,periodLabel:e.periodLabel||"",year:new Date().getFullYear(),filingStatus:e.status,linkedAt:new Date().toISOString()};for(const M of C){const A=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({name:M.name,file_name:M.name,type:"tax_filing_document",description:JSON.stringify(O),clientId:e.clientId,category:"TAX_FILING"})});if(!A.ok)throw new Error(`Error al crear documento: ${M.name}`);const P=await A.json(),B=new FormData;if(B.append("file",M),!(await fetch(`/api/documents/${P.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:B})).ok)throw new Error(`Error al subir archivo: ${M.name}`)}r({title:"Documentos subidos",description:`${C.length} documento(s) subido(s) correctamente`}),await d()}catch(O){r({title:"Error",description:O.message||"No se pudieron subir los documentos",variant:"destructive"})}finally{u(!1)}}},_.click()},v=_=>({NOT_STARTED:"PENDIENTE",IN_PROGRESS:"CALCULADO",PRESENTED:"PRESENTADO"})[_]||_,x=_=>{const j={NOT_STARTED:"bg-red-100 text-red-700",IN_PROGRESS:"bg-amber-100 text-amber-700",PRESENTED:"bg-green-100 text-green-700"};return o.jsx(ct,{className:j[_]||"bg-gray-100 text-gray-700",children:v(_)})},b=_=>new Date(_).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),S=_=>_<1024?`${_} B`:_<1024*1024?`${(_/1024).toFixed(1)} KB`:`${(_/(1024*1024)).toFixed(1)} MB`;return e?o.jsx(ci,{open:t,onOpenChange:n,children:o.jsxs(ri,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsx(ui,{children:o.jsx(di,{children:"Detalles de Presentacin Fiscal"})}),c?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Iv,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs(Sc,{defaultValue:"info",className:"space-y-4",children:[o.jsxs(Fl,{className:"grid w-full grid-cols-3",children:[o.jsxs(zn,{value:"info",children:[o.jsx(J2,{className:"h-4 w-4 mr-2"}),"Informacin"]}),o.jsxs(zn,{value:"documents",children:[o.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Documentos (",i.length,")"]}),o.jsxs(zn,{value:"history",children:[o.jsx(Am,{className:"h-4 w-4 mr-2"}),"Historial"]})]}),o.jsxs(sr,{value:"info",className:"space-y-4",children:[o.jsx("div",{className:"rounded-lg border p-4 space-y-3",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),o.jsx("p",{className:"font-medium",children:e.clientName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Modelo"}),o.jsx("p",{className:"font-medium",children:e.taxModelCode})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Periodo"}),o.jsx("p",{className:"font-medium",children:e.periodLabel})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ao"}),o.jsx("p",{className:"font-medium",children:e.year})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Estado actual"}),o.jsx("div",{className:"mt-1",children:x(e.status)})]}),e.presentedAt&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha de presentacin"}),o.jsx("p",{className:"font-medium",children:new Date(e.presentedAt).toLocaleDateString("es-ES")})]})]})}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Resumen"}),o.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[" ",i.length," documento(s) adjunto(s)"]}),o.jsxs("p",{children:[" ",a.length," cambio(s) de estado registrado(s)"]}),e.presentedAt&&o.jsxs("p",{children:[" Presentado hace ",Math.floor((Date.now()-new Date(e.presentedAt).getTime())/(1e3*60*60*24))," da(s)"]})]})]})]}),o.jsxs(sr,{value:"documents",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Se,{variant:"default",size:"sm",onClick:y,disabled:c,children:[o.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Subir documentos"]}),i.length>0&&o.jsxs(Se,{variant:"outline",size:"sm",onClick:m,children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"Descargar todos"]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Ui,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No hay documentos adjuntos"})]}):o.jsx("div",{className:"space-y-2",children:i.map(_=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(Ui,{className:"h-10 w-10 text-red-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:_.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.fileName,"  ",S(_.fileSize)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Subido el ",b(_.createdAt)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>f(_.id,_.fileName),title:"Descargar documento",children:o.jsx(Da,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>p(_.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Eliminar documento",children:o.jsx(ea,{className:"h-4 w-4"})})]})]},_.id))})]}),o.jsx(sr,{value:"history",className:"space-y-4",children:a.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Am,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No hay historial de cambios disponible"})]}):o.jsx("div",{className:"space-y-3",children:a.map((_,j)=>o.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border bg-card",children:[o.jsx("div",{className:"mt-1",children:x(_.status)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:["Cambio a ",v(_.status)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:b(_.timestamp)}),_.userName&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["por ",_.userName]})]})]},j))})})]})]})}):null}function ej(){const[t,e]=sl(),n=t?.startsWith("/impuestos/calendario")?"calendar":t?.startsWith("/impuestos/modelos")?"models":t?.startsWith("/impuestos/reportes")?"reports":"control",r=i=>{if(i==="control")return e("/impuestos/control");if(i==="calendar")return e("/impuestos/calendario");if(i==="models")return e("/impuestos/modelos");if(i==="reports")return e("/impuestos/reportes")};return o.jsx(Sc,{value:n,onValueChange:r,className:"space-y-6",children:o.jsxs(Fl,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[o.jsxs(zn,{value:"control",children:[o.jsx(kde,{className:"h-4 w-4 mr-2"}),"Control de impuestos"]}),o.jsxs(zn,{value:"calendar",children:[o.jsx(Z2,{className:"h-4 w-4 mr-2"}),"Calendario fiscal"]}),o.jsxs(zn,{value:"models",children:[o.jsx(eG,{className:"h-4 w-4 mr-2"}),"Modelos"]}),o.jsxs(zn,{value:"reports",children:[o.jsx(pde,{className:"h-4 w-4 mr-2"}),"Reportes"]})]})})}async function tj(){const t=localStorage.getItem("token"),e=await fetch("/api/tax-models",{method:"GET",headers:{Authorization:`Bearer ${t}`},credentials:"include"});if(!e.ok){const n=await e.json().catch(()=>({error:"Error al obtener modelos"}));throw new Error(n.error||"No se pudieron obtener los modelos")}return e.json()}async function Q6e(t){const e=localStorage.getItem("token"),n=await fetch("/api/tax-models",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({error:"Error al crear modelo"}));throw new Error(r.error||"No se pudo crear el modelo")}return n.json()}async function J6e(t,e){const n=localStorage.getItem("token"),r=await fetch(`/api/tax-models/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const i=await r.json().catch(()=>({error:"Error al actualizar modelo"}));throw new Error(i.error||"No se pudo actualizar el modelo")}return r.json()}async function eFe(t){const e=localStorage.getItem("token"),n=await fetch(`/api/tax-models/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>({error:"Error al eliminar modelo"}));throw new Error(r.error||"No se pudo eliminar el modelo")}}const tFe=[{value:"ALL",label:"Todas"},{value:"MONTHLY",label:"Mensual"},{value:"QUARTERLY",label:"Trimestral"},{value:"ANNUAL",label:"Anual"},{value:"SPECIAL",label:"Especial 202"}];function nFe(){const{toast:t}=Pr(),[e,n]=N.useState(new Date().getFullYear()),[r,i]=N.useState("all"),[s,a]=N.useState("all"),[l,c]=N.useState(""),[u,d]=N.useState(""),[f,m]=N.useState(""),[p,y]=N.useState(""),[v,x]=N.useState("ALL"),[b,S]=N.useState(!1),[_,j]=N.useState(null),[C,O]=N.useState(null),M=$ne(wS(Jne,{activationConstraint:{distance:6}}),wS(ere,{activationConstraint:{delay:120,tolerance:8}}));N.useEffect(()=>(window.openFilingDetails=ie=>{O({id:ie.id,clientId:ie.clientId,clientName:ie.clientName,taxModelCode:ie.taxModelCode,periodLabel:ie.periodLabel||"",year:e,status:ie.status,presentedAt:void 0,notes:void 0})},window.replaceFilingDocuments=ie=>{j({filingId:ie.id,clientId:ie.clientId,clientName:ie.clientName,taxModelCode:ie.taxModelCode,periodId:ie.periodId,periodLabel:ie.periodLabel||"",year:e,previousStatus:ie.status})},()=>{delete window.openFilingDetails,delete window.replaceFilingDocuments}),[e]);const A=rn({queryKey:["/api/clients"],staleTime:6e4}),P=rn({queryKey:["/api/tax/filings",e,r,s,u,f,p,l,b],queryFn:async()=>{const ie=new URLSearchParams;ie.set("year",String(e)),r&&r!=="all"&&ie.set("clientId",r),s!=="all"&&ie.set("status",s),u&&u!=="ALL"&&ie.set("model",u),f&&ie.set("gestorId",f),p&&ie.set("periodId",p),l&&ie.set("q",l.trim()),b&&ie.set("includeClosedPeriods","true");const Z=`/api/tax/filings${ie.toString()?`?${ie.toString()}`:""}`,I=await fetch(Z,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!I.ok)throw new Error("No se pudieron cargar los datos");return I.json()},staleTime:3e4,refetchOnWindowFocus:!1,retry:1}),B=rn({queryKey:["/api/tax/periods",e],queryFn:async()=>{const ie=await fetch(`/api/tax/periods?year=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!ie.ok)throw new Error("No se pudieron cargar periodos");return ie.json()},staleTime:6e4});N.useEffect(()=>{if(!p)return;(B.data??[]).some(I=>I.id===p&&(v==="ALL"||I.kind===v))||y("")},[v,p,B.data]);const R=hn({mutationFn:async({id:ie,status:Z,presentedAt:I})=>Jt("PATCH",`/api/tax/filings/${ie}`,{status:Z,presentedAt:I??null}),onError:ie=>{t({title:"Error",description:ie?.message??"No se pudo actualizar el estado",variant:"destructive"}),P.refetch()},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1})}}),F=P.data??[],q=ie=>{const Z=(ie||"").toUpperCase();return Z==="PRESENTADO"?"PRESENTADO":Z==="CALCULADO"||Z==="IN_PROGRESS"||Z==="COMPLETADO"||Z==="COMPLETED"?"CALCULADO":"PENDIENTE"},{data:z=[]}=rn({queryKey:["/api/tax-models"],queryFn:tj}),G=N.useMemo(()=>{const ie=z.map(V=>({code:V.code,name:V.name})),Z=Object.entries(U_).map(([V,Q])=>({code:V,name:Q.name})),I=new Map;return Z.forEach(V=>I.set(V.code,V)),ie.forEach(V=>I.set(V.code,V)),Array.from(I.values()).sort((V,Q)=>V.code.localeCompare(Q.code))},[z]),X=N.useMemo(()=>{const ie={PENDIENTE:[],CALCULADO:[],PRESENTADO:[]};return F.forEach(Z=>{const I=String(Z.periodKind??"").toUpperCase();if(v!=="ALL"&&I!==v)return;const V=q(Z.status);if(s==="all"||V===s){const Q=V in ie?V:"PENDIENTE";ie[Q].push({...Z,status:Q})}}),ie},[F,s,v]),U=ie=>{const Z=String(ie.active.id),I=ie.over?.id;if(!I)return;const V=F.find(Q=>Q.id===Z);if(!(!V||V.status===I)){if(I==="PRESENTADO"){j({filingId:V.id,clientId:V.clientId,clientName:V.clientName,taxModelCode:V.taxModelCode,periodId:V.periodId,periodLabel:V.periodLabel||"",year:e,previousStatus:V.status});return}if(nn.setQueriesData({queryKey:["/api/tax/filings"],exact:!1},Q=>Array.isArray(Q)?Q.map(re=>re.id===V.id?{...re,status:I}:re):Q),V.status==="PRESENTADO"){window.prompt("Motivo del cambio de estado (salir de Presentado)"),R.mutate({id:V.id,status:I,presentedAt:null});return}R.mutate({id:V.id,status:I})}},W=async(ie,Z)=>{if(!_)return;const I=_.previousStatus==="PRESENTADO";try{if(I){const fe=await fetch(`/api/documents?clientId=${_.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(fe.ok){const ve=(await fe.json()).filter(de=>{try{return JSON.parse(de.description||"{}").filingId===_.filingId}catch{return!1}});for(const de of ve)await fetch(`/api/documents/${de.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({status:"archived"})})}}const V=[];for(const fe of Z){const pe={filingId:_.filingId,clientId:_.clientId,taxModelCode:_.taxModelCode,periodId:_.periodId,periodLabel:_.periodLabel,year:_.year,filingStatus:"PRESENTED",linkedAt:new Date().toISOString()},ve=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({type:"tax_filing_document",name:`${_.taxModelCode} - ${_.periodLabel} - ${fe.name}`,description:JSON.stringify(pe),clientId:_.clientId})});if(!ve.ok)throw new Error("Error al crear documento");const de=await ve.json();V.push(de.id);const be=new FormData;if(be.append("file",fe),!(await fetch(`/api/documents/${de.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:be})).ok)throw new Error("Error al subir archivo")}const re={history:[{status:"PRESENTED",timestamp:new Date().toISOString()}],documentIds:V};await Jt("PATCH",`/api/tax/filings/${_.filingId}`,{status:"PRESENTED",presentedAt:ie,notes:JSON.stringify(re)}),nn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1}),t({title:I?"Documentos reemplazados":"Presentacin registrada",description:I?`Documentos del modelo ${_.taxModelCode} reemplazados correctamente (${Z.length} nuevo(s))`:`Modelo ${_.taxModelCode} marcado como presentado con ${Z.length} documento(s)`}),j(null)}catch(V){throw t({title:"Error",description:V?.message||"No se pudo completar la presentacin",variant:"destructive"}),V}},Y=()=>{j(null)};return o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),o.jsx(ej,{}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Impuestos 360"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tablero de presentaciones fiscales"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx(Ge,{placeholder:"Buscar cliente, NIF o modelo...",value:l,onChange:ie=>c(ie.target.value),className:"w-64"}),o.jsx(Se,{variant:"ghost",onClick:()=>c(""),children:"Limpiar"}),o.jsx(Ge,{type:"number",value:e,onChange:ie=>n(Number(ie.target.value)),className:"w-24"}),o.jsxs(qn,{value:v,onValueChange:ie=>x(ie),children:[o.jsx(Ln,{className:"w-40",children:o.jsx(Un,{placeholder:"Periodicidad"})}),o.jsx(Fn,{children:tFe.map(ie=>o.jsx(it,{value:ie.value,children:ie.label},ie.value))})]}),o.jsxs(qn,{value:p,onValueChange:y,children:[o.jsx(Ln,{className:"w-64",children:o.jsx(Un,{placeholder:"Periodo"})}),o.jsx(Fn,{children:(B.data??[]).filter(ie=>v==="ALL"?!0:ie.kind===v).map(ie=>o.jsxs(it,{value:ie.id,children:[ie.label," / ",ie.year]},ie.id))})]}),o.jsxs(qn,{value:s,onValueChange:ie=>a(ie),children:[o.jsx(Ln,{className:"w-40",children:o.jsx(Un,{placeholder:"Estado"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"all",children:"Todos"}),o.jsx(it,{value:"PENDIENTE",children:"Pendiente"}),o.jsx(it,{value:"CALCULADO",children:"Calculado"}),o.jsx(it,{value:"PRESENTADO",children:"Presentado"})]})]}),o.jsxs(qn,{value:r,onValueChange:i,children:[o.jsx(Ln,{className:"w-64",children:o.jsx(Un,{placeholder:"Cliente"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"all",children:"Todos"}),(A.data??[]).map(ie=>o.jsx(it,{value:ie.id,children:ie.razonSocial},ie.id))]})]}),o.jsxs(qn,{value:u||"ALL",onValueChange:ie=>d(ie),children:[o.jsx(Ln,{className:"w-56",children:o.jsx(Un,{placeholder:"Modelo"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"ALL",children:"Todos"}),G.map(ie=>o.jsxs(it,{value:ie.code,children:[ie.code,"  ",ie.name]},ie.code))]})]}),o.jsx(Ge,{placeholder:"Gestor (ID)",value:f,onChange:ie=>m(ie.target.value),className:"w-40"}),o.jsx(Se,{variant:"outline",onClick:async()=>{if((B.data??[]).length===0&&window.confirm("No hay periodos para este ao. Crear ao fiscal ahora?")){const I=await fetch("/api/tax/periods/create-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:e})});if(I.ok)await B.refetch(),t({title:"Ao fiscal creado",description:`Se han creado periodos base para ${e}`});else{try{const V=await I.json();t({title:"Error",description:V?.error||"No se pudo crear el ao fiscal",variant:"destructive"})}catch{t({title:"Error",description:"No se pudo crear el ao fiscal",variant:"destructive"})}return}}const ie=await fetch("/api/tax/filings/ensure-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:e})});if(ie.ok){try{const Z=await ie.json();t({title:"Tarjetas generadas",description:`Ao ${e}`})}catch{}P.refetch()}else try{const Z=await ie.json();t({title:"Error",description:Z?.error||"No se pudieron generar las tarjetas",variant:"destructive"})}catch{t({title:"Error",description:"No se pudieron generar las tarjetas",variant:"destructive"})}},children:"Generar tarjetas"}),o.jsxs("div",{className:"flex items-center gap-2 border-l pl-2",children:[o.jsx("input",{type:"checkbox",id:"includeClosedPeriods",checked:b,onChange:ie=>S(ie.target.checked),className:"h-4 w-4 rounded border-gray-300"}),o.jsx("label",{htmlFor:"includeClosedPeriods",className:"text-sm font-medium cursor-pointer",children:"Incluir periodos cerrados"})]})]})]}),P.isLoading?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Kn,{className:"h-12 w-full"}),o.jsx(Kn,{className:"h-[420px] w-full"})]}):F.length===0?o.jsxs("div",{className:"rounded-xl border p-12 text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:"No hay tarjetas para este ao."}),o.jsxs("p",{className:"mt-1",children:["Usa el botn ",o.jsx("span",{className:"font-semibold",children:"Generar tarjetas"})," para crearlas a partir de las asignaciones activas."]})]}):o.jsx(sre,{sensors:M,collisionDetection:Hne,onDragEnd:U,children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx(XT,{title:"Pendiente",accent:"bg-red-50 border-red-200",badge:"bg-red-100 text-red-700",items:X.PENDIENTE}),o.jsx(XT,{title:"Calculado",accent:"bg-amber-50 border-amber-200",badge:"bg-amber-100 text-amber-700",items:X.CALCULADO}),o.jsx(XT,{title:"Presentado",accent:"bg-emerald-50 border-emerald-200",badge:"bg-emerald-100 text-emerald-700",items:X.PRESENTADO})]})}),o.jsx(X6e,{open:!!_,filingData:_,onConfirm:W,onCancel:Y}),o.jsx(Z6e,{open:!!C,filingData:C,onClose:()=>O(null)})]})}function XT({title:t,accent:e,badge:n,items:r}){const i=t.toUpperCase(),{setNodeRef:s,isOver:a}=ore({id:i});return o.jsxs("div",{ref:s,id:i,className:`relative flex h-full min-h-[320px] flex-col gap-3 rounded-xl border p-4 ${e} ${a?"ring-2 ring-primary/40":""}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:t}),o.jsx(ct,{variant:"secondary",className:"bg-background text-muted-foreground",children:r.length})]}),o.jsx(iFe,{items:r,renderItem:l=>o.jsx(rFe,{item:l,badgeClass:n},l.id)})]})}function rFe({item:t,badgeClass:e}){const n=t.calendarStatus==="CERRADO",{attributes:r,listeners:i,setNodeRef:s,transform:a,isDragging:l}=are({id:t.id,disabled:n}),c=a?{transform:`translate3d(${a.x}px, ${a.y}px, 0)`}:void 0,[u,d]=N.useState(!1),[f,m]=N.useState(0),[p,y]=N.useState(!1),{toast:v}=Pr();N.useEffect(()=>{t.status==="PRESENTADO"&&x()},[t.id,t.status]);const x=async()=>{try{const O=await fetch(`/api/documents?clientId=${t.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(O.ok){const A=(await O.json()).filter(P=>{try{return JSON.parse(P.description||"{}").filingId===t.id}catch{return!1}});m(A.length)}}catch{}},b=async()=>{y(!0);try{const O=await fetch(`/api/documents?clientId=${t.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(O.ok){const A=(await O.json()).filter(P=>{try{return JSON.parse(P.description||"{}").filingId===t.id}catch{return!1}});if(A.length===0){v({title:"Sin documentos",description:"No hay documentos adjuntos para descargar",variant:"destructive"});return}for(const P of A){const B=await fetch(`/api/documents/${P.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(B.ok){const R=await B.blob(),F=window.URL.createObjectURL(R),q=document.createElement("a");q.href=F,q.download=P.file_name||`documento-${P.id}.pdf`,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL(F),document.body.removeChild(q)}await new Promise(R=>setTimeout(R,300))}v({title:"Descarga completada",description:`${A.length} documento(s) descargado(s)`})}}catch{v({title:"Error",description:"No se pudieron descargar los documentos",variant:"destructive"})}finally{y(!1)}},S=()=>{typeof window.openFilingDetails=="function"&&window.openFilingDetails(t)},_=()=>{typeof window.replaceFilingDocuments=="function"&&window.replaceFilingDocuments(t)},j=async O=>{try{if(O==="PRESENTADO"){const M=window.prompt("Fecha de presentacin (YYYY-MM-DD)",new Date().toISOString().slice(0,10));if(!M)return;await Jt("PATCH",`/api/tax/filings/${t.id}`,{status:O,presentedAt:M}),v({title:"Actualizado",description:`Marcado como PRESENTADO (${M})`})}else await Jt("PATCH",`/api/tax/filings/${t.id}`,{status:O,presentedAt:null}),v({title:"Actualizado",description:`Estado cambiado a ${O}`});nn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1})}catch(M){v({title:"Error",description:M?.message||"No se pudo actualizar",variant:"destructive"})}},C=U_[t.taxModelCode];return o.jsxs("div",{ref:s,id:t.id,...n?{}:i,...n?{}:r,style:c,className:`rounded-lg border transition-all duration-200 ${n?"bg-gray-50 border-gray-300 opacity-60 cursor-not-allowed":l?"bg-white opacity-80 ring-2 ring-primary/50 shadow-lg":"bg-white shadow-sm hover:shadow-md"} ${u?"p-4 shadow-xl":"p-3"}`,children:[o.jsxs("div",{className:"cursor-pointer select-none",onClick:O=>{l||(O.stopPropagation(),d(!u))},children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"truncate text-sm font-semibold text-foreground",children:t.clientName}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(ct,{variant:"outline",className:`text-xs font-mono ${e}`,children:t.taxModelCode}),o.jsx("span",{className:"text-xs text-muted-foreground",children:t.periodLabel||"Sin periodo"})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx(ct,{variant:t.status==="PRESENTADO"?"default":"secondary",className:"text-xs whitespace-nowrap",children:t.status}),n&&o.jsx(ct,{variant:"outline",className:"text-xs bg-gray-200 text-gray-700",children:"CERRADO"}),t.status==="PRESENTADO"&&f>0&&o.jsxs(ct,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 flex items-center gap-1",children:[o.jsx(Zh,{className:"h-3 w-3"}),f]}),t.status==="PRESENTADO"&&f===0&&o.jsxs(ct,{variant:"outline",className:"text-xs bg-amber-50 text-amber-700 border-amber-200 flex items-center gap-1",children:[o.jsx(Qo,{className:"h-3 w-3"}),"Sin docs"]}),u&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"Click para cerrar"})]})]}),t.status==="PRESENTADO"&&f===0&&!u&&o.jsxs(Se,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),_()},className:"w-full text-xs bg-amber-50 border-amber-300 hover:bg-amber-100 text-amber-900 flex items-center justify-center gap-2",children:[o.jsx(Qo,{className:"h-3 w-3"}),"Subir documentos ahora"]})]}),t.status==="PRESENTADO"&&!u&&o.jsx("div",{className:"absolute top-2 right-2",onClick:O=>O.stopPropagation(),children:o.jsxs(ER,{children:[o.jsx(_R,{asChild:!0,children:o.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-70 hover:opacity-100",disabled:p,children:o.jsx(QK,{className:"h-4 w-4"})})}),o.jsxs(jS,{align:"end",className:"w-56",children:[o.jsxs(jl,{onClick:S,className:"gap-2",children:[o.jsx(jm,{className:"h-4 w-4"}),"Ver detalles e historial"]}),f>0&&o.jsxs(o.Fragment,{children:[o.jsxs(jl,{onClick:b,className:"gap-2",disabled:p,children:[o.jsx(Da,{className:"h-4 w-4"}),"Descargar documentos (",f,")"]}),o.jsx(AS,{}),o.jsxs(jl,{onClick:_,className:"gap-2",children:[o.jsx(Bb,{className:"h-4 w-4"}),"Reemplazar documentos"]})]}),f===0&&o.jsxs(o.Fragment,{children:[o.jsx(jl,{disabled:!0,className:"text-xs text-muted-foreground italic",children:"Sin documentos adjuntos"}),o.jsx(AS,{}),o.jsxs(jl,{onClick:_,className:"gap-2 text-blue-600",children:[o.jsx(Qo,{className:"h-4 w-4"}),"Subir documentos ahora"]})]})]})]})})]}),u&&o.jsxs("div",{className:"mt-4 space-y-3 border-t pt-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Informacin del Modelo"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Modelo:"}),o.jsx("span",{className:"ml-1 font-medium",children:t.taxModelCode})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Nombre:"}),o.jsx("span",{className:"ml-1 font-medium",children:C?.name||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Datos del Cliente"}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Razn Social:"}),o.jsx("span",{className:"ml-1 font-medium",children:t.clientName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"NIF/CIF:"}),o.jsx("span",{className:"ml-1 font-mono font-medium",children:t.nifCif})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"ID Cliente:"}),o.jsx("span",{className:"ml-1 font-mono text-muted-foreground",children:t.clientId})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Periodo Fiscal"}),o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"Periodo:"}),o.jsx("span",{className:"ml-1 font-medium",children:t.periodLabel||"Sin asignar"})]}),o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID Periodo:"}),o.jsx("span",{className:"ml-1 font-mono text-muted-foreground",children:t.periodId})]})]}),t.status==="PRESENTADO"&&o.jsxs("div",{className:"space-y-2 border-t pt-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Documentos Adjuntos"}),f>0&&o.jsxs(ct,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[f," archivo(s)"]})]}),f===0?o.jsxs("div",{className:"text-xs text-muted-foreground italic bg-amber-50 border border-amber-200 rounded p-3",children:[o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Qo,{className:"h-3 w-3"}),"No hay documentos adjuntos todava"]}),o.jsxs(Se,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),_()},className:"mt-2 w-full text-xs bg-white hover:bg-amber-100",children:[o.jsx(Qo,{className:"h-3 w-3 mr-1"}),"Subir documentos"]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-xs text-green-700 bg-green-50 border border-green-200 rounded p-2 flex items-center gap-2",children:[o.jsx(Zh,{className:"h-3 w-3"}),f," documento(s) adjunto(s)"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Se,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),b()},disabled:p,className:"flex-1 text-xs",children:[o.jsx(Da,{className:"h-3 w-3 mr-1"}),"Descargar"]}),o.jsxs(Se,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),S()},className:"flex-1 text-xs",children:[o.jsx(jm,{className:"h-3 w-3 mr-1"}),"Ver detalles"]})]})]})]}),o.jsxs("div",{className:"space-y-2 border-t pt-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Cambiar Estado"}),n?o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Este periodo est cerrado. No se pueden realizar cambios."}):o.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.status!=="PENDIENTE"&&o.jsx(Se,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),j("PENDIENTE")},className:"flex-1 text-xs",children:" Pendiente"}),t.status!=="CALCULADO"&&o.jsx(Se,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),j("CALCULADO")},className:"flex-1 text-xs",children:" Calculado"}),t.status!=="PRESENTADO"&&o.jsx(Se,{size:"sm",onClick:O=>{O.stopPropagation(),j("PRESENTADO")},className:"flex-1 text-xs",children:" Presentado"})]})]}),o.jsx("div",{className:"text-xs text-muted-foreground border-t pt-2",children:o.jsxs("span",{className:"font-mono",children:["ID: ",t.id]})})]})]})}function iFe({items:t,renderItem:e}){const n=N.useRef(null);return t.length===0?o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"mt-6 text-center text-xs text-muted-foreground",children:"Sin asignaciones."})}):o.jsx("div",{ref:n,className:"flex-1 overflow-auto space-y-3",children:t.map(r=>o.jsx("div",{children:e(r)},r.id))})}async function sFe(){const t=localStorage.getItem("token"),e=await fetch("/api/tax/calendar/download-template",{method:"GET",headers:{Authorization:`Bearer ${t}`},credentials:"include"});if(!e.ok){const s=await e.json().catch(()=>({error:"Error al descargar la plantilla"}));throw new Error(s.error||"No se pudo descargar la plantilla")}const n=await e.blob(),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="plantilla-calendario-fiscal.xlsx",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}async function aFe(t){const e=localStorage.getItem("token"),n=new FormData;n.append("file",t);const r=await fetch("/api/tax/calendar/import-excel",{method:"POST",headers:{Authorization:`Bearer ${e}`},credentials:"include",body:n}),i=await r.json();if(!r.ok){if(i.result)return i.result;throw new Error(i.error||"Error al importar el archivo")}return i.result}function oFe({open:t,onClose:e,onImportSuccess:n}){const{toast:r}=Pr(),[i,s]=N.useState(null),[a,l]=N.useState(!1),[c,u]=N.useState(null),d=p=>{const y=p.target.files?.[0];if(y){if(!(y.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||y.name.endsWith(".xlsx"))){r({title:"Archivo invlido",description:"Por favor selecciona un archivo Excel (.xlsx)",variant:"destructive"});return}s(y),u(null)}},f=async()=>{if(!i){r({title:"No hay archivo",description:"Por favor selecciona un archivo Excel para importar",variant:"destructive"});return}l(!0);try{const p=await aFe(i);u(p),p.success?(r({title:"Importacin exitosa",description:`Se importaron ${p.imported} periodos correctamente`}),n()):r({title:"Importacin con errores",description:"Revisa el detalle de errores a continuacin",variant:"destructive"})}catch(p){r({title:"Error en la importacin",description:p?.message||"No se pudo procesar el archivo",variant:"destructive"}),u({imported:0,errors:[p?.message||"Error desconocido"],duplicates:[],success:!1})}finally{l(!1)}},m=()=>{s(null),u(null),e()};return o.jsx(ci,{open:t,onOpenChange:m,children:o.jsxs(ri,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Importar Calendario Fiscal desde Excel"}),o.jsx(Ss,{children:"Sube un archivo Excel con los periodos fiscales a importar. Descarga primero la plantilla para conocer el formato correcto."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-md border p-4 bg-muted/50",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Formato del archivo Excel:"}),o.jsxs("ul",{className:"text-sm space-y-1 ml-4 list-disc",children:[o.jsxs("li",{children:[o.jsx("strong",{children:'Hoja "Periodos"'})," con las columnas:"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"modelCode*"})," - Cdigo del modelo (ej: 303, 111, 130)"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"period*"})," - Periodo (ej: 1T, 2T, M01, ANUAL)"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"year*"})," - Ao (ej: 2025)"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"startDate*"})," - Fecha inicio (DD/MM/YYYY o YYYY-MM-DD)"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"endDate*"})," - Fecha fin (DD/MM/YYYY o YYYY-MM-DD)"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"active"})," - SI o NO (por defecto: SI)"]}),o.jsxs("li",{className:"ml-4",children:[o.jsx("code",{className:"bg-background px-1 rounded",children:"locked"})," - SI o NO (por defecto: NO)"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Los campos marcados con ",o.jsx("code",{children:"*"})," son obligatorios."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"excel-file",className:"block text-sm font-medium text-foreground",children:"Seleccionar archivo Excel"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:"excel-file",type:"file",accept:".xlsx",onChange:d,disabled:a,className:"block w-full text-sm text-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90 disabled:opacity-50"}),i&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(Fb,{className:"h-4 w-4"}),i.name]})]})]}),c&&o.jsxs("div",{className:"rounded-md border p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[c.success?o.jsx(Co,{className:"h-5 w-5 text-green-600"}):o.jsx(ed,{className:"h-5 w-5 text-destructive"}),o.jsx("h4",{className:"font-semibold",children:c.success?"Importacin completada":"Importacin con errores"})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Registros importados:"})," ",c.imported]}),c.duplicates.length>0&&o.jsxs("div",{children:[o.jsxs("strong",{className:"text-yellow-600",children:["Duplicados omitidos (",c.duplicates.length,"):"]}),o.jsx("ul",{className:"ml-4 mt-1 space-y-1 max-h-32 overflow-y-auto",children:c.duplicates.map((p,y)=>o.jsx("li",{className:"text-yellow-700",children:p},y))})]}),c.errors.length>0&&o.jsxs("div",{children:[o.jsxs("strong",{className:"text-destructive",children:["Errores (",c.errors.length,"):"]}),o.jsx("ul",{className:"ml-4 mt-1 space-y-1 max-h-32 overflow-y-auto",children:c.errors.map((p,y)=>o.jsx("li",{className:"text-destructive",children:p},y))})]})]})]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:m,disabled:a,children:c?.success?"Cerrar":"Cancelar"}),!c?.success&&o.jsx(Se,{onClick:f,disabled:!i||a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(Iv,{className:"mr-2 h-4 w-4 animate-spin"}),"Importando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Qo,{className:"mr-2 h-4 w-4"}),"Importar"]})})]})]})})}function lFe(){const{toast:t}=Pr(),e=Xm(),n=new Date().getFullYear(),[r,i]=N.useState(n),[s,a]=N.useState("TODAS"),[l,c]=N.useState("ALL"),[u,d]=N.useState("TODOS"),[f,m]=N.useState(""),[p,y]=N.useState(!1),[v,x]=N.useState({modelCode:"",period:"",startDate:"",endDate:""}),[b,S]=N.useState({}),[_,j]=N.useState("end"),[C,O]=N.useState("asc"),[M,A]=N.useState("calendar"),[P,B]=N.useState(!1),{data:R=[],refetch:F}=rn({queryKey:["/api/tax/calendar",r,s,l,u],queryFn:async()=>{const ae=new URLSearchParams;ae.set("year",String(r)),l&&l!=="ALL"&&ae.set("model",l),s==="MENSUAL"&&ae.set("periodicity","monthly"),s==="TRIMESTRAL"&&ae.set("periodicity","quarterly"),s==="ANUAL"&&ae.set("periodicity","annual"),s==="ESPECIAL"&&ae.set("periodicity","special"),u!=="TODOS"&&ae.set("status",u);const Oe=await fetch(`/api/tax/calendar?${ae.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!Oe.ok)throw new Error("No se pudo cargar el calendario");return Oe.json()},staleTime:3e4}),q=hn({mutationFn:async ae=>fetch("/api/tax/calendar/create-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:ae})}).then(Oe=>{if(!Oe.ok)throw new Error("No se pudo crear el ao");return Oe.json()}),onSuccess:()=>{F(),t({title:"Ao fiscal creado",description:`Se ha creado el ao ${r}`})}}),z=hn({mutationFn:async ae=>{const Oe=await fetch("/api/tax/calendar/generate-aeat-calendar",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:ae})});if(!Oe.ok){const ee=await Oe.json();throw new Error(ee.error||"No se pudo generar el calendario")}return Oe.json()},onSuccess:ae=>{F(),t({title:"Calendario AEAT generado",description:ae.message||"Se han generado todos los periodos fiscales"})},onError:ae=>{t({title:"Error",description:ae.message||"No se pudo generar el calendario",variant:"destructive"})}}),G=hn({mutationFn:async ae=>{if(!(await fetch(`/api/tax/calendar/${ae}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"})).ok)throw new Error("No se pudo eliminar el periodo")},onSuccess:()=>{F(),t({title:"Periodo eliminado",description:"El periodo se ha eliminado correctamente"})},onError:ae=>{t({title:"Error",description:ae.message,variant:"destructive"})}}),X=()=>{window.open(`/api/tax/calendar/${r}.ics`,"_blank")},U=async()=>{try{await sFe(),t({title:"Plantilla descargada",description:"El archivo Excel se ha descargado correctamente"})}catch(ae){t({title:"Error al descargar",description:ae?.message||"No se pudo descargar la plantilla",variant:"destructive"})}},W=ae=>{if(ae.status==="PENDIENTE"||ae.status==="ABIERTO"||ae.status==="CERRADO")return ae.status;const Oe=new Date,ee=new Date(ae.startDate),ne=new Date(ae.endDate);return Oe>ne?"CERRADO":Oe>=ee?"ABIERTO":"PENDIENTE"},Y=N.useMemo(()=>{const ae={PENDIENTE:0,ABIERTO:0,CERRADO:0};for(const Oe of R){const ee=W(Oe);ae[ee]+=1}return ae},[R]),ie=N.useMemo(()=>{let ae=[...R];if(u!=="TODOS"&&(ae=ae.filter(ee=>W(ee)===u)),ae.sort((ee,ne)=>{let Me=0;return _==="end"&&(Me=new Date(ee.endDate).getTime()-new Date(ne.endDate).getTime()),_==="start"&&(Me=new Date(ee.startDate).getTime()-new Date(ne.startDate).getTime()),_==="model"&&(Me=ee.modelCode.localeCompare(ne.modelCode)),_==="period"&&(Me=ee.period.localeCompare(ne.period)),C==="asc"?Me:-Me}),!f)return ae;const Oe=f.toLowerCase();return ae.filter(ee=>`${ee.modelCode}`.toLowerCase().includes(Oe)||`${ee.period}`.toLowerCase().includes(Oe))},[R,f,u]),Z=ae=>{const Oe=W(ae);return Oe==="PENDIENTE"?o.jsx(ct,{className:"bg-red-100 text-red-700",children:"PENDIENTE"}):Oe==="ABIERTO"?o.jsx(ct,{className:"bg-amber-100 text-amber-700",children:"ABIERTO"}):o.jsx(ct,{className:"bg-gray-200 text-gray-700",children:"CERRADO"})},I=ae=>{const Oe=new Date,ee=new Date(ae.startDate),ne=new Date(ae.endDate);if(Oe>=ee&&Oe<=ne)return o.jsxs(ct,{className:"bg-emerald-600 text-white inline-flex items-center",children:[o.jsx(Vde,{className:"h-3 w-3 mr-1"})," En curso"]});const Me=ae.daysToStart;if(Me==null)return"";const ut=Me<=3?"bg-red-600 text-white":Me<=7?"bg-orange-500 text-white":"bg-primary text-primary-foreground",Je=Me<=3?Dv:Me<=7?Y6:xde;return o.jsxs(ct,{className:`${ut} inline-flex items-center`,children:[o.jsx(Je,{className:"h-3 w-3 mr-1"})," ",re(Me)]})},V=ae=>{const Oe=new Date,ee=new Date(ae.endDate);if(Oe>ee)return o.jsxs(ct,{className:"bg-gray-500 text-white inline-flex items-center",children:[o.jsx(ed,{className:"h-3 w-3 mr-1"})," Vencido"]});const ne=ae.daysToEnd;if(ne==null)return"";const Me=ne<=1?"bg-red-700 text-white":ne<=3?"bg-red-600 text-white":ne<=7?"bg-amber-500 text-white":"bg-emerald-600 text-white",ut=ne<=3?Dv:ne<=7?Y6:Co;return o.jsxs(ct,{className:`${Me} inline-flex items-center`,children:[o.jsx(ut,{className:"h-3 w-3 mr-1"})," ",re(ne)]})},Q=(ae,Oe)=>o.jsxs("button",{type:"button",onClick:()=>{_===Oe?O(ee=>ee==="asc"?"desc":"asc"):(j(Oe),O("asc"))},className:"text-left hover:underline inline-flex items-center gap-1",children:[o.jsx("span",{children:ae}),_===Oe?o.jsx("span",{className:"text-xs",children:C==="asc"?"":""}):null]}),re=ae=>ae===null?"":`${ae} da${Math.abs(ae)===1?"":"s"}`,{data:fe=[]}=rn({queryKey:["/api/tax-models"],queryFn:tj}),pe=N.useMemo(()=>{const ae=fe.map(ne=>({code:ne.code,name:ne.name})),Oe=Object.entries(U_).map(([ne,Me])=>({code:ne,name:Me.name})),ee=new Map;return Oe.forEach(ne=>ee.set(ne.code,ne)),ae.forEach(ne=>ee.set(ne.code,ne)),Array.from(ee.values()).sort((ne,Me)=>ne.code.localeCompare(Me.code))},[fe]),ve=ae=>{try{const Oe=new Date(ae),ee=Oe.getFullYear(),ne=String(Oe.getMonth()+1).padStart(2,"0"),Me=String(Oe.getDate()).padStart(2,"0");return`${ee}-${ne}-${Me}`}catch{return""}},de=async ae=>{const Oe=b[ae];if(!Oe)return;const ee={};if(Oe.startDate&&(ee.startDate=Oe.startDate),Oe.endDate&&(ee.endDate=Oe.endDate),!Object.keys(ee).length)return;if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(ae)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(ee)})).ok)throw new Error("No se pudo actualizar");S(Me=>{const ut={...Me};return delete ut[ae],ut}),F()},be=async()=>{try{if(!v.modelCode||!v.period||!v.startDate||!v.endDate)throw new Error("Completa todos los campos");const ae={modelCode:v.modelCode.toUpperCase(),period:v.period.toUpperCase(),year:r,startDate:v.startDate,endDate:v.endDate},Oe=await fetch("/api/tax/calendar",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(ae)});if(!Oe.ok){let Me="";try{Me=(await Oe.json())?.error||""}catch{}throw new Error(Me||(Oe.status===409?"Periodo duplicado (Modelo/Periodo/Ao)":"No se pudo crear el periodo"))}y(!1),x({modelCode:"",period:"",startDate:"",endDate:""});const ee=ae.period,ne=ae.modelCode;ee==="ANUAL"?a("ANUAL"):/^[1234]T$/.test(ee)?a("TRIMESTRAL"):/^M(04|10|12)$/.test(ee)?a("ESPECIAL"):/^M\d{2}$/.test(ee)?a("MENSUAL"):a("TODAS"),c(ne),d("TODOS"),t({title:"Periodo creado",description:`${ne} ${je(ee)}/${r}`}),await e.invalidateQueries({queryKey:["/api/tax/calendar"]}),await F()}catch(ae){t({title:"Error",description:ae?.message??"",variant:"destructive"})}},je=ae=>{const Oe={M01:"Enero",M02:"Febrero",M03:"Marzo",M04:"Abril",M05:"Mayo",M06:"Junio",M07:"Julio",M08:"Agosto",M09:"Septiembre",M10:"Octubre",M11:"Noviembre",M12:"Diciembre"},ee={"1T":"1. trimestre","2T":"2. trimestre","3T":"3. trimestre","4T":"4. trimestre"};return Oe[ae]?Oe[ae]:ee[ae]?ee[ae]:ae==="ANUAL"?"Anual":ae};return o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),o.jsx(ej,{}),o.jsxs(Ze,{className:"shadow-sm",children:[o.jsx(xt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hde,{className:"h-5 w-5 text-muted-foreground"}),o.jsx(St,{className:"text-xl",children:"Calendario fiscal AEAT"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona los modelos oficiales con sus fechas de apertura y cierre."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Se,{onClick:()=>y(!0),className:"gap-2",children:[o.jsx(Js,{className:"h-4 w-4"})," Aadir periodo"]}),o.jsxs(ER,{children:[o.jsx(_R,{asChild:!0,children:o.jsxs(Se,{variant:"outline",className:"gap-2",children:["Acciones ",o.jsx(L4,{className:"h-4 w-4"})]})}),o.jsxs(jS,{align:"end",className:"w-56",children:[o.jsxs(jl,{onClick:()=>{window.confirm(`Generar calendario AEAT completo para ${r}?

Esto crear 26 periodos fiscales (trimestres, meses, anuales y especiales) con las fechas oficiales de la Agencia Tributaria.`)&&z.mutate(r)},disabled:z.isPending,className:"gap-2",children:[o.jsx(qde,{className:"h-4 w-4"}),z.isPending?"Generando...":"Generar Calendario AEAT"]}),o.jsxs(jl,{onClick:()=>q.mutate(r),className:"gap-2",children:[o.jsx(pP,{className:"h-4 w-4"}),"Nuevo ao fiscal"]}),o.jsx(AS,{}),o.jsxs(jl,{onClick:X,className:"gap-2",children:[o.jsx(Da,{className:"h-4 w-4"}),"Exportar .ICS"]}),o.jsxs(jl,{onClick:U,className:"gap-2",children:[o.jsx(Fb,{className:"h-4 w-4"}),"Descargar Plantilla"]}),o.jsxs(jl,{onClick:()=>B(!0),className:"gap-2",children:[o.jsx(Qo,{className:"h-4 w-4"}),"Importar Excel"]})]})]})]})]})}),o.jsxs(Qe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Ao"}),o.jsx(Ge,{type:"number",value:r,onChange:ae=>i(Number(ae.target.value)),className:"w-24 h-9"})]}),o.jsxs(qn,{value:s,onValueChange:ae=>a(ae),children:[o.jsx(Ln,{className:"w-40 h-9",children:o.jsx(Un,{placeholder:"Periodicidad"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"TODAS",children:"Todas"}),o.jsx(it,{value:"MENSUAL",children:"Mensual"}),o.jsx(it,{value:"TRIMESTRAL",children:"Trimestral"}),o.jsx(it,{value:"ANUAL",children:"Anual"}),o.jsx(it,{value:"ESPECIAL",children:"Especial 202"})]})]}),o.jsxs(qn,{value:u,onValueChange:ae=>d(ae),children:[o.jsx(Ln,{className:"w-40 h-9",children:o.jsx(Un,{placeholder:"Estado"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"TODOS",children:"Todos"}),o.jsx(it,{value:"PENDIENTE",children:"Pendiente"}),o.jsx(it,{value:"ABIERTO",children:"Abierto"}),o.jsx(it,{value:"CERRADO",children:"Cerrado"})]})]}),o.jsxs(qn,{value:l,onValueChange:c,children:[o.jsx(Ln,{className:"w-60 h-9",children:o.jsx(Un,{placeholder:"Filtrar por modelo (ej. 303)"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"ALL",children:"Todos los modelos"}),pe.map(ae=>o.jsxs(it,{value:ae.code,children:[ae.code,"  ",ae.name]},ae.code))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(jy,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ge,{className:"pl-8 w-64 h-9",placeholder:"Buscar modelo o periodo",value:f,onChange:ae=>m(ae.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsxs(ct,{className:"bg-red-100 text-red-700",children:["Pendiente ",Y.PENDIENTE]}),o.jsxs(ct,{className:"bg-amber-100 text-amber-700",children:["Abierto ",Y.ABIERTO]}),o.jsxs(ct,{className:"bg-gray-200 text-gray-700",children:["Cerrado ",Y.CERRADO]})]})]}),ie.length>0?o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"grid grid-cols-10 text-xs text-muted-foreground px-2",children:[o.jsx("div",{children:Q("Modelo","model")}),o.jsx("div",{children:Q("Periodo","period")}),o.jsx("div",{children:"Estado"}),o.jsx("div",{children:Q("Fecha inicio","start")}),o.jsx("div",{children:"Inicio en"}),o.jsx("div",{children:Q("Fecha fin","end")}),o.jsx("div",{children:"Finaliza en"}),o.jsx("div",{children:"Activo"}),o.jsx("div",{children:"Bloqueado"}),o.jsx("div",{className:"text-center"})]}),ie.map(ae=>{const Oe=b[ae.id]||{},ee=Oe.startDate??ve(ae.startDate),ne=Oe.endDate??ve(ae.endDate),Me=W(ae),ut=Me==="PENDIENTE"?"border-l-4 border-l-red-400":Me==="ABIERTO"?"border-l-4 border-l-amber-400":"border-l-4 border-l-gray-400",Je=Me==="CERRADO",He=!!ae.locked,me=Je||He;return o.jsxs("div",{className:`grid grid-cols-10 items-center rounded-lg border p-3 bg-card/50 hover:bg-card transition group ${ut}`,children:[o.jsx("div",{className:"font-medium flex items-center gap-2",children:o.jsx(ct,{variant:"outline",className:"bg-muted",children:ae.modelCode})}),o.jsxs("div",{children:[je(ae.period)," / ",ae.year]}),o.jsx("div",{children:Z(ae)}),o.jsx("div",{children:o.jsx(Ge,{type:"date",value:ee,onChange:Ne=>S(Ce=>({...Ce,[ae.id]:{...Ce[ae.id],startDate:Ne.target.value}})),onBlur:()=>de(ae.id),className:"h-8",disabled:me})}),o.jsx("div",{children:I(ae)}),o.jsx("div",{children:o.jsx(Ge,{type:"date",value:ne,onChange:Ne=>S(Ce=>({...Ce,[ae.id]:{...Ce[ae.id],endDate:Ne.target.value}})),onBlur:()=>de(ae.id),className:"h-8",disabled:me})}),o.jsx("div",{children:V(ae)}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(hu,{checked:!!ae.active,onCheckedChange:async Ne=>{try{if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(ae.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({active:Ne})})).ok)throw new Error("No se pudo actualizar");F()}catch(Ce){t({title:"Error",description:Ce?.message??"",variant:"destructive"})}}})}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Se,{variant:me?"default":"ghost",size:"icon",className:`h-8 w-8 ${Je?"bg-amber-600 hover:bg-amber-700":""}`,onClick:async()=>{const Ne=!He;try{if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(ae.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({locked:Ne})})).ok)throw new Error("No se pudo actualizar");F(),t({title:Je?Ne?"Periodo bloqueado manualmente":"Auto-bloqueo desactivado temporalmente":Ne?"Periodo bloqueado":"Periodo desbloqueado",description:Je?Ne?"El periodo CERRADO permanece bloqueado":"Puedes editar el periodo CERRADO temporalmente":Ne?"Las fechas ya no se pueden editar":"Ahora puedes editar las fechas"})}catch(Ce){t({title:"Error",description:Ce?.message??"",variant:"destructive"})}},title:Je?He?"Auto-bloqueado + Manual - Click para desbloquear":"Auto-bloqueado - Click para bloquear tambin manualmente":He?"Bloqueado manualmente - Click para desbloquear":"Desbloqueado - Click para bloquear",children:me?o.jsx(z4,{className:"h-4 w-4"}):o.jsx(Tde,{className:"h-4 w-4"})})}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(ER,{children:[o.jsx(_R,{asChild:!0,children:o.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100",children:o.jsx(QK,{className:"h-4 w-4"})})}),o.jsxs(jS,{align:"end",children:[o.jsxs(jl,{onClick:()=>{if(me){t({title:"Periodo bloqueado",description:"Debe desbloquear el periodo primero para editarlo",variant:"destructive"});return}x({modelCode:ae.modelCode,period:ae.period,startDate:ve(ae.startDate),endDate:ve(ae.endDate)}),y(!0)},className:"gap-2",children:[o.jsx(U4,{className:"h-4 w-4"}),"Editar"]}),o.jsxs(jl,{onClick:async()=>{if(me){t({title:"Periodo bloqueado",description:"Debe desbloquear el periodo primero para eliminarlo",variant:"destructive"});return}window.confirm("Eliminar este periodo?")&&G.mutate(ae.id)},className:"gap-2 text-destructive focus:text-destructive",children:[o.jsx(ea,{className:"h-4 w-4"}),"Eliminar"]})]})]})})]},ae.id)})]}):o.jsxs("div",{className:"py-16 text-center text-sm text-muted-foreground border rounded-xl",children:[o.jsx("p",{children:"No hay periodos configurados para este ao."}),o.jsxs("p",{className:"mt-1",children:["Utiliza el botn ",o.jsx("span",{className:"font-medium",children:"Aadir periodo"})," para empezar."]})]})]})]}),o.jsx(ci,{open:p,onOpenChange:y,children:o.jsxs(ri,{children:[o.jsx(ui,{children:o.jsx(di,{children:"Crear periodo"})}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Modelo"}),o.jsxs(qn,{value:v.modelCode||void 0,onValueChange:ae=>x({...v,modelCode:ae}),children:[o.jsx(Ln,{children:o.jsx(Un,{placeholder:"Selecciona"})}),o.jsx(Fn,{children:pe.map(ae=>o.jsxs(it,{value:ae.code,children:[ae.code,"  ",ae.name]},ae.code))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Periodo"}),o.jsxs(qn,{value:v.period||void 0,onValueChange:ae=>x({...v,period:ae}),children:[o.jsx(Ln,{children:o.jsx(Un,{placeholder:"Selecciona"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"ANUAL",children:"Anual"}),Array.from({length:12},(ae,Oe)=>`M${String(Oe+1).padStart(2,"0")}`).map(ae=>o.jsx(it,{value:ae,children:je(ae)},ae)),["1T","2T","3T","4T"].map(ae=>o.jsx(it,{value:ae,children:ae},ae))]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Fecha inicio"}),o.jsx(Ge,{type:"date",value:v.startDate,onChange:ae=>x({...v,startDate:ae.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Fecha fin"}),o.jsx(Ge,{type:"date",value:v.endDate,onChange:ae=>x({...v,endDate:ae.target.value})})]})]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),o.jsx(Se,{onClick:be,children:"Guardar"})]})]})}),o.jsx(oFe,{open:P,onClose:()=>B(!1),onImportSuccess:()=>{F(),B(!1)}})]})}const CU=[{value:"AUTONOMO",label:"Autnomo"},{value:"EMPRESA",label:"Empresa"},{value:"PARTICULAR",label:"Particular"}],kU=[{value:"MENSUAL",label:"Mensual"},{value:"TRIMESTRAL",label:"Trimestral"},{value:"ANUAL",label:"Anual"},{value:"ESPECIAL_FRACCIONADO",label:"Especial Fraccionado"}];function cFe(){const{toast:t}=Pr(),[e,n]=N.useState([]),[r,i]=N.useState(!0),[s,a]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(null),[f,m]=N.useState(null),[p,y]=N.useState(!1),[v,x]=N.useState({code:"",name:"",allowedTypes:[],allowedPeriods:[]});N.useEffect(()=>{b()},[]);const b=async()=>{try{i(!0);const A=await tj();n(A)}catch(A){t({title:"Error al cargar modelos",description:A.message,variant:"destructive"})}finally{i(!1)}},S=A=>{A?(d(A),x({code:A.code,name:A.name,allowedTypes:A.allowedTypes,allowedPeriods:A.allowedPeriods})):(d(null),x({code:"",name:"",allowedTypes:[],allowedPeriods:[]})),a(!0)},_=()=>{a(!1),d(null),x({code:"",name:"",allowedTypes:[],allowedPeriods:[]})},j=async()=>{try{if(!v.code||!v.name){t({title:"Campos requeridos",description:"El cdigo y el nombre son obligatorios",variant:"destructive"});return}y(!0),u?(await J6e(u.code,{name:v.name,allowedTypes:v.allowedTypes,allowedPeriods:v.allowedPeriods}),t({title:"Modelo actualizado",description:`El modelo ${v.code} se actualiz correctamente`})):(await Q6e(v),t({title:"Modelo creado",description:`El modelo ${v.code} se cre correctamente`})),_(),b()}catch(A){t({title:"Error al guardar",description:A.message,variant:"destructive"})}finally{y(!1)}},C=async()=>{if(f)try{await eFe(f.code),t({title:"Modelo eliminado",description:`El modelo ${f.code} se elimin correctamente`}),c(!1),m(null),b()}catch(A){t({title:"Error al eliminar",description:A.message,variant:"destructive"})}},O=A=>{x(P=>({...P,allowedTypes:P.allowedTypes.includes(A)?P.allowedTypes.filter(B=>B!==A):[...P.allowedTypes,A]}))},M=A=>{x(P=>({...P,allowedPeriods:P.allowedPeriods.includes(A)?P.allowedPeriods.filter(B=>B!==A):[...P.allowedPeriods,A]}))};return r?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx(Iv,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),o.jsx(ej,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modelos Fiscales"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestiona los modelos fiscales disponibles para asignar a clientes"})]}),o.jsxs(Se,{onClick:()=>S(),children:[o.jsx(Js,{className:"mr-2 h-4 w-4"}),"Nuevo Modelo"]})]}),o.jsx("div",{className:"rounded-md border",children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{className:"w-[100px]",children:"Cdigo"}),o.jsx(Ot,{children:"Nombre"}),o.jsx(Ot,{children:"Tipos de Cliente"}),o.jsx(Ot,{children:"Periodicidades"}),o.jsx(Ot,{className:"w-[100px]",children:"Estado"}),o.jsx(Ot,{className:"w-[100px] text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:e.length===0?o.jsx(ir,{children:o.jsxs(yt,{colSpan:6,className:"text-center text-muted-foreground py-8",children:[o.jsx(Ui,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"No hay modelos fiscales registrados"]})}):e.map(A=>o.jsxs(ir,{children:[o.jsx(yt,{className:"font-mono font-semibold",children:A.code}),o.jsx(yt,{children:A.name}),o.jsx(yt,{children:o.jsx("div",{className:"flex flex-wrap gap-1",children:A.allowedTypes.map(P=>o.jsx(ct,{variant:"outline",className:"text-xs",children:CU.find(B=>B.value===P)?.label||P},P))})}),o.jsx(yt,{children:o.jsx("div",{className:"flex flex-wrap gap-1",children:A.allowedPeriods.map(P=>o.jsx(ct,{variant:"secondary",className:"text-xs",children:kU.find(B=>B.value===P)?.label||P},P))})}),o.jsx(yt,{children:A.isActive?o.jsx(ct,{variant:"default",className:"bg-green-600",children:"Activo"}):o.jsx(ct,{variant:"secondary",children:"Inactivo"})}),o.jsx(yt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>S(A),children:o.jsx(U4,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{m(A),c(!0)},children:o.jsx(ea,{className:"h-4 w-4 text-destructive"})})]})})]},A.code))})]})}),o.jsx(ci,{open:s,onOpenChange:a,children:o.jsxs(ri,{className:"max-w-2xl",children:[o.jsxs(ui,{children:[o.jsx(di,{children:u?"Editar Modelo Fiscal":"Nuevo Modelo Fiscal"}),o.jsx(Ss,{children:u?"Modifica los datos del modelo fiscal":"Completa los datos del nuevo modelo fiscal"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"code",children:"Cdigo del Modelo*"}),o.jsx(Ge,{id:"code",placeholder:"Ej: 303, 111, 130",value:v.code,onChange:A=>x({...v,code:A.target.value.toUpperCase()}),disabled:!!u,maxLength:20}),o.jsx("p",{className:"text-xs text-muted-foreground",children:u?"No se puede modificar el cdigo":"Cdigo nico del modelo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"name",children:"Nombre del Modelo*"}),o.jsx(Ge,{id:"name",placeholder:"Ej: IVA - Autoliquidacin",value:v.name,onChange:A=>x({...v,name:A.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Tipos de Cliente Permitidos"}),o.jsx("div",{className:"flex flex-col gap-2",children:CU.map(A=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:A.value,checked:v.allowedTypes.includes(A.value),onCheckedChange:()=>O(A.value)}),o.jsx("label",{htmlFor:A.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:A.label})]},A.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Periodicidades Permitidas"}),o.jsx("div",{className:"flex flex-col gap-2",children:kU.map(A=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:A.value,checked:v.allowedPeriods.includes(A.value),onCheckedChange:()=>M(A.value)}),o.jsx("label",{htmlFor:A.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:A.label})]},A.value))})]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:_,disabled:p,children:"Cancelar"}),o.jsx(Se,{onClick:j,disabled:p,children:p?o.jsxs(o.Fragment,{children:[o.jsx(Iv,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})}),o.jsx(y1,{open:l,onOpenChange:c,children:o.jsxs(Hy,{children:[o.jsxs(Vy,{children:[o.jsx(Wy,{children:"Ests seguro?"}),o.jsxs(Ky,{children:["Esta accin eliminar permanentemente el modelo"," ",o.jsx("strong",{children:f?.code})," - ",f?.name,".",o.jsx("br",{}),o.jsx("br",{}),"No se podr eliminar si tiene asignaciones activas a clientes."]})]}),o.jsxs(bD,{children:[o.jsx(Yy,{children:"Cancelar"}),o.jsx(Gy,{onClick:C,className:"bg-destructive",children:"Eliminar"})]})]})})]})}const yd=t=>{const e=new URLSearchParams;return t.year&&e.set("year",String(t.year)),t.periodId&&e.set("periodId",t.periodId),t.model&&e.set("model",t.model),t.assigneeId&&e.set("assigneeId",t.assigneeId),t.clientId&&e.set("clientId",t.clientId),t.status&&e.set("status",t.status),t.page&&e.set("page",String(t.page)),t.size&&e.set("size",String(t.size)),t.granularity&&e.set("granularity",t.granularity),e};function uFe(t){return rn({queryKey:["/api/tax/reports/kpis",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/kpis?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar KPIs");return n.json()},staleTime:3e4})}function oie(t){return rn({queryKey:["/api/tax/reports/summary/model",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/summary/model?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por modelo");return n.json()},staleTime:3e4})}function dFe(t){return rn({queryKey:["/api/tax/reports/trends",t],queryFn:async()=>{const e=yd(t);t.granularity&&e.set("granularity",t.granularity);const n=await fetch(`/api/tax/reports/trends?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar tendencias");return n.json()},staleTime:3e4})}function lie(t){return rn({queryKey:["/api/tax/reports/summary/assignee",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/summary/assignee?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por gestor");return n.json()},staleTime:3e4})}function fFe(t){return rn({queryKey:["/api/tax/reports/summary/client",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/summary/client?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por cliente");return n.json()},staleTime:3e4})}function hFe(t){return rn({queryKey:["/api/tax/reports/exceptions",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/exceptions?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar alertas");return n.json()},staleTime:3e4})}function pFe(t){return rn({queryKey:["/api/tax/reports/filings",t],queryFn:async()=>{const e=yd(t);e.set("page",String(t.page??1)),e.set("size",String(t.size??50));const n=await fetch(`/api/tax/reports/filings?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar detalle");return n.json()},staleTime:3e4})}function mFe(t,e,n){return rn({queryKey:["/api/tax/reports/year-comparison",t,e,n],queryFn:async()=>{const r=new URLSearchParams;r.set("year1",String(t)),r.set("year2",String(e)),n.model&&r.set("model",n.model),n.assigneeId&&r.set("assigneeId",n.assigneeId),n.clientId&&r.set("clientId",n.clientId);const i=await fetch(`/api/tax/reports/year-comparison?${r.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok)throw new Error("No se pudo cargar comparativa");return i.json()},staleTime:3e4})}function gFe(t){return rn({queryKey:["/api/tax/reports/productivity",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/productivity?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar anlisis de productividad");return n.json()},staleTime:3e4})}function vFe(t){return rn({queryKey:["/api/tax/reports/predictions",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/predictions?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar predicciones");return n.json()},staleTime:3e4})}function yFe(t){return rn({queryKey:["/api/tax/reports/temporal-performance",t],queryFn:async()=>{const e=yd(t),n=await fetch(`/api/tax/reports/temporal-performance?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar rendimiento temporal");return n.json()},staleTime:3e4})}function xFe(t){const e=String(t).toUpperCase();return e==="PENDIENTE"||e==="NOT_STARTED"?"bg-red-100 text-red-700":e==="IN_PROGRESS"||e==="CALCULADO"?"bg-amber-100 text-amber-700":e==="PRESENTED"||e==="PRESENTADO"?"bg-emerald-100 text-emerald-700":"bg-muted"}function Sb(t){if(!t)return"";const e=typeof t=="string"?new Date(t):t;return Number.isNaN(e.getTime())?"":e.toLocaleDateString("es-ES")}function bFe({filters:t}){const[e,n]=N.useState(1),r=50,{data:i,isLoading:s}=pFe({...t,page:e,size:r}),a=i?.total??0,l=i?.items??[],c=Math.max(1,Math.ceil(a/r));return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[a," resultados"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Se,{variant:"outline",size:"sm",disabled:e<=1,onClick:()=>n(u=>Math.max(1,u-1)),children:"Anterior"}),o.jsxs("div",{className:"text-sm",children:[e,"/",c]}),o.jsx(Se,{variant:"outline",size:"sm",disabled:e>=c,onClick:()=>n(u=>Math.min(c,u+1)),children:"Siguiente"})]})]}),o.jsx("div",{className:"rounded-md border overflow-auto",children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Modelo"}),o.jsx(Ot,{children:"Periodo"}),o.jsx(Ot,{children:"Gestor"}),o.jsx(Ot,{children:"Cliente"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Fecha clculo"}),o.jsx(Ot,{children:"Fecha presentacin"}),o.jsx(Ot,{children:"Das ciclo"})]})}),o.jsx(Eo,{children:s?o.jsx(ir,{children:o.jsx(yt,{colSpan:8,className:"text-center text-muted-foreground",children:"Cargando"})}):l.length===0?o.jsx(ir,{children:o.jsx(yt,{colSpan:8,className:"text-center text-muted-foreground",children:"Sin resultados"})}):l.map(u=>o.jsxs(ir,{className:"cursor-pointer hover:bg-muted/40",onClick:()=>window.location.href="/impuestos/calendario",children:[o.jsx(yt,{className:"font-medium",children:u.modelCode}),o.jsx(yt,{children:u.periodLabel}),o.jsx(yt,{children:u.gestor||""}),o.jsx(yt,{children:u.cliente||""}),o.jsx(yt,{children:o.jsx(ct,{className:xFe(u.status),children:String(u.status).toUpperCase()})}),o.jsx(yt,{children:Sb(void 0)}),o.jsx(yt,{children:Sb(u.presentedAt)}),o.jsx(yt,{children:u.cycleDays??""})]},u.id))})]})})]})}function wFe({filters:t}){const e=oie(t),n=dFe({year:t.year,model:t.model,granularity:"month"}),r=lie(t),[i,s]=N.useState(null),[a,l]=N.useState(null),c=N.useMemo(()=>(e.data??[]).map(p=>({model:p.modelCode,pendiente:p.pending,calculado:p.inProgress,presentado:p.presented,total:p.total})),[e.data]),u=N.useMemo(()=>(n.data?.series??[]).map(p=>({x:p.x,presentados:p.presented,lead:p.leadTimeAvg})),[n.data]),d=N.useMemo(()=>(r.data??[]).map(p=>({name:p.assigneeName,avance:p.advancePct,total:p.assigned,completed:p.presented})).sort((p,y)=>y.avance-p.avance),[r.data]),f=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899"],m=({active:p,payload:y,label:v})=>p&&y&&y.length?o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-semibold mb-2",children:v}),y.map((x,b)=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:x.color}}),o.jsxs("span",{children:[x.name,": ",x.value]})]},b))]}):null;return o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(Ze,{className:"md:col-span-2",children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Progreso por modelo (Interactivo)"}),o.jsx(Er,{children:"Haz clic en una barra para ver detalles"}),i&&o.jsxs(ct,{className:"mt-2",onClick:()=>s(null),children:["Filtrando: ",i," "]})]}),o.jsxs(Qe,{className:"h-80",children:[o.jsx(ub,{width:"100%",height:"100%",children:o.jsxs(QM,{data:c,onClick:p=>{p&&p.activeLabel&&s(p.activeLabel===i?null:p.activeLabel)},children:[o.jsx(_v,{strokeDasharray:"3 3"}),o.jsx(od,{dataKey:"model"}),o.jsx(pc,{}),o.jsx(Xo,{content:o.jsx(m,{})}),o.jsx(mf,{}),o.jsx(jo,{dataKey:"pendiente",stackId:"a",fill:"#EF4444",name:"Pendientes",cursor:"pointer",children:c.map((p,y)=>o.jsx(kh,{opacity:i===null||i===p.model?1:.3},`cell-${y}`))}),o.jsx(jo,{dataKey:"calculado",stackId:"a",fill:"#EAB308",name:"Calculados",cursor:"pointer",children:c.map((p,y)=>o.jsx(kh,{opacity:i===null||i===p.model?1:.3},`cell-${y}`))}),o.jsx(jo,{dataKey:"presentado",stackId:"a",fill:"#22C55E",name:"Presentados",cursor:"pointer",children:c.map((p,y)=>o.jsx(kh,{opacity:i===null||i===p.model?1:.3},`cell-${y}`))})]})}),i&&o.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-md text-sm",children:[o.jsxs("div",{className:"font-semibold mb-1",children:[" Detalle de ",i]}),c.filter(p=>p.model===i).map(p=>o.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[o.jsxs("div",{children:["Total: ",o.jsx("strong",{children:p.total})]}),o.jsxs("div",{children:["Presentados: ",o.jsx("strong",{className:"text-emerald-600",children:p.presentado})]}),o.jsxs("div",{children:["Calculados: ",o.jsx("strong",{className:"text-amber-600",children:p.calculado})]}),o.jsxs("div",{children:["Pendientes: ",o.jsx("strong",{className:"text-rose-600",children:p.pendiente})]})]},p.model))]})]})]}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Tendencia mensual"}),o.jsx(Er,{children:"Presentaciones y lead time"})]}),o.jsx(Qe,{className:"h-80",children:o.jsx(ub,{width:"100%",height:"100%",children:o.jsxs(fOe,{data:u,children:[o.jsx(_v,{strokeDasharray:"3 3"}),o.jsx(od,{dataKey:"x",angle:-45,textAnchor:"end",height:60}),o.jsx(pc,{yAxisId:"left"}),o.jsx(pc,{yAxisId:"right",orientation:"right"}),o.jsx(Xo,{content:o.jsx(m,{})}),o.jsx(mf,{}),o.jsx(_f,{type:"monotone",dataKey:"presentados",stroke:"#2563EB",yAxisId:"left",strokeWidth:2,dot:{r:4},name:"Presentadas"}),o.jsx(_f,{type:"monotone",dataKey:"lead",stroke:"#9333EA",yAxisId:"right",strokeWidth:2,dot:{r:4},strokeDasharray:"5 5",name:"Lead Time (das)"})]})})})]}),o.jsxs(Ze,{className:"md:col-span-3",children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Ranking de gestores (Interactivo)"}),o.jsx(Er,{children:"Haz clic en una barra para destacar un gestor"}),a&&o.jsxs(ct,{className:"mt-2",onClick:()=>l(null),children:["Filtrando: ",a," "]})]}),o.jsxs(Qe,{className:"h-80",children:[o.jsx(ub,{width:"100%",height:"100%",children:o.jsxs(QM,{data:d,layout:"vertical",onClick:p=>{p&&p.activeLabel&&l(p.activeLabel===a?null:p.activeLabel)},children:[o.jsx(_v,{strokeDasharray:"3 3"}),o.jsx(od,{type:"number",domain:[0,100]}),o.jsx(pc,{type:"category",dataKey:"name",width:150}),o.jsx(Xo,{content:o.jsx(m,{})}),o.jsx(jo,{dataKey:"avance",name:"% Avance",cursor:"pointer",children:d.map((p,y)=>o.jsx(kh,{fill:f[y%f.length],opacity:a===null||a===p.name?1:.3},`cell-${y}`))})]})}),a&&o.jsxs("div",{className:"mt-3 p-3 bg-purple-50 rounded-md text-sm",children:[o.jsxs("div",{className:"font-semibold mb-1",children:[" Detalle de ",a]}),d.filter(p=>p.name===a).map(p=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{children:["Total asignado: ",o.jsx("strong",{children:p.total})]}),o.jsxs("div",{children:["Completadas: ",o.jsx("strong",{className:"text-emerald-600",children:p.completed})]}),o.jsxs("div",{children:["% Avance: ",o.jsxs("strong",{className:"text-blue-600",children:[p.avance.toFixed(1),"%"]})]})]},p.name))]})]})]})]})}function NFe({data:t,isLoading:e}){const n=t?.duplicateFilings??[],r=t?.latePresented??[],i=t?.overdueFilings??[];return o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Alertas y excepciones"})}),o.jsx(Qe,{className:"space-y-4 text-sm text-muted-foreground",children:e?o.jsx("div",{children:"Cargando alertas"}):o.jsxs(o.Fragment,{children:[o.jsx(ZT,{title:"Vencidas sin presentar",emptyLabel:"Sin vencidos",badgeClass:"bg-destructive/10 text-destructive",items:i.map(s=>({id:`${s.clientId}-${s.taxModelCode}-${s.periodId}`,title:`${s.clientName}`,description:`${s.taxModelCode}  Venci ${Sb(s.dueDate)}`}))}),o.jsx(ZT,{title:"Presentadas fuera de plazo",emptyLabel:"Sin retrasos",badgeClass:"bg-amber-100 text-amber-700",items:r.map(s=>({id:`${s.clientId}-${s.taxModelCode}-${s.periodId}`,title:`${s.clientName}`,description:`${s.taxModelCode}  entregada ${Sb(s.presentedAt)} (lmite ${Sb(s.dueDate)})`}))}),o.jsx(ZT,{title:"Duplicados detectados",emptyLabel:"Sin duplicados",badgeClass:"bg-blue-100 text-blue-700",items:n.map(s=>({id:s.key,title:s.key,description:`${s.count} registros`}))})]})})]})}function ZT({title:t,items:e,emptyLabel:n,badgeClass:r}){return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-foreground",children:t}),o.jsx(ct,{className:r,children:e.length})]}),e.length===0?o.jsx("div",{className:"rounded-md border border-dashed px-3 py-2 text-xs",children:n}):o.jsxs("div",{className:"space-y-1",children:[e.slice(0,6).map(i=>o.jsxs("div",{className:"rounded-md border px-3 py-2",children:[o.jsx("div",{className:"font-medium text-foreground",children:i.title}),o.jsx("div",{className:"text-xs",children:i.description})]},i.id)),e.length>6&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.length-6," registros adicionales"]})]})]})}function SFe({filters:t}){const{data:e,isLoading:n}=gFe(t);if(n)return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Anlisis de Productividad por Gestor"}),o.jsx(Er,{children:"Rendimiento individual y mtricas de eficiencia"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando anlisis..."})})]});const r=e??[];return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Anlisis de Productividad por Gestor"}),o.jsx(Er,{children:"Rendimiento individual y mtricas de eficiencia"})]}),o.jsx(Qe,{className:"space-y-4",children:r.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-md",children:"Sin datos para mostrar"}):r.map(i=>o.jsxs("div",{className:"rounded-lg border p-4 space-y-3 bg-white hover:shadow-sm transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-base",children:i.gestorName}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[i.total," declaraciones asignadas"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`text-2xl font-bold ${i.efficiencyScore>=80?"text-emerald-600":i.efficiencyScore>=60?"text-amber-600":"text-rose-600"}`,children:i.efficiencyScore}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Score eficiencia"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Completadas"}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-lg font-semibold text-emerald-600",children:i.completed}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",i.total]})]}),o.jsx(my,{value:i.completionRate,className:"h-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"A tiempo"}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-lg font-semibold text-blue-600",children:i.onTime}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",i.onTimeRate,"%)"]})]}),o.jsx(my,{value:i.onTimeRate,className:"h-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"En progreso"}),o.jsx("div",{className:"flex items-baseline gap-1",children:o.jsx("span",{className:"text-lg font-semibold text-amber-600",children:i.inProgress})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Pendientes"}),o.jsx("div",{className:"flex items-baseline gap-1",children:o.jsx("span",{className:"text-lg font-semibold text-slate-600",children:i.pending})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[o.jsxs(ct,{variant:"outline",className:"text-xs",children:[" Proc: ",i.avgProcessingTime,"d"]}),o.jsxs(ct,{variant:"outline",className:"text-xs",children:[" Lead: ",i.avgLeadTime,"d"]}),i.overdue>0&&o.jsxs(ct,{className:"bg-rose-100 text-rose-700 text-xs",children:[" ",i.overdue," atrasadas"]}),i.late>0&&o.jsxs(ct,{className:"bg-orange-100 text-orange-700 text-xs",children:[" ",i.late," tarde"]}),i.workloadScore>10&&o.jsxs(ct,{className:"bg-purple-100 text-purple-700 text-xs",children:[" Carga: ",i.workloadScore]})]})]},i.gestorId??"none"))})]})}function EFe({filters:t}){const{data:e,isLoading:n}=vFe(t);if(n)return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Alertas Inteligentes y Predicciones"}),o.jsx(Er,{children:"Sistema de deteccin temprana de riesgos"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Analizando riesgos..."})})]});const r=e??{atRiskCount:0,criticalCount:0,alerts:[],riskLevel:"low"},i={high:{color:"bg-rose-50 border-rose-200",textColor:"text-rose-900",icon:Dv,label:"Riesgo Alto",badgeClass:"bg-rose-100 text-rose-700"},medium:{color:"bg-amber-50 border-amber-200",textColor:"text-amber-900",icon:io,label:"Riesgo Medio",badgeClass:"bg-amber-100 text-amber-700"},low:{color:"bg-emerald-50 border-emerald-200",textColor:"text-emerald-900",icon:J2,label:"Riesgo Bajo",badgeClass:"bg-emerald-100 text-emerald-700"}},s=i[r.riskLevel]||i.low,a=s.icon;return o.jsxs(Ze,{className:s.color,children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(a,{className:"h-5 w-5"}),"Alertas Inteligentes y Predicciones"]}),o.jsx(Er,{children:"Sistema de deteccin temprana de riesgos"})]}),o.jsx(ct,{className:s.badgeClass,children:s.label})]})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"rounded-lg border bg-white p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Situaciones crticas"}),o.jsx("div",{className:"text-3xl font-bold text-rose-600 mt-1",children:r.criticalCount}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Requieren atencin inmediata"})]}),o.jsxs("div",{className:"rounded-lg border bg-white p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"En riesgo"}),o.jsx("div",{className:"text-3xl font-bold text-amber-600 mt-1",children:r.atRiskCount}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Necesitan seguimiento"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:"Alertas detectadas"}),r.alerts.length===0?o.jsx("div",{className:"rounded-md border border-dashed bg-white px-4 py-8 text-center text-sm text-muted-foreground",children:" No se detectaron alertas crticas. Todo en orden."}):o.jsxs("div",{className:"space-y-2",children:[r.alerts.map((l,c)=>o.jsx(Hh,{className:`${l.type==="critical"?"bg-rose-50 border-rose-200":"bg-amber-50 border-amber-200"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-0.5",children:l.type==="critical"?"":""}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Vh,{className:"text-sm",children:l.message}),o.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[o.jsx(ct,{variant:"outline",className:"text-xs",children:l.status}),l.daysRemaining!==void 0&&o.jsx("span",{className:"text-xs text-muted-foreground",children:l.daysRemaining>=0?`${l.daysRemaining} das restantes`:`${Math.abs(l.daysRemaining)} das de retraso`})]})]})]})},c)),r.alerts.length>=10&&o.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Mostrando las 10 alertas ms crticas"})]})]}),r.riskLevel==="high"&&o.jsxs(Hh,{className:"bg-rose-50 border-rose-200",children:[o.jsx(Dv,{className:"h-4 w-4 text-rose-600"}),o.jsxs(Vh,{className:"text-sm text-rose-900",children:[o.jsx("strong",{children:"Accin requerida:"})," Se detectaron mltiples situaciones crticas. Recomendamos priorizar las declaraciones con vencimiento inmediato y redistribuir la carga de trabajo si es necesario."]})]}),r.riskLevel==="medium"&&o.jsxs(Hh,{className:"bg-amber-50 border-amber-200",children:[o.jsx(io,{className:"h-4 w-4 text-amber-600"}),o.jsxs(Vh,{className:"text-sm text-amber-900",children:[o.jsx("strong",{children:"Seguimiento recomendado:"})," Hay declaraciones que requieren atencin. Mantn un seguimiento cercano para evitar retrasos."]})]})]})]})}function _Fe({currentYear:t,filters:e}){const[n,r]=N.useState(t-1),[i,s]=N.useState(t),{data:a,isLoading:l}=mFe(n,i,e),c=Array.from({length:10},(p,y)=>t-y);if(l)return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Comparativa Temporal"}),o.jsx(Er,{children:"Anlisis ao contra ao"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando comparativa..."})})]});const u=a?.comparison??{},d=a?.year1??{},f=a?.year2??{},m=({label:p,value1:y,value2:v,change:x,changePct:b,format:S=""})=>{const _=x>0,j=x<0,C=x===0,M=p.includes("Lead")||p.includes("Atrasados")?j:_;return o.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:p}),o.jsxs("div",{className:"flex items-end justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:n}),o.jsxs("div",{className:"text-2xl font-bold text-slate-700",children:[y,S]})]}),o.jsx("div",{className:"flex items-center",children:C?o.jsx(hP,{className:"h-5 w-5 text-slate-400"}):M?o.jsx(n1,{className:"h-5 w-5 text-emerald-500"}):o.jsx(Wde,{className:"h-5 w-5 text-rose-500"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i}),o.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[v,S]})]})]}),o.jsx("div",{className:"mt-2 pt-2 border-t",children:o.jsxs(ct,{className:`text-xs ${C?"bg-slate-100 text-slate-700":M?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:[_&&"+",x,S," (",_&&"+",b,"%)"]})})]})};return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Comparativa Temporal"}),o.jsx(Er,{children:"Anlisis ao contra ao de rendimiento"}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(qn,{value:String(n),onValueChange:p=>r(Number(p)),children:[o.jsx(Ln,{className:"w-32",children:o.jsx(Un,{})}),o.jsx(Fn,{children:c.map(p=>o.jsx(it,{value:String(p),children:p},p))})]}),o.jsx("span",{className:"text-muted-foreground",children:"vs"}),o.jsxs(qn,{value:String(i),onValueChange:p=>s(Number(p)),children:[o.jsx(Ln,{className:"w-32",children:o.jsx(Un,{})}),o.jsx(Fn,{children:c.map(p=>o.jsx(it,{value:String(p),children:p},p))})]})]})]}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(m,{label:"Total de declaraciones",value1:d.total,value2:f.total,change:u.totalChange,changePct:u.totalChangePct}),o.jsx(m,{label:"Presentadas",value1:d.presented,value2:f.presented,change:u.presentedChange,changePct:u.presentedChangePct}),o.jsx(m,{label:"Eficiencia",value1:d.efficiencyScore,value2:f.efficiencyScore,change:u.efficiencyChange,changePct:0,format:"%"}),o.jsx(m,{label:"Lead Time promedio",value1:d.leadTimeAvg,value2:f.leadTimeAvg,change:u.leadTimeChange,changePct:0,format:"d"}),o.jsx(m,{label:"Cumplimiento (a tiempo)",value1:d.onTimePct,value2:f.onTimePct,change:u.onTimeChange,changePct:0,format:"%"}),o.jsx(m,{label:"Atrasados",value1:d.overdue,value2:f.overdue,change:f.overdue-d.overdue,changePct:0})]}),o.jsxs("div",{className:"rounded-lg bg-slate-50 p-4 border",children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:" Resumen de cambios"}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsxs("div",{children:[u.totalChangePct>0?"":u.totalChangePct<0?"":""," ","Volumen de trabajo: ",u.totalChangePct>0?"increment":u.totalChangePct<0?"disminuy":"se mantuvo"," ",Math.abs(u.totalChangePct),"%"]}),o.jsxs("div",{children:[u.efficiencyChange>0?"":u.efficiencyChange<0?"":""," ","Eficiencia: ",u.efficiencyChange>0?"mejor":u.efficiencyChange<0?"empeor":"se mantuvo"," ",Math.abs(u.efficiencyChange).toFixed(1)," puntos"]}),o.jsxs("div",{children:[u.leadTimeChange<0?"":u.leadTimeChange>0?"":""," ","Lead time: ",u.leadTimeChange<0?"mejor":u.leadTimeChange>0?"empeor":"se mantuvo"," (",Math.abs(u.leadTimeChange).toFixed(1)," das)"]})]})]})]})]})}function jFe({filters:t}){const{data:e,isLoading:n}=yFe(t);if(n)return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Rendimiento Temporal"}),o.jsx(Er,{children:"Evolucin mensual de mtricas clave"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando datos temporales..."})})]});const r=e?.series??[];if(r.length===0)return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Rendimiento Temporal"}),o.jsx(Er,{children:"Evolucin mensual de mtricas clave"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-md",children:"No hay suficientes datos para mostrar tendencias"})})]});const i=r.reduce((f,m)=>f+m.presented,0)/r.length,s=r.reduce((f,m)=>f+m.onTimeRate,0)/r.length,a=r.reduce((f,m)=>f+m.avgLeadTime,0)/r.length,l=r[r.length-1],c=r[r.length-2],u=c?((l.presented-c.presented)/c.presented*100).toFixed(1):0,d=c?(l.onTimeRate-c.onTimeRate).toFixed(1):0;return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Rendimiento Temporal"}),o.jsx(Er,{children:"Evolucin mensual de mtricas clave"})]}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"rounded-lg border bg-blue-50 p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Promedio mensual"}),o.jsx("div",{className:"text-2xl font-bold text-blue-700",children:i.toFixed(0)}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"declaraciones"})]}),o.jsxs("div",{className:"rounded-lg border bg-emerald-50 p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Cumplimiento promedio"}),o.jsxs("div",{className:"text-2xl font-bold text-emerald-700",children:[s.toFixed(1),"%"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"entregas a tiempo"})]}),o.jsxs("div",{className:"rounded-lg border bg-purple-50 p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Lead time promedio"}),o.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[a.toFixed(1),"d"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"das de ciclo"})]})]}),c&&o.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-50 border text-sm",children:[o.jsx("div",{className:"flex-1",children:o.jsx("span",{className:"font-medium",children:"ltimo mes vs anterior:"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Presentadas:"}),o.jsxs("span",{className:`font-semibold ${Number(u)>=0?"text-emerald-600":"text-rose-600"}`,children:[Number(u)>=0?"+":"",u,"%"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Cumplimiento:"}),o.jsxs("span",{className:`font-semibold ${Number(d)>=0?"text-emerald-600":"text-rose-600"}`,children:[Number(d)>=0?"+":"",d,"%"]})]})]}),o.jsx("div",{className:"h-80",children:o.jsx(ub,{width:"100%",height:"100%",children:o.jsxs(hOe,{data:r,children:[o.jsx(_v,{strokeDasharray:"3 3"}),o.jsx(od,{dataKey:"month",angle:-45,textAnchor:"end",height:80}),o.jsx(pc,{yAxisId:"left"}),o.jsx(pc,{yAxisId:"right",orientation:"right"}),o.jsx(Xo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px"},labelStyle:{fontWeight:"bold"}}),o.jsx(mf,{}),o.jsx(jo,{yAxisId:"left",dataKey:"presented",fill:"#3B82F6",name:"Presentadas"}),o.jsx(jo,{yAxisId:"left",dataKey:"onTime",fill:"#10B981",name:"A tiempo",stackId:"status"}),o.jsx(jo,{yAxisId:"left",dataKey:"late",fill:"#F59E0B",name:"Tarde",stackId:"status"}),o.jsx(_f,{yAxisId:"right",type:"monotone",dataKey:"avgLeadTime",stroke:"#9333EA",strokeWidth:2,name:"Lead Time (das)",dot:{r:4}}),o.jsx(_f,{yAxisId:"right",type:"monotone",dataKey:"onTimeRate",stroke:"#059669",strokeWidth:2,strokeDasharray:"5 5",name:"% Cumplimiento",dot:{r:4}})]})})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:" Mejor mes"}),(()=>{const f=r.reduce((m,p)=>p.onTimeRate>m.onTimeRate?p:m,r[0]);return o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("div",{className:"font-medium text-foreground",children:f.month}),o.jsxs("div",{children:[f.presented," declaraciones"]}),o.jsxs("div",{className:"text-emerald-600",children:[f.onTimeRate,"% a tiempo"]})]})})()]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:" Mes con ms desafos"}),(()=>{const f=r.reduce((m,p)=>p.onTimeRate<m.onTimeRate?p:m,r[0]);return o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("div",{className:"font-medium text-foreground",children:f.month}),o.jsxs("div",{children:[f.presented," declaraciones"]}),o.jsxs("div",{className:"text-amber-600",children:[f.onTimeRate,"% a tiempo"]})]})})()]})]})]})]})}function AFe(t){return rn({queryKey:["/api/tax/reports/goals",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.model&&e.set("model",t.model),t.assigneeId&&e.set("assigneeId",t.assigneeId);const n=await fetch(`/api/tax/reports/goals?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar las metas");return n.json()},staleTime:3e4})}function CFe({filters:t}){const{data:e,isLoading:n}=AFe(t);if(n)return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(Q6,{className:"h-5 w-5"}),"Metas y Objetivos"]}),o.jsx(Er,{children:"Seguimiento de objetivos del periodo"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando metas..."})})]});const r=e??[],i=r.filter(d=>d.achieved).length,s=r.length,a=s>0?i/s*100:0,l={achieved:{icon:Co,color:"text-emerald-600",bg:"bg-emerald-50",badge:"bg-emerald-100 text-emerald-700",label:"Lograda"},"on-track":{icon:n1,color:"text-blue-600",bg:"bg-blue-50",badge:"bg-blue-100 text-blue-700",label:"En camino"},"at-risk":{icon:Dv,color:"text-amber-600",bg:"bg-amber-50",badge:"bg-amber-100 text-amber-700",label:"En riesgo"},"off-track":{icon:ed,color:"text-rose-600",bg:"bg-rose-50",badge:"bg-rose-100 text-rose-700",label:"Fuera de meta"}},c=d=>({efficiency:"Eficiencia",completion:"Completitud",onTime:"Cumplimiento",leadTime:"Lead Time",volume:"Volumen"})[d]||d,u=d=>({efficiency:"%",completion:"%",onTime:"%",leadTime:"d",volume:""})[d]||"";return o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(Q6,{className:"h-5 w-5"}),"Metas y Objetivos"]}),o.jsx(Er,{children:"Seguimiento de objetivos del periodo"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[i,"/",s]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Metas logradas"})]})]})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-lg border p-4 bg-slate-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Logro General"}),o.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[a.toFixed(0),"%"]})]}),o.jsx(my,{value:a,className:"h-3"})]}),r.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-md",children:"No hay metas definidas para este periodo"}):o.jsx("div",{className:"space-y-3",children:r.map((d,f)=>{const m=l[d.status]||l["off-track"],p=m.icon,y=d.type==="leadTime";return o.jsxs("div",{className:`rounded-lg border p-4 ${m.bg} transition-all hover:shadow-sm`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(p,{className:`h-5 w-5 mt-0.5 ${m.color}`}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-foreground",children:c(d.type)}),d.description&&o.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:d.description})]})]}),o.jsx(ct,{className:m.badge,children:m.label})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Actual"}),o.jsxs("div",{className:"text-lg font-bold",children:[d.currentValue,u(d.type)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Meta"}),o.jsxs("div",{className:"text-lg font-bold",children:[y?"":""," ",d.targetValue,u(d.type)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Progreso"}),o.jsxs("div",{className:"text-lg font-bold",children:[d.progress,"%"]})]})]}),o.jsx(my,{value:d.progress,className:"h-2"}),o.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:d.achieved?o.jsx("span",{className:"text-emerald-700 font-medium",children:" Meta alcanzada exitosamente"}):d.status==="on-track"?o.jsxs("span",{className:"text-blue-700 font-medium",children:[" Vas bien, faltan ",y?`${(d.currentValue-d.targetValue).toFixed(1)}${u(d.type)} por reducir`:`${(d.targetValue-d.currentValue).toFixed(1)}${u(d.type)} para alcanzar la meta`]}):d.status==="at-risk"?o.jsx("span",{className:"text-amber-700 font-medium",children:" Requiere atencin para alcanzar la meta"}):o.jsx("span",{className:"text-rose-700 font-medium",children:" Lejos de la meta, se requiere accin correctiva"})})]},f)})}),r.length>0&&o.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-4 border-t",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:r.filter(d=>d.status==="achieved").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Logradas"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.filter(d=>d.status==="on-track").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"En camino"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-amber-600",children:r.filter(d=>d.status==="at-risk").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"En riesgo"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-rose-600",children:r.filter(d=>d.status==="off-track").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Fuera meta"})]})]})]})]})}function kFe(){const t=new Date().getFullYear(),[e,n]=N.useState({year:t});N.useEffect(()=>{const m=localStorage.getItem("reports.filters");if(m)try{const p=JSON.parse(m);p?.year&&n(p)}catch{}},[]),N.useEffect(()=>{localStorage.setItem("reports.filters",JSON.stringify(e))},[e]);const r=uFe(e),i=oie(e),s=fFe(e),a=lie(e),l=hFe(e),{data:c=[]}=rn({queryKey:["/api/tax-models"],queryFn:tj}),u=N.useMemo(()=>{const m=c.map(v=>({code:v.code,name:v.name})),p=Object.entries(U_).map(([v,x])=>({code:v,name:x.name})),y=new Map;return p.forEach(v=>y.set(v.code,v)),m.forEach(v=>y.set(v.code,v)),Array.from(y.values()).sort((v,x)=>v.code.localeCompare(x.code))},[c]),d=N.useMemo(()=>(a.data??[]).filter(p=>p.assigneeId||p.assigneeName).map(p=>({id:p.assigneeId??"none",name:p.assigneeName??"Sin asignar"})),[a.data]),f=N.useMemo(()=>{const m=new URLSearchParams;return m.set("year",String(e.year)),e.model&&m.set("model",e.model),e.status&&m.set("status",e.status),e.assigneeId&&m.set("assigneeId",e.assigneeId),`/api/tax/reports/export?${m.toString()}`},[e]);return o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Reportes de Impuestos"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Analiza el avance y los riesgos fiscales"})]}),o.jsx(ej,{}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{className:"text-base",children:"Filtros"}),o.jsx(Er,{children:"Define el alcance del informe"})]}),o.jsxs(Qe,{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Ao"}),o.jsx(Ge,{className:"w-24 h-9",type:"number",min:2e3,value:e.year,onChange:m=>n(p=>({...p,year:Number(m.target.value)}))})]}),o.jsxs(qn,{value:e.model??"ALL",onValueChange:m=>n(p=>({...p,model:m==="ALL"?void 0:m})),children:[o.jsx(Ln,{className:"w-56 h-9",children:o.jsx(Un,{placeholder:"Modelo"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"ALL",children:"Todos"}),u.map(m=>o.jsxs(it,{value:m.code,children:[m.code,"  ",m.name]},m.code))]})]}),o.jsxs(qn,{value:e.status??"ALL",onValueChange:m=>n(p=>({...p,status:m==="ALL"?void 0:m})),children:[o.jsx(Ln,{className:"w-44 h-9",children:o.jsx(Un,{placeholder:"Estado"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"ALL",children:"Todos"}),o.jsx(it,{value:"PENDIENTE",children:"Pendiente"}),o.jsx(it,{value:"IN_PROGRESS",children:"Calculado"}),o.jsx(it,{value:"PRESENTED",children:"Presentado"})]})]}),o.jsxs(qn,{value:e.assigneeId??"ALL",onValueChange:m=>n(p=>({...p,assigneeId:m==="ALL"?void 0:m})),children:[o.jsx(Ln,{className:"w-56 h-9",children:o.jsx(Un,{placeholder:"Gestor"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"ALL",children:"Todos los gestores"}),d.map(m=>o.jsx(it,{value:m.id,children:m.name},m.id))]})]}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsx(Se,{variant:"outline",onClick:()=>n({year:t}),children:"Limpiar"}),o.jsx(Se,{variant:"outline",onClick:()=>window.open(f,"_blank"),children:" CSV"}),o.jsx(Se,{variant:"default",onClick:()=>{const m=new URLSearchParams;m.set("year",String(e.year)),e.model&&m.set("model",e.model),e.status&&m.set("status",e.status),e.assigneeId&&m.set("assigneeId",e.assigneeId),window.open(`/api/tax/reports/export-excel?${m.toString()}`,"_blank")},children:" Excel Avanzado"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[o.jsx(Ze,{className:"bg-gradient-to-br from-red-50 to-red-100",children:o.jsx(Qe,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Pendientes"}),o.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.pending??0})]}),o.jsx("div",{className:"text-red-500 text-4xl",children:""})]})})}),o.jsx(Ze,{className:"bg-gradient-to-br from-amber-50 to-amber-100",children:o.jsx(Qe,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Calculados"}),o.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.inProgress??0})]}),o.jsx("div",{className:"text-amber-500 text-4xl",children:""})]})})}),o.jsx(Ze,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100",children:o.jsx(Qe,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Presentados"}),o.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.presented??0})]}),o.jsx("div",{className:"text-emerald-500 text-4xl",children:""})]})})}),o.jsx(Ze,{className:"bg-gradient-to-br from-slate-50 to-slate-100",children:o.jsx(Qe,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"}),o.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.total??0})]}),o.jsx("div",{className:"text-slate-500 text-4xl",children:""})]})})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3 xl:grid-cols-6",children:[o.jsx(Vg,{title:"% Completado",value:`${r.data?.completionRate??0}%`,color:"bg-blue-50",subtitle:`${r.data?.workload??0} en curso`}),o.jsx(Vg,{title:"Score de Eficiencia",value:`${r.data?.efficiencyScore??0}%`,color:"bg-purple-50",subtitle:"Calidad global"}),o.jsx(Vg,{title:"Cumplimiento",value:`${r.data?.onTimePct??0}%`,color:"bg-green-50",subtitle:`${r.data?.onTimeFilings??0} a tiempo`}),o.jsx(Vg,{title:"Lead Time",value:`${r.data?.leadTimeAvg??0}d`,color:"bg-indigo-50",subtitle:"Tiempo medio"}),o.jsx(Vg,{title:"Procesamiento",value:`${r.data?.processingTimeAvg??0}d`,color:"bg-cyan-50",subtitle:"Tiempo medio"}),o.jsx(Vg,{title:"Atrasadas",value:r.data?.lateFilings??0,color:"bg-orange-50",subtitle:"Fuera de plazo"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx(Ze,{className:"bg-rose-50 border-rose-200",children:o.jsx(Qe,{className:"py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-rose-700",children:" Atrasados"}),o.jsx("div",{className:"text-2xl font-bold text-rose-900",children:r.data?.overdue??0})]})})})}),o.jsx(Ze,{className:"bg-orange-50 border-orange-200",children:o.jsx(Qe,{className:"py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-orange-700",children:" Vencen en 3 das"}),o.jsx("div",{className:"text-2xl font-bold text-orange-900",children:r.data?.dueIn3??0})]})})})}),o.jsx(Ze,{className:"bg-amber-50 border-amber-200",children:o.jsx(Qe,{className:"py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-amber-700",children:" Vencen en 7 das"}),o.jsx("div",{className:"text-2xl font-bold text-amber-900",children:r.data?.dueIn7??0})]})})})})]}),o.jsx(wFe,{filters:e}),o.jsx(CFe,{filters:e}),o.jsx(EFe,{filters:e}),o.jsx(SFe,{filters:e}),o.jsx(_Fe,{currentYear:t,filters:{model:e.model,assigneeId:e.assigneeId}}),o.jsx(jFe,{filters:e}),o.jsxs("div",{className:"grid gap-4 xl:grid-cols-3",children:[o.jsx(TFe,{data:s.data??[],isLoading:s.isLoading}),o.jsxs(Ze,{className:"xl:col-span-2",children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Desglose por modelo"}),o.jsx(Er,{children:"Seguimiento del estado por modelo AEAT"})]}),o.jsx(Qe,{className:"space-y-2 text-sm",children:(i.data??[]).length===0?o.jsx("div",{className:"rounded-md border border-dashed px-3 py-6 text-center text-muted-foreground",children:"Sin datos para los filtros seleccionados"}):(i.data??[]).map(m=>o.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-foreground",children:m.modelCode}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total ",m.total]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs(ct,{className:"bg-red-100 text-red-700",children:["P ",m.pending]}),o.jsxs(ct,{className:"bg-amber-100 text-amber-700",children:["C ",m.inProgress]}),o.jsxs(ct,{className:"bg-emerald-100 text-emerald-700",children:["PR ",m.presented]}),o.jsxs(ct,{className:"bg-orange-100 text-orange-700",children:["AT ",m.overdue]}),o.jsxs("span",{className:"text-muted-foreground",children:["Avance ",m.advancePct,"%"]})]})]},m.modelCode))})]})]}),o.jsx(NFe,{data:l.data,isLoading:l.isLoading}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Detalle de presentaciones"}),o.jsx(Er,{children:"Listado paginado de declaraciones"})]}),o.jsx(Qe,{children:o.jsx(bFe,{filters:e})})]})]})}function Vg({title:t,value:e,color:n,subtitle:r}){return o.jsx(Ze,{className:`${n}`,children:o.jsxs(Qe,{className:"py-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:t}),o.jsx("div",{className:"text-2xl font-display font-bold",children:e}),r&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function TFe({data:t,isLoading:e}){return o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Clientes prioritarios"}),o.jsx(Er,{children:"Clientes con ms modelos activos"})]}),o.jsx(Qe,{className:"space-y-2 text-sm",children:e?o.jsx("div",{children:"Cargando"}):t.length===0?o.jsx("div",{className:"rounded-md border border-dashed px-3 py-4 text-center text-muted-foreground",children:"Sin clientes en los filtros actuales"}):t.slice().sort((n,r)=>(r.overdue??0)-(n.overdue??0)||r.modelsActive-n.modelsActive).slice(0,6).map(n=>o.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-foreground",children:n.clientName}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.modelsActive," modelo(s)  avance ",Math.round(n.advancePct??0),"%"]})]}),o.jsxs(ct,{className:n.overdue?"bg-destructive/10 text-destructive":"bg-emerald-100 text-emerald-700",children:[n.overdue??0," atrasos"]})]},n.clientId))})]})}function OFe(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var aL="ScrollArea",[cie]=wa(aL),[PFe,jc]=cie(aL),uie=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,m]=N.useState(null),[p,y]=N.useState(null),[v,x]=N.useState(null),[b,S]=N.useState(0),[_,j]=N.useState(0),[C,O]=N.useState(!1),[M,A]=N.useState(!1),P=kn(e,R=>c(R)),B=My(i);return o.jsx(PFe,{scope:n,type:r,dir:B,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:M,onScrollbarYEnabledChange:A,onCornerWidthChange:S,onCornerHeightChange:j,children:o.jsx(Bt.div,{dir:B,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});uie.displayName=aL;var die="ScrollAreaViewport",fie=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=jc(die,n),l=N.useRef(null),c=kn(e,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(Bt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});fie.displayName=die;var xd="ScrollAreaScrollbar",oL=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=jc(xd,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=t.orientation==="horizontal";return N.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?o.jsx(MFe,{...r,ref:e,forceMount:n}):i.type==="scroll"?o.jsx(RFe,{...r,ref:e,forceMount:n}):i.type==="auto"?o.jsx(hie,{...r,ref:e,forceMount:n}):i.type==="always"?o.jsx(lL,{...r,ref:e}):null});oL.displayName=xd;var MFe=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=jc(xd,t.__scopeScrollArea),[s,a]=N.useState(!1);return N.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(Na,{present:n||s,children:o.jsx(hie,{"data-state":s?"visible":"hidden",...r,ref:e})})}),RFe=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=jc(xd,t.__scopeScrollArea),s=t.orientation==="horizontal",a=rj(()=>c("SCROLL_END"),100),[l,c]=OFe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),N.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),a()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,a]),o.jsx(Na,{present:n||l!=="hidden",children:o.jsx(lL,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:wt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:wt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hie=N.forwardRef((t,e)=>{const n=jc(xd,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=N.useState(!1),l=t.orientation==="horizontal",c=rj(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return yy(n.viewport,c),yy(n.content,c),o.jsx(Na,{present:r||s,children:o.jsx(lL,{"data-state":s?"visible":"hidden",...i,ref:e})})}),lL=N.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=jc(xd,t.__scopeScrollArea),s=N.useRef(null),a=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yie(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,p){return $Fe(m,a.current,l,p)}return n==="horizontal"?o.jsx(IFe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,p=TU(m,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):n==="vertical"?o.jsx(DFe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,p=TU(m,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),IFe=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=jc(xd,t.__scopeScrollArea),[a,l]=N.useState(),c=N.useRef(null),u=kn(e,c,s.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mie,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nj(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),bie(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:kS(a.paddingLeft),paddingEnd:kS(a.paddingRight)}})}})}),DFe=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=jc(xd,t.__scopeScrollArea),[a,l]=N.useState(),c=N.useRef(null),u=kn(e,c,s.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mie,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nj(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),bie(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:kS(a.paddingTop),paddingEnd:kS(a.paddingBottom)}})}})}),[LFe,pie]=cie(xd),mie=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,p=jc(xd,n),[y,v]=N.useState(null),x=kn(e,P=>v(P)),b=N.useRef(null),S=N.useRef(""),_=p.viewport,j=r.content-r.viewport,C=hs(d),O=hs(c),M=rj(f,10);function A(P){if(b.current){const B=P.clientX-b.current.left,R=P.clientY-b.current.top;u({x:B,y:R})}}return N.useEffect(()=>{const P=B=>{const R=B.target;y?.contains(R)&&C(B,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,y,j,C]),N.useEffect(O,[r,O]),yy(y,M),yy(p.content,M),o.jsx(LFe,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:hs(s),onThumbPointerUp:hs(a),onThumbPositionChange:O,onThumbPointerDown:hs(l),children:o.jsx(Bt.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:wt(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=y.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:wt(t.onPointerMove,A),onPointerUp:wt(t.onPointerUp,P=>{const B=P.target;B.hasPointerCapture(P.pointerId)&&B.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=S.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),CS="ScrollAreaThumb",gie=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=pie(CS,t.__scopeScrollArea);return o.jsx(Na,{present:n||i.hasThumb,children:o.jsx(FFe,{ref:e,...r})})}),FFe=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=jc(CS,n),a=pie(CS,n),{onThumbPositionChange:l}=a,c=kn(e,f=>a.onThumbChange(f)),u=N.useRef(void 0),d=rj(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(d(),!u.current){const p=zFe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,d,l]),o.jsx(Bt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:wt(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,v=f.clientY-p.top;a.onThumbPointerDown({x:y,y:v})}),onPointerUp:wt(t.onPointerUp,a.onThumbPointerUp)})});gie.displayName=CS;var cL="ScrollAreaCorner",vie=N.forwardRef((t,e)=>{const n=jc(cL,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(BFe,{...t,ref:e}):null});vie.displayName=cL;var BFe=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=jc(cL,n),[s,a]=N.useState(0),[l,c]=N.useState(0),u=!!(s&&l);return yy(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),c(d)}),yy(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),u?o.jsx(Bt.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function kS(t){return t?parseInt(t,10):0}function yie(t,e){const n=t/e;return isNaN(n)?0:n}function nj(t){const e=yie(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function $Fe(t,e,n,r="ltr"){const i=nj(n),s=i/2,a=e||s,l=i-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return xie([c,u],f)(t)}function TU(t,e,n="ltr"){const r=nj(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,a]:[a*-1,0],u=j0(t,c);return xie([0,a],[0,l])(u)}function xie(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function bie(t,e){return t>0&&t<e}var zFe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function rj(t,e){const n=hs(t),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function yy(t,e){const n=hs(e);Es(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var wie=uie,qFe=fie,UFe=vie;const ij=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(wie,{ref:r,className:pt("relative overflow-hidden",t),...n,children:[o.jsx(qFe,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(Nie,{}),o.jsx(UFe,{})]}));ij.displayName=wie.displayName;const Nie=N.forwardRef(({className:t,orientation:e="vertical",...n},r)=>o.jsx(oL,{ref:r,orientation:e,className:pt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:o.jsx(gie,{className:"relative flex-1 rounded-full bg-border"})}));Nie.displayName=oL.displayName;function HFe({htmlContent:t}){const[e,n]=N.useState([]),[r,i]=N.useState("");N.useEffect(()=>{const c=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6"),u=[];c.forEach((f,m)=>{const p=parseInt(f.tagName.substring(1)),y=f.textContent||"";let v=f.id;v||(v=`heading-${m}-${y.toLowerCase().replace(/\s+/g,"-").slice(0,30)}`,f.id=v),u.push({id:v,text:y,level:p})}),n(u);const d=new IntersectionObserver(f=>{f.forEach(m=>{m.isIntersecting&&i(m.target.id)})},{rootMargin:"-20% 0px -35% 0px"});return c.forEach(f=>d.observe(f)),()=>d.disconnect()},[t]);const s=a=>{const l=document.getElementById(a);l&&l.scrollIntoView({behavior:"smooth",block:"start"})};return e.length===0?null:o.jsxs(Ze,{className:"sticky top-4",children:[o.jsx(xt,{className:"pb-3",children:o.jsxs(St,{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx($4,{className:"h-4 w-4"}),"Tabla de Contenidos"]})}),o.jsx(Qe,{children:o.jsx(ij,{className:"h-[400px] pr-4",children:o.jsx("div",{className:"space-y-1",children:e.map(a=>o.jsx("button",{onClick:()=>s(a.id),className:`
                  w-full text-left text-sm py-1 px-2 rounded transition-colors
                  ${a.level===1?"font-semibold":""}
                  ${a.level===2?"pl-4":""}
                  ${a.level===3?"pl-8":""}
                  ${a.level>=4?"pl-12":""}
                  ${r===a.id?"bg-primary text-primary-foreground":"hover-elevate text-muted-foreground hover:text-foreground"}
                `,"data-testid":`toc-item-${a.id}`,children:a.text},a.id))})})})]})}const VFe="modulepreload",WFe=function(t){return"/"+t},OU={},QT=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=WFe(u),u in OU)return;OU[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":VFe,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function Qr(t){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(t)}var vu=Uint8Array,Ml=Uint16Array,uL=Int32Array,dL=new vu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fL=new vu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PU=new vu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sie=function(t,e){for(var n=new Ml(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new uL(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Eie=Sie(dL,2),KFe=Eie.b,jR=Eie.r;KFe[28]=258,jR[258]=28;var GFe=Sie(fL,0),MU=GFe.r,AR=new Ml(32768);for(var Pi=0;Pi<32768;++Pi){var hh=(Pi&43690)>>1|(Pi&21845)<<1;hh=(hh&52428)>>2|(hh&13107)<<2,hh=(hh&61680)>>4|(hh&3855)<<4,AR[Pi]=((hh&65280)>>8|(hh&255)<<8)>>1}var Eb=(function(t,e,n){for(var r=t.length,i=0,s=new Ml(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Ml(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(n){l=new Ml(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],f=a[t[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[AR[f]>>c]=u}else for(l=new Ml(r),i=0;i<r;++i)t[i]&&(l[i]=AR[a[t[i]-1]++]>>15-t[i]);return l}),zm=new vu(288);for(var Pi=0;Pi<144;++Pi)zm[Pi]=8;for(var Pi=144;Pi<256;++Pi)zm[Pi]=9;for(var Pi=256;Pi<280;++Pi)zm[Pi]=7;for(var Pi=280;Pi<288;++Pi)zm[Pi]=8;var TS=new vu(32);for(var Pi=0;Pi<32;++Pi)TS[Pi]=5;var YFe=Eb(zm,9,0),XFe=Eb(TS,5,0),_ie=function(t){return(t+7)/8|0},ZFe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new vu(t.subarray(e,n))},Zd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Hx=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},JT=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Aie,l:0};if(i==1){var a=new vu(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(C,O){return C.f-O.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new Ml(m+1),y=CR(n[d-1],p,0);if(y>e){var r=0,v=0,x=y-e,b=1<<x;for(s.sort(function(O,M){return p[M.s]-p[O.s]||O.f-M.f});r<i;++r){var S=s[r].s;if(p[S]>e)v+=b-(1<<y-p[S]),p[S]=e;else break}for(v>>=x;v>0;){var _=s[r].s;p[_]<e?v-=1<<e-p[_]++-1:++r}for(;r>=0&&v;--r){var j=s[r].s;p[j]==e&&(--p[j],++v)}y=e}return{t:new vu(p),l:y}},CR=function(t,e,n){return t.s==-1?Math.max(CR(t.l,e,n+1),CR(t.r,e,n+1)):e[t.s]=n},RU=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ml(++e),r=0,i=t[0],s=1,a=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[l]}return{c:n.subarray(0,r),n:e}},Vx=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},jie=function(t,e,n){var r=n.length,i=_ie(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},IU=function(t,e,n,r,i,s,a,l,c,u,d){Zd(e,d++,n),++i[256];for(var f=JT(i,15),m=f.t,p=f.l,y=JT(s,15),v=y.t,x=y.l,b=RU(m),S=b.c,_=b.n,j=RU(v),C=j.c,O=j.n,M=new Ml(19),A=0;A<S.length;++A)++M[S[A]&31];for(var A=0;A<C.length;++A)++M[C[A]&31];for(var P=JT(M,7),B=P.t,R=P.l,F=19;F>4&&!B[PU[F-1]];--F);var q=u+5<<3,z=Vx(i,zm)+Vx(s,TS)+a,G=Vx(i,m)+Vx(s,v)+a+14+3*F+Vx(M,B)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&q<=z&&q<=G)return jie(e,d,t.subarray(c,c+u));var X,U,W,Y;if(Zd(e,d,1+(G<z)),d+=2,G<z){X=Eb(m,p,0),U=m,W=Eb(v,x,0),Y=v;var ie=Eb(B,R,0);Zd(e,d,_-257),Zd(e,d+5,O-1),Zd(e,d+10,F-4),d+=14;for(var A=0;A<F;++A)Zd(e,d+3*A,B[PU[A]]);d+=3*F;for(var Z=[S,C],I=0;I<2;++I)for(var V=Z[I],A=0;A<V.length;++A){var Q=V[A]&31;Zd(e,d,ie[Q]),d+=B[Q],Q>15&&(Zd(e,d,V[A]>>5&127),d+=V[A]>>12)}}else X=YFe,U=zm,W=XFe,Y=TS;for(var A=0;A<l;++A){var re=r[A];if(re>255){var Q=re>>18&31;Hx(e,d,X[Q+257]),d+=U[Q+257],Q>7&&(Zd(e,d,re>>23&31),d+=dL[Q]);var fe=re&31;Hx(e,d,W[fe]),d+=Y[fe],fe>3&&(Hx(e,d,re>>5&8191),d+=fL[fe])}else Hx(e,d,X[re]),d+=U[re]}return Hx(e,d,X[256]),d+U[256]},QFe=new uL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Aie=new vu(0),JFe=function(t,e,n,r,i,s){var a=s.z||t.length,l=new vu(r+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(r,l.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var f=QFe[e-1],m=f>>13,p=f&8191,y=(1<<n)-1,v=s.p||new Ml(32768),x=s.h||new Ml(y+1),b=Math.ceil(n/3),S=2*b,_=function(ee){return(t[ee]^t[ee+1]<<b^t[ee+2]<<S)&y},j=new uL(25e3),C=new Ml(288),O=new Ml(32),M=0,A=0,P=s.i||0,B=0,R=s.w||0,F=0;P+2<a;++P){var q=_(P),z=P&32767,G=x[q];if(v[z]=G,x[q]=z,R<=P){var X=a-P;if((M>7e3||B>24576)&&(X>423||!u)){d=IU(t,c,0,j,C,O,A,B,F,P-F,d),B=M=A=0,F=P;for(var U=0;U<286;++U)C[U]=0;for(var U=0;U<30;++U)O[U]=0}var W=2,Y=0,ie=p,Z=z-G&32767;if(X>2&&q==_(P-Z))for(var I=Math.min(m,X)-1,V=Math.min(32767,P),Q=Math.min(258,X);Z<=V&&--ie&&z!=G;){if(t[P+W]==t[P+W-Z]){for(var re=0;re<Q&&t[P+re]==t[P+re-Z];++re);if(re>W){if(W=re,Y=Z,re>I)break;for(var fe=Math.min(Z,re-2),pe=0,U=0;U<fe;++U){var ve=P-Z+U&32767,de=v[ve],be=ve-de&32767;be>pe&&(pe=be,G=ve)}}}z=G,G=v[z],Z+=z-G&32767}if(Y){j[B++]=268435456|jR[W]<<18|MU[Y];var je=jR[W]&31,ae=MU[Y]&31;A+=dL[je]+fL[ae],++C[257+je],++O[ae],R=P+W,++M}else j[B++]=t[P],++C[t[P]]}}for(P=Math.max(P,R);P<a;++P)j[B++]=t[P],++C[t[P]];d=IU(t,c,u,j,C,O,A,B,F,P-F,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=x,s.p=v,s.i=P,s.w=R)}else{for(var P=s.w||0;P<a+u;P+=65535){var Oe=P+65535;Oe>=a&&(c[d/8|0]=u,Oe=a),d=jie(c,d+1,t.subarray(P,Oe))}s.i=a}return ZFe(l,0,r+_ie(d)+i)},Cie=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},e8e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new vu(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return JFe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},kie=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},t8e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Cie();i.p(e.dictionary),kie(t,2,i.d())}};function kR(t,e){e||(e={});var n=Cie();n.p(t);var r=e8e(t,e,e.dictionary?6:2,4);return t8e(r,e),kie(r,r.length-4,n.d()),r}var n8e=typeof TextDecoder<"u"&&new TextDecoder,r8e=0;try{n8e.decode(Aie,{stream:!0}),r8e=1}catch{}function i8e(t){if(Array.isArray(t))return t}function s8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function DU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a8e(t,e){if(t){if(typeof t=="string")return DU(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DU(t,e):void 0}}function o8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LU(t,e){return i8e(t)||s8e(t,e)||a8e(t,e)||o8e()}function FU(t,e="utf8"){return new TextDecoder(e).decode(t)}const l8e=new TextEncoder;function c8e(t){return l8e.encode(t)}const u8e=1024*8,d8e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),eO={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class hL{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=u8e,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof hL)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=eO[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===d8e&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new eO[n](l.buffer);return this.offset+=r,c.reverse(),c}const a=new eO[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return FU(this.readBytes(e))}decodeText(e=1,n="utf8"){return FU(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(c8e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ex(t){let e=t.length;for(;--e>=0;)t[e]=0}const f8e=3,h8e=258,Tie=29,p8e=256,m8e=p8e+1+Tie,Oie=30,g8e=512,v8e=new Array((m8e+2)*2);ex(v8e);const y8e=new Array(Oie*2);ex(y8e);const x8e=new Array(g8e);ex(x8e);const b8e=new Array(h8e-f8e+1);ex(b8e);const w8e=new Array(Tie);ex(w8e);const N8e=new Array(Oie);ex(N8e);const S8e=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var TR=S8e;const E8e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},_8e=new Uint32Array(E8e()),j8e=(t,e,n,r)=>{const i=_8e,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Bu=j8e,OR={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pie={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const A8e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var C8e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)A8e(n,r)&&(t[r]=n[r])}}return t},k8e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},Mie={assign:C8e,flattenChunks:k8e};let Rie=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Rie=!1}const L0=new Uint8Array(256);for(let t=0;t<256;t++)L0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;L0[254]=L0[254]=1;var T8e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,l=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const O8e=(t,e)=>{if(e<65534&&t.subarray&&Rie)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var P8e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let l=L0[a];if(l>4){s[i++]=65533,r+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&r<n;)a=a<<6|t[r++]&63,l--;if(l>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return O8e(s,i)},M8e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+L0[t[n]]>e?n:e},PR={string2buf:T8e,buf2string:P8e,utf8border:M8e};function R8e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var I8e=R8e;const Vw=16209,D8e=16191;var L8e=function(e,n){let r,i,s,a,l,c,u,d,f,m,p,y,v,x,b,S,_,j,C,O,M,A,P,B;const R=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,B=e.output,a=s-(n-e.avail_out),l=s+(e.avail_out-257),c=R.dmax,u=R.wsize,d=R.whave,f=R.wnext,m=R.window,p=R.hold,y=R.bits,v=R.lencode,x=R.distcode,b=(1<<R.lenbits)-1,S=(1<<R.distbits)-1;e:do{y<15&&(p+=P[r++]<<y,y+=8,p+=P[r++]<<y,y+=8),_=v[p&b];t:for(;;){if(j=_>>>24,p>>>=j,y-=j,j=_>>>16&255,j===0)B[s++]=_&65535;else if(j&16){C=_&65535,j&=15,j&&(y<j&&(p+=P[r++]<<y,y+=8),C+=p&(1<<j)-1,p>>>=j,y-=j),y<15&&(p+=P[r++]<<y,y+=8,p+=P[r++]<<y,y+=8),_=x[p&S];n:for(;;){if(j=_>>>24,p>>>=j,y-=j,j=_>>>16&255,j&16){if(O=_&65535,j&=15,y<j&&(p+=P[r++]<<y,y+=8,y<j&&(p+=P[r++]<<y,y+=8)),O+=p&(1<<j)-1,O>c){e.msg="invalid distance too far back",R.mode=Vw;break e}if(p>>>=j,y-=j,j=s-a,O>j){if(j=O-j,j>d&&R.sane){e.msg="invalid distance too far back",R.mode=Vw;break e}if(M=0,A=m,f===0){if(M+=u-j,j<C){C-=j;do B[s++]=m[M++];while(--j);M=s-O,A=B}}else if(f<j){if(M+=u+f-j,j-=f,j<C){C-=j;do B[s++]=m[M++];while(--j);if(M=0,f<C){j=f,C-=j;do B[s++]=m[M++];while(--j);M=s-O,A=B}}}else if(M+=f-j,j<C){C-=j;do B[s++]=m[M++];while(--j);M=s-O,A=B}for(;C>2;)B[s++]=A[M++],B[s++]=A[M++],B[s++]=A[M++],C-=3;C&&(B[s++]=A[M++],C>1&&(B[s++]=A[M++]))}else{M=s-O;do B[s++]=B[M++],B[s++]=B[M++],B[s++]=B[M++],C-=3;while(C>2);C&&(B[s++]=B[M++],C>1&&(B[s++]=B[M++]))}}else if((j&64)===0){_=x[(_&65535)+(p&(1<<j)-1)];continue n}else{e.msg="invalid distance code",R.mode=Vw;break e}break}}else if((j&64)===0){_=v[(_&65535)+(p&(1<<j)-1)];continue t}else if(j&32){R.mode=D8e;break e}else{e.msg="invalid literal/length code",R.mode=Vw;break e}break}}while(r<i&&s<l);C=y>>3,r-=C,y-=C<<3,p&=(1<<y)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<l?257+(l-s):257-(s-l),R.hold=p,R.bits=y};const Wg=15,BU=852,$U=592,zU=0,tO=1,qU=2,F8e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),B8e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$8e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),z8e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),q8e=(t,e,n,r,i,s,a,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,p=0,y=0,v=0,x=0,b=0,S=0,_,j,C,O,M,A=null,P;const B=new Uint16Array(Wg+1),R=new Uint16Array(Wg+1);let F=null,q,z,G;for(u=0;u<=Wg;u++)B[u]=0;for(d=0;d<r;d++)B[e[n+d]]++;for(p=c,m=Wg;m>=1&&B[m]===0;m--);if(p>m&&(p=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&B[f]===0;f++);for(p<f&&(p=f),x=1,u=1;u<=Wg;u++)if(x<<=1,x-=B[u],x<0)return-1;if(x>0&&(t===zU||m!==1))return-1;for(R[1]=0,u=1;u<Wg;u++)R[u+1]=R[u]+B[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[R[e[n+d]]++]=d);if(t===zU?(A=F=a,P=20):t===tO?(A=F8e,F=B8e,P=257):(A=$8e,F=z8e,P=0),S=0,d=0,u=f,M=s,y=p,v=0,C=-1,b=1<<p,O=b-1,t===tO&&b>BU||t===qU&&b>$U)return 1;for(;;){q=u-v,a[d]+1<P?(z=0,G=a[d]):a[d]>=P?(z=F[a[d]-P],G=A[a[d]-P]):(z=96,G=0),_=1<<u-v,j=1<<y,f=j;do j-=_,i[M+(S>>v)+j]=q<<24|z<<16|G|0;while(j!==0);for(_=1<<u-1;S&_;)_>>=1;if(_!==0?(S&=_-1,S+=_):S=0,d++,--B[u]===0){if(u===m)break;u=e[n+a[d]]}if(u>p&&(S&O)!==C){for(v===0&&(v=p),M+=f,y=u-v,x=1<<y;y+v<m&&(x-=B[y+v],!(x<=0));)y++,x<<=1;if(b+=1<<y,t===tO&&b>BU||t===qU&&b>$U)return 1;C=S&O,i[C]=p<<24|y<<16|M-s|0}}return S!==0&&(i[M+S]=u-v<<24|64<<16|0),l.bits=p,0};var _b=q8e;const U8e=0,Iie=1,Die=2,{Z_FINISH:UU,Z_BLOCK:H8e,Z_TREES:Ww,Z_OK:qm,Z_STREAM_END:V8e,Z_NEED_DICT:W8e,Z_STREAM_ERROR:Nc,Z_DATA_ERROR:Lie,Z_MEM_ERROR:Fie,Z_BUF_ERROR:K8e,Z_DEFLATED:HU}=Pie,sj=16180,VU=16181,WU=16182,KU=16183,GU=16184,YU=16185,XU=16186,ZU=16187,QU=16188,JU=16189,OS=16190,Qd=16191,nO=16192,eH=16193,rO=16194,tH=16195,nH=16196,rH=16197,iH=16198,Kw=16199,Gw=16200,sH=16201,aH=16202,oH=16203,lH=16204,cH=16205,iO=16206,uH=16207,dH=16208,zi=16209,Bie=16210,$ie=16211,G8e=852,Y8e=592,X8e=15,Z8e=X8e,fH=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Q8e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<sj||e.mode>$ie?1:0},zie=t=>{if(lg(t))return Nc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=sj,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(G8e),e.distcode=e.distdyn=new Int32Array(Y8e),e.sane=1,e.back=-1,qm},qie=t=>{if(lg(t))return Nc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,zie(t)},Uie=(t,e)=>{let n;if(lg(t))return Nc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,qie(t))},Hie=(t,e)=>{if(!t)return Nc;const n=new Q8e;t.state=n,n.strm=t,n.window=null,n.mode=sj;const r=Uie(t,e);return r!==qm&&(t.state=null),r},J8e=t=>Hie(t,Z8e);let hH=!0,sO,aO;const eBe=t=>{if(hH){sO=new Int32Array(512),aO=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_b(Iie,t.lens,0,288,sO,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_b(Die,t.lens,0,32,aO,0,t.work,{bits:5}),hH=!1}t.lencode=sO,t.lenbits=9,t.distcode=aO,t.distbits=5},Vie=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},tBe=(t,e)=>{let n,r,i,s,a,l,c,u,d,f,m,p,y,v,x=0,b,S,_,j,C,O,M,A;const P=new Uint8Array(4);let B,R;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lg(t)||!t.output||!t.input&&t.avail_in!==0)return Nc;n=t.state,n.mode===Qd&&(n.mode=nO),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,u=n.hold,d=n.bits,f=l,m=c,A=qm;e:for(;;)switch(n.mode){case sj:if(n.wrap===0){n.mode=nO;break}for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=u&255,P[1]=u>>>8&255,n.check=Bu(n.check,P,2,0),u=0,d=0,n.mode=VU;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=zi;break}if((u&15)!==HU){t.msg="unknown compression method",n.mode=zi;break}if(u>>>=4,d-=4,M=(u&15)+8,n.wbits===0&&(n.wbits=M),M>15||M>n.wbits){t.msg="invalid window size",n.mode=zi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?JU:Qd,u=0,d=0;break;case VU:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==HU){t.msg="unknown compression method",n.mode=zi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=zi;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=Bu(n.check,P,2,0)),u=0,d=0,n.mode=WU;case WU:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,n.check=Bu(n.check,P,4,0)),u=0,d=0,n.mode=KU;case KU:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=Bu(n.check,P,2,0)),u=0,d=0,n.mode=GU;case GU:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=Bu(n.check,P,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=YU;case YU:if(n.flags&1024&&(p=n.length,p>l&&(p=l),p&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),M)),n.flags&512&&n.wrap&4&&(n.check=Bu(n.check,r,p,s)),l-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=XU;case XU:if(n.flags&2048){if(l===0)break e;p=0;do M=r[s+p++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=Bu(n.check,r,p,s)),l-=p,s+=p,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ZU;case ZU:if(n.flags&4096){if(l===0)break e;p=0;do M=r[s+p++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=Bu(n.check,r,p,s)),l-=p,s+=p,M)break e}else n.head&&(n.head.comment=null);n.mode=QU;case QU:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=zi;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Qd;break;case JU:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}t.adler=n.check=fH(u),u=0,d=0,n.mode=OS;case OS:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=l,n.hold=u,n.bits=d,W8e;t.adler=n.check=1,n.mode=Qd;case Qd:if(e===H8e||e===Ww)break e;case nO:if(n.last){u>>>=d&7,d-=d&7,n.mode=iO;break}for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=eH;break;case 1:if(eBe(n),n.mode=Kw,e===Ww){u>>>=2,d-=2;break e}break;case 2:n.mode=nH;break;case 3:t.msg="invalid block type",n.mode=zi}u>>>=2,d-=2;break;case eH:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=zi;break}if(n.length=u&65535,u=0,d=0,n.mode=rO,e===Ww)break e;case rO:n.mode=tH;case tH:if(p=n.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),a),l-=p,s+=p,c-=p,a+=p,n.length-=p;break}n.mode=Qd;break;case nH:for(;d<14;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=zi;break}n.have=0,n.mode=rH;case rH:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.lens[F[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},A=_b(U8e,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,A){t.msg="invalid code lengths set",n.mode=zi;break}n.have=0,n.mode=iH;case iH:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,S=x>>>16&255,_=x&65535,!(b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(_<16)u>>>=b,d-=b,n.lens[n.have++]=_;else{if(_===16){for(R=b+2;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(u>>>=b,d-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=zi;break}M=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(_===17){for(R=b+3;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=b,d-=b,M=0,p=3+(u&7),u>>>=3,d-=3}else{for(R=b+7;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=b,d-=b,M=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=zi;break}for(;p--;)n.lens[n.have++]=M}}if(n.mode===zi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=zi;break}if(n.lenbits=9,B={bits:n.lenbits},A=_b(Iie,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,A){t.msg="invalid literal/lengths set",n.mode=zi;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},A=_b(Die,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,A){t.msg="invalid distances set",n.mode=zi;break}if(n.mode=Kw,e===Ww)break e;case Kw:n.mode=Gw;case Gw:if(l>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=l,n.hold=u,n.bits=d,L8e(t,m),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,u=n.hold,d=n.bits,n.mode===Qd&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,S=x>>>16&255,_=x&65535,!(b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(S&&(S&240)===0){for(j=b,C=S,O=_;x=n.lencode[O+((u&(1<<j+C)-1)>>j)],b=x>>>24,S=x>>>16&255,_=x&65535,!(j+b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=j,d-=j,n.back+=j}if(u>>>=b,d-=b,n.back+=b,n.length=_,S===0){n.mode=cH;break}if(S&32){n.back=-1,n.mode=Qd;break}if(S&64){t.msg="invalid literal/length code",n.mode=zi;break}n.extra=S&15,n.mode=sH;case sH:if(n.extra){for(R=n.extra;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=aH;case aH:for(;x=n.distcode[u&(1<<n.distbits)-1],b=x>>>24,S=x>>>16&255,_=x&65535,!(b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if((S&240)===0){for(j=b,C=S,O=_;x=n.distcode[O+((u&(1<<j+C)-1)>>j)],b=x>>>24,S=x>>>16&255,_=x&65535,!(j+b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=j,d-=j,n.back+=j}if(u>>>=b,d-=b,n.back+=b,S&64){t.msg="invalid distance code",n.mode=zi;break}n.offset=_,n.extra=S&15,n.mode=oH;case oH:if(n.extra){for(R=n.extra;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=zi;break}n.mode=lH;case lH:if(c===0)break e;if(p=m-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=zi;break}p>n.wnext?(p-=n.wnext,y=n.wsize-p):y=n.wnext-p,p>n.length&&(p=n.length),v=n.window}else v=i,y=a-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[a++]=v[y++];while(--p);n.length===0&&(n.mode=Gw);break;case cH:if(c===0)break e;i[a++]=n.length,c--,n.mode=Gw;break;case iO:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[s++]<<d,d+=8}if(m-=c,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Bu(n.check,i,m,a-m):TR(n.check,i,m,a-m)),m=c,n.wrap&4&&(n.flags?u:fH(u))!==n.check){t.msg="incorrect data check",n.mode=zi;break}u=0,d=0}n.mode=uH;case uH:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=zi;break}u=0,d=0}n.mode=dH;case dH:A=V8e;break e;case zi:A=Lie;break e;case Bie:return Fie;case $ie:default:return Nc}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=l,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<zi&&(n.mode<iO||e!==UU))&&Vie(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Bu(n.check,i,m,t.next_out-m):TR(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Qd?128:0)+(n.mode===Kw||n.mode===rO?256:0),(f===0&&m===0||e===UU)&&A===qm&&(A=K8e),A},nBe=t=>{if(lg(t))return Nc;let e=t.state;return e.window&&(e.window=null),t.state=null,qm},rBe=(t,e)=>{if(lg(t))return Nc;const n=t.state;return(n.wrap&2)===0?Nc:(n.head=e,e.done=!1,qm)},iBe=(t,e)=>{const n=e.length;let r,i,s;return lg(t)||(r=t.state,r.wrap!==0&&r.mode!==OS)?Nc:r.mode===OS&&(i=1,i=TR(i,e,n,0),i!==r.check)?Lie:(s=Vie(t,e,n,n),s?(r.mode=Bie,Fie):(r.havedict=1,qm))};var sBe=qie,aBe=Uie,oBe=zie,lBe=J8e,cBe=Hie,uBe=tBe,dBe=nBe,fBe=rBe,hBe=iBe,pBe="pako inflate (from Nodeca project)",of={inflateReset:sBe,inflateReset2:aBe,inflateResetKeep:oBe,inflateInit:lBe,inflateInit2:cBe,inflate:uBe,inflateEnd:dBe,inflateGetHeader:fBe,inflateSetDictionary:hBe,inflateInfo:pBe};function mBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gBe=mBe;const Wie=Object.prototype.toString,{Z_NO_FLUSH:vBe,Z_FINISH:yBe,Z_OK:F0,Z_STREAM_END:oO,Z_NEED_DICT:lO,Z_STREAM_ERROR:xBe,Z_DATA_ERROR:pH,Z_MEM_ERROR:bBe}=Pie;function T1(t){this.options=Mie.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I8e,this.strm.avail_out=0;let n=of.inflateInit2(this.strm,e.windowBits);if(n!==F0)throw new Error(OR[n]);if(this.header=new gBe,of.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=PR.string2buf(e.dictionary):Wie.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=of.inflateSetDictionary(this.strm,e.dictionary),n!==F0)))throw new Error(OR[n])}T1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,l;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?yBe:vBe,Wie.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=of.inflate(n,a),s===lO&&i&&(s=of.inflateSetDictionary(n,i),s===F0?s=of.inflate(n,a):s===pH&&(s=lO));n.avail_in>0&&s===oO&&n.state.wrap>0&&t[n.next_in]!==0;)of.inflateReset(n),s=of.inflate(n,a);switch(s){case xBe:case pH:case lO:case bBe:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===oO))if(this.options.to==="string"){let c=PR.utf8border(n.output,n.next_out),u=n.next_out-c,d=PR.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===F0&&l===0)){if(s===oO)return s=of.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};T1.prototype.onData=function(t){this.chunks.push(t)};T1.prototype.onEnd=function(t){t===F0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mie.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wBe(t,e){const n=new T1(e);if(n.push(t),n.err)throw n.msg||OR[n.err];return n.result}var NBe=T1,SBe=wBe,EBe={Inflate:NBe,inflate:SBe};const{Inflate:_Be,inflate:jBe}=EBe;var mH=_Be,ABe=jBe;const Kie=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Kie[t]=e}const gH=4294967295;function CBe(t,e,n){let r=t;for(let i=0;i<n;i++)r=Kie[(r^e[i])&255]^r>>>8;return r}function kBe(t,e){return(CBe(gH,t,e)^gH)>>>0}function vH(t,e,n){const r=t.readUint32(),i=kBe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Gie(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Yie(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function Xie(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function Zie(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function Qie(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+TBe(e[s-i],n[s],n[s-i])&255}}function TBe(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function OBe(t,e,n,r,i,s){switch(t){case 0:Gie(e,n,i);break;case 1:Yie(e,n,i,s);break;case 2:Xie(e,n,r,i);break;case 3:Zie(e,n,r,i,s);break;case 4:Qie(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const PBe=new Uint16Array([255]),MBe=new Uint8Array(PBe.buffer),RBe=MBe[0]===255;function IBe(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(r*n*l);let u=0;for(let d=0;d<7;d++){const f=a[d],m=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(m<=0||p<=0)continue;const y=m*l,v=new Uint8Array(y);for(let x=0;x<p;x++){const b=e[u++],S=e.subarray(u,u+y);u+=y;const _=new Uint8Array(y);OBe(b,S,_,v,y,l),v.set(_);for(let j=0;j<m;j++){const C=f.x+j*f.xStep,O=f.y+x*f.yStep;if(!(C>=n||O>=r))for(let M=0;M<l;M++)c[(O*n+C)*l+M]=_[j*l+M]}}}if(s===16){const d=new Uint16Array(c.buffer);if(RBe)for(let f=0;f<d.length;f++)d[f]=DBe(d[f]);return d}else return c}function DBe(t){return(t&255)<<8|t>>8&255}const LBe=new Uint16Array([255]),FBe=new Uint8Array(LBe.buffer),BBe=FBe[0]===255,$Be=new Uint8Array(0);function yH(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*n),c=new Uint8Array(r*l);let u=$Be,d=0,f,m;for(let p=0;p<r;p++){switch(f=e.subarray(d+1,d+1+l),m=c.subarray(p*l,(p+1)*l),e[d]){case 0:Gie(f,m,l);break;case 1:Yie(f,m,l,a);break;case 2:Xie(f,m,u,l);break;case 3:Zie(f,m,u,l,a);break;case 4:Qie(f,m,u,l,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(BBe)for(let y=0;y<p.length;y++)p[y]=zBe(p[y]);return p}else return c}function zBe(t){return(t&255)<<8|t>>8&255}const I2=Uint8Array.of(137,80,78,71,13,10,26,10);function xH(t){if(!qBe(t.readBytes(I2.length)))throw new Error("wrong PNG signature")}function qBe(t){if(t.length<I2.length)return!1;for(let e=0;e<I2.length;e++)if(t[e]!==I2[e])return!1;return!0}const UBe="tEXt",HBe=0,Jie=new TextDecoder("latin1");function VBe(t){if(KBe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const WBe=/^[\u0000-\u00FF]*$/;function KBe(t){if(!WBe.test(t))throw new Error("invalid latin1 text")}function GBe(t,e,n){const r=ese(e);t[r]=YBe(e,n-r.length-1)}function ese(t){for(t.mark();t.readByte()!==HBe;);const e=t.offset;t.reset();const n=Jie.decode(t.readBytes(e-t.offset-1));return t.skip(1),VBe(n),n}function YBe(t,e){return Jie.decode(t.readBytes(e))}const wl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},cO={UNKNOWN:-1,DEFLATE:0},bH={UNKNOWN:-1,ADAPTIVE:0},uO={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Yw={NONE:0,BACKGROUND:1,PREVIOUS:2},dO={SOURCE:0,OVER:1};class XBe extends hL{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new mH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=cO.UNKNOWN,this._filterMethod=bH.UNKNOWN,this._interlaceMethod=uO.UNKNOWN,this._colorType=wl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xH(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(xH(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case UBe:GBe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?vH(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?vH(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=ZBe(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case wl.GREYSCALE:r=1;break;case wl.TRUECOLOUR:r=3;break;case wl.INDEXED_COLOUR:r=1;break;case wl.GREYSCALE_ALPHA:r=2;break;case wl.TRUECOLOUR_ALPHA:r=4;break;case wl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==cO.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case wl.GREYSCALE:case wl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case wl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wl.UNKNOWN:case wl.GREYSCALE_ALPHA:case wl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=ese(this),r=this.readUint8();if(r!==cO.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:ABe(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=yH({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Yw.NONE:break;case Yw.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[a+l]=0}break;case Yw.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,a)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(s*n.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case dO.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=i(s,a);for(let u=0;u<this._png.channels;u++)e.data[l+u]=n.data[c+u]}break;case dO.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=i(s,a);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/r,f=u%(this._png.channels-1)===0?1:n.data[c+u],m=Math.floor(d*f+(1-d)*e.data[l+u]);e.data[l+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==bH.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===uO.NO_INTERLACE)this._png.data=yH({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===uO.ADAM7)this._png.data=IBe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Yw.NONE,blendOp:dO.SOURCE,data:e}),this._inflator=new mH,this._writingDataChunks=!1}}function ZBe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var wH;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(wH||(wH={}));function QBe(t,e){return new XBe(t,e).decode()}var $n=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fO(){$n.console&&typeof $n.console.log=="function"&&$n.console.log.apply($n.console,arguments)}var oi={log:fO,warn:function(t){$n.console&&(typeof $n.console.warn=="function"?$n.console.warn.apply($n.console,arguments):fO.call(null,arguments))},error:function(t){$n.console&&(typeof $n.console.error=="function"?$n.console.error.apply($n.console,arguments):fO(t))}};function hO(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Jp(r.response,e,n)},r.onerror=function(){oi.error("could not download file")},r.send()}function NH(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xw(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Jp=$n.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==$n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=$n.URL||$n.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?NH(i.href)?hO(t,e,n):Xw(i,i.target="_blank"):Xw(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(NH(t))hO(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Xw(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Qr(s)!=="object"&&(oi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return hO(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test($n.HTMLElement)||$n.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(t)}else{var c=$n.URL||$n.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tse(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var D2=$n.atob.bind($n),SH=$n.btoa.bind($n);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pO(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Ga(n,r,i,s,e[0],7,-680876936),s=Ga(s,n,r,i,e[1],12,-389564586),i=Ga(i,s,n,r,e[2],17,606105819),r=Ga(r,i,s,n,e[3],22,-1044525330),n=Ga(n,r,i,s,e[4],7,-176418897),s=Ga(s,n,r,i,e[5],12,1200080426),i=Ga(i,s,n,r,e[6],17,-1473231341),r=Ga(r,i,s,n,e[7],22,-45705983),n=Ga(n,r,i,s,e[8],7,1770035416),s=Ga(s,n,r,i,e[9],12,-1958414417),i=Ga(i,s,n,r,e[10],17,-42063),r=Ga(r,i,s,n,e[11],22,-1990404162),n=Ga(n,r,i,s,e[12],7,1804603682),s=Ga(s,n,r,i,e[13],12,-40341101),i=Ga(i,s,n,r,e[14],17,-1502002290),n=Ya(n,r=Ga(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ya(s,n,r,i,e[6],9,-1069501632),i=Ya(i,s,n,r,e[11],14,643717713),r=Ya(r,i,s,n,e[0],20,-373897302),n=Ya(n,r,i,s,e[5],5,-701558691),s=Ya(s,n,r,i,e[10],9,38016083),i=Ya(i,s,n,r,e[15],14,-660478335),r=Ya(r,i,s,n,e[4],20,-405537848),n=Ya(n,r,i,s,e[9],5,568446438),s=Ya(s,n,r,i,e[14],9,-1019803690),i=Ya(i,s,n,r,e[3],14,-187363961),r=Ya(r,i,s,n,e[8],20,1163531501),n=Ya(n,r,i,s,e[13],5,-1444681467),s=Ya(s,n,r,i,e[2],9,-51403784),i=Ya(i,s,n,r,e[7],14,1735328473),n=Xa(n,r=Ya(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xa(s,n,r,i,e[8],11,-2022574463),i=Xa(i,s,n,r,e[11],16,1839030562),r=Xa(r,i,s,n,e[14],23,-35309556),n=Xa(n,r,i,s,e[1],4,-1530992060),s=Xa(s,n,r,i,e[4],11,1272893353),i=Xa(i,s,n,r,e[7],16,-155497632),r=Xa(r,i,s,n,e[10],23,-1094730640),n=Xa(n,r,i,s,e[13],4,681279174),s=Xa(s,n,r,i,e[0],11,-358537222),i=Xa(i,s,n,r,e[3],16,-722521979),r=Xa(r,i,s,n,e[6],23,76029189),n=Xa(n,r,i,s,e[9],4,-640364487),s=Xa(s,n,r,i,e[12],11,-421815835),i=Xa(i,s,n,r,e[15],16,530742520),n=Za(n,r=Xa(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Za(s,n,r,i,e[7],10,1126891415),i=Za(i,s,n,r,e[14],15,-1416354905),r=Za(r,i,s,n,e[5],21,-57434055),n=Za(n,r,i,s,e[12],6,1700485571),s=Za(s,n,r,i,e[3],10,-1894986606),i=Za(i,s,n,r,e[10],15,-1051523),r=Za(r,i,s,n,e[1],21,-2054922799),n=Za(n,r,i,s,e[8],6,1873313359),s=Za(s,n,r,i,e[15],10,-30611744),i=Za(i,s,n,r,e[6],15,-1560198380),r=Za(r,i,s,n,e[13],21,1309151649),n=Za(n,r,i,s,e[4],6,-145523070),s=Za(s,n,r,i,e[11],10,-1120210379),i=Za(i,s,n,r,e[2],15,718787259),r=Za(r,i,s,n,e[9],21,-343485551),t[0]=Rh(n,t[0]),t[1]=Rh(r,t[1]),t[2]=Rh(i,t[2]),t[3]=Rh(s,t[3])}function aj(t,e,n,r,i,s){return e=Rh(Rh(e,t),Rh(r,s)),Rh(e<<i|e>>>32-i,n)}function Ga(t,e,n,r,i,s,a){return aj(e&n|~e&r,t,e,i,s,a)}function Ya(t,e,n,r,i,s,a){return aj(e&r|n&~r,t,e,i,s,a)}function Xa(t,e,n,r,i,s,a){return aj(e^n^r,t,e,i,s,a)}function Za(t,e,n,r,i,s,a){return aj(n^(e|~r),t,e,i,s,a)}function nse(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)pO(r,JBe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(pO(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,pO(r,i),r}function JBe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var EH="0123456789abcdef".split("");function e$e(t){for(var e="",n=0;n<4;n++)e+=EH[t>>8*n+4&15]+EH[t>>8*n&15];return e}function t$e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function MR(t){return nse(t).map(t$e).join("")}var n$e=(function(t){for(var e=0;e<t.length;e++)t[e]=e$e(t[e]);return t.join("")})(nse("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rh(t,e){if(n$e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function RR(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=t,r=l}else l=r;var f=e.length,m=0,p=0,y="";for(c=0;c<f;c++)p=(p+(d=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=d,a=l[(l[m]+l[p])%256],y+=String.fromCharCode(e.charCodeAt(c)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _H={print:4,modify:8,copy:16,"annot-forms":32};function nv(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(_H.perm!==void 0)throw new Error("Invalid permission: "+l);i+=_H[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=MR(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=RR(this.encryptionKey,this.padding)}function rv(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function jH(t){if(Qr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(l){$n.console&&oi.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function PS(t){if(!(this instanceof PS))return new PS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function rse(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function em(t,e,n,r,i){if(!(this instanceof em))return new em(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,rse.call(this,r,i)}function gv(t,e,n,r,i){if(!(this instanceof gv))return new gv(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,rse.call(this,r,i)}function pn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,c=16,u="S",d=null;Qr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=jH;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(D){y=D};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var b=p.__private__.getPageFormat=function(D){return x[D]};i=i||"a4";var S="compat",_="advanced",j=S;function C(){this.saveGraphicsState(),ne(new ce(Wt,0,0,-Wt,0,Fo()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),u="n",j=_}function O(){this.restoreGraphicsState(),u="S",j=S}var M=p.__private__.combineFontStyleAndFontWeight=function(D,te){if(D=="bold"&&te=="normal"||D=="bold"&&te==400||D=="normal"&&te=="italic"||D=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(D=te==400||te==="normal"?D==="italic"?"italic":"normal":te!=700&&te!=="bold"||D!=="normal"?(te==700?"bold":te)+""+D:"bold"),D};p.advancedAPI=function(D){var te=j===S;return te&&C.call(this),typeof D!="function"||(D(this),te&&O.call(this)),this},p.compatAPI=function(D){var te=j===_;return te&&O.call(this),typeof D!="function"||(D(this),te&&C.call(this)),this},p.isAdvancedAPI=function(){return j===_};var A,P=function(D){if(j!==_)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=p.roundToPrecision=p.__private__.roundToPrecision=function(D,te){var we=e||te;if(isNaN(D)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(we).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,16)};var R=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return B(D,2)},F=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return B(D,3)},q=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return j===S?D*Wt:j===_?D:void 0},z=function(D){return q((function(te){return j===S?Fo()-te:j===_?te:void 0})(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var G,X="00000000000000000000000000000000",U=p.__private__.getFileId=function(){return X},W=p.__private__.setFileId=function(D){return X=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ei=new nv(d.userPermissions,d.userPassword,d.ownerPassword,X)),X};p.setFileId=function(D){return W(D),this},p.getFileId=function(){return U()};var Y=p.__private__.convertDateToPDFDate=function(D){var te=D.getTimezoneOffset(),we=te<0?"+":"-",Ae=Math.floor(Math.abs(te/60)),Ie=Math.abs(te%60),rt=[we,Q(Ae),"'",Q(Ie),"'"].join("");return["D:",D.getFullYear(),Q(D.getMonth()+1),Q(D.getDate()),Q(D.getHours()),Q(D.getMinutes()),Q(D.getSeconds()),rt].join("")},ie=p.__private__.convertPDFDateToDate=function(D){var te=parseInt(D.substr(2,4),10),we=parseInt(D.substr(6,2),10)-1,Ae=parseInt(D.substr(8,2),10),Ie=parseInt(D.substr(10,2),10),rt=parseInt(D.substr(12,2),10),mt=parseInt(D.substr(14,2),10);return new Date(te,we,Ae,Ie,rt,mt,0)},Z=p.__private__.setCreationDate=function(D){var te;if(D===void 0&&(D=new Date),D instanceof Date)te=Y(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=D}return G=te},I=p.__private__.getCreationDate=function(D){var te=G;return D==="jsDate"&&(te=ie(G)),te};p.setCreationDate=function(D){return Z(D),this},p.getCreationDate=function(D){return I(D)};var V,Q=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},re=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},fe=0,pe=[],ve=[],de=0,be=[],je=[],ae=!1,Oe=ve;p.__private__.setCustomOutputDestination=function(D){ae=!0,Oe=D};var ee=function(D){ae||(Oe=D)};p.__private__.resetCustomOutputDestination=function(){ae=!1,Oe=ve};var ne=p.__private__.out=function(D){return D=D.toString(),de+=D.length+1,Oe.push(D),Oe},Me=p.__private__.write=function(D){return ne(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ut=p.__private__.getArrayBuffer=function(D){for(var te=D.length,we=new ArrayBuffer(te),Ae=new Uint8Array(we);te--;)Ae[te]=D.charCodeAt(te);return we},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Je};var He=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return He=j===_?D/Wt:D,this};var me,Ne=p.__private__.getFontSize=p.getFontSize=function(){return j===S?He:He*Wt},Ce=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return Ce=D,this},p.__private__.getR2L=p.getR2L=function(){return Ce};var Ve,We=p.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))me=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');me=D}else me=parseInt(D,10)};p.__private__.getZoomMode=function(){return me};var Ue,tt=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ve=D};p.__private__.getPageMode=function(){return Ve};var _t=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Ue=D};p.__private__.getLayoutMode=function(){return Ue},p.__private__.setDisplayMode=p.setDisplayMode=function(D,te,we){return We(D),_t(te),tt(we),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(bt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[D]},p.__private__.getDocumentProperties=function(){return bt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var te in bt)bt.hasOwnProperty(te)&&D[te]&&(bt[te]=D[te]);return this},p.__private__.setDocumentProperty=function(D,te){if(Object.keys(bt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[D]=te};var Tt,Wt,At,An,En,zt={},yn={},nr=[],an={},Cn={},wn={},Ar={},Cr=null,mn=0,Ut=[],Ee=new jH(p),Ye=t.hotfixes||[],ft={},It={},On=[],ce=function D(te,we,Ae,Ie,rt,mt){if(!(this instanceof D))return new D(te,we,Ae,Ie,rt,mt);isNaN(te)&&(te=1),isNaN(we)&&(we=0),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=1),isNaN(rt)&&(rt=0),isNaN(mt)&&(mt=0),this._matrix=[te,we,Ae,Ie,rt,mt]};Object.defineProperty(ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ce.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ce.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(D)},ce.prototype.multiply=function(D){var te=D.sx*this.sx+D.shy*this.shx,we=D.sx*this.shy+D.shy*this.sy,Ae=D.shx*this.sx+D.sy*this.shx,Ie=D.shx*this.shy+D.sy*this.sy,rt=D.tx*this.sx+D.ty*this.shx+this.tx,mt=D.tx*this.shy+D.ty*this.sy+this.ty;return new ce(te,we,Ae,Ie,rt,mt)},ce.prototype.decompose=function(){var D=this.sx,te=this.shy,we=this.shx,Ae=this.sy,Ie=this.tx,rt=this.ty,mt=Math.sqrt(D*D+te*te),Zt=(D/=mt)*we+(te/=mt)*Ae;we-=D*Zt,Ae-=te*Zt;var cn=Math.sqrt(we*we+Ae*Ae);return Zt/=cn,D*(Ae/=cn)<te*(we/=cn)&&(D=-D,te=-te,Zt=-Zt,mt=-mt),{scale:new ce(mt,0,0,cn,0,0),translate:new ce(1,0,0,1,Ie,rt),rotate:new ce(D,te,-te,D,0,0),skew:new ce(1,0,Zt,1,0,0)}},ce.prototype.toString=function(D){return this.join(" ")},ce.prototype.inversed=function(){var D=this.sx,te=this.shy,we=this.shx,Ae=this.sy,Ie=this.tx,rt=this.ty,mt=1/(D*Ae-te*we),Zt=Ae*mt,cn=-te*mt,Rn=-we*mt,In=D*mt;return new ce(Zt,cn,Rn,In,-Zt*Ie-Rn*rt,-cn*Ie-In*rt)},ce.prototype.applyToPoint=function(D){var te=D.x*this.sx+D.y*this.shx+this.tx,we=D.x*this.shy+D.y*this.sy+this.ty;return new Hl(te,we)},ce.prototype.applyToRectangle=function(D){var te=this.applyToPoint(D),we=this.applyToPoint(new Hl(D.x+D.w,D.y+D.h));return new Sd(te.x,te.y,we.x-te.x,we.y-te.y)},ce.prototype.clone=function(){var D=this.sx,te=this.shy,we=this.shx,Ae=this.sy,Ie=this.tx,rt=this.ty;return new ce(D,te,we,Ae,Ie,rt)},p.Matrix=ce;var Fe=p.matrixMult=function(D,te){return te.multiply(D)},dt=new ce(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=dt;var Lt=function(D,te){if(!Cn[D]){var we=(te instanceof em?"Sh":"P")+(Object.keys(an).length+1).toString(10);te.id=we,Cn[D]=we,an[we]=te,Ee.publish("addPattern",te)}};p.ShadingPattern=em,p.TilingPattern=gv,p.addShadingPattern=function(D,te){return P("addShadingPattern()"),Lt(D,te),this},p.beginTilingPattern=function(D){P("beginTilingPattern()"),Io(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,te){P("endTilingPattern()"),te.stream=je[V].join(`
`),Lt(D,te),Ee.publish("endTilingPattern",te),On.pop().restore()};var Hn,gn=p.__private__.newObject=function(){var D=pr();return or(D,!0),D},pr=p.__private__.newObjectDeferred=function(){return fe++,pe[fe]=function(){return de},fe},or=function(D,te){return te=typeof te=="boolean"&&te,pe[D]=de,te&&ne(D+" 0 obj"),D},Ur=p.__private__.newAdditionalObject=function(){var D={objId:pr(),content:""};return be.push(D),D},mi=pr(),Hi=pr(),oo=p.__private__.decodeColorString=function(D){var te=D.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var we=parseFloat(te[0]);te=[we,we,we,"r"]}for(var Ae="#",Ie=0;Ie<3;Ie++)Ae+=("0"+Math.floor(255*parseFloat(te[Ie])).toString(16)).slice(-2);return Ae},Ri=p.__private__.encodeColorString=function(D){var te;typeof D=="string"&&(D={ch1:D});var we=D.ch1,Ae=D.ch2,Ie=D.ch3,rt=D.ch4,mt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Zt=new tse(we);if(Zt.ok)we=Zt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var cn=parseInt(we.substr(1),16);we=cn>>16&255,Ae=cn>>8&255,Ie=255&cn}if(Ae===void 0||rt===void 0&&we===Ae&&Ae===Ie)te=typeof we=="string"?we+" "+mt[0]:D.precision===2?R(we/255)+" "+mt[0]:F(we/255)+" "+mt[0];else if(rt===void 0||Qr(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",mt[1]].join(" ");te=typeof we=="string"?[we,Ae,Ie,mt[1]].join(" "):D.precision===2?[R(we/255),R(Ae/255),R(Ie/255),mt[1]].join(" "):[F(we/255),F(Ae/255),F(Ie/255),mt[1]].join(" ")}else te=typeof we=="string"?[we,Ae,Ie,rt,mt[2]].join(" "):D.precision===2?[R(we),R(Ae),R(Ie),R(rt),mt[2]].join(" "):[F(we),F(Ae),F(Ie),F(rt),mt[2]].join(" ");return te},$s=p.__private__.getFilters=function(){return a},ra=p.__private__.putStream=function(D){var te=(D=D||{}).data||"",we=D.filters||$s(),Ae=D.alreadyAppliedFilters||[],Ie=D.addLength1||!1,rt=te.length,mt=D.objectId,Zt=function(ms){return ms};if(d!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Zt=Ei.encryptor(mt,0));var cn={};we===!0&&(we=["FlateEncode"]);var Rn=D.additionalKeyValues||[],In=(cn=pn.API.processDataByFilters!==void 0?pn.API.processDataByFilters(te,we):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(cn.data.length!==0&&(Rn.push({key:"Length",value:cn.data.length}),Ie===!0&&Rn.push({key:"Length1",value:rt})),In.length!=0)if(In.split("/").length-1==1)Rn.push({key:"Filter",value:In});else{Rn.push({key:"Filter",value:"["+In+"]"});for(var xr=0;xr<Rn.length;xr+=1)if(Rn[xr].key==="DecodeParms"){for(var ji=[],es=0;es<cn.reverseChain.split("/").length-1;es+=1)ji.push("null");ji.push(Rn[xr].value),Rn[xr].value="["+ji.join(" ")+"]"}}ne("<<");for(var Jr=0;Jr<Rn.length;Jr++)ne("/"+Rn[Jr].key+" "+Rn[Jr].value);ne(">>"),cn.data.length!==0&&(ne("stream"),ne(Zt(cn.data)),ne("endstream"))},Mo=p.__private__.putPage=function(D){var te=D.number,we=D.data,Ae=D.objId,Ie=D.contentsObjId;or(Ae,!0),ne("<</Type /Page"),ne("/Parent "+D.rootDictionaryObjId+" 0 R"),ne("/Resources "+D.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(A(D.mediaBox.bottomLeftX))+" "+parseFloat(A(D.mediaBox.bottomLeftY))+" "+A(D.mediaBox.topRightX)+" "+A(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ne("/CropBox ["+A(D.cropBox.bottomLeftX)+" "+A(D.cropBox.bottomLeftY)+" "+A(D.cropBox.topRightX)+" "+A(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ne("/BleedBox ["+A(D.bleedBox.bottomLeftX)+" "+A(D.bleedBox.bottomLeftY)+" "+A(D.bleedBox.topRightX)+" "+A(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ne("/TrimBox ["+A(D.trimBox.bottomLeftX)+" "+A(D.trimBox.bottomLeftY)+" "+A(D.trimBox.topRightX)+" "+A(D.trimBox.topRightY)+"]"),D.artBox!==null&&ne("/ArtBox ["+A(D.artBox.bottomLeftX)+" "+A(D.artBox.bottomLeftY)+" "+A(D.artBox.topRightX)+" "+A(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ne("/UserUnit "+D.userUnit),Ee.publish("putPage",{objId:Ae,pageContext:Ut[te],pageNumber:te,page:we}),ne("/Contents "+Ie+" 0 R"),ne(">>"),ne("endobj");var rt=we.join(`
`);return j===_&&(rt+=`
Q`),or(Ie,!0),ra({data:rt,filters:$s(),objectId:Ie}),ne("endobj"),Ae},lo=p.__private__.putPages=function(){var D,te,we=[];for(D=1;D<=mn;D++)Ut[D].objId=pr(),Ut[D].contentsObjId=pr();for(D=1;D<=mn;D++)we.push(Mo({number:D,data:je[D],objId:Ut[D].objId,contentsObjId:Ut[D].contentsObjId,mediaBox:Ut[D].mediaBox,cropBox:Ut[D].cropBox,bleedBox:Ut[D].bleedBox,trimBox:Ut[D].trimBox,artBox:Ut[D].artBox,userUnit:Ut[D].userUnit,rootDictionaryObjId:mi,resourceDictionaryObjId:Hi}));or(mi,!0),ne("<</Type /Pages");var Ae="/Kids [";for(te=0;te<mn;te++)Ae+=we[te]+" 0 R ";ne(Ae+"]"),ne("/Count "+mn),ne(">>"),ne("endobj"),Ee.publish("postPutPages")},Bl=function(D){Ee.publish("putFont",{font:D,out:ne,newObject:gn,putStream:ra}),D.isAlreadyPutted!==!0&&(D.objectNumber=gn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+rv(D.postScriptName)),ne("/Subtype /Type1"),typeof D.encoding=="string"&&ne("/Encoding /"+D.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Ac=function(D){D.objectNumber=gn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[A(D.x),A(D.y),A(D.x+D.width),A(D.y+D.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var we=D.pages[1].join(`
`);ra({data:we,additionalKeyValues:te,objectId:D.objectNumber}),ne("endobj")},ia=function(D,te){te||(te=21);var we=gn(),Ae=(function(mt,Zt){var cn,Rn=[],In=1/(Zt-1);for(cn=0;cn<1;cn+=In)Rn.push(cn);if(Rn.push(1),mt[0].offset!=0){var xr={offset:0,color:mt[0].color};mt.unshift(xr)}if(mt[mt.length-1].offset!=1){var ji={offset:1,color:mt[mt.length-1].color};mt.push(ji)}for(var es="",Jr=0,ms=0;ms<Rn.length;ms++){for(cn=Rn[ms];cn>mt[Jr+1].offset;)Jr++;var Wi=mt[Jr].offset,qs=(cn-Wi)/(mt[Jr+1].offset-Wi),Bo=mt[Jr].color,Ba=mt[Jr+1].color;es+=re(Math.round((1-qs)*Bo[0]+qs*Ba[0]).toString(16))+re(Math.round((1-qs)*Bo[1]+qs*Ba[1]).toString(16))+re(Math.round((1-qs)*Bo[2]+qs*Ba[2]).toString(16))}return es.trim()})(D.colors,te),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+te+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ra({data:Ae,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),ne("endobj"),D.objectNumber=gn(),ne("<< /ShadingType "+D.type),ne("/ColorSpace /DeviceRGB");var rt="/Coords ["+A(parseFloat(D.coords[0]))+" "+A(parseFloat(D.coords[1]))+" ";D.type===2?rt+=A(parseFloat(D.coords[2]))+" "+A(parseFloat(D.coords[3])):rt+=A(parseFloat(D.coords[2]))+" "+A(parseFloat(D.coords[3]))+" "+A(parseFloat(D.coords[4]))+" "+A(parseFloat(D.coords[5])),ne(rt+="]"),D.matrix&&ne("/Matrix ["+D.matrix.toString()+"]"),ne("/Function "+we+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Cc=function(D,te){var we=pr(),Ae=gn();te.push({resourcesOid:we,objectOid:Ae}),D.objectNumber=Ae;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+D.boundingBox.map(A).join(" ")+"]"}),Ie.push({key:"XStep",value:A(D.xStep)}),Ie.push({key:"YStep",value:A(D.yStep)}),Ie.push({key:"Resources",value:we+" 0 R"}),D.matrix&&Ie.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),ra({data:D.stream,additionalKeyValues:Ie,objectId:D.objectNumber}),ne("endobj")},Rf=function(D){for(var te in D.objectNumber=gn(),ne("<<"),D)switch(te){case"opacity":ne("/ca "+R(D[te]));break;case"stroke-opacity":ne("/CA "+R(D[te]))}ne(">>"),ne("endobj")},Hr=function(D){or(D.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in ne("/Font <<"),zt)zt.hasOwnProperty(te)&&(f===!1||f===!0&&m.hasOwnProperty(te))&&ne("/"+te+" "+zt[te].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(an).length>0){for(var te in ne("/Shading <<"),an)an.hasOwnProperty(te)&&an[te]instanceof em&&an[te].objectNumber>=0&&ne("/"+te+" "+an[te].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),ne(">>")}})(),(function(te){if(Object.keys(an).length>0){for(var we in ne("/Pattern <<"),an)an.hasOwnProperty(we)&&an[we]instanceof p.TilingPattern&&an[we].objectNumber>=0&&an[we].objectNumber<te&&ne("/"+we+" "+an[we].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),ne(">>")}})(D.objectOid),(function(){if(Object.keys(wn).length>0){var te;for(te in ne("/ExtGState <<"),wn)wn.hasOwnProperty(te)&&wn[te].objectNumber>=0&&ne("/"+te+" "+wn[te].objectNumber+" 0 R");Ee.publish("putGStateDict"),ne(">>")}})(),(function(){for(var te in ne("/XObject <<"),ft)ft.hasOwnProperty(te)&&ft[te].objectNumber>=0&&ne("/"+te+" "+ft[te].objectNumber+" 0 R");Ee.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},If=function(D){yn[D.fontName]=yn[D.fontName]||{},yn[D.fontName][D.fontStyle]=D.id},Su=function(D,te,we,Ae,Ie){var rt={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:D,fontName:te,fontStyle:we,encoding:Ae,isStandardFont:Ie||!1,metadata:{}};return Ee.publish("addFont",{font:rt,instance:this}),zt[rt.id]=rt,If(rt),rt.id},_s=p.__private__.pdfEscape=p.pdfEscape=function(D,te){return(function(we,Ae){var Ie,rt,mt,Zt,cn,Rn,In,xr,ji;if(mt=(Ae=Ae||{}).sourceEncoding||"Unicode",cn=Ae.outputEncoding,(Ae.autoencode||cn)&&zt[Tt].metadata&&zt[Tt].metadata[mt]&&zt[Tt].metadata[mt].encoding&&(Zt=zt[Tt].metadata[mt].encoding,!cn&&zt[Tt].encoding&&(cn=zt[Tt].encoding),!cn&&Zt.codePages&&(cn=Zt.codePages[0]),typeof cn=="string"&&(cn=Zt[cn]),cn)){for(In=!1,Rn=[],Ie=0,rt=we.length;Ie<rt;Ie++)(xr=cn[we.charCodeAt(Ie)])?Rn.push(String.fromCharCode(xr)):Rn.push(we[Ie]),Rn[Ie].charCodeAt(0)>>8&&(In=!0);we=Rn.join("")}for(Ie=we.length;In===void 0&&Ie!==0;)we.charCodeAt(Ie-1)>>8&&(In=!0),Ie--;if(!In)return we;for(Rn=Ae.noBOM?[]:[254,255],Ie=0,rt=we.length;Ie<rt;Ie++){if((ji=(xr=we.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rn.push(ji),Rn.push(xr-(ji<<8))}return String.fromCharCode.apply(void 0,Rn)})(D,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$l=p.__private__.beginPage=function(D){je[++mn]=[],Ut[mn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Vn(mn),ee(je[V])},Et=function(D,te){var we,Ae,Ie;switch(n=te||n,typeof D=="string"&&(we=b(D.toLowerCase()),Array.isArray(we)&&(Ae=we[0],Ie=we[1])),Array.isArray(D)&&(Ae=D[0]*Wt,Ie=D[1]*Wt),isNaN(Ae)&&(Ae=i[0],Ie=i[1]),(Ae>14400||Ie>14400)&&(oi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Ie=Math.min(14400,Ie)),i=[Ae,Ie],n.substr(0,1)){case"l":Ie>Ae&&(i=[Ie,Ae]);break;case"p":Ae>Ie&&(i=[Ie,Ae])}$l(i),vi(Nn),ne(Nd),wp!==0&&ne(wp+" J"),Np!==0&&ne(Np+" j"),Ee.publish("addPage",{pageNumber:mn})},sn=function(D){D>0&&D<=mn&&(je.splice(D,1),Ut.splice(D,1),mn--,V>mn&&(V=mn),this.setPage(V))},Vn=function(D){D>0&&D<=mn&&(V=D)},tr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return je.length-1},gi=function(D,te,we){var Ae,Ie=void 0;return we=we||{},D=D!==void 0?D:zt[Tt].fontName,te=te!==void 0?te:zt[Tt].fontStyle,Ae=D.toLowerCase(),yn[Ae]!==void 0&&yn[Ae][te]!==void 0?Ie=yn[Ae][te]:yn[D]!==void 0&&yn[D][te]!==void 0?Ie=yn[D][te]:we.disableWarning===!1&&oi.warn("Unable to look up font label for font '"+D+"', '"+te+"'. Refer to getFontList() for available fonts."),Ie||we.noFallback||(Ie=yn.times[te])==null&&(Ie=yn.times.normal),Ie},Dr=p.__private__.putInfo=function(){var D=gn(),te=function(Ae){return Ae};for(var we in d!==null&&(te=Ei.encryptor(D,0)),ne("<<"),ne("/Producer ("+_s(te("jsPDF "+pn.version))+")"),bt)bt.hasOwnProperty(we)&&bt[we]&&ne("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+_s(te(bt[we]))+")");ne("/CreationDate ("+_s(te(G))+")"),ne(">>"),ne("endobj")},Ro=p.__private__.putCatalog=function(D){var te=(D=D||{}).rootDictionaryObjId||mi;switch(gn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+te+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+me;we.substr(we.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+R(me)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Ve&&ne("/PageMode /"+Ve),Ee.publish("putCatalog"),ne(">>"),ne("endobj")},si=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(fe+1)),ne("/Root "+fe+" 0 R"),ne("/Info "+(fe-1)+" 0 R"),d!==null&&ne("/Encrypt "+Ei.oid+" 0 R"),ne("/ID [ <"+X+"> <"+X+"> ]"),ne(">>")},js=p.__private__.putHeader=function(){ne("%PDF-"+y),ne("%")},As=p.__private__.putXRef=function(){var D="0000000000";ne("xref"),ne("0 "+(fe+1)),ne("0000000000 65535 f ");for(var te=1;te<=fe;te++)typeof pe[te]=="function"?ne((D+pe[te]()).slice(-10)+" 00000 n "):pe[te]!==void 0?ne((D+pe[te]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},_a=p.__private__.buildDocument=function(){var D;fe=0,de=0,ve=[],pe=[],be=[],mi=pr(),Hi=pr(),ee(ve),Ee.publish("buildDocument"),js(),lo(),(function(){Ee.publish("putAdditionalObjects");for(var we=0;we<be.length;we++){var Ae=be[we];or(Ae.objId,!0),ne(Ae.content),ne("endobj")}Ee.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var we in zt)zt.hasOwnProperty(we)&&(f===!1||f===!0&&m.hasOwnProperty(we))&&Bl(zt[we])})(),(function(){var we;for(we in wn)wn.hasOwnProperty(we)&&Rf(wn[we])})(),(function(){for(var we in ft)ft.hasOwnProperty(we)&&Ac(ft[we])})(),(function(we){var Ae;for(Ae in an)an.hasOwnProperty(Ae)&&(an[Ae]instanceof em?ia(an[Ae]):an[Ae]instanceof gv&&Cc(an[Ae],we))})(D),Ee.publish("putResources"),D.forEach(Hr),Hr({resourcesOid:Hi,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources"),d!==null&&(Ei.oid=gn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Ei.v),ne("/R "+Ei.r),ne("/U <"+Ei.toHexString(Ei.U)+">"),ne("/O <"+Ei.toHexString(Ei.O)+">"),ne("/P "+Ei.P),ne(">>"),ne("endobj")),Dr(),Ro();var te=de;return As(),si(),ne("startxref"),ne(""+te),ne("%%EOF"),ee(je[V]),ve.join(`
`)},La=p.__private__.getBlob=function(D){return new Blob([ut(D)],{type:"application/pdf"})},zs=p.output=p.__private__.output=(Hn=function(D,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",D){case void 0:return _a();case"save":p.save(te.filename);break;case"arraybuffer":return ut(_a());case"blob":return La(_a());case"bloburi":case"bloburl":if($n.URL!==void 0&&typeof $n.URL.createObjectURL=="function")return $n.URL&&$n.URL.createObjectURL(La(_a()))||void 0;oi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Ae=_a();try{we=SH(Ae)}catch{we=SH(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+te.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call($n)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ie=te.pdfObjectUrl,rt="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Zt=$n.open();return Zt!==null&&Zt.document.write(mt),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($n)==="[object Window]"){var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',Rn=$n.open();if(Rn!==null){Rn.document.write(cn);var In=this;Rn.document.documentElement.querySelector("#pdfViewer").onload=function(){Rn.document.title=te.filename,Rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(In.output("bloburl"))}}return Rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',ji=$n.open();if(ji!==null&&(ji.document.write(xr),ji.document.title=te.filename),ji||typeof safari>"u")return ji;break;case"datauri":case"dataurl":return $n.document.location.href=this.output("datauristring",te);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(we){var D=we.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var te="Error in function "+D.split(`
`)[0].split("<")[0]+": "+we.message;if(!$n.console)throw new Error(te);$n.console.error(te,we),$n.alert&&alert(te)}},Hn.foo.bar=Hn,Hn.foo),kc=function(D){return Array.isArray(Ye)===!0&&Ye.indexOf(D)>-1};switch(r){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=kc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Wt=r}var Ei=null;Z(),W();var Tc=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[D].objId,pageNumber:D,pageContext:Ut[D]}},Df=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Ut)if(Ut[te].objId===D)break;return Tc(te)},zl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ut[V].objId,pageNumber:V,pageContext:Ut[V]}};p.addPage=function(){return Et.apply(this,arguments),this},p.setPage=function(){return Vn.apply(this,arguments),ee.call(this,je[V]),this},p.insertPage=function(D){return this.addPage(),this.movePage(V,D),this},p.movePage=function(D,te){var we,Ae;if(D>te){we=je[D],Ae=Ut[D];for(var Ie=D;Ie>te;Ie--)je[Ie]=je[Ie-1],Ut[Ie]=Ut[Ie-1];je[te]=we,Ut[te]=Ae,this.setPage(te)}else if(D<te){we=je[D],Ae=Ut[D];for(var rt=D;rt<te;rt++)je[rt]=je[rt+1],Ut[rt]=Ut[rt+1];je[te]=we,Ut[te]=Ae,this.setPage(te)}return this},p.deletePage=function(){return sn.apply(this,arguments),this},p.__private__.text=p.text=function(D,te,we,Ae,Ie){var rt,mt,Zt,cn,Rn,In,xr,ji,es,Jr=(Ae=Ae||{}).scope||this;if(typeof D=="number"&&typeof te=="number"&&(typeof we=="string"||Array.isArray(we))){var ms=we;we=te,te=D,D=ms}if(arguments[3]instanceof ce==0?(Zt=arguments[4],cn=arguments[5],Qr(xr=arguments[3])==="object"&&xr!==null||(typeof Zt=="string"&&(cn=Zt,Zt=null),typeof xr=="string"&&(cn=xr,xr=null),typeof xr=="number"&&(Zt=xr,xr=null),Ae={flags:xr,angle:Zt,align:cn})):(P("The transform parameter of text() with a Matrix value"),es=Ie),isNaN(te)||isNaN(we)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Jr;var Wi,qs="",Bo=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:qt,Ba=Jr.internal.scaleFactor;function fg(br){return br=br.split("	").join(Array(Ae.TabLen||9).join(" ")),_s(br,xr)}function _u(br){for(var Lr,Li=br.concat(),ts=[],pl=Li.length;pl--;)typeof(Lr=Li.shift())=="string"?ts.push(Lr):Array.isArray(br)&&(Lr.length===1||Lr[1]===void 0&&Lr[2]===void 0)?ts.push(Lr[0]):ts.push([Lr[0],Lr[1],Lr[2]]);return ts}function jd(br,Lr){var Li;if(typeof br=="string")Li=Lr(br)[0];else if(Array.isArray(br)){for(var ts,pl,Ap=br.concat(),Vf=[],$c=Ap.length;$c--;)typeof(ts=Ap.shift())=="string"?Vf.push(Lr(ts)[0]):Array.isArray(ts)&&typeof ts[0]=="string"&&(pl=Lr(ts[0],ts[1],ts[2]),Vf.push([pl[0],pl[1],pl[2]]));Li=Vf}return Li}var ju=!1,Ad=!0;if(typeof D=="string")ju=!0;else if(Array.isArray(D)){var Au=D.concat();mt=[];for(var Cd,aa=Au.length;aa--;)(typeof(Cd=Au.shift())!="string"||Array.isArray(Cd)&&typeof Cd[0]!="string")&&(Ad=!1);ju=Ad}if(ju===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var kd=He/Jr.internal.scaleFactor,Td=kd*(Bo-1);switch(Ae.baseline){case"bottom":we-=Td;break;case"top":we+=kd-Td;break;case"hanging":we+=kd-2*Td;break;case"middle":we+=kd/2-Td}if((In=Ae.maxWidth||0)>0&&(typeof D=="string"?D=Jr.splitTextToSize(D,In):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(br,Lr){return br.concat(Jr.splitTextToSize(Lr,In))},[]))),rt={text:D,x:te,y:we,options:Ae,mutex:{pdfEscape:_s,activeFontKey:Tt,fonts:zt,activeFontSize:He}},Ee.publish("preProcessText",rt),D=rt.text,Zt=(Ae=rt.options).angle,es instanceof ce==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Ae.rotationDirection===0&&(Zt=-Zt),j===_&&(Zt=-Zt);var _p=Math.cos(Zt),jp=Math.sin(Zt);es=new ce(_p,jp,-jp,_p,0,0)}else Zt&&Zt instanceof ce&&(es=Zt);j!==_||es||(es=dt),(Rn=Ae.charSpace||dl)!==void 0&&(qs+=A(q(Rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ji=Ae.horizontalScale)!==void 0&&(qs+=A(100*ji)+` Tz
`),Ae.lang;var Ii=-1,fl=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Vl=Jr.internal.getCurrentPageInfo().pageContext;switch(fl){case 0:case!1:case"fill":Ii=0;break;case 1:case!0:case"stroke":Ii=1;break;case 2:case"fillThenStroke":Ii=2;break;case 3:case"invisible":Ii=3;break;case 4:case"fillAndAddForClipping":Ii=4;break;case 5:case"strokeAndAddPathForClipping":Ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ii=6;break;case 7:case"addToPathForClipping":Ii=7}var hg=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Ii!==-1?qs+=Ii+` Tr
`:hg!==-1&&(qs+=`0 Tr
`),Ii!==-1&&(Vl.usedRenderingMode=Ii),cn=Ae.align||"left";var fo,Cu=He*Bo,zf=Jr.internal.pageSize.getWidth(),qf=zt[Tt];Rn=Ae.charSpace||dl,In=Ae.maxWidth||0,xr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Dc=[],$o=function(br){return Jr.getStringUnitWidth(br,{font:qf,charSpace:Rn,fontSize:He,doKerning:!1})*He/Ba};if(Object.prototype.toString.call(D)==="[object Array]"){var ho;mt=_u(D),cn!=="left"&&(fo=mt.map($o));var po,ku=0;if(cn==="right"){te-=fo[0],D=[],aa=mt.length;for(var Wl=0;Wl<aa;Wl++)Wl===0?(po=uo(te),ho=Mc(we)):(po=q(ku-fo[Wl]),ho=-Cu),D.push([mt[Wl],po,ho]),ku=fo[Wl]}else if(cn==="center"){te-=fo[0]/2,D=[],aa=mt.length;for(var Lc=0;Lc<aa;Lc++)Lc===0?(po=uo(te),ho=Mc(we)):(po=q((ku-fo[Lc])/2),ho=-Cu),D.push([mt[Lc],po,ho]),ku=fo[Lc]}else if(cn==="left"){D=[],aa=mt.length;for(var Fc=0;Fc<aa;Fc++)D.push(mt[Fc])}else if(cn==="justify"&&qf.encoding==="Identity-H"){D=[],aa=mt.length,In=In!==0?In:zf;for(var Kl=0,Ki=0;Ki<aa;Ki++)if(ho=Ki===0?Mc(we):-Cu,po=Ki===0?uo(te):Kl,Ki<aa-1){var Od=q((In-fo[Ki])/(mt[Ki].split(" ").length-1)),Gl=mt[Ki].split(" ");D.push([Gl[0]+" ",po,ho]),Kl=0;for(var hl=1;hl<Gl.length;hl++){var Pd=($o(Gl[hl-1]+" "+Gl[hl])-$o(Gl[hl]))*Ba+Od;hl==Gl.length-1?D.push([Gl[hl],Pd,0]):D.push([Gl[hl]+" ",Pd,0]),Kl-=Pd}}else D.push([mt[Ki],po,ho]);D.push(["",Kl,0])}else{if(cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],aa=mt.length,In=In!==0?In:zf,Ki=0;Ki<aa;Ki++){ho=Ki===0?Mc(we):-Cu,po=Ki===0?uo(te):0;var Md=mt[Ki].split(" ").length-1,Uf=Md>0?(In-fo[Ki])/Md:0;Ki<aa-1?Dc.push(A(q(Uf))):Dc.push(0),D.push([mt[Ki],po,ho])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:Ce)===!0&&(D=jd(D,function(br,Lr,Li){return[br.split("").reverse().join(""),Lr,Li]})),rt={text:D,x:te,y:we,options:Ae,mutex:{pdfEscape:_s,activeFontKey:Tt,fonts:zt,activeFontSize:He}},Ee.publish("postProcessText",rt),D=rt.text,Wi=rt.mutex.isHex||!1;var Hf=zt[Tt].encoding;Hf!=="WinAnsiEncoding"&&Hf!=="StandardEncoding"||(D=jd(D,function(br,Lr,Li){return[fg(br),Lr,Li]})),mt=_u(D),D=[];for(var Bc,Tu,Ou,Rd=Array.isArray(mt[0])?1:0,Pu="",Id=function(br,Lr,Li){var ts="";return Li instanceof ce?(Li=typeof Ae.angle=="number"?Fe(Li,new ce(1,0,0,1,br,Lr)):Fe(new ce(1,0,0,1,br,Lr),Li),j===_&&(Li=Fe(new ce(1,0,0,-1,0,0),Li)),ts=Li.join(" ")+` Tm
`):ts=A(br)+" "+A(Lr)+` Td
`,ts},Di=0;Di<mt.length;Di++){switch(Pu="",Rd){case 1:Ou=(Wi?"<":"(")+mt[Di][0]+(Wi?">":")"),Bc=parseFloat(mt[Di][1]),Tu=parseFloat(mt[Di][2]);break;case 0:Ou=(Wi?"<":"(")+mt[Di]+(Wi?">":")"),Bc=uo(te),Tu=Mc(we)}Dc!==void 0&&Dc[Di]!==void 0&&(Pu=Dc[Di]+` Tw
`),Di===0?D.push(Pu+Id(Bc,Tu,es)+Ou):Rd===0?D.push(Pu+Ou):Rd===1&&D.push(Pu+Id(Bc,Tu,es)+Ou)}D=Rd===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var $a=`BT
/`;return $a+=Tt+" "+He+` Tf
`,$a+=A(He*Bo)+` TL
`,$a+=ul+`
`,$a+=qs,$a+=D,ne($a+="ET"),m[Tt]=!0,Jr};var ql=p.__private__.clip=p.clip=function(D){return ne(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ql("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Vi=p.__private__.isValidStyle=function(D){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return Vi(D)&&(u=D),this};var Eu=p.__private__.getStyle=p.getStyle=function(D){var te=u;switch(D){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=D}return te},cr=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(D){return xn("f",D),this},p.fillEvenOdd=function(D){return xn("f*",D),this},p.fillStroke=function(D){return xn("B",D),this},p.fillStrokeEvenOdd=function(D){return xn("B*",D),this};var xn=function(D,te){Qr(te)==="object"?yr(te,D):ne(D)},Oc=function(D){D===null||j===_&&D===void 0||(D=Eu(D),ne(D))};function _i(D,te,we,Ae,Ie){var rt=new gv(te||this.boundingBox,we||this.xStep,Ae||this.yStep,this.gState,Ie||this.matrix);rt.stream=this.stream;var mt=D+"$$"+this.cloneIndex+++"$$";return Lt(mt,rt),rt}var yr=function(D,te){var we=Cn[D.key],Ae=an[we];if(Ae instanceof em)ne("q"),ne(Pc(te)),Ae.gState&&p.setGState(Ae.gState),ne(D.matrix.toString()+" cm"),ne("/"+we+" sh"),ne("Q");else if(Ae instanceof gv){var Ie=new ce(1,0,0,-1,0,Fo());D.matrix&&(Ie=Ie.multiply(D.matrix||dt),we=_i.call(Ae,D.key,D.boundingBox,D.xStep,D.yStep,Ie).id),ne("q"),ne("/Pattern cs"),ne("/"+we+" scn"),Ae.gState&&p.setGState(Ae.gState),ne(te),ne("Q")}},Pc=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Fa=p.moveTo=function(D,te){return ne(A(q(D))+" "+A(z(te))+" m"),this},co=p.lineTo=function(D,te){return ne(A(q(D))+" "+A(z(te))+" l"),this},ja=p.curveTo=function(D,te,we,Ae,Ie,rt){return ne([A(q(D)),A(z(te)),A(q(we)),A(z(Ae)),A(q(Ie)),A(z(rt)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,te,we,Ae,Ie){if(isNaN(D)||isNaN(te)||isNaN(we)||isNaN(Ae)||!Vi(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return j===S?this.lines([[we-D,Ae-te]],D,te,[1,1],Ie||"S"):this.lines([[we-D,Ae-te]],D,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,te,we,Ae,Ie,rt){var mt,Zt,cn,Rn,In,xr,ji,es,Jr,ms,Wi,qs;if(typeof D=="number"&&(qs=we,we=te,te=D,D=qs),Ae=Ae||[1,1],rt=rt||!1,isNaN(te)||isNaN(we)||!Array.isArray(D)||!Array.isArray(Ae)||!Vi(Ie)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fa(te,we),mt=Ae[0],Zt=Ae[1],Rn=D.length,ms=te,Wi=we,cn=0;cn<Rn;cn++)(In=D[cn]).length===2?(ms=In[0]*mt+ms,Wi=In[1]*Zt+Wi,co(ms,Wi)):(xr=In[0]*mt+ms,ji=In[1]*Zt+Wi,es=In[2]*mt+ms,Jr=In[3]*Zt+Wi,ms=In[4]*mt+ms,Wi=In[5]*Zt+Wi,ja(xr,ji,es,Jr,ms,Wi));return rt&&cr(),Oc(Ie),this},p.path=function(D){for(var te=0;te<D.length;te++){var we=D[te],Ae=we.c;switch(we.op){case"m":Fa(Ae[0],Ae[1]);break;case"l":co(Ae[0],Ae[1]);break;case"c":ja.apply(this,Ae);break;case"h":cr()}}return this},p.__private__.rect=p.rect=function(D,te,we,Ae,Ie){if(isNaN(D)||isNaN(te)||isNaN(we)||isNaN(Ae)||!Vi(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return j===S&&(Ae=-Ae),ne([A(q(D)),A(z(te)),A(q(we)),A(q(Ae)),"re"].join(" ")),Oc(Ie),this},p.__private__.triangle=p.triangle=function(D,te,we,Ae,Ie,rt,mt){if(isNaN(D)||isNaN(te)||isNaN(we)||isNaN(Ae)||isNaN(Ie)||isNaN(rt)||!Vi(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-D,Ae-te],[Ie-we,rt-Ae],[D-Ie,te-rt]],D,te,[1,1],mt,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,te,we,Ae,Ie,rt,mt){if(isNaN(D)||isNaN(te)||isNaN(we)||isNaN(Ae)||isNaN(Ie)||isNaN(rt)||!Vi(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*we),rt=Math.min(rt,.5*Ae),this.lines([[we-2*Ie,0],[Ie*Zt,0,Ie,rt-rt*Zt,Ie,rt],[0,Ae-2*rt],[0,rt*Zt,-Ie*Zt,rt,-Ie,rt],[2*Ie-we,0],[-Ie*Zt,0,-Ie,-rt*Zt,-Ie,-rt],[0,2*rt-Ae],[0,-rt*Zt,Ie*Zt,-rt,Ie,-rt]],D+Ie,te,[1,1],mt,!0),this},p.__private__.ellipse=p.ellipse=function(D,te,we,Ae,Ie){if(isNaN(D)||isNaN(te)||isNaN(we)||isNaN(Ae)||!Vi(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*we,mt=4/3*(Math.SQRT2-1)*Ae;return Fa(D+we,te),ja(D+we,te-mt,D+rt,te-Ae,D,te-Ae),ja(D-rt,te-Ae,D-we,te-mt,D-we,te),ja(D-we,te+mt,D-rt,te+Ae,D,te+Ae),ja(D+rt,te+Ae,D+we,te+mt,D+we,te),Oc(Ie),this},p.__private__.circle=p.circle=function(D,te,we,Ae){if(isNaN(D)||isNaN(te)||isNaN(we)||!Vi(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,te,we,we,Ae)},p.setFont=function(D,te,we){return we&&(te=M(te,we)),Tt=gi(D,te,{disableWarning:!1}),this};var Mt=p.__private__.getFont=p.getFont=function(){return zt[gi.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,te,we={};for(D in yn)if(yn.hasOwnProperty(D))for(te in we[D]=[],yn[D])yn[D].hasOwnProperty(te)&&we[D].push(te);return we},p.addFont=function(D,te,we,Ae,Ie){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(we=M(we,Ae)),Su.call(this,D,te,we,Ie=Ie||"Identity-H")};var qt,Nn=t.lineWidth||.200025,Dt=p.__private__.getLineWidth=p.getLineWidth=function(){return Nn},vi=p.__private__.setLineWidth=p.setLineWidth=function(D){return Nn=D,ne(A(q(D))+" w"),this};p.__private__.setLineDash=pn.API.setLineDash=pn.API.setLineDashPattern=function(D,te){if(D=D||[],te=te||0,isNaN(te)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(we){return A(q(we))}).join(" "),te=A(q(te)),ne("["+D+"] "+te+" d"),this};var Ji=p.__private__.getLineHeight=p.getLineHeight=function(){return He*qt};p.__private__.getLineHeight=p.getLineHeight=function(){return He*qt};var xp=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(qt=D),this},Lf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return qt};xp(t.lineHeight);var uo=p.__private__.getHorizontalCoordinate=function(D){return q(D)},Mc=p.__private__.getVerticalCoordinate=function(D){return j===_?D:Ut[V].mediaBox.topRightY-Ut[V].mediaBox.bottomLeftY-q(D)},dg=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return A(uo(D))},Ff=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return A(Mc(D))},Nd=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return oo(Nd)},p.__private__.setStrokeColor=p.setDrawColor=function(D,te,we,Ae){return Nd=Ri({ch1:D,ch2:te,ch3:we,ch4:Ae,pdfColorType:"draw",precision:2}),ne(Nd),this};var bp=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return oo(bp)},p.__private__.setFillColor=p.setFillColor=function(D,te,we,Ae){return bp=Ri({ch1:D,ch2:te,ch3:we,ch4:Ae,pdfColorType:"fill",precision:2}),ne(bp),this};var ul=t.textColor||"0 g",Ul=p.__private__.getTextColor=p.getTextColor=function(){return oo(ul)};p.__private__.setTextColor=p.setTextColor=function(D,te,we,Ae){return ul=Ri({ch1:D,ch2:te,ch3:we,ch4:Ae,pdfColorType:"text",precision:3}),this};var dl=t.charSpace,Bf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(dl||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dl=D,this};var wp=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var te=p.CapJoinStyles[D];if(te===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wp=te,ne(te+" J"),this};var Np=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var te=p.CapJoinStyles[D];if(te===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Np=te,ne(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(A(q(D))+" M"),this},p.GState=PS,p.setGState=function(D){(D=typeof D=="string"?wn[Ar[D]]:Rc(null,D)).equals(Cr)||(ne("/"+D.id+" gs"),Cr=D)};var Rc=function(D,te){if(!D||!Ar[D]){var we=!1;for(var Ae in wn)if(wn.hasOwnProperty(Ae)&&wn[Ae].equals(te)){we=!0;break}if(we)te=wn[Ae];else{var Ie="GS"+(Object.keys(wn).length+1).toString(10);wn[Ie]=te,te.id=Ie}return D&&(Ar[D]=te.id),Ee.publish("addGState",te),te}};p.addGState=function(D,te){return Rc(D,te),this},p.saveGraphicsState=function(){return ne("q"),nr.push({key:Tt,size:He,color:ul}),this},p.restoreGraphicsState=function(){ne("Q");var D=nr.pop();return Tt=D.key,He=D.size,ul=D.color,Cr=null,this},p.setCurrentTransformationMatrix=function(D){return ne(D.toString()+" cm"),this},p.comment=function(D){return ne("#"+D),this};var Hl=function(D,te){var we=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(rt){isNaN(rt)||(we=parseFloat(rt))}});var Ae=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(rt){isNaN(rt)||(Ae=parseFloat(rt))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(rt){Ie=rt.toString()}}),this},Sd=function(D,te,we,Ae){Hl.call(this,D,te),this.type="rect";var Ie=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(mt){isNaN(mt)||(Ie=parseFloat(mt))}});var rt=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(mt){isNaN(mt)||(rt=parseFloat(mt))}}),this},Ed=function(){this.page=mn,this.currentPage=V,this.pages=je.slice(0),this.pagesContext=Ut.slice(0),this.x=At,this.y=An,this.matrix=En,this.width=_d(V),this.height=Do(V),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Ed.prototype.restore=function(){mn=this.page,V=this.currentPage,Ut=this.pagesContext,je=this.pages,At=this.x,An=this.y,En=this.matrix,Sp(V,this.width),Lo(V,this.height),Oe=this.outputDestination};var Io=function(D,te,we,Ae,Ie){On.push(new Ed),mn=V=0,je=[],At=D,An=te,En=Ie,$l([we,Ae])};for(var Ic in p.beginFormObject=function(D,te,we,Ae,Ie){return Io(D,te,we,Ae,Ie),this},p.endFormObject=function(D){return(function(te){if(It[te])On.pop().restore();else{var we=new Ed,Ae="Xo"+(Object.keys(ft).length+1).toString(10);we.id=Ae,It[te]=Ae,ft[Ae]=we,Ee.publish("addFormObject",we),On.pop().restore()}})(D),this},p.doFormObject=function(D,te){var we=ft[It[D]];return ne("q"),ne(te.toString()+" cm"),ne("/"+we.id+" Do"),ne("Q"),this},p.getFormObject=function(D){var te=ft[It[D]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(D,te){return D=D||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Jp(La(_a()),D),typeof Jp.unload=="function"&&$n.setTimeout&&setTimeout(Jp.unload,911),this):new Promise(function(we,Ae){try{var Ie=Jp(La(_a()),D);typeof Jp.unload=="function"&&$n.setTimeout&&setTimeout(Jp.unload,911),we(Ie)}catch(rt){Ae(rt.message)}})},pn.API)pn.API.hasOwnProperty(Ic)&&(Ic==="events"&&pn.API.events.length?(function(D,te){var we,Ae,Ie;for(Ie=te.length-1;Ie!==-1;Ie--)we=te[Ie][0],Ae=te[Ie][1],D.subscribe.apply(D,[we].concat(typeof Ae=="function"?[Ae]:Ae))})(Ee,pn.API.events):p[Ic]=pn.API[Ic]);function _d(D){return Ut[D].mediaBox.topRightX-Ut[D].mediaBox.bottomLeftX}function Sp(D,te){Ut[D].mediaBox.topRightX=te+Ut[D].mediaBox.bottomLeftX}function Do(D){return Ut[D].mediaBox.topRightY-Ut[D].mediaBox.bottomLeftY}function Lo(D,te){Ut[D].mediaBox.topRightY=te+Ut[D].mediaBox.bottomLeftY}var Ep=p.getPageWidth=function(D){return _d(D=D||V)/Wt},sa=p.setPageWidth=function(D,te){Sp(D,te*Wt)},Fo=p.getPageHeight=function(D){return Do(D=D||V)/Wt},$f=p.setPageHeight=function(D,te){Lo(D,te*Wt)};return p.internal={pdfEscape:_s,getStyle:Eu,getFont:Mt,getFontSize:Ne,getCharSpace:Bf,getTextColor:Ul,getLineHeight:Ji,getLineHeightFactor:Lf,getLineWidth:Dt,write:Me,getHorizontalCoordinate:uo,getVerticalCoordinate:Mc,getCoordinateString:dg,getVerticalCoordinateString:Ff,collections:{},newObject:gn,newAdditionalObject:Ur,newObjectDeferred:pr,newObjectDeferredBegin:or,getFilters:$s,putStream:ra,events:Ee,scaleFactor:Wt,pageSize:{getWidth:function(){return Ep(V)},setWidth:function(D){sa(V,D)},getHeight:function(){return Fo(V)},setHeight:function(D){$f(V,D)}},encryptionOptions:d,encryption:Ei,getEncryptor:function(D){return d!==null?Ei.encryptor(D,0):function(te){return te}},output:zs,getNumberOfPages:tr,pages:je,out:ne,f2:R,f3:F,getPageInfo:Tc,getPageInfoByObjId:Df,getCurrentPageInfo:zl,getPDFVersion:v,Point:Hl,Rectangle:Sd,Matrix:ce,hasHotfix:kc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ep(V)},set:function(D){sa(V,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fo(V)},set:function(D){$f(V,D)},enumerable:!0,configurable:!0}),(function(D){for(var te=0,we=Je.length;te<we;te++){var Ae=Su.call(this,D[te][0],D[te][1],D[te][2],Je[te][3],!0);f===!1&&(m[Ae]=!0);var Ie=D[te][0].split("-");If({id:Ae,fontName:Ie[0],fontStyle:Ie[1]||""})}Ee.publish("addFonts",{fonts:zt,dictionary:yn})}).call(p,Je),Tt="F1",Et(i,n),Ee.publish("initialized"),p}nv.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},nv.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},nv.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},nv.prototype.processOwnerPassword=function(t,e){return RR(MR(e).substr(0,5),t)},nv.prototype.encryptor=function(t,e){var n=MR(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return RR(n,r)}},PS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Qr(t)!==Qr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},pn.API={events:[]},pn.version="3.0.3";var ls=pn.API,pL=1,cg=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xn=function(t){return t.toFixed(2)},ph=function(t){return t.toFixed(5)};ls.__acroform__={};var cl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},AH=function(t){return t*pL},$u=function(t){var e=new sse,n=tn.internal.getHeight(t)||0,r=tn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Xn(r)),Number(Xn(n))],e},r$e=ls.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},i$e=ls.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},s$e=ls.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},bs=ls.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return s$e(t,e-1)},ws=ls.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return r$e(t,e-1)},Ns=ls.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return i$e(t,e-1)},a$e=ls.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Xn(c.lowerLeft_X)),Number(Xn(c.lowerLeft_Y)),Number(Xn(c.upperRight_X)),Number(Xn(c.upperRight_Y))]},o$e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=IR(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Xn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=$u(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},IR=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=n,a=tn.internal.getHeight(t)||0;a=a<0?-a:a;var l=tn.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(R,F,q){if(R+1<i.length){var z=F+" "+i[R+1][0];return Zw(z,t,q).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,f=Zw("3",t,s).height,m=t.multiline?a-s:(a-f)/2,p=m+=2,y=0,v=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zw(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var b="",S=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var j=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(S+2)+2>a)continue e;b+=i[_][x],j=!0,v=_,_--}else{b=(b+=i[_][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(_),O=c(C,b,s),M=_>=i.length-1;if(O&&!M){b+=" ",x=0;continue}if(O||M){if(M)v=C;else if(t.multiline&&(f+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(S+2)+2>a)continue e;v=C}}for(var A="",P=y;P<=v;P++){var B=i[P];if(t.multiline){if(P===v){A+=B[x]+" ",x=(x+1)%B.length;continue}if(P===y){A+=B[B.length-1]+" ";continue}}A+=B[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=Zw(A,t,s).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Xn(u)+" "+Xn(p)+` Td
`,e+="("+cg(A)+`) Tj
`,e+=-Xn(u)+` 0 Td
`,p=-(s+2),d=0,y=j?v:v+1,S++,b=""}break}return r.text=e,r.fontSize=s,r},Zw=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},l$e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},c$e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},u$e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(l$e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ase,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&c$e(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=a$e(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=tn.createDefaultAppearanceStream(l),Qr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=o$e(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var y=p[a];typeof y=="function"&&(y=y.call(i,l)),f+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,l)),f+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&(function(v,x){for(var b in v)if(v.hasOwnProperty(b)){var S=b,_=v[b];x.internal.newObjectDeferredBegin(_.objId,!0),Qr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[S]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},ise=ls.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Qr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+cg(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mO=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+cg(r(t))+")"},Ju=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ju.prototype.toString=function(){return this.objId+" 0 R"},Ju.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ju.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:ise(i,this.objId,this.scope)}):i instanceof Ju?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var sse=function(){Ju.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};cl(sse,Ju);var ase=function(){Ju.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+cg(n(t))+")"}},set:function(n){t=n}})};cl(ase,Ju);var bu=function t(){Ju.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bs(e,3)},set:function(b){b?this.F=ws(e,3):this.F=Ns(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof MS)return;s="FieldObject"+t.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+cg(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/pL:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof MS||this instanceof ym))return mO(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ma==0?mO(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof ma==0?b.substr(0,1)==="("?Kg(b.substr(1,b.length-2)):Kg(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ma==1?Kg(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof ma==1?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ma==0?mO(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof ma==0?b.substr(0,1)==="("?Kg(b.substr(1,b.length-2)):Kg(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ma==1?Kg(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof ma==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,1)},set:function(b){b?this.Ff=ws(this.Ff,1):this.Ff=Ns(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,2)},set:function(b){b?this.Ff=ws(this.Ff,2):this.Ff=Ns(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,3)},set:function(b){b?this.Ff=ws(this.Ff,3):this.Ff=Ns(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};cl(bu,Ju);var kv=function(){bu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ise(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,a,l){l||(l=1);for(var c,u=[];c=a.exec(s);)u.push(c[l]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,18)},set:function(n){n?this.Ff=ws(this.Ff,18):this.Ff=Ns(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ws(this.Ff,19):this.Ff=Ns(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,20)},set:function(n){n?(this.Ff=ws(this.Ff,20),e.sort()):this.Ff=Ns(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,22)},set:function(n){n?this.Ff=ws(this.Ff,22):this.Ff=Ns(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,23)},set:function(n){n?this.Ff=ws(this.Ff,23):this.Ff=Ns(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,27)},set:function(n){n?this.Ff=ws(this.Ff,27):this.Ff=Ns(this.Ff,27)}}),this.hasAppearanceStream=!1};cl(kv,bu);var Tv=function(){kv.call(this),this.fontName="helvetica",this.combo=!1};cl(Tv,kv);var Ov=function(){Tv.call(this),this.combo=!0};cl(Ov,Tv);var L2=function(){Ov.call(this),this.edit=!0};cl(L2,Ov);var ma=function(){bu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,15)},set:function(n){n?this.Ff=ws(this.Ff,15):this.Ff=Ns(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,16)},set:function(n){n?this.Ff=ws(this.Ff,16):this.Ff=Ns(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,17)},set:function(n){n?this.Ff=ws(this.Ff,17):this.Ff=Ns(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,26)},set:function(n){n?this.Ff=ws(this.Ff,26):this.Ff=Ns(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+cg(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Qr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};cl(ma,bu);var F2=function(){ma.call(this),this.pushButton=!0};cl(F2,ma);var Pv=function(){ma.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};cl(Pv,ma);var MS=function(){var t,e;bu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+cg(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Qr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cl(MS,bu),Pv.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Pv.prototype.createOption=function(t){var e=new MS;return e.Parent=this,e.optionName=t,this.Kids.push(e),d$e.call(this.scope,e),e};var B2=function(){ma.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tn.CheckBox.createAppearanceStream()};cl(B2,ma);var ym=function(){bu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,13)},set:function(e){e?this.Ff=ws(this.Ff,13):this.Ff=Ns(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,21)},set:function(e){e?this.Ff=ws(this.Ff,21):this.Ff=Ns(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,23)},set:function(e){e?this.Ff=ws(this.Ff,23):this.Ff=Ns(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,24)},set:function(e){e?this.Ff=ws(this.Ff,24):this.Ff=Ns(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,25)},set:function(e){e?this.Ff=ws(this.Ff,25):this.Ff=Ns(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,26)},set:function(e){e?this.Ff=ws(this.Ff,26):this.Ff=Ns(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cl(ym,bu);var $2=function(){ym.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,14)},set:function(t){t?this.Ff=ws(this.Ff,14):this.Ff=Ns(this.Ff,14)}}),this.password=!0};cl($2,ym);var tn={CheckBox:{createAppearanceStream:function(){return{N:{On:tn.CheckBox.YesNormal},D:{On:tn.CheckBox.YesPushDown,Off:tn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=$u(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=IR(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Xn(tn.internal.getWidth(t))+" "+Xn(tn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Xn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=$u(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=tn.internal.getHeight(t),a=tn.internal.getWidth(t),l=IR(t,t.caption);return i.push("1 g"),i.push("0 0 "+Xn(a)+" "+Xn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xn(a-1)+" "+Xn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Xn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=$u(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(tn.internal.getWidth(t))+" "+Xn(tn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:tn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=tn.RadioButton.Circle.YesNormal,e.D[t]=tn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=$u(t);e.scope=t.scope;var n=[],r=tn.internal.getWidth(t)<=tn.internal.getHeight(t)?tn.internal.getWidth(t)/4:tn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=tn.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ph(tn.internal.getWidth(t)/2)+" "+ph(tn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=$u(t);e.scope=t.scope;var n=[],r=tn.internal.getWidth(t)<=tn.internal.getHeight(t)?tn.internal.getWidth(t)/4:tn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tn.internal.Bezier_C).toFixed(5)),a=Number((r*tn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ph(tn.internal.getWidth(t)/2)+" "+ph(tn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ph(tn.internal.getWidth(t)/2)+" "+ph(tn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=$u(t);e.scope=t.scope;var n=[],r=tn.internal.getWidth(t)<=tn.internal.getHeight(t)?tn.internal.getWidth(t)/4:tn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ph(tn.internal.getWidth(t)/2)+" "+ph(tn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:tn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=tn.RadioButton.Cross.YesNormal,e.D[t]=tn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=$u(t);e.scope=t.scope;var n=[],r=tn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Xn(tn.internal.getWidth(t)-2)+" "+Xn(tn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Xn(r.x1.x)+" "+Xn(r.x1.y)+" m"),n.push(Xn(r.x2.x)+" "+Xn(r.x2.y)+" l"),n.push(Xn(r.x4.x)+" "+Xn(r.x4.y)+" m"),n.push(Xn(r.x3.x)+" "+Xn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=$u(t);e.scope=t.scope;var n=tn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xn(tn.internal.getWidth(t))+" "+Xn(tn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xn(tn.internal.getWidth(t)-2)+" "+Xn(tn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Xn(n.x1.x)+" "+Xn(n.x1.y)+" m"),r.push(Xn(n.x2.x)+" "+Xn(n.x2.y)+" l"),r.push(Xn(n.x4.x)+" "+Xn(n.x4.y)+" m"),r.push(Xn(n.x3.x)+" "+Xn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=$u(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(tn.internal.getWidth(t))+" "+Xn(tn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};tn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=tn.internal.getWidth(t),n=tn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},tn.internal.getWidth=function(t){var e=0;return Qr(t)==="object"&&(e=AH(t.Rect[2])),e},tn.internal.getHeight=function(t){var e=0;return Qr(t)==="object"&&(e=AH(t.Rect[3])),e};var d$e=ls.addField=function(t){if(u$e(this,t),!(t instanceof bu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ls.AcroFormChoiceField=kv,ls.AcroFormListBox=Tv,ls.AcroFormComboBox=Ov,ls.AcroFormEditBox=L2,ls.AcroFormButton=ma,ls.AcroFormPushButton=F2,ls.AcroFormRadioButton=Pv,ls.AcroFormCheckBox=B2,ls.AcroFormTextField=ym,ls.AcroFormPasswordField=$2,ls.AcroFormAppearance=tn,ls.AcroForm={ChoiceField:kv,ListBox:Tv,ComboBox:Ov,EditBox:L2,Button:ma,PushButton:F2,RadioButton:Pv,CheckBox:B2,TextField:ym,PasswordField:$2,Appearance:tn},pn.AcroForm={ChoiceField:kv,ListBox:Tv,ComboBox:Ov,EditBox:L2,Button:ma,PushButton:F2,RadioButton:Pv,CheckBox:B2,TextField:ym,PasswordField:$2,Appearance:tn};pn.AcroForm;function ose(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(R,F){var q,z,G,X,U,W=n;if((F=F||n)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(O(R))for(U in r)for(G=r[U],q=0;q<G.length;q+=1){for(X=!0,z=0;z<G[q].length;z+=1)if(G[q][z]!==void 0&&G[q][z]!==R[z]){X=!1;break}if(X===!0){W=U;break}}else for(U in r)for(G=r[U],q=0;q<G.length;q+=1){for(X=!0,z=0;z<G[q].length;z+=1)if(G[q][z]!==void 0&&G[q][z]!==R.charCodeAt(z)){X=!1;break}if(X===!0){W=U;break}}return W===n&&F!==n&&(W=F),W},s=function R(F){for(var q=this.internal.write,z=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:F.width}),X.push({key:"Height",value:F.height}),F.colorSpace===b.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===b.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var U="",W=0,Y=F.transparency.length;W<Y;W++)U+=F.transparency[W]+" "+F.transparency[W]+" ";X.push({key:"Mask",value:"["+U+"]"})}F.sMask!==void 0&&X.push({key:"SMask",value:F.objectId+1+" 0 R"});var ie=F.filter!==void 0?["/"+F.filter]:void 0;if(z({data:F.data,additionalKeyValues:X,alreadyAppliedFilters:ie,objectId:F.objectId}),q("endobj"),"sMask"in F&&F.sMask!==void 0){var Z,I=(Z=F.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:F.bitsPerComponent,V={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:F.sMask};"filter"in F&&(V.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(F.width),V.filter=F.filter),R.call(this,V)}if(F.colorSpace===b.INDEXED){var Q=this.internal.newObject();z({data:A(new Uint8Array(F.palette)),objectId:Q}),q("endobj")}},a=function(){var R=this.internal.collections[e+"images"];for(var F in R)s.call(this,R[F])},l=function(){var R,F=this.internal.collections[e+"images"],q=this.internal.write;for(var z in F)q("/I"+(R=F[z]).index,R.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var R=this.internal.collections[e+"images"];return c.call(this),R},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(R){return typeof t["process"+R.toUpperCase()]=="function"},m=function(R){return Qr(R)==="object"&&R.nodeType===1},p=function(R,F){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var q=""+R.getAttribute("src");if(q.indexOf("data:image/")===0)return D2(unescape(q).split("base64,").pop());var z=t.loadFile(q,!0);if(z!==void 0)return z}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var G;switch(F){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return D2(R.toDataURL(G,1).split("base64,").pop())}},y=function(R){var F=this.internal.collections[e+"images"];if(F){for(var q in F)if(R===F[q].alias)return F[q]}},v=function(R,F,q){return R||F||(R=-96,F=-96),R<0&&(R=-1*q.width*72/R/this.internal.scaleFactor),F<0&&(F=-1*q.height*72/F/this.internal.scaleFactor),R===0&&(R=F*q.width/q.height),F===0&&(F=R*q.height/q.width),[R,F]},x=function(R,F,q,z,G,X){var U=v.call(this,q,z,G),W=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ie=u.call(this);if(q=U[0],z=U[1],ie[G.index]=G,X){X*=Math.PI/180;var Z=Math.cos(X),I=Math.sin(X),V=function(re){return re.toFixed(4)},Q=[V(Z),V(I),V(-1*I),V(Z),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,W(R),Y(F+z),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(q),"0","0",W(z),"0","0","cm"].join(" "))):this.internal.write([W(q),"0","0",W(z),W(R),Y(F+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(R){var F,q,z=0;if(typeof R=="string")for(q=R.length,F=0;F<q;F++)z=(z<<5)-z+R.charCodeAt(F),z|=0;else if(O(R))for(q=R.byteLength/2,F=0;F<q;F++)z=(z<<5)-z+R[F],z|=0;return z},j=t.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var F=!0;return R.length===0&&(F=!1),R.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(F=!1),F},C=t.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var F=R.indexOf(",");return F<0?null:R.substring(0,F).trim().endsWith("base64")?R.substring(F+1):null};t.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(R){for(var F=R.length,q=new Uint8Array(F),z=0;z<F;z++)q[z]=R.charCodeAt(z);return q},A=t.__addimage__.arrayBufferToBinaryString=function(R){for(var F="",q=O(R)?R:new Uint8Array(R),z=0;z<q.length;z+=8192)F+=String.fromCharCode.apply(null,q.subarray(z,z+8192));return F};t.addImage=function(){var R,F,q,z,G,X,U,W,Y;if(typeof arguments[1]=="number"?(F=n,q=arguments[1],z=arguments[2],G=arguments[3],X=arguments[4],U=arguments[5],W=arguments[6],Y=arguments[7]):(F=arguments[1],q=arguments[2],z=arguments[3],G=arguments[4],X=arguments[5],U=arguments[6],W=arguments[7],Y=arguments[8]),Qr(R=arguments[0])==="object"&&!m(R)&&"imageData"in R){var ie=R;R=ie.imageData,F=ie.format||F||n,q=ie.x||q||0,z=ie.y||z||0,G=ie.w||ie.width||G,X=ie.h||ie.height||X,U=ie.alias||U,W=ie.compression||W,Y=ie.rotation||ie.angle||Y}var Z=this.internal.getFilters();if(W===void 0&&Z.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(q)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=P.call(this,R,F,U,W);return x.call(this,q,z,G,X,I,Y),this};var P=function(R,F,q,z){var G,X,U;if(typeof R=="string"&&i(R)===n){R=unescape(R);var W=B(R,!1);(W!==""||(W=t.loadFile(R,!0))!==void 0)&&(R=W)}if(m(R)&&(R=p(R,F)),F=i(R,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((U=q)==null||U.length===0)&&(q=(function(Y){return typeof Y=="string"||O(Y)?_(Y):O(Y.data)?_(Y.data):null})(R)),(G=y.call(this,q))||(R instanceof Uint8Array||F==="RGBA"||(X=R,R=M(R)),G=this["process"+F.toUpperCase()](R,d.call(this),q,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:S.NONE})(z),X)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},B=t.__addimage__.convertBase64ToBinaryString=function(R,F){F=typeof F!="boolean"||F;var q,z="";if(typeof R=="string"){var G;q=(G=C(R))!==null&&G!==void 0?G:R;try{z=D2(q)}catch(X){if(F)throw j(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(R){var F,q,z="";if(m(R)&&(R=p(R)),typeof R=="string"&&i(R)===n&&((z=B(R,!1))===""&&(z=t.loadFile(R)||""),R=z),q=i(R),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(R instanceof Uint8Array||(R=M(R)),!(F=this["process"+q.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=q,F}})(pn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};pn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+p(b(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(b(S))+") >>",v.content=s;var _=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var O=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(n,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,l,a,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(pn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var x=0,b=n,S="",_=0;for(x=0;x<v.length;x+=1)b[v.charCodeAt(x)]!==void 0?(_++,typeof(b=b[v.charCodeAt(x)])=="number"&&(S+=String.fromCharCode(b),b=n,_=0),x===v.length-1&&(b=n,S+=v.charAt(x-(_-1)),x-=_-1,_=0)):(b=n,S+=v.charAt(x-_),x-=_,_=0);return S};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(v,x,b){return a(v)?s(v)===!1?-1:!u(v)||!a(x)&&!a(b)||!a(b)&&l(x)||l(v)&&!a(x)||l(v)&&c(x)||l(v)&&l(x)?0:d(v)&&a(x)&&!l(x)&&a(b)&&u(b)?3:l(v)||!a(b)?1:2:-1},p=function(v){var x=0,b=0,S=0,_="",j="",C="",O=(v=v||"").split("\\s+"),M=[];for(x=0;x<O.length;x+=1){for(M.push(""),b=0;b<O[x].length;b+=1)_=O[x][b],j=O[x][b-1],C=O[x][b+1],a(_)?(S=m(_,j,C),M[x]+=S!==-1?String.fromCharCode(e[_.charCodeAt(0)][S]):_):M[x]+=_;M[x]=f(M[x])}return M.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var S=0;for(b=[],S=0;S<x.length;S+=1)Array.isArray(x[S])?b.push([p(x[S][0]),x[S][1],x[S][2]]):b.push([p(x[S])]);v=b}else v=p(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",y])})(pn.API),pn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(pn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,j){return _.concat(x.splitTextToSize(j,b))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)p<(v=this.getStringUnitWidth(c[S],{font:f})*d)&&(p=v);return p!==0&&(y=c.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,y,v,x,b=[],S=[],_=[],j={},C={},O=[],M=[],A=(m=m||{}).autoSize||!1,P=m.printHeaders!==!1,B=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,R=m.margins||Object.assign({width:this.getPageWidth()},e),F=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=z,this.setFontSize(B),f==null)S=b=Object.keys(d[0]),_=b.map(function(){return"left"});else if(Array.isArray(f)&&Qr(f[0])==="object")for(b=f.map(function(ie){return ie.name}),S=f.map(function(ie){return ie.prompt||ie.name||""}),_=f.map(function(ie){return ie.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=b=f,_=b.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<b.length;p+=1){for(j[x=b[p]]=d.map(function(ie){return ie[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[x],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)O.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,O)+F+F,O=[]}if(P){var G={};for(p=0;p<b.length;p+=1)G[b[p]]={},G[b[p]].text=S[p],G[b[p]].align=_[p];var X=l.call(this,G,C);M=b.map(function(ie){return new s(c,u,C[ie],X,G[ie].text,void 0,G[ie].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var U=f.reduce(function(ie,Z){return ie[Z.name]=Z.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var W=l.call(this,d[p],C);for(v=0;v<b.length;v+=1){var Y=d[p][b[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:Y},this),a.call(this,new s(c,u,C[b[v]],W,Y,p+2,U[b[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(pn.API);var lse={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],DR=ose(cse),use=[100,200,300,400,500,600,700,800,900],f$e=ose(use);function gO(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return lse[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof DR[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function CH(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var h$e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TH(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function OH(t){return t.trimLeft()}function p$e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function m$e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Qw,PH,MH,Gg,Jw,RH,IH,DH,vO=["times"];function LH(t,e,n,r,i){var s=4,a=BH;switch(i){case pn.API.image_compression.FAST:s=1,a=FH;break;case pn.API.image_compression.MEDIUM:s=6,a=$H;break;case pn.API.image_compression.SLOW:s=9,a=zH}t=(function(c,u,d,f){for(var m,p=c.length/u,y=new Uint8Array(c.length+p),v=[g$e,FH,BH,$H,zH],x=0;x<p;x+=1){var b=x*u,S=c.subarray(b,b+u);if(f)y.set(f(S,d,m),b+x);else{for(var _=v.length,j=[],C=0;C<_;C+=1)j[C]=v[C](S,d,m);var O=y$e(j.concat());y.set(j[O],b+x)}m=S}return y})(t,e,Math.ceil(n*r/8),a);var l=kR(t,{level:s});return pn.API.__addimage__.arrayBufferToBinaryString(l)}function g$e(t){var e=Array.apply([],t);return e.unshift(0),e}function FH(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function BH(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function $H(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,l=n&&n[s]||0;i[s+1]=t[s]+256-(a+l>>>1)&255}return i}function zH(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=v$e(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function v$e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function y$e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function yO(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return dse(t,i)>>s&a}function qH(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),l=(1<<r)-1,c=(e&l)<<a;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(t,s,dse(t,s)&~(l<<a)&65535|c)}function dse(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function x$e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;s&&(l=e,c=a,e+=3*a);var u=!0,d=[],f=0,m=null,p=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&v||(m=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,j=t[e++],C=j>>6&1,O=1<<1+(7&j),M=l,A=c,P=!1;j>>7&&(P=!0,M=e,A=O,e+=3*O);var B=e;for(e++;;){var R;if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}d.push({x,y:b,width:S,height:_,has_local_palette:P,palette_offset:M,palette_size:A,data_offset:B,data_length:e-B,transparent_index:m,interlaced:!!C,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,q){var z=this.frameInfo(F),G=z.width*z.height,X=new Uint8Array(G);UH(t,z.data_offset,X,G);var U=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,ie=n-Y,Z=Y,I=4*(z.y*n+z.x),V=4*((z.y+z.height)*n+z.x),Q=I,re=4*ie;z.interlaced===!0&&(re+=4*n*7);for(var fe=8,pe=0,ve=X.length;pe<ve;++pe){var de=X[pe];if(Z===0&&(Z=Y,(Q+=re)>=V&&(re=4*ie+4*n*(fe-1),Q=I+(Y+ie)*(fe<<1),fe>>=1)),de===W)Q+=4;else{var be=t[U+3*de],je=t[U+3*de+1],ae=t[U+3*de+2];q[Q++]=ae,q[Q++]=je,q[Q++]=be,q[Q++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(F,q){var z=this.frameInfo(F),G=z.width*z.height,X=new Uint8Array(G);UH(t,z.data_offset,X,G);var U=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,ie=n-Y,Z=Y,I=4*(z.y*n+z.x),V=4*((z.y+z.height)*n+z.x),Q=I,re=4*ie;z.interlaced===!0&&(re+=4*n*7);for(var fe=8,pe=0,ve=X.length;pe<ve;++pe){var de=X[pe];if(Z===0&&(Z=Y,(Q+=re)>=V&&(re=4*ie+4*n*(fe-1),Q=I+(Y+ie)*(fe<<1),fe>>=1)),de===W)Q+=4;else{var be=t[U+3*de],je=t[U+3*de+1],ae=t[U+3*de+2];q[Q++]=be,q[Q++]=je,q[Q++]=ae,q[Q++]=255}--Z}}}function UH(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,l=a+1,c=i+1,u=(1<<c)-1,d=0,f=0,m=0,p=t[e++],y=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)f|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==s){if(x===a)break;for(var b=x<l?x:v,S=0,_=b;_>s;)_=y[_]>>8,++S;var j=_;if(m+S+(b!==x?1:0)>r)return void oi.log("Warning, gif stream longer than expected.");n[m++]=j;var C=m+=S;for(b!==x&&(n[m++]=j),_=b;S--;)_=y[_],n[--C]=255&_,_>>=8;v!==null&&l<4096&&(y[l++]=v<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=x}else l=a+1,u=(1<<(c=i+1))-1,v=null}return m!==r&&oi.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xO(t){var e,n,r,i,s,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),v=[],x=0,b=7,S=new Array(64),_=new Array(64),j=new Array(64),C=new Array(256),O=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(I,V){for(var Q=0,re=0,fe=new Array,pe=1;pe<=16;pe++){for(var ve=1;ve<=I[pe];ve++)fe[V[re]]=[],fe[V[re]][0]=Q,fe[V[re]][1]=pe,re++,Q++;Q*=2}return fe}function U(I){for(var V=I[0],Q=I[1]-1;Q>=0;)V&1<<Q&&(x|=1<<b),Q--,--b<0&&(x==255?(W(255),W(0)):W(x),b=7,x=0)}function W(I){v.push(I)}function Y(I){W(I>>8&255),W(255&I)}function ie(I,V,Q,re,fe){for(var pe,ve=fe[0],de=fe[240],be=(function(He,me){var Ne,Ce,Ve,We,Ue,tt,_t,bt,Tt,Wt,At=0;for(Tt=0;Tt<8;++Tt){Ne=He[At],Ce=He[At+1],Ve=He[At+2],We=He[At+3],Ue=He[At+4],tt=He[At+5],_t=He[At+6];var An=Ne+(bt=He[At+7]),En=Ne-bt,zt=Ce+_t,yn=Ce-_t,nr=Ve+tt,an=Ve-tt,Cn=We+Ue,wn=We-Ue,Ar=An+Cn,Cr=An-Cn,mn=zt+nr,Ut=zt-nr;He[At]=Ar+mn,He[At+4]=Ar-mn;var Ee=.707106781*(Ut+Cr);He[At+2]=Cr+Ee,He[At+6]=Cr-Ee;var Ye=.382683433*((Ar=wn+an)-(Ut=yn+En)),ft=.5411961*Ar+Ye,It=1.306562965*Ut+Ye,On=.707106781*(mn=an+yn),ce=En+On,Fe=En-On;He[At+5]=Fe+ft,He[At+3]=Fe-ft,He[At+1]=ce+It,He[At+7]=ce-It,At+=8}for(At=0,Tt=0;Tt<8;++Tt){Ne=He[At],Ce=He[At+8],Ve=He[At+16],We=He[At+24],Ue=He[At+32],tt=He[At+40],_t=He[At+48];var dt=Ne+(bt=He[At+56]),Lt=Ne-bt,Hn=Ce+_t,gn=Ce-_t,pr=Ve+tt,or=Ve-tt,Ur=We+Ue,mi=We-Ue,Hi=dt+Ur,oo=dt-Ur,Ri=Hn+pr,$s=Hn-pr;He[At]=Hi+Ri,He[At+32]=Hi-Ri;var ra=.707106781*($s+oo);He[At+16]=oo+ra,He[At+48]=oo-ra;var Mo=.382683433*((Hi=mi+or)-($s=gn+Lt)),lo=.5411961*Hi+Mo,Bl=1.306562965*$s+Mo,Ac=.707106781*(Ri=or+gn),ia=Lt+Ac,Cc=Lt-Ac;He[At+40]=Cc+lo,He[At+24]=Cc-lo,He[At+8]=ia+Bl,He[At+56]=ia-Bl,At++}for(Tt=0;Tt<64;++Tt)Wt=He[Tt]*me[Tt],p[Tt]=Wt>0?Wt+.5|0:Wt-.5|0;return p})(I,V),je=0;je<64;++je)y[M[je]]=be[je];var ae=y[0]-Q;Q=y[0],ae==0?U(re[0]):(U(re[m[pe=32767+ae]]),U(f[pe]));for(var Oe=63;Oe>0&&y[Oe]==0;)Oe--;if(Oe==0)return U(ve),Q;for(var ee,ne=1;ne<=Oe;){for(var Me=ne;y[ne]==0&&ne<=Oe;)++ne;var ut=ne-Me;if(ut>=16){ee=ut>>4;for(var Je=1;Je<=ee;++Je)U(de);ut&=15}pe=32767+y[ne],U(fe[(ut<<4)+m[pe]]),U(f[pe]),ne++}return Oe!=63&&U(ve),Q}function Z(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(V){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var fe=a((Q[re]*V+50)/100);fe=Math.min(Math.max(fe,1),255),l[M[re]]=fe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var de=a((pe[ve]*V+50)/100);de=Math.min(Math.max(de,1),255),c[M[ve]]=de}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,ae=0;ae<8;ae++)for(var Oe=0;Oe<8;Oe++)u[je]=1/(l[M[je]]*be[ae]*be[Oe]*8),d[je]=1/(c[M[je]]*be[ae]*be[Oe]*8),je++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,V){V&&Z(V),v=new Array,x=0,b=7,Y(65496),Y(65504),Y(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Y(1),Y(1),W(0),W(0),(function(){Y(65499),Y(132),W(0);for(var Ce=0;Ce<64;Ce++)W(l[Ce]);W(1);for(var Ve=0;Ve<64;Ve++)W(c[Ve])})(),(function(Ce,Ve){Y(65472),Y(17),W(8),Y(Ve),Y(Ce),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(I.width,I.height),(function(){Y(65476),Y(418),W(0);for(var Ce=0;Ce<16;Ce++)W(A[Ce+1]);for(var Ve=0;Ve<=11;Ve++)W(P[Ve]);W(16);for(var We=0;We<16;We++)W(B[We+1]);for(var Ue=0;Ue<=161;Ue++)W(R[Ue]);W(1);for(var tt=0;tt<16;tt++)W(F[tt+1]);for(var _t=0;_t<=11;_t++)W(q[_t]);W(17);for(var bt=0;bt<16;bt++)W(z[bt+1]);for(var Tt=0;Tt<=161;Tt++)W(G[Tt])})(),Y(65498),Y(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,re=0,fe=0;x=0,b=7,this.encode.displayName="_encode_";for(var pe,ve,de,be,je,ae,Oe,ee,ne,Me=I.data,ut=I.width,Je=I.height,He=4*ut,me=0;me<Je;){for(pe=0;pe<He;){for(je=He*me+pe,Oe=-1,ee=0,ne=0;ne<64;ne++)ae=je+(ee=ne>>3)*He+(Oe=4*(7&ne)),me+ee>=Je&&(ae-=He*(me+1+ee-Je)),pe+Oe>=He&&(ae-=pe+Oe-He+4),ve=Me[ae++],de=Me[ae++],be=Me[ae++],S[ne]=(O[ve]+O[de+256|0]+O[be+512|0]>>16)-128,_[ne]=(O[ve+768|0]+O[de+1024|0]+O[be+1280|0]>>16)-128,j[ne]=(O[ve+1280|0]+O[de+1536|0]+O[be+1792|0]>>16)-128;Q=ie(S,u,Q,e,r),re=ie(_,d,re,n,i),fe=ie(j,d,fe,n,i),pe+=32}me+=8}if(b>=0){var Ne=[];Ne[1]=b+1,Ne[0]=(1<<b+1)-1,U(Ne)}return Y(65497),new Uint8Array(v)},t=t||50,(function(){for(var I=String.fromCharCode,V=0;V<256;V++)C[V]=I(V)})(),e=X(A,P),n=X(F,q),r=X(B,R),i=X(z,G),(function(){for(var I=1,V=2,Q=1;Q<=15;Q++){for(var re=I;re<V;re++)m[32767+re]=Q,f[32767+re]=[],f[32767+re][1]=Q,f[32767+re][0]=re;for(var fe=-(V-1);fe<=-I;fe++)m[32767+fe]=Q,f[32767+fe]=[],f[32767+fe][1]=Q,f[32767+fe][0]=V-1+fe;I<<=1,V<<=1}})(),(function(){for(var I=0;I<256;I++)O[I]=19595*I,O[I+256|0]=38470*I,O[I+512|0]=7471*I+32768,O[I+768|0]=-11059*I,O[I+1024|0]=-21709*I,O[I+1280|0]=32768*I+8421375,O[I+1536|0]=-27439*I,O[I+1792|0]=-5329*I})(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function HH(t){function e(P){if(!P)throw Error("assert :P")}function n(P,B,R){for(var F=0;4>F;F++)if(P[B+F]!=R.charCodeAt(F))return!0;return!1}function r(P,B,R,F,q){for(var z=0;z<q;z++)P[B+z]=R[F+z]}function i(P,B,R,F){for(var q=0;q<F;q++)P[B+q]=R}function s(P){return new Int32Array(P)}function a(P,B){for(var R=[],F=0;F<P;F++)R.push(new B);return R}function l(P,B){var R=[];return(function F(q,z,G){for(var X=G[z],U=0;U<X&&(q.push(G.length>z+1?[]:new B),!(G.length<z+1));U++)F(q[U],z+1,G)})(R,0,P),R}var c=function(){var P=this;function B(E,T){for(var $=1<<T-1>>>0;E&$;)$>>>=1;return $?(E&$-1)+$:E}function R(E,T,$,K,J){e(!(K%$));do E[T+(K-=$)]=J;while(0<K)}function F(E,T,$,K,J){if(e(2328>=J),512>=J)var oe=s(512);else if((oe=s(J))==null)return 0;return(function(le,ue,he,ge,ke,Be){var ye,Pe,Le=ue,nt=1<<he,ze=s(16),Xe=s(16);for(e(ke!=0),e(ge!=null),e(le!=null),e(0<he),Pe=0;Pe<ke;++Pe){if(15<ge[Pe])return 0;++ze[ge[Pe]]}if(ze[0]==ke)return 0;for(Xe[1]=0,ye=1;15>ye;++ye){if(ze[ye]>1<<ye)return 0;Xe[ye+1]=Xe[ye]+ze[ye]}for(Pe=0;Pe<ke;++Pe)ye=ge[Pe],0<ge[Pe]&&(Be[Xe[ye]++]=Pe);if(Xe[15]==1)return(ge=new q).g=0,ge.value=Be[0],R(le,Le,1,nt,ge),nt;var et,at=-1,lt=nt-1,un=0,Kt=1,Wn=1,Qt=1<<he;for(Pe=0,ye=1,ke=2;ye<=he;++ye,ke<<=1){if(Kt+=Wn<<=1,0>(Wn-=ze[ye]))return 0;for(;0<ze[ye];--ze[ye])(ge=new q).g=ye,ge.value=Be[Pe++],R(le,Le+un,ke,Qt,ge),un=B(un,ye)}for(ye=he+1,ke=2;15>=ye;++ye,ke<<=1){if(Kt+=Wn<<=1,0>(Wn-=ze[ye]))return 0;for(;0<ze[ye];--ze[ye]){if(ge=new q,(un&lt)!=at){for(Le+=Qt,et=1<<(at=ye)-he;15>at&&!(0>=(et-=ze[at]));)++at,et<<=1;nt+=Qt=1<<(et=at-he),le[ue+(at=un&lt)].g=et+he,le[ue+at].value=Le-ue-at}ge.g=ye-he,ge.value=Be[Pe++],R(le,Le+(un>>he),ke,Qt,ge),un=B(un,ye)}}return Kt!=2*Xe[15]-1?0:nt})(E,T,$,K,J,oe)}function q(){this.value=this.g=0}function z(){this.value=this.g=0}function G(){this.G=a(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a($o,z)}function X(E,T,$,K){e(E!=null),e(T!=null),e(2147483648>K),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=T,E.pa=$,E.Jd=T,E.Yc=$+K,E.Zc=4<=K?$+K-4+1:$,ve(E)}function U(E,T){for(var $=0;0<T--;)$|=be(E,128)<<T;return $}function W(E,T){var $=U(E,T);return de(E)?-$:$}function Y(E,T,$,K){var J,oe=0;for(e(E!=null),e(T!=null),e(4294967288>K),E.Sb=K,E.Ra=0,E.u=0,E.h=0,4<K&&(K=4),J=0;J<K;++J)oe+=T[$+J]<<8*J;E.Ra=oe,E.bb=K,E.oa=T,E.pa=$}function ie(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<ku-8>>>0,++E.bb,E.u-=8;re(E)&&(E.h=1,E.u=0)}function Z(E,T){if(e(0<=T),!E.h&&T<=po){var $=Q(E)&ho[T];return E.u+=T,ie(E),$}return E.h=1,E.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(E){return E.Ra>>>(E.u&ku-1)>>>0}function re(E){return e(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>ku}function fe(E,T){E.u=T,E.h=re(E)}function pe(E){E.u>=Wl&&(e(E.u>=Wl),ie(E))}function ve(E){e(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(e(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function de(E){return U(E,1)}function be(E,T){var $=E.Ca;0>E.b&&ve(E);var K=E.b,J=$*T>>>8,oe=(E.I>>>K>J)+0;for(oe?($-=J,E.I-=J+1<<K>>>0):$=J+1,K=$,J=0;256<=K;)J+=8,K>>=8;return K=7^J+Lc[K],E.b-=K,E.Ca=($<<K)-1,oe}function je(E,T,$){E[T+0]=$>>24&255,E[T+1]=$>>16&255,E[T+2]=$>>8&255,E[T+3]=255&$}function ae(E,T){return E[T+0]|E[T+1]<<8}function Oe(E,T){return ae(E,T)|E[T+2]<<16}function ee(E,T){return ae(E,T)|ae(E,T+2)<<16}function ne(E,T){var $=1<<T;return e(E!=null),e(0<T),E.X=s($),E.X==null?0:(E.Mb=32-T,E.Xa=T,1)}function Me(E,T){e(E!=null),e(T!=null),e(E.Xa==T.Xa),r(T.X,0,E.X,0,1<<T.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function Je(E,T,$,K){e($!=null),e(K!=null);var J=$[0],oe=K[0];return J==0&&(J=(E*oe+T/2)/T),oe==0&&(oe=(T*J+E/2)/E),0>=J||0>=oe?0:($[0]=J,K[0]=oe,1)}function He(E,T){return E+(1<<T)-1>>>T}function me(E,T){return((4278255360&E)+(4278255360&T)>>>0&4278255360)+((16711935&E)+(16711935&T)>>>0&16711935)>>>0}function Ne(E,T){P[T]=function($,K,J,oe,le,ue,he){var ge;for(ge=0;ge<le;++ge){var ke=P[E](ue[he+ge-1],J,oe+ge);ue[he+ge]=me($[K+ge],ke)}}}function Ce(){this.ud=this.hd=this.jd=0}function Ve(E,T){return((4278124286&(E^T))>>>1)+(E&T)>>>0}function We(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Ue(E,T){return We(E+(E-T+.5>>1))}function tt(E,T,$){return Math.abs(T-$)-Math.abs(E-$)}function _t(E,T,$,K,J,oe,le){for(K=oe[le-1],$=0;$<J;++$)oe[le+$]=K=me(E[T+$],K)}function bt(E,T,$,K,J){var oe;for(oe=0;oe<$;++oe){var le=E[T+oe],ue=le>>8&255,he=16711935&(he=(he=16711935&le)+((ue<<16)+ue));K[J+oe]=(4278255360&le)+he>>>0}}function Tt(E,T){T.jd=255&E,T.hd=E>>8&255,T.ud=E>>16&255}function Wt(E,T,$,K,J,oe){var le;for(le=0;le<K;++le){var ue=T[$+le],he=ue>>>8,ge=ue,ke=255&(ke=(ke=ue>>>16)+((E.jd<<24>>24)*(he<<24>>24)>>>5));ge=255&(ge=(ge+=(E.hd<<24>>24)*(he<<24>>24)>>>5)+((E.ud<<24>>24)*(ke<<24>>24)>>>5)),J[oe+le]=(4278255360&ue)+(ke<<16)+ge}}function At(E,T,$,K,J){P[T]=function(oe,le,ue,he,ge,ke,Be,ye,Pe){for(he=Be;he<ye;++he)for(Be=0;Be<Pe;++Be)ge[ke++]=J(ue[K(oe[le++])])},P[E]=function(oe,le,ue,he,ge,ke,Be){var ye=8>>oe.b,Pe=oe.Ea,Le=oe.K[0],nt=oe.w;if(8>ye)for(oe=(1<<oe.b)-1,nt=(1<<ye)-1;le<ue;++le){var ze,Xe=0;for(ze=0;ze<Pe;++ze)ze&oe||(Xe=K(he[ge++])),ke[Be++]=J(Le[Xe&nt]),Xe>>=ye}else P["VP8LMapColor"+$](he,ge,Le,nt,ke,Be,le,ue,Pe)}}function An(E,T,$,K,J){for($=T+$;T<$;){var oe=E[T++];K[J++]=oe>>16&255,K[J++]=oe>>8&255,K[J++]=255&oe}}function En(E,T,$,K,J){for($=T+$;T<$;){var oe=E[T++];K[J++]=oe>>16&255,K[J++]=oe>>8&255,K[J++]=255&oe,K[J++]=oe>>24&255}}function zt(E,T,$,K,J){for($=T+$;T<$;){var oe=(le=E[T++])>>16&240|le>>12&15,le=240&le|le>>28&15;K[J++]=oe,K[J++]=le}}function yn(E,T,$,K,J){for($=T+$;T<$;){var oe=(le=E[T++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;K[J++]=oe,K[J++]=le}}function nr(E,T,$,K,J){for($=T+$;T<$;){var oe=E[T++];K[J++]=255&oe,K[J++]=oe>>8&255,K[J++]=oe>>16&255}}function an(E,T,$,K,J,oe){if(oe==0)for($=T+$;T<$;)je(K,((oe=E[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),J+=32;else r(K,J,E,T,$)}function Cn(E,T){P[T][0]=P[E+"0"],P[T][1]=P[E+"1"],P[T][2]=P[E+"2"],P[T][3]=P[E+"3"],P[T][4]=P[E+"4"],P[T][5]=P[E+"5"],P[T][6]=P[E+"6"],P[T][7]=P[E+"7"],P[T][8]=P[E+"8"],P[T][9]=P[E+"9"],P[T][10]=P[E+"10"],P[T][11]=P[E+"11"],P[T][12]=P[E+"12"],P[T][13]=P[E+"13"],P[T][14]=P[E+"0"],P[T][15]=P[E+"0"]}function wn(E){return E==Gf||E==Fd||E==Pp||E==Mp}function Ar(){this.eb=[],this.size=this.A=this.fb=0}function Cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ar,this.f.kb=new Cr,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ee(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ye(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function ft(E,T){var $=E.T,K=T.ba.f.RGBA,J=K.eb,oe=K.fb+E.ka*K.A,le=qa[T.ba.S],ue=E.y,he=E.O,ge=E.f,ke=E.N,Be=E.ea,ye=E.W,Pe=T.cc,Le=T.dc,nt=T.Mc,ze=T.Nc,Xe=E.ka,et=E.ka+E.T,at=E.U,lt=at+1>>1;for(Xe==0?le(ue,he,null,null,ge,ke,Be,ye,ge,ke,Be,ye,J,oe,null,null,at):(le(T.ec,T.fc,ue,he,Pe,Le,nt,ze,ge,ke,Be,ye,J,oe-K.A,J,oe,at),++$);Xe+2<et;Xe+=2)Pe=ge,Le=ke,nt=Be,ze=ye,ke+=E.Rc,ye+=E.Rc,oe+=2*K.A,le(ue,(he+=2*E.fa)-E.fa,ue,he,Pe,Le,nt,ze,ge,ke,Be,ye,J,oe-K.A,J,oe,at);return he+=E.fa,E.j+et<E.o?(r(T.ec,T.fc,ue,he,at),r(T.cc,T.dc,ge,ke,lt),r(T.Mc,T.Nc,Be,ye,lt),$--):1&et||le(ue,he,null,null,ge,ke,Be,ye,ge,ke,Be,ye,J,oe+K.A,null,null,at),$}function It(E,T,$){var K=E.F,J=[E.J];if(K!=null){var oe=E.U,le=T.ba.S,ue=le==Op||le==Pp;T=T.ba.f.RGBA;var he=[0],ge=E.ka;he[0]=E.T,E.Kb&&(ge==0?--he[0]:(--ge,J[0]-=E.width),E.j+E.ka+E.T==E.o&&(he[0]=E.o-E.j-ge));var ke=T.eb;ge=T.fb+ge*T.A,E=kp(K,J[0],E.width,oe,he,ke,ge+(ue?0:3),T.A),e($==he),E&&wn(le)&&Ld(ke,ge,ue,oe,he,T.A)}return 0}function On(E){var T=E.ma,$=T.ba.S,K=11>$,J=$==Mu||$==Tp||$==Op||$==Vr||$==12||wn($);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!zf(T.Oa,E,J?11:12))return 0;if(J&&wn($)&&fg(),E.da)alert("todo:use_scaling");else{if(K){if(T.Ib=Ye,E.Kb){if($=E.U+1>>1,T.memory=s(E.U+2*$),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+E.U,T.Mc=T.cc,T.Nc=T.dc+$,T.Ib=ft,fg()}}else alert("todo:EmitYUV");J&&(T.Jb=It,K&&Bo())}if(K&&!Us){for(E=0;256>E;++E)Ua[E]=89858*(E-128)+ml>>zc,Ha[E]=-22014*(E-128)+ml,Qf[E]=-45773*(E-128),qd[E]=113618*(E-128)+ml>>zc;for(E=Mr;E<Fr;++E)T=76283*(E-16)+ml>>zc,bg[E-Mr]=Ii(T,255),$1[E-Mr]=Ii(T+8>>4,15);Us=1}return 1}function ce(E){var T=E.ma,$=E.U,K=E.T;return e(!(1&E.ka)),0>=$||0>=K?0:($=T.Ib(E,T),T.Jb!=null&&T.Jb(E,T,$),T.Dc+=$,1)}function Fe(E){E.ma.memory=null}function dt(E,T,$,K){return Z(E,8)!=47?0:(T[0]=Z(E,14)+1,$[0]=Z(E,14)+1,K[0]=Z(E,1),Z(E,3)!=0?0:!E.h)}function Lt(E,T){if(4>E)return E+1;var $=E-2>>1;return(2+(1&E)<<$)+Z(T,$)+1}function Hn(E,T){return 120<T?T-120:1<=($=(($=Ej[T-1])>>4)*E+(8-(15&$)))?$:1;var $}function gn(E,T,$){var K=Q($),J=E[T+=255&K].g-8;return 0<J&&(fe($,$.u+8),K=Q($),T+=E[T].value,T+=K&(1<<J)-1),fe($,$.u+E[T].g),E[T].value}function pr(E,T,$){return $.g+=E.g,$.value+=E.value<<T>>>0,e(8>=$.g),E.g}function or(E,T,$){var K=E.xc;return e((T=K==0?0:E.vc[E.md*($>>K)+(T>>K)])<E.Wb),E.Ya[T]}function Ur(E,T,$,K){var J=E.ab,oe=E.c*T,le=E.C;T=le+T;var ue=$,he=K;for(K=E.Ta,$=E.Ua;0<J--;){var ge=E.gc[J],ke=le,Be=T,ye=ue,Pe=he,Le=(he=K,ue=$,ge.Ea);switch(e(ke<Be),e(Be<=ge.nc),ge.hc){case 2:Ki(ye,Pe,(Be-ke)*Le,he,ue);break;case 0:var nt=ke,ze=Be,Xe=he,et=ue,at=(Qt=ge).Ea;nt==0&&(Fc(ye,Pe,null,null,1,Xe,et),_t(ye,Pe+1,0,0,at-1,Xe,et+1),Pe+=at,et+=at,++nt);for(var lt=1<<Qt.b,un=lt-1,Kt=He(at,Qt.b),Wn=Qt.K,Qt=Qt.w+(nt>>Qt.b)*Kt;nt<ze;){var ur=Wn,Fi=Qt,Yn=1;for(Kl(ye,Pe,Xe,et-at,1,Xe,et);Yn<at;){var Gt=(Yn&~un)+lt;Gt>at&&(Gt=at),(0,Md[ur[Fi++]>>8&15])(ye,Pe+ +Yn,Xe,et+Yn-at,Gt-Yn,Xe,et+Yn),Yn=Gt}Pe+=at,et+=at,++nt&un||(Qt+=Kt)}Be!=ge.nc&&r(he,ue-Le,he,ue+(Be-ke-1)*Le,Le);break;case 1:for(Le=ye,ze=Pe,at=(ye=ge.Ea)-(et=ye&~(Xe=(Pe=1<<ge.b)-1)),nt=He(ye,ge.b),lt=ge.K,ge=ge.w+(ke>>ge.b)*nt;ke<Be;){for(un=lt,Kt=ge,Wn=new Ce,Qt=ze+et,ur=ze+ye;ze<Qt;)Tt(un[Kt++],Wn),Uf(Wn,Le,ze,Pe,he,ue),ze+=Pe,ue+=Pe;ze<ur&&(Tt(un[Kt++],Wn),Uf(Wn,Le,ze,at,he,ue),ze+=at,ue+=at),++ke&Xe||(ge+=nt)}break;case 3:if(ye==he&&Pe==ue&&0<ge.b){for(ze=he,ye=Le=ue+(Be-ke)*Le-(et=(Be-ke)*He(ge.Ea,ge.b)),Pe=he,Xe=ue,nt=[],et=(at=et)-1;0<=et;--et)nt[et]=Pe[Xe+et];for(et=at-1;0<=et;--et)ze[ye+et]=nt[et];Od(ge,ke,Be,he,Le,he,ue)}else Od(ge,ke,Be,ye,Pe,he,ue)}ue=K,he=$}he!=$&&r(K,$,ue,he,oe)}function mi(E,T){var $=E.V,K=E.Ba+E.c*E.C,J=T-E.C;if(e(T<=E.l.o),e(16>=J),0<J){var oe=E.l,le=E.Ta,ue=E.Ua,he=oe.width;if(Ur(E,J,$,K),J=ue=[ue],e(($=E.C)<(K=T)),e(oe.v<oe.va),K>oe.o&&(K=oe.o),$<oe.j){var ge=oe.j-$;$=oe.j,J[0]+=ge*he}if($>=K?$=0:(J[0]+=4*oe.v,oe.ka=$-oe.j,oe.U=oe.va-oe.v,oe.T=K-$,$=1),$){if(ue=ue[0],11>($=E.ca).S){var ke=$.f.RGBA,Be=(K=$.S,J=oe.U,oe=oe.T,ge=ke.eb,ke.A),ye=oe;for(ke=ke.fb+E.Ma*ke.A;0<ye--;){var Pe=le,Le=ue,nt=J,ze=ge,Xe=ke;switch(K){case gg:Hf(Pe,Le,nt,ze,Xe);break;case Mu:Bc(Pe,Le,nt,ze,Xe);break;case Gf:Bc(Pe,Le,nt,ze,Xe),Ld(ze,Xe,0,nt,1,0);break;case I1:Rd(Pe,Le,nt,ze,Xe);break;case Tp:an(Pe,Le,nt,ze,Xe,1);break;case Fd:an(Pe,Le,nt,ze,Xe,1),Ld(ze,Xe,0,nt,1,0);break;case Op:an(Pe,Le,nt,ze,Xe,0);break;case Pp:an(Pe,Le,nt,ze,Xe,0),Ld(ze,Xe,1,nt,1,0);break;case Vr:Tu(Pe,Le,nt,ze,Xe);break;case Mp:Tu(Pe,Le,nt,ze,Xe),ix(ze,Xe,nt,1,0);break;case vg:Ou(Pe,Le,nt,ze,Xe);break;default:e(0)}ue+=he,ke+=Be}E.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(E.Ma<=$.height)}}E.C=T,e(E.C<=E.i)}function Hi(E){var T;if(0<E.ua)return 0;for(T=0;T<E.Wb;++T){var $=E.Ya[T].G,K=E.Ya[T].H;if(0<$[1][K[1]+0].g||0<$[2][K[2]+0].g||0<$[3][K[3]+0].g)return 0}return 1}function oo(E,T,$,K,J,oe){if(E.Z!=0){var le=E.qd,ue=E.rd;for(e(oa[E.Z]!=null);T<$;++T)oa[E.Z](le,ue,K,J,K,J,oe),le=K,ue=J,J+=oe;E.qd=le,E.rd=ue}}function Ri(E,T){var $=E.l.ma,K=$.Z==0||$.Z==1?E.l.j:E.C;if(K=E.C<K?K:E.C,e(T<=E.l.o),T>K){var J=E.l.width,oe=$.ca,le=$.tb+J*K,ue=E.V,he=E.Ba+E.c*K,ge=E.gc;e(E.ab==1),e(ge[0].hc==3),hl(ge[0],K,T,ue,he,oe,le),oo($,K,T,oe,le,J)}E.C=E.Ma=T}function $s(E,T,$,K,J,oe,le){var ue=E.$/K,he=E.$%K,ge=E.m,ke=E.s,Be=$+E.$,ye=Be;J=$+K*J;var Pe=$+K*oe,Le=280+ke.ua,nt=E.Pb?ue:16777216,ze=0<ke.ua?ke.Wa:null,Xe=ke.wc,et=Be<Pe?or(ke,he,ue):null;e(E.C<oe),e(Pe<=J);var at=!1;e:for(;;){for(;at||Be<Pe;){var lt=0;if(ue>=nt){var un=Be-$;e((nt=E).Pb),nt.wd=nt.m,nt.xd=un,0<nt.s.ua&&Me(nt.s.Wa,nt.s.vb),nt=ue+xg}if(he&Xe||(et=or(ke,he,ue)),e(et!=null),et.Qb&&(T[Be]=et.qb,at=!0),!at)if(pe(ge),et.jc){lt=ge,un=T;var Kt=Be,Wn=et.pd[Q(lt)&$o-1];e(et.jc),256>Wn.g?(fe(lt,lt.u+Wn.g),un[Kt]=Wn.value,lt=0):(fe(lt,lt.u+Wn.g-256),e(256<=Wn.value),lt=Wn.value),lt==0&&(at=!0)}else lt=gn(et.G[0],et.H[0],ge);if(ge.h)break;if(at||256>lt){if(!at)if(et.nd)T[Be]=(et.qb|lt<<8)>>>0;else{if(pe(ge),at=gn(et.G[1],et.H[1],ge),pe(ge),un=gn(et.G[2],et.H[2],ge),Kt=gn(et.G[3],et.H[3],ge),ge.h)break;T[Be]=(Kt<<24|at<<16|lt<<8|un)>>>0}if(at=!1,++Be,++he>=K&&(he=0,++ue,le!=null&&ue<=oe&&!(ue%16)&&le(E,ue),ze!=null))for(;ye<Be;)lt=T[ye++],ze.X[(506832829*lt&4294967295)>>>ze.Mb]=lt}else if(280>lt){if(lt=Lt(lt-256,ge),un=gn(et.G[4],et.H[4],ge),pe(ge),un=Hn(K,un=Lt(un,ge)),ge.h)break;if(Be-$<un||J-Be<lt)break e;for(Kt=0;Kt<lt;++Kt)T[Be+Kt]=T[Be+Kt-un];for(Be+=lt,he+=lt;he>=K;)he-=K,++ue,le!=null&&ue<=oe&&!(ue%16)&&le(E,ue);if(e(Be<=J),he&Xe&&(et=or(ke,he,ue)),ze!=null)for(;ye<Be;)lt=T[ye++],ze.X[(506832829*lt&4294967295)>>>ze.Mb]=lt}else{if(!(lt<Le))break e;for(at=lt-280,e(ze!=null);ye<Be;)lt=T[ye++],ze.X[(506832829*lt&4294967295)>>>ze.Mb]=lt;lt=Be,e(!(at>>>(un=ze).Xa)),T[lt]=un.X[at],at=!0}at||e(ge.h==re(ge))}if(E.Pb&&ge.h&&Be<J)e(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&Me(E.s.vb,E.s.Wa);else{if(ge.h)break e;le?.(E,ue>oe?oe:ue),E.a=0,E.$=Be-$}return 1}return E.a=3,0}function ra(E){e(E!=null),E.vc=null,E.yc=null,E.Ya=null;var T=E.Wa;T!=null&&(T.X=null),E.vb=null,e(E!=null)}function Mo(){var E=new cn;return E==null?null:(E.a=0,E.xb=Xf,Cn("Predictor","VP8LPredictors"),Cn("Predictor","VP8LPredictors_C"),Cn("PredictorAdd","VP8LPredictorsAdd"),Cn("PredictorAdd","VP8LPredictorsAdd_C"),Ki=bt,Uf=Wt,Hf=An,Bc=En,Tu=zt,Ou=yn,Rd=nr,P.VP8LMapColor32b=Gl,P.VP8LMapColor8b=Pd,E)}function lo(E,T,$,K,J){var oe=1,le=[E],ue=[T],he=K.m,ge=K.s,ke=null,Be=0;e:for(;;){if($)for(;oe&&Z(he,1);){var ye=le,Pe=ue,Le=K,nt=1,ze=Le.m,Xe=Le.gc[Le.ab],et=Z(ze,2);if(Le.Oc&1<<et)oe=0;else{switch(Le.Oc|=1<<et,Xe.hc=et,Xe.Ea=ye[0],Xe.nc=Pe[0],Xe.K=[null],++Le.ab,e(4>=Le.ab),et){case 0:case 1:Xe.b=Z(ze,3)+2,nt=lo(He(Xe.Ea,Xe.b),He(Xe.nc,Xe.b),0,Le,Xe.K),Xe.K=Xe.K[0];break;case 3:var at,lt=Z(ze,8)+1,un=16<lt?0:4<lt?1:2<lt?2:3;if(ye[0]=He(Xe.Ea,un),Xe.b=un,at=nt=lo(lt,1,0,Le,Xe.K)){var Kt,Wn=lt,Qt=Xe,ur=1<<(8>>Qt.b),Fi=s(ur);if(Fi==null)at=0;else{var Yn=Qt.K[0],Gt=Qt.w;for(Fi[0]=Qt.K[0][0],Kt=1;Kt<1*Wn;++Kt)Fi[Kt]=me(Yn[Gt+Kt],Fi[Kt-1]);for(;Kt<4*ur;++Kt)Fi[Kt]=0;Qt.K[0]=null,Qt.K[0]=Fi,at=1}}nt=at;break;case 2:break;default:e(0)}oe=nt}}if(le=le[0],ue=ue[0],oe&&Z(he,1)&&!(oe=1<=(Be=Z(he,4))&&11>=Be)){K.a=3;break e}var Rt;if(Rt=oe)t:{var Gi,Pn,lr,ei=K,Cs=le,ns=ue,Ai=Be,gs=$,ks=ei.m,yi=ei.s,mr=[null],wr=1,xi=0,Nr=L1[Ai];n:for(;;){if(gs&&Z(ks,1)){var Bi=Z(ks,3)+2,$i=He(Cs,Bi),Wr=He(ns,Bi),la=$i*Wr;if(!lo($i,Wr,0,ei,mr))break n;for(mr=mr[0],yi.xc=Bi,Gi=0;Gi<la;++Gi){var Br=mr[Gi]>>8&65535;mr[Gi]=Br,Br>=wr&&(wr=Br+1)}}if(ks.h)break n;for(Pn=0;5>Pn;++Pn){var Kr=Bd[Pn];!Pn&&0<Ai&&(Kr+=1<<Ai),xi<Kr&&(xi=Kr)}var rs=a(wr*Nr,q),Hs=wr,Va=a(Hs,G);if(Va==null)var Yi=null;else e(65536>=Hs),Yi=Va;var Xi=s(xi);if(Yi==null||Xi==null||rs==null){ei.a=1;break n}var ca=rs;for(Gi=lr=0;Gi<wr;++Gi){var Gr=Yi[Gi],ua=Gr.G,Uo=Gr.H,gl=0,Ts=1,Zi=0;for(Pn=0;5>Pn;++Pn){Kr=Bd[Pn],ua[Pn]=ca,Uo[Pn]=lr,!Pn&&0<Ai&&(Kr+=1<<Ai);i:{var Du,Uc=Kr,Jf=ei,Zl=Xi,q1=ca,gx=lr,ai=0,vl=Jf.m,vx=Z(vl,1);if(i(Zl,0,0,Uc),vx){var yx=Z(vl,1)+1,wg=Z(vl,1),Ng=Z(vl,wg==0?1:8);Zl[Ng]=1,yx==2&&(Zl[Ng=Z(vl,8)]=1);var Ql=1}else{var bi=s(19),is=Z(vl,4)+4;if(19<is){Jf.a=3;var Qi=0;break i}for(Du=0;Du<is;++Du)bi[Sj[Du]]=Z(vl,3);var eh=void 0,Hc=void 0,th=Jf,kj=bi,vs=Uc,Sg=Zl,Fp=0,Jl=th.m,yl=8,mo=a(128,q);r:for(;F(mo,0,7,kj,19);){if(Z(Jl,1)){var Bp=2+2*Z(Jl,3);if((eh=2+Z(Jl,Bp))>vs)break r}else eh=vs;for(Hc=0;Hc<vs&&eh--;){pe(Jl);var Eg=mo[0+(127&Q(Jl))];fe(Jl,Jl.u+Eg.g);var Lu=Eg.value;if(16>Lu)Sg[Hc++]=Lu,Lu!=0&&(yl=Lu);else{var U1=Lu==16,xx=Lu-16,H1=yg[xx],bx=Z(Jl,Rp[xx])+H1;if(Hc+bx>vs)break r;for(var V1=U1?yl:0;0<bx--;)Sg[Hc++]=V1}}Fp=1;break r}Fp||(th.a=3),Ql=Fp}(Ql=Ql&&!vl.h)&&(ai=F(q1,gx,8,Zl,Uc)),Ql&&ai!=0?Qi=ai:(Jf.a=3,Qi=0)}if(Qi==0)break n;if(Ts&&D1[Pn]==1&&(Ts=ca[lr].g==0),gl+=ca[lr].g,lr+=Qi,3>=Pn){var nh,_g=Xi[0];for(nh=1;nh<Kr;++nh)Xi[nh]>_g&&(_g=Xi[nh]);Zi+=_g}}if(Gr.nd=Ts,Gr.Qb=0,Ts&&(Gr.qb=(ua[3][Uo[3]+0].value<<24|ua[1][Uo[1]+0].value<<16|ua[2][Uo[2]+0].value)>>>0,gl==0&&256>ua[0][Uo[0]+0].value&&(Gr.Qb=1,Gr.qb+=ua[0][Uo[0]+0].value<<8)),Gr.jc=!Gr.Qb&&6>Zi,Gr.jc){var $p,go=Gr;for($p=0;$p<$o;++$p){var Vc=$p,xl=go.pd[Vc],Hd=go.G[0][go.H[0]+Vc];256<=Hd.value?(xl.g=Hd.g+256,xl.value=Hd.value):(xl.g=0,xl.value=0,Vc>>=pr(Hd,8,xl),Vc>>=pr(go.G[1][go.H[1]+Vc],16,xl),Vc>>=pr(go.G[2][go.H[2]+Vc],0,xl),pr(go.G[3][go.H[3]+Vc],24,xl))}}}yi.vc=mr,yi.Wb=wr,yi.Ya=Yi,yi.yc=rs,Rt=1;break t}Rt=0}if(!(oe=Rt)){K.a=3;break e}if(0<Be){if(ge.ua=1<<Be,!ne(ge.Wa,Be)){K.a=1,oe=0;break e}}else ge.ua=0;var jg=K,Ag=le,W1=ue,Cg=jg.s,kg=Cg.xc;if(jg.c=Ag,jg.i=W1,Cg.md=He(Ag,kg),Cg.wc=kg==0?-1:(1<<kg)-1,$){K.xb=Xl;break e}if((ke=s(le*ue))==null){K.a=1,oe=0;break e}oe=(oe=$s(K,ke,0,le,ue,ue,null))&&!he.h;break e}return oe?(J!=null?J[0]=ke:(e(ke==null),e($)),K.$=0,$||ra(ge)):ra(ge),oe}function Bl(E,T){var $=E.c*E.i,K=$+T+16*T;return e(E.c<=T),E.V=s(K),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+$+T,1)}function Ac(E,T){var $=E.C,K=T-$,J=E.V,oe=E.Ba+E.c*$;for(e(T<=E.l.o);0<K;){var le=16<K?16:K,ue=E.l.ma,he=E.l.width,ge=he*le,ke=ue.ca,Be=ue.tb+he*$,ye=E.Ta,Pe=E.Ua;Ur(E,le,J,oe),sx(ye,Pe,ke,Be,ge),oo(ue,$,$+le,ke,Be,he),K-=le,J+=le*E.c,$+=le}e($==T),E.C=E.Ma=T}function ia(){this.ub=this.yd=this.td=this.Rb=0}function Cc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Hr(){this.Yb=(function(){var E=[];return(function T($,K,J){for(var oe=J[K],le=0;le<oe&&($.push(J.length>K+1?[]:0),!(J.length<K+1));le++)T($[le],K+1,J)})(E,0,[3,11]),E})()}function If(){this.jb=s(3),this.Wc=l([4,8],Hr),this.Xc=l([4,17],Hr)}function Su(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function _s(){this.ld=this.La=this.dd=this.tc=0}function $l(){this.Na=this.la=0}function Et(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vn(){this.uc=this.M=this.Nb=0,this.wa=Array(new _s),this.Y=0,this.ya=Array(new sn),this.aa=0,this.l=new Dr}function tr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function gi(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new ia,this.Kc=new Cc,this.ed=new Su,this.Qa=new Rf,this.Ic=this.$c=this.Aa=0,this.D=new Vn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,Et),this.Pa=new If,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tr),this.Hd=0,this.rb=Array(new $l),this.sb=0,this.wa=Array(new _s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sn),this.L=this.aa=0,this.gd=l([4,2],_s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ro(){var E=new gi;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,$d||($d=_a)),E}function si(E,T,$){return E.a==0&&(E.a=T,E.sc=$,E.cb=0),0}function js(E,T,$){return 3<=$&&E[T+0]==157&&E[T+1]==1&&E[T+2]==42}function As(E,T){if(E==null)return 0;if(E.a=0,E.sc="OK",T==null)return si(E,2,"null VP8Io passed to VP8GetHeaders()");var $=T.data,K=T.w,J=T.ha;if(4>J)return si(E,7,"Truncated header.");var oe=$[K+0]|$[K+1]<<8|$[K+2]<<16,le=E.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return si(E,3,"Incorrect keyframe parameters.");if(!le.yd)return si(E,4,"Frame not displayable.");K+=3,J-=3;var ue=E.Kc;if(le.Rb){if(7>J)return si(E,7,"cannot parse picture header");if(!js($,K,J))return si(E,3,"Bad code word");ue.c=16383&($[K+4]<<8|$[K+3]),ue.Td=$[K+4]>>6,ue.i=16383&($[K+6]<<8|$[K+5]),ue.Ud=$[K+6]>>6,K+=7,J-=7,E.za=ue.c+15>>4,E.Ub=ue.i+15>>4,T.width=ue.c,T.height=ue.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((oe=E.Pa).jb,0,255,oe.jb.length),e((oe=E.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(le.ub>J)return si(E,7,"bad partition length");X(oe=E.m,$,K,le.ub),K+=le.ub,J-=le.ub,le.Rb&&(ue.Ld=de(oe),ue.Kd=de(oe)),ue=E.Qa;var he,ge=E.Pa;if(e(oe!=null),e(ue!=null),ue.Cb=de(oe),ue.Cb){if(ue.Bb=de(oe),de(oe)){for(ue.Fb=de(oe),he=0;4>he;++he)ue.Zb[he]=de(oe)?W(oe,7):0;for(he=0;4>he;++he)ue.Lb[he]=de(oe)?W(oe,6):0}if(ue.Bb)for(he=0;3>he;++he)ge.jb[he]=de(oe)?U(oe,8):255}else ue.Bb=0;if(oe.Ka)return si(E,3,"cannot parse segment header");if((ue=E.ed).zd=de(oe),ue.Tb=U(oe,6),ue.wb=U(oe,3),ue.Pc=de(oe),ue.Pc&&de(oe)){for(ge=0;4>ge;++ge)de(oe)&&(ue.vd[ge]=W(oe,6));for(ge=0;4>ge;++ge)de(oe)&&(ue.od[ge]=W(oe,6))}if(E.L=ue.Tb==0?0:ue.zd?1:2,oe.Ka)return si(E,3,"cannot parse filter header");var ke=J;if(J=he=K,K=he+ke,ue=ke,E.Xb=(1<<U(E.m,2))-1,ke<3*(ge=E.Xb))$=7;else{for(he+=3*ge,ue-=3*ge,ke=0;ke<ge;++ke){var Be=$[J+0]|$[J+1]<<8|$[J+2]<<16;Be>ue&&(Be=ue),X(E.Jc[+ke],$,he,Be),he+=Be,ue-=Be,J+=3}X(E.Jc[+ge],$,he,ue),$=he<K?0:5}if($!=0)return si(E,$,"cannot parse partitions");for($=U(he=E.m,7),J=de(he)?W(he,4):0,K=de(he)?W(he,4):0,ue=de(he)?W(he,4):0,ge=de(he)?W(he,4):0,he=de(he)?W(he,4):0,ke=E.Qa,Be=0;4>Be;++Be){if(ke.Cb){var ye=ke.Zb[Be];ke.Fb||(ye+=$)}else{if(0<Be){E.pb[Be]=E.pb[0];continue}ye=$}var Pe=E.pb[Be];Pe.Sc[0]=Yf[Ii(ye+J,127)],Pe.Sc[1]=Ip[Ii(ye+0,127)],Pe.Eb[0]=2*Yf[Ii(ye+K,127)],Pe.Eb[1]=101581*Ip[Ii(ye+ue,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=Yf[Ii(ye+ge,117)],Pe.Qc[1]=Ip[Ii(ye+he,127)],Pe.lc=ye+he}if(!le.Rb)return si(E,4,"Not a key frame.");for(de(oe),le=E.Pa,$=0;4>$;++$){for(J=0;8>J;++J)for(K=0;3>K;++K)for(ue=0;11>ue;++ue)ge=be(oe,jj[$][J][K][ue])?U(oe,8):B1[$][J][K][ue],le.Wc[$][J].Yb[K][ue]=ge;for(J=0;17>J;++J)le.Xc[$][J]=le.Wc[$][hx[J]]}return E.kc=de(oe),E.kc&&(E.Bd=U(oe,8)),E.cb=1}function _a(E,T,$,K,J,oe,le){var ue=T[J].Yb[$];for($=0;16>J;++J){if(!be(E,ue[$+0]))return J;for(;!be(E,ue[$+1]);)if(ue=T[++J].Yb[0],$=0,J==16)return 16;var he=T[J+1].Yb;if(be(E,ue[$+2])){var ge=E,ke=0;if(be(ge,(ye=ue)[(Be=$)+3]))if(be(ge,ye[Be+6])){for(ue=0,Be=2*(ke=be(ge,ye[Be+8]))+(ye=be(ge,ye[Be+9+ke])),ke=0,ye=dx[Be];ye[ue];++ue)ke+=ke+be(ge,ye[ue]);ke+=3+(8<<Be)}else be(ge,ye[Be+7])?(ke=7+2*be(ge,165),ke+=be(ge,145)):ke=5+be(ge,159);else ke=be(ge,ye[Be+4])?3+be(ge,ye[Be+5]):2;ue=he[2]}else ke=1,ue=he[1];he=le+fx[J],0>(ge=E).b&&ve(ge);var Be,ye=ge.b,Pe=(Be=ge.Ca>>1)-(ge.I>>ye)>>31;--ge.b,ge.Ca+=Pe,ge.Ca|=1,ge.I-=(Be+1&Pe)<<ye,oe[he]=((ke^Pe)-Pe)*K[(0<J)+0]}return 16}function La(E){var T=E.rb[E.sb-1];T.la=0,T.Na=0,i(E.zc,0,0,E.zc.length),E.ja=0}function zs(E,T,$,K,J){J=E[T+$+32*K]+(J>>3),E[T+$+32*K]=-256&J?0>J?0:255:J}function kc(E,T,$,K,J,oe){zs(E,T,0,$,K+J),zs(E,T,1,$,K+oe),zs(E,T,2,$,K-oe),zs(E,T,3,$,K-J)}function Ei(E){return(20091*E>>16)+E}function Tc(E,T,$,K){var J,oe=0,le=s(16);for(J=0;4>J;++J){var ue=E[T+0]+E[T+8],he=E[T+0]-E[T+8],ge=(35468*E[T+4]>>16)-Ei(E[T+12]),ke=Ei(E[T+4])+(35468*E[T+12]>>16);le[oe+0]=ue+ke,le[oe+1]=he+ge,le[oe+2]=he-ge,le[oe+3]=ue-ke,oe+=4,T++}for(J=oe=0;4>J;++J)ue=(E=le[oe+0]+4)+le[oe+8],he=E-le[oe+8],ge=(35468*le[oe+4]>>16)-Ei(le[oe+12]),zs($,K,0,0,ue+(ke=Ei(le[oe+4])+(35468*le[oe+12]>>16))),zs($,K,1,0,he+ge),zs($,K,2,0,he-ge),zs($,K,3,0,ue-ke),oe++,K+=32}function Df(E,T,$,K){var J=E[T+0]+4,oe=35468*E[T+4]>>16,le=Ei(E[T+4]),ue=35468*E[T+1]>>16;kc($,K,0,J+le,E=Ei(E[T+1]),ue),kc($,K,1,J+oe,E,ue),kc($,K,2,J-oe,E,ue),kc($,K,3,J-le,E,ue)}function zl(E,T,$,K,J){Tc(E,T,$,K),J&&Tc(E,T+16,$,K+4)}function ql(E,T,$,K){Id(E,T+0,$,K,1),Id(E,T+32,$,K+128,1)}function Vi(E,T,$,K){var J;for(E=E[T+0]+4,J=0;4>J;++J)for(T=0;4>T;++T)zs($,K,T,J,E)}function Eu(E,T,$,K){E[T+0]&&br(E,T+0,$,K),E[T+16]&&br(E,T+16,$,K+4),E[T+32]&&br(E,T+32,$,K+128),E[T+48]&&br(E,T+48,$,K+128+4)}function cr(E,T,$,K){var J,oe=s(16);for(J=0;4>J;++J){var le=E[T+0+J]+E[T+12+J],ue=E[T+4+J]+E[T+8+J],he=E[T+4+J]-E[T+8+J],ge=E[T+0+J]-E[T+12+J];oe[0+J]=le+ue,oe[8+J]=le-ue,oe[4+J]=ge+he,oe[12+J]=ge-he}for(J=0;4>J;++J)le=(E=oe[0+4*J]+3)+oe[3+4*J],ue=oe[1+4*J]+oe[2+4*J],he=oe[1+4*J]-oe[2+4*J],ge=E-oe[3+4*J],$[K+0]=le+ue>>3,$[K+16]=ge+he>>3,$[K+32]=le-ue>>3,$[K+48]=ge-he>>3,K+=64}function xn(E,T,$){var K,J=T-32,oe=Aa,le=255-E[J-1];for(K=0;K<$;++K){var ue,he=oe,ge=le+E[T-1];for(ue=0;ue<$;++ue)E[T+ue]=he[ge+E[J+ue]];T+=32}}function Oc(E,T){xn(E,T,4)}function _i(E,T){xn(E,T,8)}function yr(E,T){xn(E,T,16)}function Pc(E,T){var $;for($=0;16>$;++$)r(E,T+32*$,E,T-32,16)}function Fa(E,T){var $;for($=16;0<$;--$)i(E,T,E[T-1],16),T+=32}function co(E,T,$){var K;for(K=0;16>K;++K)i(T,$+32*K,E,16)}function ja(E,T){var $,K=16;for($=0;16>$;++$)K+=E[T-1+32*$]+E[T+$-32];co(K>>5,E,T)}function Mt(E,T){var $,K=8;for($=0;16>$;++$)K+=E[T-1+32*$];co(K>>4,E,T)}function qt(E,T){var $,K=8;for($=0;16>$;++$)K+=E[T+$-32];co(K>>4,E,T)}function Nn(E,T){co(128,E,T)}function Dt(E,T,$){return E+2*T+$+2>>2}function vi(E,T){var $,K=T-32;for(K=new Uint8Array([Dt(E[K-1],E[K+0],E[K+1]),Dt(E[K+0],E[K+1],E[K+2]),Dt(E[K+1],E[K+2],E[K+3]),Dt(E[K+2],E[K+3],E[K+4])]),$=0;4>$;++$)r(E,T+32*$,K,0,K.length)}function Ji(E,T){var $=E[T-1],K=E[T-1+32],J=E[T-1+64],oe=E[T-1+96];je(E,T+0,16843009*Dt(E[T-1-32],$,K)),je(E,T+32,16843009*Dt($,K,J)),je(E,T+64,16843009*Dt(K,J,oe)),je(E,T+96,16843009*Dt(J,oe,oe))}function xp(E,T){var $,K=4;for($=0;4>$;++$)K+=E[T+$-32]+E[T-1+32*$];for(K>>=3,$=0;4>$;++$)i(E,T+32*$,K,4)}function Lf(E,T){var $=E[T-1+0],K=E[T-1+32],J=E[T-1+64],oe=E[T-1-32],le=E[T+0-32],ue=E[T+1-32],he=E[T+2-32],ge=E[T+3-32];E[T+0+96]=Dt(K,J,E[T-1+96]),E[T+1+96]=E[T+0+64]=Dt($,K,J),E[T+2+96]=E[T+1+64]=E[T+0+32]=Dt(oe,$,K),E[T+3+96]=E[T+2+64]=E[T+1+32]=E[T+0+0]=Dt(le,oe,$),E[T+3+64]=E[T+2+32]=E[T+1+0]=Dt(ue,le,oe),E[T+3+32]=E[T+2+0]=Dt(he,ue,le),E[T+3+0]=Dt(ge,he,ue)}function uo(E,T){var $=E[T+1-32],K=E[T+2-32],J=E[T+3-32],oe=E[T+4-32],le=E[T+5-32],ue=E[T+6-32],he=E[T+7-32];E[T+0+0]=Dt(E[T+0-32],$,K),E[T+1+0]=E[T+0+32]=Dt($,K,J),E[T+2+0]=E[T+1+32]=E[T+0+64]=Dt(K,J,oe),E[T+3+0]=E[T+2+32]=E[T+1+64]=E[T+0+96]=Dt(J,oe,le),E[T+3+32]=E[T+2+64]=E[T+1+96]=Dt(oe,le,ue),E[T+3+64]=E[T+2+96]=Dt(le,ue,he),E[T+3+96]=Dt(ue,he,he)}function Mc(E,T){var $=E[T-1+0],K=E[T-1+32],J=E[T-1+64],oe=E[T-1-32],le=E[T+0-32],ue=E[T+1-32],he=E[T+2-32],ge=E[T+3-32];E[T+0+0]=E[T+1+64]=oe+le+1>>1,E[T+1+0]=E[T+2+64]=le+ue+1>>1,E[T+2+0]=E[T+3+64]=ue+he+1>>1,E[T+3+0]=he+ge+1>>1,E[T+0+96]=Dt(J,K,$),E[T+0+64]=Dt(K,$,oe),E[T+0+32]=E[T+1+96]=Dt($,oe,le),E[T+1+32]=E[T+2+96]=Dt(oe,le,ue),E[T+2+32]=E[T+3+96]=Dt(le,ue,he),E[T+3+32]=Dt(ue,he,ge)}function dg(E,T){var $=E[T+0-32],K=E[T+1-32],J=E[T+2-32],oe=E[T+3-32],le=E[T+4-32],ue=E[T+5-32],he=E[T+6-32],ge=E[T+7-32];E[T+0+0]=$+K+1>>1,E[T+1+0]=E[T+0+64]=K+J+1>>1,E[T+2+0]=E[T+1+64]=J+oe+1>>1,E[T+3+0]=E[T+2+64]=oe+le+1>>1,E[T+0+32]=Dt($,K,J),E[T+1+32]=E[T+0+96]=Dt(K,J,oe),E[T+2+32]=E[T+1+96]=Dt(J,oe,le),E[T+3+32]=E[T+2+96]=Dt(oe,le,ue),E[T+3+64]=Dt(le,ue,he),E[T+3+96]=Dt(ue,he,ge)}function Ff(E,T){var $=E[T-1+0],K=E[T-1+32],J=E[T-1+64],oe=E[T-1+96];E[T+0+0]=$+K+1>>1,E[T+2+0]=E[T+0+32]=K+J+1>>1,E[T+2+32]=E[T+0+64]=J+oe+1>>1,E[T+1+0]=Dt($,K,J),E[T+3+0]=E[T+1+32]=Dt(K,J,oe),E[T+3+32]=E[T+1+64]=Dt(J,oe,oe),E[T+3+64]=E[T+2+64]=E[T+0+96]=E[T+1+96]=E[T+2+96]=E[T+3+96]=oe}function Nd(E,T){var $=E[T-1+0],K=E[T-1+32],J=E[T-1+64],oe=E[T-1+96],le=E[T-1-32],ue=E[T+0-32],he=E[T+1-32],ge=E[T+2-32];E[T+0+0]=E[T+2+32]=$+le+1>>1,E[T+0+32]=E[T+2+64]=K+$+1>>1,E[T+0+64]=E[T+2+96]=J+K+1>>1,E[T+0+96]=oe+J+1>>1,E[T+3+0]=Dt(ue,he,ge),E[T+2+0]=Dt(le,ue,he),E[T+1+0]=E[T+3+32]=Dt($,le,ue),E[T+1+32]=E[T+3+64]=Dt(K,$,le),E[T+1+64]=E[T+3+96]=Dt(J,K,$),E[T+1+96]=Dt(oe,J,K)}function bp(E,T){var $;for($=0;8>$;++$)r(E,T+32*$,E,T-32,8)}function ul(E,T){var $;for($=0;8>$;++$)i(E,T,E[T-1],8),T+=32}function Ul(E,T,$){var K;for(K=0;8>K;++K)i(T,$+32*K,E,8)}function dl(E,T){var $,K=8;for($=0;8>$;++$)K+=E[T+$-32]+E[T-1+32*$];Ul(K>>4,E,T)}function Bf(E,T){var $,K=4;for($=0;8>$;++$)K+=E[T+$-32];Ul(K>>3,E,T)}function wp(E,T){var $,K=4;for($=0;8>$;++$)K+=E[T-1+32*$];Ul(K>>3,E,T)}function Np(E,T){Ul(128,E,T)}function Rc(E,T,$){var K=E[T-$],J=E[T+0],oe=3*(J-K)+Yl[1020+E[T-2*$]-E[T+$]],le=Kf[112+(oe+4>>3)];E[T-$]=Aa[255+K+Kf[112+(oe+3>>3)]],E[T+0]=Aa[255+J-le]}function Hl(E,T,$,K){var J=E[T+0],oe=E[T+$];return zo[255+E[T-2*$]-E[T-$]]>K||zo[255+oe-J]>K}function Sd(E,T,$,K){return 4*zo[255+E[T-$]-E[T+0]]+zo[255+E[T-2*$]-E[T+$]]<=K}function Ed(E,T,$,K,J){var oe=E[T-3*$],le=E[T-2*$],ue=E[T-$],he=E[T+0],ge=E[T+$],ke=E[T+2*$],Be=E[T+3*$];return 4*zo[255+ue-he]+zo[255+le-ge]>K?0:zo[255+E[T-4*$]-oe]<=J&&zo[255+oe-le]<=J&&zo[255+le-ue]<=J&&zo[255+Be-ke]<=J&&zo[255+ke-ge]<=J&&zo[255+ge-he]<=J}function Io(E,T,$,K){var J=2*K+1;for(K=0;16>K;++K)Sd(E,T+K,$,J)&&Rc(E,T+K,$)}function Ic(E,T,$,K){var J=2*K+1;for(K=0;16>K;++K)Sd(E,T+K*$,1,J)&&Rc(E,T+K*$,1)}function _d(E,T,$,K){var J;for(J=3;0<J;--J)Io(E,T+=4*$,$,K)}function Sp(E,T,$,K){var J;for(J=3;0<J;--J)Ic(E,T+=4,$,K)}function Do(E,T,$,K,J,oe,le,ue){for(oe=2*oe+1;0<J--;){if(Ed(E,T,$,oe,le))if(Hl(E,T,$,ue))Rc(E,T,$);else{var he=E,ge=T,ke=$,Be=he[ge-2*ke],ye=he[ge-ke],Pe=he[ge+0],Le=he[ge+ke],nt=he[ge+2*ke],ze=27*(et=Yl[1020+3*(Pe-ye)+Yl[1020+Be-Le]])+63>>7,Xe=18*et+63>>7,et=9*et+63>>7;he[ge-3*ke]=Aa[255+he[ge-3*ke]+et],he[ge-2*ke]=Aa[255+Be+Xe],he[ge-ke]=Aa[255+ye+ze],he[ge+0]=Aa[255+Pe-ze],he[ge+ke]=Aa[255+Le-Xe],he[ge+2*ke]=Aa[255+nt-et]}T+=K}}function Lo(E,T,$,K,J,oe,le,ue){for(oe=2*oe+1;0<J--;){if(Ed(E,T,$,oe,le))if(Hl(E,T,$,ue))Rc(E,T,$);else{var he=E,ge=T,ke=$,Be=he[ge-ke],ye=he[ge+0],Pe=he[ge+ke],Le=Kf[112+(4+(nt=3*(ye-Be))>>3)],nt=Kf[112+(nt+3>>3)],ze=Le+1>>1;he[ge-2*ke]=Aa[255+he[ge-2*ke]+ze],he[ge-ke]=Aa[255+Be+nt],he[ge+0]=Aa[255+ye-Le],he[ge+ke]=Aa[255+Pe-ze]}T+=K}}function Ep(E,T,$,K,J,oe){Do(E,T,$,1,16,K,J,oe)}function sa(E,T,$,K,J,oe){Do(E,T,1,$,16,K,J,oe)}function Fo(E,T,$,K,J,oe){var le;for(le=3;0<le;--le)Lo(E,T+=4*$,$,1,16,K,J,oe)}function $f(E,T,$,K,J,oe){var le;for(le=3;0<le;--le)Lo(E,T+=4,1,$,16,K,J,oe)}function D(E,T,$,K,J,oe,le,ue){Do(E,T,J,1,8,oe,le,ue),Do($,K,J,1,8,oe,le,ue)}function te(E,T,$,K,J,oe,le,ue){Do(E,T,1,J,8,oe,le,ue),Do($,K,1,J,8,oe,le,ue)}function we(E,T,$,K,J,oe,le,ue){Lo(E,T+4*J,J,1,8,oe,le,ue),Lo($,K+4*J,J,1,8,oe,le,ue)}function Ae(E,T,$,K,J,oe,le,ue){Lo(E,T+4,1,J,8,oe,le,ue),Lo($,K+4,1,J,8,oe,le,ue)}function Ie(){this.ba=new mn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ee,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new q}function cn(){this.xb=this.a=0,this.l=new Dr,this.ca=new mn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=a(4,mt),this.Oc=0}function Rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(E,T,$,K,J,oe,le){for(E=E==null?0:E[T+0],T=0;T<le;++T)J[oe+T]=E+$[K+T]&255,E=J[oe+T]}function xr(E,T,$,K,J,oe,le){var ue;if(E==null)In(null,null,$,K,J,oe,le);else for(ue=0;ue<le;++ue)J[oe+ue]=E[T+ue]+$[K+ue]&255}function ji(E,T,$,K,J,oe,le){if(E==null)In(null,null,$,K,J,oe,le);else{var ue,he=E[T+0],ge=he,ke=he;for(ue=0;ue<le;++ue)ge=ke+(he=E[T+ue])-ge,ke=$[K+ue]+(-256&ge?0>ge?0:255:ge)&255,ge=he,J[oe+ue]=ke}}function es(E,T,$,K){var J=T.width,oe=T.o;if(e(E!=null&&T!=null),0>$||0>=K||$+K>oe)return null;if(!E.Cc){if(E.ga==null){var le;if(E.ga=new Rn,(le=E.ga==null)||(le=T.width*T.o,e(E.Gb.length==0),E.Gb=s(le),E.Uc=0,E.Gb==null?le=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,le=1),le=!le),!le){le=E.ga;var ue=E.Fa,he=E.P,ge=E.qc,ke=E.mb,Be=E.nb,ye=he+1,Pe=ge-1,Le=le.l;if(e(ue!=null&&ke!=null&&T!=null),oa[0]=null,oa[1]=In,oa[2]=xr,oa[3]=ji,le.ca=ke,le.tb=Be,le.c=T.width,le.i=T.height,e(0<le.c&&0<le.i),1>=ge)T=0;else if(le.$a=3&ue[he+0],le.Z=ue[he+0]>>2&3,le.Lc=ue[he+0]>>4&3,he=ue[he+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||he)T=0;else if(Le.put=ce,Le.ac=On,Le.bc=Fe,Le.ma=le,Le.width=T.width,Le.height=T.height,Le.Da=T.Da,Le.v=T.v,Le.va=T.va,Le.j=T.j,Le.o=T.o,le.$a)e:{e(le.$a==1),T=Mo();t:for(;;){if(T==null){T=0;break e}if(e(le!=null),le.mc=T,T.c=le.c,T.i=le.i,T.l=le.l,T.l.ma=le,T.l.width=le.c,T.l.height=le.i,T.a=0,Y(T.m,ue,ye,Pe),!lo(le.c,le.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Hi(T.s)?(le.ic=1,ue=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ue),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(le.ic=0,T=Bl(T,le.c)),!T))break t;T=1;break e}le.mc=null,T=0}else T=Pe>=le.c*le.i;le=!T}if(le)return null;E.ga.Lc!=1?E.Ga=0:K=oe-$}e(E.ga!=null),e($+K<=oe);e:{if(T=(ue=E.ga).c,oe=ue.l.o,ue.$a==0){if(ye=E.rc,Pe=E.Vc,Le=E.Fa,he=E.P+1+$*T,ge=E.mb,ke=E.nb+$*T,e(he<=E.P+E.qc),ue.Z!=0)for(e(oa[ue.Z]!=null),le=0;le<K;++le)oa[ue.Z](ye,Pe,Le,he,ge,ke,T),ye=ge,Pe=ke,ke+=T,he+=T;else for(le=0;le<K;++le)r(ge,ke,Le,he,T),ye=ge,Pe=ke,ke+=T,he+=T;E.rc=ye,E.Vc=Pe}else{if(e(ue.mc!=null),T=$+K,e((le=ue.mc)!=null),e(T<=le.i),le.C>=T)T=1;else if(ue.ic||Bo(),ue.ic){ue=le.V,ye=le.Ba,Pe=le.c;var nt=le.i,ze=(Le=1,he=le.$/Pe,ge=le.$%Pe,ke=le.m,Be=le.s,le.$),Xe=Pe*nt,et=Pe*T,at=Be.wc,lt=ze<et?or(Be,ge,he):null;e(ze<=Xe),e(T<=nt),e(Hi(Be));t:for(;;){for(;!ke.h&&ze<et;){if(ge&at||(lt=or(Be,ge,he)),e(lt!=null),pe(ke),256>(nt=gn(lt.G[0],lt.H[0],ke)))ue[ye+ze]=nt,++ze,++ge>=Pe&&(ge=0,++he<=T&&!(he%16)&&Ri(le,he));else{if(!(280>nt)){Le=0;break t}nt=Lt(nt-256,ke);var un,Kt=gn(lt.G[4],lt.H[4],ke);if(pe(ke),!(ze>=(Kt=Hn(Pe,Kt=Lt(Kt,ke)))&&Xe-ze>=nt)){Le=0;break t}for(un=0;un<nt;++un)ue[ye+ze+un]=ue[ye+ze+un-Kt];for(ze+=nt,ge+=nt;ge>=Pe;)ge-=Pe,++he<=T&&!(he%16)&&Ri(le,he);ze<et&&ge&at&&(lt=or(Be,ge,he))}e(ke.h==re(ke))}Ri(le,he>T?T:he);break t}!Le||ke.h&&ze<Xe?(Le=0,le.a=ke.h?5:3):le.$=ze,T=Le}else T=$s(le,le.V,le.Ba,le.c,le.i,T,Ac);if(!T){K=0;break e}}$+K>=oe&&(E.Cc=1),K=1}if(!K)return null;if(E.Cc&&((K=E.ga)!=null&&(K.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+$*J}function Jr(E,T,$,K,J,oe){for(;0<J--;){var le,ue=E,he=T+($?1:0),ge=E,ke=T+($?0:3);for(le=0;le<K;++le){var Be=ge[ke+4*le];Be!=255&&(Be*=32897,ue[he+4*le+0]=ue[he+4*le+0]*Be>>23,ue[he+4*le+1]=ue[he+4*le+1]*Be>>23,ue[he+4*le+2]=ue[he+4*le+2]*Be>>23)}T+=oe}}function ms(E,T,$,K,J){for(;0<K--;){var oe;for(oe=0;oe<$;++oe){var le=E[T+2*oe+0],ue=15&(ge=E[T+2*oe+1]),he=4369*ue,ge=(240&ge|ge>>4)*he>>16;E[T+2*oe+0]=(240&le|le>>4)*he>>16&240|(15&le|le<<4)*he>>16>>4&15,E[T+2*oe+1]=240&ge|ue}T+=J}}function Wi(E,T,$,K,J,oe,le,ue){var he,ge,ke=255;for(ge=0;ge<J;++ge){for(he=0;he<K;++he){var Be=E[T+he];oe[le+4*he]=Be,ke&=Be}T+=$,le+=ue}return ke!=255}function qs(E,T,$,K,J){var oe;for(oe=0;oe<J;++oe)$[K+oe]=E[T+oe]>>8}function Bo(){Ld=Jr,ix=ms,kp=Wi,sx=qs}function Ba(E,T,$){P[E]=function(K,J,oe,le,ue,he,ge,ke,Be,ye,Pe,Le,nt,ze,Xe,et,at){var lt,un=at-1>>1,Kt=ue[he+0]|ge[ke+0]<<16,Wn=Be[ye+0]|Pe[Le+0]<<16;e(K!=null);var Qt=3*Kt+Wn+131074>>2;for(T(K[J+0],255&Qt,Qt>>16,nt,ze),oe!=null&&(Qt=3*Wn+Kt+131074>>2,T(oe[le+0],255&Qt,Qt>>16,Xe,et)),lt=1;lt<=un;++lt){var ur=ue[he+lt]|ge[ke+lt]<<16,Fi=Be[ye+lt]|Pe[Le+lt]<<16,Yn=Kt+ur+Wn+Fi+524296,Gt=Yn+2*(ur+Wn)>>3;Qt=Gt+Kt>>1,Kt=(Yn=Yn+2*(Kt+Fi)>>3)+ur>>1,T(K[J+2*lt-1],255&Qt,Qt>>16,nt,ze+(2*lt-1)*$),T(K[J+2*lt-0],255&Kt,Kt>>16,nt,ze+(2*lt-0)*$),oe!=null&&(Qt=Yn+Wn>>1,Kt=Gt+Fi>>1,T(oe[le+2*lt-1],255&Qt,Qt>>16,Xe,et+(2*lt-1)*$),T(oe[le+2*lt+0],255&Kt,Kt>>16,Xe,et+(2*lt+0)*$)),Kt=ur,Wn=Fi}1&at||(Qt=3*Kt+Wn+131074>>2,T(K[J+at-1],255&Qt,Qt>>16,nt,ze+(at-1)*$),oe!=null&&(Qt=3*Wn+Kt+131074>>2,T(oe[le+at-1],255&Qt,Qt>>16,Xe,et+(at-1)*$)))}}function fg(){qa[gg]=Aj,qa[Mu]=Ru,qa[I1]=Cj,qa[Tp]=Zf,qa[Op]=zd,qa[Vr]=Dp,qa[vg]=px,qa[Gf]=Ru,qa[Fd]=Zf,qa[Pp]=zd,qa[Mp]=Dp}function _u(E){return E&-16384?0>E?0:255:E>>Iu}function jd(E,T){return _u((19077*E>>8)+(26149*T>>8)-14234)}function ju(E,T,$){return _u((19077*E>>8)-(6419*T>>8)-(13320*$>>8)+8708)}function Ad(E,T){return _u((19077*E>>8)+(33050*T>>8)-17685)}function Au(E,T,$,K,J){K[J+0]=jd(E,$),K[J+1]=ju(E,T,$),K[J+2]=Ad(E,T)}function Cd(E,T,$,K,J){K[J+0]=Ad(E,T),K[J+1]=ju(E,T,$),K[J+2]=jd(E,$)}function aa(E,T,$,K,J){var oe=ju(E,T,$);T=oe<<3&224|Ad(E,T)>>3,K[J+0]=248&jd(E,$)|oe>>5,K[J+1]=T}function kd(E,T,$,K,J){var oe=240&Ad(E,T)|15;K[J+0]=240&jd(E,$)|ju(E,T,$)>>4,K[J+1]=oe}function Td(E,T,$,K,J){K[J+0]=255,Au(E,T,$,K,J+1)}function _p(E,T,$,K,J){Cd(E,T,$,K,J),K[J+3]=255}function jp(E,T,$,K,J){Au(E,T,$,K,J),K[J+3]=255}function Ii(E,T){return 0>E?0:E>T?T:E}function fl(E,T,$){P[E]=function(K,J,oe,le,ue,he,ge,ke,Be){for(var ye=ke+(-2&Be)*$;ke!=ye;)T(K[J+0],oe[le+0],ue[he+0],ge,ke),T(K[J+1],oe[le+0],ue[he+0],ge,ke+$),J+=2,++le,++he,ke+=2*$;1&Be&&T(K[J+0],oe[le+0],ue[he+0],ge,ke)}}function Vl(E,T,$){return $==0?E==0?T==0?6:5:T==0?4:0:$}function hg(E,T,$,K,J){switch(E>>>30){case 3:Id(T,$,K,J,0);break;case 2:Di(T,$,K,J);break;case 1:br(T,$,K,J)}}function fo(E,T){var $,K,J=T.M,oe=T.Nb,le=E.oc,ue=E.pc+40,he=E.oc,ge=E.pc+584,ke=E.oc,Be=E.pc+600;for($=0;16>$;++$)le[ue+32*$-1]=129;for($=0;8>$;++$)he[ge+32*$-1]=129,ke[Be+32*$-1]=129;for(0<J?le[ue-1-32]=he[ge-1-32]=ke[Be-1-32]=129:(i(le,ue-32-1,127,21),i(he,ge-32-1,127,9),i(ke,Be-32-1,127,9)),K=0;K<E.za;++K){var ye=T.ya[T.aa+K];if(0<K){for($=-1;16>$;++$)r(le,ue+32*$-4,le,ue+32*$+12,4);for($=-1;8>$;++$)r(he,ge+32*$-4,he,ge+32*$+4,4),r(ke,Be+32*$-4,ke,Be+32*$+4,4)}var Pe=E.Gd,Le=E.Hd+K,nt=ye.ad,ze=ye.Hc;if(0<J&&(r(le,ue-32,Pe[Le].y,0,16),r(he,ge-32,Pe[Le].f,0,8),r(ke,Be-32,Pe[Le].ea,0,8)),ye.Za){var Xe=le,et=ue-32+16;for(0<J&&(K>=E.za-1?i(Xe,et,Pe[Le].y[15],4):r(Xe,et,Pe[Le+1].y,0,4)),$=0;4>$;$++)Xe[et+128+$]=Xe[et+256+$]=Xe[et+384+$]=Xe[et+0+$];for($=0;16>$;++$,ze<<=2)Xe=le,et=ue+mx[$],qo[ye.Ob[$]](Xe,et),hg(ze,nt,16*+$,Xe,et)}else if(Xe=Vl(K,J,ye.Ob[0]),Ca[Xe](le,ue),ze!=0)for($=0;16>$;++$,ze<<=2)hg(ze,nt,16*+$,le,ue+mx[$]);for($=ye.Gc,Xe=Vl(K,J,ye.Dd),za[Xe](he,ge),za[Xe](ke,Be),ze=nt,Xe=he,et=ge,255&(ye=0|$)&&(170&ye?$a(ze,256,Xe,et):Lr(ze,256,Xe,et)),ye=ke,ze=Be,255&($>>=8)&&(170&$?$a(nt,320,ye,ze):Lr(nt,320,ye,ze)),J<E.Ub-1&&(r(Pe[Le].y,0,le,ue+480,16),r(Pe[Le].f,0,he,ge+224,8),r(Pe[Le].ea,0,ke,Be+224,8)),$=8*oe*E.B,Pe=E.sa,Le=E.ta+16*K+16*oe*E.R,nt=E.qa,ye=E.ra+8*K+$,ze=E.Ha,Xe=E.Ia+8*K+$,$=0;16>$;++$)r(Pe,Le+$*E.R,le,ue+32*$,16);for($=0;8>$;++$)r(nt,ye+$*E.B,he,ge+32*$,8),r(ze,Xe+$*E.B,ke,Be+32*$,8)}}function Cu(E,T,$,K,J,oe,le,ue,he){var ge=[0],ke=[0],Be=0,ye=he!=null?he.kd:0,Pe=he??new rt;if(E==null||12>$)return 7;Pe.data=E,Pe.w=T,Pe.ha=$,T=[T],$=[$],Pe.gb=[Pe.gb];e:{var Le=T,nt=$,ze=Pe.gb;if(e(E!=null),e(nt!=null),e(ze!=null),ze[0]=0,12<=nt[0]&&!n(E,Le[0],"RIFF")){if(n(E,Le[0]+8,"WEBP")){ze=3;break e}var Xe=ee(E,Le[0]+4);if(12>Xe||4294967286<Xe){ze=3;break e}if(ye&&Xe>nt[0]-8){ze=7;break e}ze[0]=Xe,Le[0]+=12,nt[0]-=12}ze=0}if(ze!=0)return ze;for(Xe=0<Pe.gb[0],$=$[0];;){e:{var et=E;nt=T,ze=$;var at=ge,lt=ke,un=Le=[0];if((Qt=Be=[Be])[0]=0,8>ze[0])ze=7;else{if(!n(et,nt[0],"VP8X")){if(ee(et,nt[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Kt=ee(et,nt[0]+8),Wn=1+Oe(et,nt[0]+12);if(2147483648<=Wn*(et=1+Oe(et,nt[0]+15))){ze=3;break e}un!=null&&(un[0]=Kt),at!=null&&(at[0]=Wn),lt!=null&&(lt[0]=et),nt[0]+=18,ze[0]-=18,Qt[0]=1}ze=0}}if(Be=Be[0],Le=Le[0],ze!=0)return ze;if(nt=!!(2&Le),!Xe&&Be)return 3;if(oe!=null&&(oe[0]=!!(16&Le)),le!=null&&(le[0]=nt),ue!=null&&(ue[0]=0),le=ge[0],Le=ke[0],Be&&nt&&he==null){ze=0;break}if(4>$){ze=7;break}if(Xe&&Be||!Xe&&!Be&&!n(E,T[0],"ALPH")){$=[$],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{Kt=E,ze=T,Xe=$;var Qt=Pe.gb;at=Pe.na,lt=Pe.P,un=Pe.Sa,Wn=22,e(Kt!=null),e(Xe!=null),et=ze[0];var ur=Xe[0];for(e(at!=null),e(un!=null),at[0]=null,lt[0]=null,un[0]=0;;){if(ze[0]=et,Xe[0]=ur,8>ur){ze=7;break e}var Fi=ee(Kt,et+4);if(4294967286<Fi){ze=3;break e}var Yn=8+Fi+1&-2;if(Wn+=Yn,0<Qt&&Wn>Qt){ze=3;break e}if(!n(Kt,et,"VP8 ")||!n(Kt,et,"VP8L")){ze=0;break e}if(ur[0]<Yn){ze=7;break e}n(Kt,et,"ALPH")||(at[0]=Kt,lt[0]=et+8,un[0]=Fi),et+=Yn,ur-=Yn}}if($=$[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],ze!=0)break}$=[$],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Qt=E,ze=T,Xe=$,at=Pe.gb[0],lt=Pe.Ja,un=Pe.xa,Kt=ze[0],et=!n(Qt,Kt,"VP8 "),Wn=!n(Qt,Kt,"VP8L"),e(Qt!=null),e(Xe!=null),e(lt!=null),e(un!=null),8>Xe[0])ze=7;else{if(et||Wn){if(Qt=ee(Qt,Kt+4),12<=at&&Qt>at-12){ze=3;break e}if(ye&&Qt>Xe[0]-8){ze=7;break e}lt[0]=Qt,ze[0]+=8,Xe[0]-=8,un[0]=Wn}else un[0]=5<=Xe[0]&&Qt[Kt+0]==47&&!(Qt[Kt+4]>>5),lt[0]=Xe[0];ze=0}if($=$[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],T=T[0],ze!=0)break;if(4294967286<Pe.Ja)return 3;if(ue==null||nt||(ue[0]=Pe.xa?2:1),le=[le],Le=[Le],Pe.xa){if(5>$){ze=7;break}ue=le,ye=Le,nt=oe,E==null||5>$?E=0:5<=$&&E[T+0]==47&&!(E[T+4]>>5)?(Xe=[0],Qt=[0],at=[0],Y(lt=new V,E,T,$),dt(lt,Xe,Qt,at)?(ue!=null&&(ue[0]=Xe[0]),ye!=null&&(ye[0]=Qt[0]),nt!=null&&(nt[0]=at[0]),E=1):E=0):E=0}else{if(10>$){ze=7;break}ue=Le,E==null||10>$||!js(E,T+3,$-3)?E=0:(ye=E[T+0]|E[T+1]<<8|E[T+2]<<16,nt=16383&(E[T+7]<<8|E[T+6]),E=16383&(E[T+9]<<8|E[T+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Pe.Ja||!nt||!E?E=0:(le&&(le[0]=nt),ue&&(ue[0]=E),E=1))}if(!E||(le=le[0],Le=Le[0],Be&&(ge[0]!=le||ke[0]!=Le)))return 3;he!=null&&(he[0]=Pe,he.offset=T-he.w,e(4294967286>T-he.w),e(he.offset==he.ha-$));break}return ze==0||ze==7&&Be&&he==null?(oe!=null&&(oe[0]|=Pe.na!=null&&0<Pe.na.length),K!=null&&(K[0]=le),J!=null&&(J[0]=Le),0):ze}function zf(E,T,$){var K=T.width,J=T.height,oe=0,le=0,ue=K,he=J;if(T.Da=E!=null&&0<E.Da,T.Da&&(ue=E.cd,he=E.bd,oe=E.v,le=E.j,11>$||(oe&=-2,le&=-2),0>oe||0>le||0>=ue||0>=he||oe+ue>K||le+he>J))return 0;if(T.v=oe,T.j=le,T.va=oe+ue,T.o=le+he,T.U=ue,T.T=he,T.da=E!=null&&0<E.da,T.da){if(!Je(ue,he,$=[E.ib],oe=[E.hb]))return 0;T.ib=$[0],T.hb=oe[0]}return T.ob=E!=null&&E.ob,T.Kb=E==null||!E.Sd,T.da&&(T.ob=T.ib<3*K/4&&T.hb<3*J/4,T.Kb=0),1}function qf(E){if(E==null)return 2;if(11>E.S){var T=E.f.RGBA;T.fb+=(E.height-1)*T.A,T.A=-T.A}else T=E.f.kb,E=E.height,T.O+=(E-1)*T.fa,T.fa=-T.fa,T.N+=(E-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(E-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(E-1)*T.lb,T.lb=-T.lb);return 0}function Dc(E,T,$,K){if(K==null||0>=E||0>=T)return 2;if($!=null){if($.Da){var J=$.cd,oe=$.bd,le=-2&$.v,ue=-2&$.j;if(0>le||0>ue||0>=J||0>=oe||le+J>E||ue+oe>T)return 2;E=J,T=oe}if($.da){if(!Je(E,T,J=[$.ib],oe=[$.hb]))return 2;E=J[0],T=oe[0]}}K.width=E,K.height=T;e:{var he=K.width,ge=K.height;if(E=K.S,0>=he||0>=ge||!(E>=gg&&13>E))E=2;else{if(0>=K.Rd&&K.sd==null){le=oe=J=T=0;var ke=(ue=he*Lp[E])*ge;if(11>E||(oe=(ge+1)/2*(T=(he+1)/2),E==12&&(le=(J=he)*ge)),(ge=s(ke+2*oe+le))==null){E=1;break e}K.sd=ge,11>E?((he=K.f.RGBA).eb=ge,he.fb=0,he.A=ue,he.size=ke):((he=K.f.kb).y=ge,he.O=0,he.fa=ue,he.Fd=ke,he.f=ge,he.N=0+ke,he.Ab=T,he.Cd=oe,he.ea=ge,he.W=0+ke+oe,he.Db=T,he.Ed=oe,E==12&&(he.F=ge,he.J=0+ke+2*oe),he.Tc=le,he.lb=J)}if(T=1,J=K.S,oe=K.width,le=K.height,J>=gg&&13>J)if(11>J)E=K.f.RGBA,T&=(ue=Math.abs(E.A))*(le-1)+oe<=E.size,T&=ue>=oe*Lp[J],T&=E.eb!=null;else{E=K.f.kb,ue=(oe+1)/2,ke=(le+1)/2,he=Math.abs(E.fa),ge=Math.abs(E.Ab);var Be=Math.abs(E.Db),ye=Math.abs(E.lb),Pe=ye*(le-1)+oe;T&=he*(le-1)+oe<=E.Fd,T&=ge*(ke-1)+ue<=E.Cd,T=(T&=Be*(ke-1)+ue<=E.Ed)&he>=oe&ge>=ue&Be>=ue,T&=E.y!=null,T&=E.f!=null,T&=E.ea!=null,J==12&&(T&=ye>=oe,T&=Pe<=E.Tc,T&=E.F!=null)}else T=0;E=T?0:2}}return E!=0||$!=null&&$.fd&&(E=qf(K)),E}var $o=64,ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],po=24,ku=32,Wl=8,Lc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(E){return E},P.Predictor2=function(E,T,$){return T[$+0]},P.Predictor3=function(E,T,$){return T[$+1]},P.Predictor4=function(E,T,$){return T[$-1]},P.Predictor5=function(E,T,$){return Ve(Ve(E,T[$+1]),T[$+0])},P.Predictor6=function(E,T,$){return Ve(E,T[$-1])},P.Predictor7=function(E,T,$){return Ve(E,T[$+0])},P.Predictor8=function(E,T,$){return Ve(T[$-1],T[$+0])},P.Predictor9=function(E,T,$){return Ve(T[$+0],T[$+1])},P.Predictor10=function(E,T,$){return Ve(Ve(E,T[$-1]),Ve(T[$+0],T[$+1]))},P.Predictor11=function(E,T,$){var K=T[$+0];return 0>=tt(K>>24&255,E>>24&255,(T=T[$-1])>>24&255)+tt(K>>16&255,E>>16&255,T>>16&255)+tt(K>>8&255,E>>8&255,T>>8&255)+tt(255&K,255&E,255&T)?K:E},P.Predictor12=function(E,T,$){var K=T[$+0];return(We((E>>24&255)+(K>>24&255)-((T=T[$-1])>>24&255))<<24|We((E>>16&255)+(K>>16&255)-(T>>16&255))<<16|We((E>>8&255)+(K>>8&255)-(T>>8&255))<<8|We((255&E)+(255&K)-(255&T)))>>>0},P.Predictor13=function(E,T,$){var K=T[$-1];return(Ue((E=Ve(E,T[$+0]))>>24&255,K>>24&255)<<24|Ue(E>>16&255,K>>16&255)<<16|Ue(E>>8&255,K>>8&255)<<8|Ue(255&E,255&K))>>>0};var Fc=P.PredictorAdd0;P.PredictorAdd1=_t,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var Kl=P.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var Ki,Od=P.ColorIndexInverseTransform,Gl=P.MapARGB,hl=P.VP8LColorIndexInverseTransformAlpha,Pd=P.MapAlpha,Md=P.VP8LPredictorsAdd=[];Md.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Uf,Hf,Bc,Tu,Ou,Rd,Pu,Id,Di,$a,br,Lr,Li,ts,pl,Ap,Vf,$c,pg,Wf,mg,rx,Cp,Dd,Ld,ix,kp,sx,ax=s(511),ox=s(2041),lx=s(225),cx=s(767),ux=0,Yl=ox,Kf=lx,Aa=cx,zo=ax,gg=0,Mu=1,I1=2,Tp=3,Op=4,Vr=5,vg=6,Gf=7,Fd=8,Pp=9,Mp=10,Rp=[2,3,7],yg=[3,3,11],Bd=[280,256,256,256,40],D1=[0,1,1,1,0],Sj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ej=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],L1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xg=8,Yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ip=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$d=null,dx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],F1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],B1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_j=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jj=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],qo=[],za=[],Xl=1,Xf=2,oa=[],qa=[];Ba("UpsampleRgbLinePair",Au,3),Ba("UpsampleBgrLinePair",Cd,3),Ba("UpsampleRgbaLinePair",jp,4),Ba("UpsampleBgraLinePair",_p,4),Ba("UpsampleArgbLinePair",Td,4),Ba("UpsampleRgba4444LinePair",kd,2),Ba("UpsampleRgb565LinePair",aa,2);var Aj=P.UpsampleRgbLinePair,Cj=P.UpsampleBgrLinePair,Ru=P.UpsampleRgbaLinePair,Zf=P.UpsampleBgraLinePair,zd=P.UpsampleArgbLinePair,Dp=P.UpsampleRgba4444LinePair,px=P.UpsampleRgb565LinePair,zc=16,ml=1<<zc-1,Mr=-227,Fr=482,Iu=6,Us=0,Ua=s(256),qd=s(256),Qf=s(256),Ha=s(256),bg=s(Fr-Mr),$1=s(Fr-Mr);fl("YuvToRgbRow",Au,3),fl("YuvToBgrRow",Cd,3),fl("YuvToRgbaRow",jp,4),fl("YuvToBgraRow",_p,4),fl("YuvToArgbRow",Td,4),fl("YuvToRgba4444Row",kd,2),fl("YuvToRgb565Row",aa,2);var mx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ud=[0,2,8],z1=[8,7,6,4,4,2,2,2,1,1,1,1],qc=1;this.WebPDecodeRGBA=function(E,T,$,K,J){var oe=Mu,le=new Ie,ue=new mn;le.ba=ue,ue.S=oe,ue.width=[ue.width],ue.height=[ue.height];var he=ue.width,ge=ue.height,ke=new Ut;if(ke==null||E==null)var Be=2;else e(ke!=null),Be=Cu(E,T,$,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Be!=0?he=0:(he!=null&&(he[0]=ke.width[0]),ge!=null&&(ge[0]=ke.height[0]),he=1),he){ue.width=ue.width[0],ue.height=ue.height[0],K!=null&&(K[0]=ue.width),J!=null&&(J[0]=ue.height);e:{if(K=new Dr,(J=new rt).data=E,J.w=T,J.ha=$,J.kd=1,T=[0],e(J!=null),((E=Cu(J.data,J.w,J.ha,null,null,null,T,null,J))==0||E==7)&&T[0]&&(E=4),(T=E)==0){if(e(le!=null),K.data=J.data,K.w=J.w+J.offset,K.ha=J.ha-J.offset,K.put=ce,K.ac=On,K.bc=Fe,K.ma=le,J.xa){if((E=Mo())==null){le=1;break e}if((function(ye,Pe){var Le=[0],nt=[0],ze=[0];t:for(;;){if(ye==null)return 0;if(Pe==null)return ye.a=2,0;if(ye.l=Pe,ye.a=0,Y(ye.m,Pe.data,Pe.w,Pe.ha),!dt(ye.m,Le,nt,ze)){ye.a=3;break t}if(ye.xb=Xf,Pe.width=Le[0],Pe.height=nt[0],!lo(Le[0],nt[0],1,ye,null))break t;return 1}return e(ye.a!=0),0})(E,K)){if(K=(T=Dc(K.width,K.height,le.Oa,le.ba))==0){t:{K=E;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e(($=K.l)!=null),e((J=$.ma)!=null),K.xb!=0){if(K.ca=J.ba,K.tb=J.tb,e(K.ca!=null),!zf(J.Oa,$,Tp)){K.a=2;break n}if(!Bl(K,$.width)||$.da)break n;if(($.da||wn(K.ca.S))&&Bo(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Bo()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ne(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!$s(K,K.V,K.Ba,K.c,K.i,$.o,mi))break n;J.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(T=E.a)}else T=E.a}else{if((E=new Ro)==null){le=1;break e}if(E.Fa=J.na,E.P=J.P,E.qc=J.Sa,As(E,K)){if((T=Dc(K.width,K.height,le.Oa,le.ba))==0){if(E.Aa=0,$=le.Oa,e((J=E)!=null),$!=null){if(0<(he=0>(he=$.Md)?0:100<he?255:255*he/100)){for(ge=ke=0;4>ge;++ge)12>(Be=J.pb[ge]).lc&&(Be.ia=he*z1[0>Be.lc?0:Be.lc]>>3),ke|=Be.ia;ke&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=$.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ye,Pe){if(ye==null)return 0;if(Pe==null)return si(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!As(ye,Pe))return 0;if(e(ye.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(ye.L=0);var Le=Ud[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Pe.v-Le>>4,ye.zb=Pe.j-Le>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Pe.o+15+Le>>4,ye.Hb=Pe.va+15+Le>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var nt=ye.ed;for(Le=0;4>Le;++Le){var ze;if(ye.Qa.Cb){var Xe=ye.Qa.Lb[Le];ye.Qa.Fb||(Xe+=nt.Tb)}else Xe=nt.Tb;for(ze=0;1>=ze;++ze){var et=ye.gd[Le][ze],at=Xe;if(nt.Pc&&(at+=nt.vd[0],ze&&(at+=nt.od[0])),0<(at=0>at?0:63<at?63:at)){var lt=at;0<nt.wb&&(lt=4<nt.wb?lt>>2:lt>>1)>9-nt.wb&&(lt=9-nt.wb),1>lt&&(lt=1),et.dd=lt,et.tc=2*at+lt,et.ld=40<=at?2:15<=at?1:0}else et.tc=0;et.La=ze}}}Le=0}else si(ye,6,"Frame setup failed"),Le=ye.a;if(Le=Le==0){if(Le){ye.$c=0,0<ye.Aa||(ye.Ic=qc);t:{Le=ye.Ic,nt=4*(lt=ye.za);var un=32*lt,Kt=lt+1,Wn=0<ye.L?lt*(0<ye.Aa?2:1):0,Qt=(ye.Aa==2?2:1)*lt;if((et=nt+832+(ze=3*(16*Le+Ud[ye.L])/2*un)+(Xe=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=et)Le=0;else{if(et>ye.Vb){if(ye.Vb=0,ye.Ec=s(et),ye.Fc=0,ye.Ec==null){Le=si(ye,1,"no memory during frame initialization.");break t}ye.Vb=et}et=ye.Ec,at=ye.Fc,ye.Ac=et,ye.Bc=at,at+=nt,ye.Gd=a(un,tr),ye.Hd=0,ye.rb=a(Kt+1,$l),ye.sb=1,ye.wa=Wn?a(Wn,_s):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=lt),e(!0),ye.oc=et,ye.pc=at,at+=832,ye.ya=a(Qt,sn),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=lt),ye.R=16*lt,ye.B=8*lt,lt=(un=Ud[ye.L])*ye.R,un=un/2*ye.B,ye.sa=et,ye.ta=at+lt,ye.qa=ye.sa,ye.ra=ye.ta+16*Le*ye.R+un,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Le*ye.B+un,ye.$c=0,at+=ze,ye.mb=Xe?et:null,ye.nb=Xe?at:null,e(at+Xe<=ye.Fc+ye.Vb),La(ye),i(ye.Ac,ye.Bc,0,nt),Le=1}}if(Le){if(Pe.ka=0,Pe.y=ye.sa,Pe.O=ye.ta,Pe.f=ye.qa,Pe.N=ye.ra,Pe.ea=ye.Ha,Pe.Vd=ye.Ia,Pe.fa=ye.R,Pe.Rc=ye.B,Pe.F=null,Pe.J=0,!ux){for(Le=-255;255>=Le;++Le)ax[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)ox[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)lx[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)cx[255+Le]=0>Le?0:255<Le?255:Le;ux=1}Pu=cr,Id=zl,$a=ql,br=Vi,Lr=Eu,Di=Df,Li=Ep,ts=sa,pl=D,Ap=te,Vf=Fo,$c=$f,pg=we,Wf=Ae,mg=Io,rx=Ic,Cp=_d,Dd=Sp,qo[0]=xp,qo[1]=Oc,qo[2]=vi,qo[3]=Ji,qo[4]=Lf,qo[5]=Mc,qo[6]=uo,qo[7]=dg,qo[8]=Nd,qo[9]=Ff,Ca[0]=ja,Ca[1]=yr,Ca[2]=Pc,Ca[3]=Fa,Ca[4]=Mt,Ca[5]=qt,Ca[6]=Nn,za[0]=dl,za[1]=_i,za[2]=bp,za[3]=ul,za[4]=wp,za[5]=Bf,za[6]=Np,Le=1}else Le=0}Le&&(Le=(function(ur,Fi){for(ur.M=0;ur.M<ur.Va;++ur.M){var Yn,Gt=ur.Jc[ur.M&ur.Xb],Rt=ur.m,Gi=ur;for(Yn=0;Yn<Gi.za;++Yn){var Pn=Rt,lr=Gi,ei=lr.Ac,Cs=lr.Bc+4*Yn,ns=lr.zc,Ai=lr.ya[lr.aa+Yn];if(lr.Qa.Bb?Ai.$b=be(Pn,lr.Pa.jb[0])?2+be(Pn,lr.Pa.jb[2]):be(Pn,lr.Pa.jb[1]):Ai.$b=0,lr.kc&&(Ai.Ad=be(Pn,lr.Bd)),Ai.Za=!be(Pn,145)+0,Ai.Za){var gs=Ai.Ob,ks=0;for(lr=0;4>lr;++lr){var yi,mr=ns[0+lr];for(yi=0;4>yi;++yi){mr=_j[ei[Cs+yi]][mr];for(var wr=F1[be(Pn,mr[0])];0<wr;)wr=F1[2*wr+be(Pn,mr[wr])];mr=-wr,ei[Cs+yi]=mr}r(gs,ks,ei,Cs,4),ks+=4,ns[0+lr]=mr}}else mr=be(Pn,156)?be(Pn,128)?1:3:be(Pn,163)?2:0,Ai.Ob[0]=mr,i(ei,Cs,mr,4),i(ns,0,mr,4);Ai.Dd=be(Pn,142)?be(Pn,114)?be(Pn,183)?1:3:2:0}if(Gi.m.Ka)return si(ur,7,"Premature end-of-partition0 encountered.");for(;ur.ja<ur.za;++ur.ja){if(Gi=Gt,Pn=(Rt=ur).rb[Rt.sb-1],ei=Rt.rb[Rt.sb+Rt.ja],Yn=Rt.ya[Rt.aa+Rt.ja],Cs=Rt.kc?Yn.Ad:0)Pn.la=ei.la=0,Yn.Za||(Pn.Na=ei.Na=0),Yn.Hc=0,Yn.Gc=0,Yn.ia=0;else{var xi,Nr;if(Pn=ei,ei=Gi,Cs=Rt.Pa.Xc,ns=Rt.ya[Rt.aa+Rt.ja],Ai=Rt.pb[ns.$b],lr=ns.ad,gs=0,ks=Rt.rb[Rt.sb-1],mr=yi=0,i(lr,gs,0,384),ns.Za)var Bi=0,$i=Cs[3];else{wr=s(16);var Wr=Pn.Na+ks.Na;if(Wr=$d(ei,Cs[1],Wr,Ai.Eb,0,wr,0),Pn.Na=ks.Na=(0<Wr)+0,1<Wr)Pu(wr,0,lr,gs);else{var la=wr[0]+3>>3;for(wr=0;256>wr;wr+=16)lr[gs+wr]=la}Bi=1,$i=Cs[0]}var Br=15&Pn.la,Kr=15&ks.la;for(wr=0;4>wr;++wr){var rs=1&Kr;for(la=Nr=0;4>la;++la)Br=Br>>1|(rs=(Wr=$d(ei,$i,Wr=rs+(1&Br),Ai.Sc,Bi,lr,gs))>Bi)<<7,Nr=Nr<<2|(3<Wr?3:1<Wr?2:lr[gs+0]!=0),gs+=16;Br>>=4,Kr=Kr>>1|rs<<7,yi=(yi<<8|Nr)>>>0}for($i=Br,Bi=Kr>>4,xi=0;4>xi;xi+=2){for(Nr=0,Br=Pn.la>>4+xi,Kr=ks.la>>4+xi,wr=0;2>wr;++wr){for(rs=1&Kr,la=0;2>la;++la)Wr=rs+(1&Br),Br=Br>>1|(rs=0<(Wr=$d(ei,Cs[2],Wr,Ai.Qc,0,lr,gs)))<<3,Nr=Nr<<2|(3<Wr?3:1<Wr?2:lr[gs+0]!=0),gs+=16;Br>>=2,Kr=Kr>>1|rs<<5}mr|=Nr<<4*xi,$i|=Br<<4<<xi,Bi|=(240&Kr)<<xi}Pn.la=$i,ks.la=Bi,ns.Hc=yi,ns.Gc=mr,ns.ia=43690&mr?0:Ai.ia,Cs=!(yi|mr)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[Yn.$b][Yn.Za],Rt.wa[Rt.Y+Rt.ja].La|=!Cs),Gi.Ka)return si(ur,7,"Premature end-of-file encountered.")}if(La(ur),Rt=Fi,Gi=1,Yn=(Gt=ur).D,Pn=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(Yn.M=Gt.M,Yn.uc=Pn,fo(Gt,Yn),Gi=1,Yn=(Nr=Gt.D).Nb,Pn=(mr=Ud[Gt.L])*Gt.R,ei=mr/2*Gt.B,wr=16*Yn*Gt.R,la=8*Yn*Gt.B,Cs=Gt.sa,ns=Gt.ta-Pn+wr,Ai=Gt.qa,lr=Gt.ra-ei+la,gs=Gt.Ha,ks=Gt.Ia-ei+la,Kr=(Br=Nr.M)==0,yi=Br>=Gt.Va-1,Gt.Aa==2&&fo(Gt,Nr),Nr.uc)for(rs=(Wr=Gt).D.M,e(Wr.D.uc),Nr=Wr.yb;Nr<Wr.Hb;++Nr){Bi=Nr,$i=rs;var Hs=(Va=(Zi=Wr).D).Nb;xi=Zi.R;var Va=Va.wa[Va.Y+Bi],Yi=Zi.sa,Xi=Zi.ta+16*Hs*xi+16*Bi,ca=Va.dd,Gr=Va.tc;if(Gr!=0)if(e(3<=Gr),Zi.L==1)0<Bi&&rx(Yi,Xi,xi,Gr+4),Va.La&&Dd(Yi,Xi,xi,Gr),0<$i&&mg(Yi,Xi,xi,Gr+4),Va.La&&Cp(Yi,Xi,xi,Gr);else{var ua=Zi.B,Uo=Zi.qa,gl=Zi.ra+8*Hs*ua+8*Bi,Ts=Zi.Ha,Zi=Zi.Ia+8*Hs*ua+8*Bi;Hs=Va.ld,0<Bi&&(ts(Yi,Xi,xi,Gr+4,ca,Hs),Ap(Uo,gl,Ts,Zi,ua,Gr+4,ca,Hs)),Va.La&&($c(Yi,Xi,xi,Gr,ca,Hs),Wf(Uo,gl,Ts,Zi,ua,Gr,ca,Hs)),0<$i&&(Li(Yi,Xi,xi,Gr+4,ca,Hs),pl(Uo,gl,Ts,Zi,ua,Gr+4,ca,Hs)),Va.La&&(Vf(Yi,Xi,xi,Gr,ca,Hs),pg(Uo,gl,Ts,Zi,ua,Gr,ca,Hs))}}if(Gt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(Nr=16*Br,Br=16*(Br+1),Kr?(Rt.y=Gt.sa,Rt.O=Gt.ta+wr,Rt.f=Gt.qa,Rt.N=Gt.ra+la,Rt.ea=Gt.Ha,Rt.W=Gt.Ia+la):(Nr-=mr,Rt.y=Cs,Rt.O=ns,Rt.f=Ai,Rt.N=lr,Rt.ea=gs,Rt.W=ks),yi||(Br-=mr),Br>Rt.o&&(Br=Rt.o),Rt.F=null,Rt.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&Nr<Br&&(Rt.J=es(Gt,Rt,Nr,Br-Nr),Rt.F=Gt.mb,Rt.F==null&&Rt.F.length==0)){Gi=si(Gt,3,"Could not decode alpha data.");break t}Nr<Rt.j&&(mr=Rt.j-Nr,Nr=Rt.j,e(!(1&mr)),Rt.O+=Gt.R*mr,Rt.N+=Gt.B*(mr>>1),Rt.W+=Gt.B*(mr>>1),Rt.F!=null&&(Rt.J+=Rt.width*mr)),Nr<Br&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=Nr-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=Br-Nr,Gi=Rt.put(Rt))}Yn+1!=Gt.Ic||yi||(r(Gt.sa,Gt.ta-Pn,Cs,ns+16*Gt.R,Pn),r(Gt.qa,Gt.ra-ei,Ai,lr+8*Gt.B,ei),r(Gt.Ha,Gt.Ia-ei,gs,ks+8*Gt.B,ei))}if(!Gi)return si(ur,6,"Output aborted.")}return 1})(ye,Pe)),Pe.bc!=null&&Pe.bc(Pe),Le&=1}return Le?(ye.cb=0,Le):0})(E,K)||(T=E.a)}}else T=E.a}T==0&&le.Oa!=null&&le.Oa.fd&&(T=qf(le.ba))}le=T}oe=le!=0?null:11>oe?ue.f.RGBA.eb:ue.f.kb.y}else oe=null;return oe};var Lp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,B){for(var R="",F=0;F<4;F++)R+=String.fromCharCode(P[B++]);return R}function d(P,B){return P[B+0]|P[B+1]<<8}function f(P,B){return(P[B+0]|P[B+1]<<8|P[B+2]<<16)>>>0}function m(P,B){return(P[B+0]|P[B+1]<<8|P[B+2]<<16|P[B+3]<<24)>>>0}new c;var p=[0],y=[0],v=[],x=new c,b=t,S=(function(P,B){var R={},F=0,q=!1,z=0,G=0;if(R.frames=[],!(function(I,V){for(var Q=0;Q<4;Q++)if(I[V+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(P,B)){for(m(P,B+=4),B+=8;B<P.length;){var X=u(P,B),U=m(P,B+=4);B+=4;var W=U+(1&U);switch(X){case"VP8 ":case"VP8L":R.frames[F]===void 0&&(R.frames[F]={}),(Z=R.frames[F]).src_off=q?G:B-8,Z.src_size=z+U+8,F++,q&&(q=!1,z=0,G=0);break;case"VP8X":(Z=R.header={}).feature_flags=P[B];var Y=B+4;Z.canvas_width=1+f(P,Y),Y+=3,Z.canvas_height=1+f(P,Y),Y+=3;break;case"ALPH":q=!0,z=W+8,G=B-8;break;case"ANIM":(Z=R.header).bgcolor=m(P,B),Y=B+4,Z.loop_count=d(P,Y),Y+=2;break;case"ANMF":var ie,Z;(Z=R.frames[F]={}).offset_x=2*f(P,B),B+=3,Z.offset_y=2*f(P,B),B+=3,Z.width=1+f(P,B),B+=3,Z.height=1+f(P,B),B+=3,Z.duration=f(P,B),B+=3,ie=P[B++],Z.dispose=1&ie,Z.blend=ie>>1&1}X!="ANMF"&&(B+=W)}return R}})(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var _=S.header?S.header:null,j=S.frames?S.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],y=[_.canvas_width];for(var C=0;C<j.length&&j[C].blend!=0;C++);}var O=j[0],M=x.WebPDecodeRGBA(b,O.src_off,O.src_size,y,p);O.rgba=M,O.imgwidth=y[0],O.imgheight=p[0];for(var A=0;A<y[0]*p[0]*4;A++)v[A]=M[A];return this.width=y,this.height=p,this.data=v,this}(function(t){var e,n,r,i,s,a,l,c,u,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=I;Object.defineProperty(this,"pdf",{get:function(){return V}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ee){Q=!!ee}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ee){re=!!ee}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(ee){isNaN(ee)||(fe=ee)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(ee){isNaN(ee)||(pe=ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ee){var ne;typeof ee=="number"?ne=[ee,ee,ee,ee]:((ne=new Array(4))[0]=ee[0],ne[1]=ee.length>=2?ee[1]:ne[0],ne[2]=ee.length>=3?ee[2]:ne[0],ne[3]=ee.length>=4?ee[3]:ne[1]),u.margin=ne}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(ee){ve=ee}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ee){de=ee}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(ee){be=ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ee){ee instanceof d&&(u=ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ee){u.path=ee}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ee){je=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var ne;ne=m(ee),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var ne=m(ee);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var ae=null,Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(ee){ae=null,Oe=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var ne;if(this.ctx.font=ee,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ee))!==null){var Me=ne[1];ne[2];var ut=ne[3],Je=ne[4];ne[5];var He=ne[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(me==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ne=(function(Wt){var At,An,En=[],zt=Wt.trim();if(zt==="")return vO;if(zt in kH)return[kH[zt]];for(;zt!=="";){switch(An=null,At=(zt=OH(zt)).charAt(0)){case'"':case"'":An=p$e(zt.substring(1),At);break;default:An=m$e(zt)}if(An===null||(En.push(An[0]),(zt=OH(An[1]))!==""&&zt.charAt(0)!==","))return vO;zt=zt.replace(/^,/,"")}return En})(He);if(this.fontFaces){var Ce=(function(Wt,At){if(ae===null){var An=(function(En){var zt=[];return Object.keys(En).forEach(function(yn){En[yn].forEach(function(nr){var an=null;switch(nr){case"bold":an={family:yn,weight:"bold"};break;case"italic":an={family:yn,style:"italic"};break;case"bolditalic":an={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":an={family:yn}}an!==null&&(an.ref={name:yn,style:nr},zt.push(an))})}),zt})(Wt.getFontList());ae=(function(En){for(var zt={},yn=0;yn<En.length;++yn){var nr=gO(En[yn]),an=nr.family,Cn=nr.stretch,wn=nr.style,Ar=nr.weight;zt[an]=zt[an]||{},zt[an][Cn]=zt[an][Cn]||{},zt[an][Cn][wn]=zt[an][Cn][wn]||{},zt[an][Cn][wn][Ar]=nr}return zt})(An.concat(At))}return ae})(this.pdf,this.fontFaces),Ve=Ne.map(function(Wt){return{family:Wt,stretch:"normal",weight:ut,style:Me}}),We=(function(Wt,At,An){for(var En=(An=An||{}).defaultFontFamily||"times",zt=Object.assign({},h$e,An.genericFontFamilies||{}),yn=null,nr=null,an=0;an<At.length;++an)if(zt[(yn=gO(At[an])).family]&&(yn.family=zt[yn.family]),Wt.hasOwnProperty(yn.family)){nr=Wt[yn.family];break}if(!(nr=nr||Wt[En]))throw new Error("Could not find a font-family for the rule '"+TH(yn)+"' and default family '"+En+"'.");if(nr=(function(Cn,wn){if(wn[Cn])return wn[Cn];var Ar=DR[Cn],Cr=Ar<=DR.normal?-1:1,mn=CH(wn,cse,Ar,Cr);if(!mn)throw new Error("Could not find a matching font-stretch value for "+Cn);return mn})(yn.stretch,nr),nr=(function(Cn,wn){if(wn[Cn])return wn[Cn];for(var Ar=lse[Cn],Cr=0;Cr<Ar.length;++Cr)if(wn[Ar[Cr]])return wn[Ar[Cr]];throw new Error("Could not find a matching font-style for "+Cn)})(yn.style,nr),!(nr=(function(Cn,wn){if(wn[Cn])return wn[Cn];if(Cn===400&&wn[500])return wn[500];if(Cn===500&&wn[400])return wn[400];var Ar=f$e[Cn],Cr=CH(wn,use,Ar,Cn<400?-1:1);if(!Cr)throw new Error("Could not find a matching font-weight for value "+Cn);return Cr})(yn.weight,nr)))throw new Error("Failed to resolve a font for the rule '"+TH(yn)+"'.");return nr})(Ce,Ve);this.pdf.setFont(We.ref.name,We.ref.style)}else{var Ue="";(ut==="bold"||parseInt(ut,10)>=700||Me==="bold")&&(Ue="bold"),Me==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var tt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Ne.length;bt++){if(this.pdf.internal.getFont(Ne[bt],Ue,{noFallback:!0,disableWarning:!0})!==void 0){tt=Ne[bt];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(Ne[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Ne[bt],Ue="bold";else if(this.pdf.internal.getFont(Ne[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Ne[bt],Ue="normal";break}}if(tt===""){for(var Tt=0;Tt<Ne.length;Tt++)if(_t[Ne[Tt]]){tt=_t[Ne[Tt]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,V){if(isNaN(I)||isNaN(V))throw oi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new a(I,V));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(I,V)},f.prototype.closePath=function(){var I=new a(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Qr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){I=new a(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},f.prototype.lineTo=function(I,V){if(isNaN(I)||isNaN(V))throw oi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new a(I,V));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,V,Q,re){if(isNaN(Q)||isNaN(re)||isNaN(I)||isNaN(V))throw oi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(Q,re)),pe=this.ctx.transform.applyToPoint(new a(I,V));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},f.prototype.bezierCurveTo=function(I,V,Q,re,fe,pe){if(isNaN(fe)||isNaN(pe)||isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re))throw oi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(fe,pe)),de=this.ctx.transform.applyToPoint(new a(I,V)),be=this.ctx.transform.applyToPoint(new a(Q,re));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:be.x,y2:be.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},f.prototype.arc=function(I,V,Q,re,fe,pe){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re)||isNaN(fe))throw oi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(I,V));I=ve.x,V=ve.y;var de=this.ctx.transform.applyToPoint(new a(0,Q)),be=this.ctx.transform.applyToPoint(new a(0,0));Q=Math.sqrt(Math.pow(de.x-be.x,2)+Math.pow(de.y-be.y,2))}Math.abs(fe-re)>=2*Math.PI&&(re=0,fe=2*Math.PI),this.path.push({type:"arc",x:I,y:V,radius:Q,startAngle:re,endAngle:fe,counterclockwise:pe})},f.prototype.arcTo=function(I,V,Q,re,fe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,V,Q,re){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re))throw oi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,V),this.lineTo(I+Q,V),this.lineTo(I+Q,V+re),this.lineTo(I,V+re),this.lineTo(I,V),this.lineTo(I+Q,V),this.lineTo(I,V)},f.prototype.fillRect=function(I,V,Q,re){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re))throw oi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,V,Q,re),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},f.prototype.strokeRect=function(I,V,Q,re){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re))throw oi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,V,Q,re),this.stroke())},f.prototype.clearRect=function(I,V,Q,re){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re))throw oi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,V,Q,re))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(V),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var V,Q,re,fe;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))V=0,Q=0,re=0,fe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(pe!==null)V=parseInt(pe[1]),Q=parseInt(pe[2]),re=parseInt(pe[3]),fe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)V=parseInt(pe[1]),Q=parseInt(pe[2]),re=parseInt(pe[3]),fe=parseFloat(pe[4]);else{if(fe=1,typeof I=="string"&&I.charAt(0)!=="#"){var ve=new tse(I);I=ve.ok?ve.toHex():"#000000"}I.length===4?(V=I.substring(1,2),V+=V,Q=I.substring(2,3),Q+=Q,re=I.substring(3,4),re+=re):(V=I.substring(1,3),Q=I.substring(3,5),re=I.substring(5,7)),V=parseInt(V,16),Q=parseInt(Q,16),re=parseInt(re,16)}}return{r:V,g:Q,b:re,a:fe,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,V,Q,re){if(isNaN(V)||isNaN(Q)||typeof I!="string")throw oi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!p.call(this)){var fe=W(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;F.call(this,{text:I,x:V,y:Q,scale:pe,angle:fe,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(I,V,Q,re){if(isNaN(V)||isNaN(Q)||typeof I!="string")throw oi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){re=isNaN(re)?void 0:re;var fe=W(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;F.call(this,{text:I,x:V,y:Q,scale:pe,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(I){if(typeof I!="string")throw oi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,Q=this.pdf.internal.scaleFactor,re=V.internal.getFontSize(),fe=V.getStringUnitWidth(I)*re/V.internal.scaleFactor;return new function(pe){var ve=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:fe*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(I,V){if(isNaN(I)||isNaN(V))throw oi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(I,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(I){if(isNaN(I))throw oi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(I,V){if(isNaN(I)||isNaN(V))throw oi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,I,V);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(I,V,Q,re,fe,pe){if(isNaN(I)||isNaN(V)||isNaN(Q)||isNaN(re)||isNaN(fe)||isNaN(pe))throw oi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new c(I,V,Q,re,fe,pe);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function(I,V,Q,re,fe,pe){I=isNaN(I)?1:I,V=isNaN(V)?0:V,Q=isNaN(Q)?0:Q,re=isNaN(re)?1:re,fe=isNaN(fe)?0:fe,pe=isNaN(pe)?0:pe,this.ctx.transform=new c(I,V,Q,re,fe,pe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,V,Q,re,fe,pe,ve,de,be){var je=this.pdf.getImageProperties(I),ae=1,Oe=1,ee=1,ne=1;re!==void 0&&de!==void 0&&(ee=de/re,ne=be/fe,ae=je.width/re*de/re,Oe=je.height/fe*be/fe),pe===void 0&&(pe=V,ve=Q,V=0,Q=0),re!==void 0&&de===void 0&&(de=re,be=fe),re===void 0&&de===void 0&&(de=je.width,be=je.height);for(var Me,ut=this.ctx.transform.decompose(),Je=W(ut.rotate.shx),He=new c,me=(He=(He=(He=He.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale)).applyToRectangle(new l(pe-V*ee,ve-Q*ne,re*ae,fe*Oe)),Ne=x.call(this,me),Ce=[],Ve=0;Ve<Ne.length;Ve+=1)Ce.indexOf(Ne[Ve])===-1&&Ce.push(Ne[Ve]);if(_(Ce),this.autoPaging)for(var We=Ce[0],Ue=Ce[Ce.length-1],tt=We;tt<Ue+1;tt++){this.pdf.setPage(tt);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=tt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=tt===1?0:Tt+(tt-2)*Wt;if(this.ctx.clip_path.length!==0){var An=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Me,this.posX+this.margin[3],-At+bt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=An}var En=JSON.parse(JSON.stringify(me));En=S([En],this.posX+this.margin[3],-At+bt+this.ctx.prevPageLastElemOffset)[0];var zt=(tt>We||tt<Ue)&&v.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Wt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",En.x,En.y,En.w,En.h,null,null,Je),zt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",me.x,me.y,me.w,me.h,null,null,Je)};var x=function(I,V,Q){var re=[];V=V||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":re.push(Math.floor((I.y+fe)/Q)+1);break;case"arc":re.push(Math.floor((I.y+fe-I.radius)/Q)+1),re.push(Math.floor((I.y+fe+I.radius)/Q)+1);break;case"qct":var pe=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);re.push(Math.floor((pe.y+fe)/Q)+1),re.push(Math.floor((pe.y+pe.h+fe)/Q)+1);break;case"bct":var ve=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);re.push(Math.floor((ve.y+fe)/Q)+1),re.push(Math.floor((ve.y+ve.h+fe)/Q)+1);break;case"rect":re.push(Math.floor((I.y+fe)/Q)+1),re.push(Math.floor((I.y+I.h+fe)/Q)+1)}for(var de=0;de<re.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<re[de];)b.call(this);return re},b=function(){var I=this.fillStyle,V=this.strokeStyle,Q=this.font,re=this.lineCap,fe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=V,this.font=Q,this.lineCap=re,this.lineWidth=fe,this.lineJoin=pe},S=function(I,V,Q){for(var re=0;re<I.length;re++)switch(I[re].type){case"bct":I[re].x2+=V,I[re].y2+=Q;case"qct":I[re].x1+=V,I[re].y1+=Q;default:I[re].x+=V,I[re].y+=Q}return I},_=function(I){return I.sort(function(V,Q){return V-Q})},j=function(I,V){for(var Q,re,fe=this.fillStyle,pe=this.strokeStyle,ve=this.lineCap,de=this.lineWidth,be=Math.abs(de*this.ctx.transform.scaleX),je=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),ee=[],ne=0;ne<Oe.length;ne++)if(Oe[ne].x!==void 0)for(var Me=x.call(this,Oe[ne]),ut=0;ut<Me.length;ut+=1)ee.indexOf(Me[ut])===-1&&ee.push(Me[ut]);for(var Je=0;Je<ee.length;Je++)for(;this.pdf.internal.getNumberOfPages()<ee[Je];)b.call(this);if(_(ee),this.autoPaging)for(var He=ee[0],me=ee[ee.length-1],Ne=He;Ne<me+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=fe,this.strokeStyle=pe,this.lineCap=ve,this.lineWidth=be,this.lineJoin=je;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Ne===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ne===1?0:We+(Ne-2)*Ue;if(this.ctx.clip_path.length!==0){var _t=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Q,this.posX+this.margin[3],-tt+Ve+this.ctx.prevPageLastElemOffset),C.call(this,I,!0),this.path=_t}if(re=JSON.parse(JSON.stringify(ae)),this.path=S(re,this.posX+this.margin[3],-tt+Ve+this.ctx.prevPageLastElemOffset),V===!1||Ne===0){var bt=(Ne>He||Ne<me)&&v.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Ue,null).clip().discardPath()),C.call(this,I,V),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=be,C.call(this,I,V),this.lineWidth=de;this.path=ae},C=function(I,V){if((I!=="stroke"||V||!y.call(this))&&(I==="stroke"||V||!p.call(this))){for(var Q,re,fe=[],pe=this.path,ve=0;ve<pe.length;ve++){var de=pe[ve];switch(de.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:de,deltas:[],abs:[]});break;case"lt":var be=fe.length;if(pe[ve-1]&&!isNaN(pe[ve-1].x)&&(Q=[de.x-pe[ve-1].x,de.y-pe[ve-1].y],be>0)){for(;be>=0;be--)if(fe[be-1].close!==!0&&fe[be-1].begin!==!0){fe[be-1].deltas.push(Q),fe[be-1].abs.push(de);break}}break;case"bct":Q=[de.x1-pe[ve-1].x,de.y1-pe[ve-1].y,de.x2-pe[ve-1].x,de.y2-pe[ve-1].y,de.x-pe[ve-1].x,de.y-pe[ve-1].y],fe[fe.length-1].deltas.push(Q);break;case"qct":var je=pe[ve-1].x+2/3*(de.x1-pe[ve-1].x),ae=pe[ve-1].y+2/3*(de.y1-pe[ve-1].y),Oe=de.x+2/3*(de.x1-de.x),ee=de.y+2/3*(de.y1-de.y),ne=de.x,Me=de.y;Q=[je-pe[ve-1].x,ae-pe[ve-1].y,Oe-pe[ve-1].x,ee-pe[ve-1].y,ne-pe[ve-1].x,Me-pe[ve-1].y],fe[fe.length-1].deltas.push(Q);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(de)}}re=V?null:I==="stroke"?"stroke":"fill";for(var ut=!1,Je=0;Je<fe.length;Je++)if(fe[Je].arc)for(var He=fe[Je].abs,me=0;me<He.length;me++){var Ne=He[me];Ne.type==="arc"?A.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,V,!ut):q.call(this,Ne.x,Ne.y),ut=!0}else if(fe[Je].close===!0)this.pdf.internal.out("h"),ut=!1;else if(fe[Je].begin!==!0){var Ce=fe[Je].start.x,Ve=fe[Je].start.y;z.call(this,fe[Je].deltas,Ce,Ve),ut=!0}re&&P.call(this,re),V&&B.call(this)}},O=function(I){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-Q;case"top":return I+V-Q;case"hanging":return I+V-2*Q;case"middle":return I+V/2-Q;default:return I}},M=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(V,Q){this.colorStops.push([V,Q])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(I,V,Q,re,fe,pe,ve,de,be){for(var je=X.call(this,Q,re,fe,pe),ae=0;ae<je.length;ae++){var Oe=je[ae];ae===0&&(be?R.call(this,Oe.x1+I,Oe.y1+V):q.call(this,Oe.x1+I,Oe.y1+V)),G.call(this,I,V,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}de?B.call(this):P.call(this,ve)},P=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(I,V){this.pdf.internal.out(n(I)+" "+r(V)+" m")},F=function(I){var V;switch(I.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var Q=this.pdf.getTextDimensions(I.text),re=O.call(this,I.y),fe=M.call(this,re)-Q.h,pe=this.ctx.transform.applyToPoint(new a(I.x,re)),ve=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var be,je,ae,Oe=this.ctx.transform.applyToRectangle(new l(I.x,re,Q.w,Q.h)),ee=de.applyToRectangle(new l(I.x,fe,Q.w,Q.h)),ne=x.call(this,ee),Me=[],ut=0;ut<ne.length;ut+=1)Me.indexOf(ne[ut])===-1&&Me.push(ne[ut]);if(_(Me),this.autoPaging)for(var Je=Me[0],He=Me[Me.length-1],me=Je;me<He+1;me++){this.pdf.setPage(me);var Ne=me===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],We=Ve-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],tt=Ue-this.margin[3],_t=me===1?0:Ce+(me-2)*We;if(this.ctx.clip_path.length!==0){var bt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(be,this.posX+this.margin[3],-1*_t+Ne),C.call(this,"fill",!0),this.path=bt}var Tt=S([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-_t+Ne+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale);var Wt=this.autoPaging!=="text";if(Wt||Tt.y+Tt.h<=Ve){if(Wt||Tt.y>=Ne&&Tt.x<=Ue){var At=Wt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ue-Tt.x)[0],An=S([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-_t+Ne+this.ctx.prevPageLastElemOffset)[0],En=Wt&&(me>Je||me<He)&&v.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,We,null).clip().discardPath()),this.pdf.text(At,An.x,An.y,{angle:I.angle,align:V,renderingMode:I.renderingMode}),En&&this.pdf.restoreGraphicsState()}}else Tt.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Tt.y);I.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ae)}else I.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale),this.pdf.text(I.text,pe.x+this.posX,pe.y+this.posY,{angle:I.angle,align:V,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ae)},q=function(I,V,Q,re){Q=Q||0,re=re||0,this.pdf.internal.out(n(I+Q)+" "+r(V+re)+" l")},z=function(I,V,Q){return this.pdf.lines(I,V,Q,null,null)},G=function(I,V,Q,re,fe,pe,ve,de){this.pdf.internal.out([e(i(Q+I)),e(s(re+V)),e(i(fe+I)),e(s(pe+V)),e(i(ve+I)),e(s(de+V)),"c"].join(" "))},X=function(I,V,Q,re){for(var fe=2*Math.PI,pe=Math.PI/2;V>Q;)V-=fe;var ve=Math.abs(Q-V);ve<fe&&re&&(ve=fe-ve);for(var de=[],be=re?-1:1,je=V;ve>1e-5;){var ae=je+be*Math.min(ve,pe);de.push(U.call(this,I,je,ae)),ve-=Math.abs(ae-je),je=ae}return de},U=function(I,V,Q){var re=(Q-V)/2,fe=I*Math.cos(re),pe=I*Math.sin(re),ve=fe,de=-pe,be=ve*ve+de*de,je=be+ve*fe+de*pe,ae=4/3*(Math.sqrt(2*be*je)-je)/(ve*pe-de*fe),Oe=ve-ae*de,ee=de+ae*ve,ne=Oe,Me=-ee,ut=re+V,Je=Math.cos(ut),He=Math.sin(ut);return{x1:I*Math.cos(V),y1:I*Math.sin(V),x2:Oe*Je-ee*He,y2:Oe*He+ee*Je,x3:ne*Je-Me*He,y3:ne*He+Me*Je,x4:I*Math.cos(Q),y4:I*Math.sin(Q)}},W=function(I){return 180*I/Math.PI},Y=function(I,V,Q,re,fe,pe){var ve=I+.5*(Q-I),de=V+.5*(re-V),be=fe+.5*(Q-fe),je=pe+.5*(re-pe),ae=Math.min(I,fe,ve,be),Oe=Math.max(I,fe,ve,be),ee=Math.min(V,pe,de,je),ne=Math.max(V,pe,de,je);return new l(ae,ee,Oe-ae,ne-ee)},ie=function(I,V,Q,re,fe,pe,ve,de){var be,je,ae,Oe,ee,ne,Me,ut,Je,He,me,Ne,Ce,Ve,We=Q-I,Ue=re-V,tt=fe-Q,_t=pe-re,bt=ve-fe,Tt=de-pe;for(je=0;je<41;je++)Je=(Me=(ae=I+(be=je/40)*We)+be*((ee=Q+be*tt)-ae))+be*(ee+be*(fe+be*bt-ee)-Me),He=(ut=(Oe=V+be*Ue)+be*((ne=re+be*_t)-Oe))+be*(ne+be*(pe+be*Tt-ne)-ut),je==0?(me=Je,Ne=He,Ce=Je,Ve=He):(me=Math.min(me,Je),Ne=Math.min(Ne,He),Ce=Math.max(Ce,Je),Ve=Math.max(Ve,He));return new l(Math.round(me),Math.round(Ne),Math.round(Ce-me),Math.round(Ve-Ne))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,V,Q=(I=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:V}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(pn.API),(function(t){var e=function(a){var l,c,u,d,f,m,p,y,v,x;for(c=[],u=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(x=f%85))/85)-(v=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)%85,c.push(m+33,p+33,y+33,v+33,x+33)):c.push(122);return(function(b,S){for(var _=S;_>0;_--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var l,c,u,d,f,m=String,p="length",y=255,v="charCodeAt",x="slice",b="replace";for(a[x](-2),a=a[x](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(a+=l="uuuuu"[x](a[p]%5||5))[p];f>d;d+=5)c=52200625*(a[v](d)-33)+614125*(a[v](d+1)-33)+7225*(a[v](d+2)-33)+85*(a[v](d+3)-33)+(a[v](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(S,_){for(var j=_;j>0;j--)S.pop()})(u,l[p]),m.fromCharCode.apply(m,u)},r=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},s=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=kR(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,l){var c=0,u=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(pn.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,m=0,p=function(y){var v=y.length,x=[],b=String.fromCharCode;for(m=0;m<v;m+=1)x.push(b(255&y.charCodeAt(m)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)})(i,s,a)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(pn.API),(function(t){function e(){return($n.html2canvas?Promise.resolve($n.html2canvas):QT(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return($n.DOMPurify?Promise.resolve($n.DOMPurify):QT(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Qr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var y=d[p],v=y.src.find(function(x){return x.format==="truetype"});v&&u.addFont(v.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},a.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||pn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return a.convert(m,d.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,pn.getPageSize=function(l,c,u){if(Qr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,v=0,x=0;if(p.hasOwnProperty(m))v=p[m][1]/f,x=p[m][0]/f;else try{v=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>v&&(y=x,x=v,v=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>x&&(y=x,x=v,v=y)}return{width:x,height:v,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(gO):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}})(pn.API),pn.API.addJS=function(t){return MH=t,this.internal.events.subscribe("postPutResources",function(){Qw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qw!==void 0&&PH!==void 0&&this.internal.out("/Names <</JavaScript "+Qw+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=n.internal.newObject();d.push(f);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(pn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,v={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=p,e.indexOf(f.charCodeAt(x+1))!==-1){m=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:m,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}})(pn.API),pn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=QBe(t,{checkCrc:!0}),a=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;i=u&&c===1?(function(A){for(var P=A.width,B=A.height,R=A.data,F=A.palette,q=A.depth,z=!1,G=[],X=[],U=void 0,W=!1,Y=0,ie=0;ie<F.length;ie++){var Z=LU(F[ie],4),I=Z[0],V=Z[1],Q=Z[2],re=Z[3];G.push(I,V,Q),re!=null&&(re===0?(Y++,X.length<1&&X.push(ie)):re<255&&(W=!0))}if(W||Y>1){z=!0,X=void 0;var fe=P*B;U=new Uint8Array(fe);for(var pe=new DataView(R.buffer),ve=0;ve<fe;ve++){var de=yO(pe,ve,q),be=LU(F[de],4)[3];U[ve]=be}}else Y===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:R,alphaBytes:U,needSMask:z,palette:G,mask:X}})(s):c===2||c===4?(function(A){for(var P=A.data,B=A.width,R=A.height,F=A.channels,q=A.depth,z=F===2?"DeviceGray":"DeviceRGB",G=F-1,X=B*R,U=G,W=X*U,Y=1*X,ie=Math.ceil(W*q/8),Z=Math.ceil(Y*q/8),I=new Uint8Array(ie),V=new Uint8Array(Z),Q=new DataView(P.buffer),re=new DataView(I.buffer),fe=new DataView(V.buffer),pe=!1,ve=0;ve<X;ve++){for(var de=ve*F,be=0;be<U;be++)qH(re,yO(Q,de+be,q),ve*U+be,q);var je=yO(Q,de+U,q);je<(1<<q)-1&&(pe=!0),qH(fe,je,1*ve,q)}return{colorSpace:z,colorsPerPixel:G,sMaskBitsPerComponent:pe?q:void 0,colorBytes:I,alphaBytes:V,needSMask:pe}})(s):(function(A){var P=A.data,B=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(R){for(var F=R.length,q=new Uint8Array(2*F),z=new DataView(q.buffer,q.byteOffset,q.byteLength),G=0;G<F;G++)z.setUint16(2*G,R[G],!1);return q})(P):P,needSMask:!1}})(s);var f,m,p,y=i,v=y.colorSpace,x=y.colorsPerPixel,b=y.sMaskBitsPerComponent,S=y.colorBytes,_=y.alphaBytes,j=y.needSMask,C=y.palette,O=y.mask,M=null;return r!==pn.API.image_compression.NONE&&typeof kR=="function"?(M=(function(A){var P;switch(A){case pn.API.image_compression.FAST:P=11;break;case pn.API.image_compression.MEDIUM:P=13;break;case pn.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(M," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=LH(S,Math.ceil(a*x*d/8),x,d,r),j&&(p=LH(_,Math.ceil(a*b/8),1,b,r))):(f=void 0,m=void 0,t=S,j&&(p=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:m,transparency:O,palette:C,sMask:p,predictor:M,width:a,height:l,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:v}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new x$e(e),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new xO(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A})(pn.API),Zc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){oi.log("bit decode error:"+n)}},Zc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Zc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Zc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Zc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},Zc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Zc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Zc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},Zc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new Zc(e,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},u=new xO(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(pn.API),HH.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new HH(e),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},u=new xO(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(pn.API),pn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=r[u],f=r[u+1],m=r[u+2],p=r[u+3];s[l++]=d,s[l++]=f,s[l++]=m,a[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gg=pn.API,Jw=Gg.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,p=t.length,y=0,v=l[0]||c,x=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(m=f&&Qr(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/d:0,x.push((l[r]||v)/c+m)),y=r;return x},RH=Gg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Gg.processArabic&&(t=Gg.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Jw.apply(this,arguments).reduce(function(s,a){return s+a},0)},IH=function(t,e,n,r){for(var i=[],s=0,a=t.length,l=0;s!==a&&l+e[s]<n;)l+=e[s],s++;i.push(t.slice(0,s));var c=s;for(l=0;s!==a;)l+e[s]>r&&(i.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},DH=function(t,e,n){n||(n={});var r,i,s,a,l,c,u,d=[],f=[d],m=n.textIndent||0,p=0,y=0,v=t.split(" "),x=Jw.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var b=Array(c).join(" "),S=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?S=S.concat(j.map(function(C,O){return(O&&C.length?`
`:"")+C})):S.push(j[0])}),v=S,c=RH.apply(this,[b,n])}for(s=0,a=v.length;s<a;s++){var _=0;if(r=v[s],c&&r[0]==`
`&&(r=r.substr(1),_=1),m+p+(y=(i=Jw.apply(this,[r,n])).reduce(function(j,C){return j+C},0))>e||_){if(y>e){for(l=IH.apply(this,[r,i,e-(m+p),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(j,C){return j+C},0)}else d=[r];f.push(d),m=y+c,p=x}else d.push(r),m+=p+y,p=x}return u=c?function(j,C){return(C?b:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},Gg.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(DH.apply(this,[r[l],a,s]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var p,y,v,x,b=["{"];for(var S in m){if(p=m[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=a(S).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof p=="number")p<0?(v=a(p).slice(3),x="-"):(v=a(p).slice(2),x=""),v=x+v.slice(0,-1)+i[v.slice(-1)];else{if(Qr(p)!=="object")throw new Error("Don't know what to do with value type "+Qr(p)+".");v=l(p)}b.push(y+v)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,v,x,b={},S=1,_=b,j=[],C="",O="",M=m.length-1,A=1;A<M;A+=1)(x=m[A])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(j.push([_,v]),_={},v=void 0):x=="}"?((y=j.pop())[0][y[1]]=_,v=void 0,_=y[0]):x=="-"?S=-1:v===void 0?r.hasOwnProperty(x)?(C+=r[x],v=parseInt(C,16)*S,S=1,C=""):C+=x:r.hasOwnProperty(x)?(O+=r[x],_[v]=parseInt(O,16)*S,S=1,v=void 0,O=""):O+=x;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,y=f.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var v=d.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(pn.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(D2(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(pn),pn.API.addSvgAsImage=function(t,e,n,r,i,s,a,l){if(isNaN(e)||isNaN(n))throw oi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw oi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return($n.canvg?Promise.resolve($n.canvg):QT(()=>import("./index.es-JSIcUs5P.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,a,l)})},pn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},pn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,f=0;function m(y,v){var x,b=!1;for(x=0;x<y.length;x+=1)y[x]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(f=0;f<p;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(Qr(t)==="object"){for(i in t)if(s=t[i],m(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?v.push("/"+y+" /"+n[y].value):v.push("/"+y+" "+n[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(pn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(l=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(s){var a,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(s).sort(function(p,y){return p-y})).length;f<m;f++)a=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var x=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+rv(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+rv(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+rv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+rv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+rv(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,p=f.activeFontKey,y=f.fonts,v=p,x="",b=0,S="",_=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(S=l,v=p,Array.isArray(l)&&(S=l[0]),b=0;b<S.length;b+=1)y[v].metadata.hasOwnProperty("cmap")&&(a=y[v].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),a||S[b].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?x+=S[b]:x+="";var j="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?j=m(x,v).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(j=n(x,y[v])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([i(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(i(Object.assign({},c,{text:a[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:a})).text}])})(pn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(pn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,l,c,u,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,_=0;this.__bidiEngine__={};var j=function(R){var F=R.charCodeAt(),q=F>>8,z=v[q];return z!==void 0?f[256*z+(255&F)]:q===252||q===253?"AL":b.test(q)?"L":q===8?"R":"N"},C=function(R){for(var F,q=0;q<R.length;q++){if((F=j(R.charAt(q)))==="L")return!1;if(F==="R")return!0}return!1},O=function(R,F,q,z){var G,X,U,W,Y=F[z];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Y="AN");break;case"AL":S=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":z<1||z+1>=F.length||(G=q[z-1])!=="EN"&&G!=="AN"||(X=F[z+1])!=="EN"&&X!=="AN"?Y="N":S&&(X="AN"),Y=X===G?X:"N";break;case"ES":Y=(G=z>0?q[z-1]:"B")==="EN"&&z+1<F.length&&F[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&q[z-1]==="EN"){Y="EN";break}if(S){Y="N";break}for(U=z+1,W=F.length;U<W&&F[U]==="ET";)U++;Y=U<W&&F[U]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=F.length,U=z+1;U<W&&F[U]==="NSM";)U++;if(U<W){var ie=R[z],Z=ie>=1425&&ie<=2303||ie===64286;if(G=F[U],Z&&(G==="R"||G==="AL")){Y="R";break}}}Y=z<1||(G=F[z-1])==="B"?"N":q[z-1];break;case"B":S=!1,i=!0,Y=_;break;case"S":s=!0,Y="N"}return Y},M=function(R,F,q){var z=R.split("");return q&&A(z,q,{hiLevel:_}),z.reverse(),F&&F.reverse(),z.join("")},A=function(R,F,q){var z,G,X,U,W,Y=-1,ie=R.length,Z=0,I=[],V=_?p:m,Q=[];for(S=!1,i=!1,s=!1,G=0;G<ie;G++)Q[G]=j(R[G]);for(X=0;X<ie;X++){if(W=Z,I[X]=O(R,Q,I,X),z=240&(Z=V[W][y[I[X]]]),Z&=15,F[X]=U=V[Z][5],z>0)if(z===16){for(G=Y;G<X;G++)F[G]=1;Y=-1}else Y=-1;if(V[Z][6])Y===-1&&(Y=X);else if(Y>-1){for(G=Y;G<X;G++)F[G]=U;Y=-1}Q[X]==="B"&&(F[X]=0),q.hiLevel|=U}s&&(function(re,fe,pe){for(var ve=0;ve<pe;ve++)if(re[ve]==="S"){fe[ve]=_;for(var de=ve-1;de>=0&&re[de]==="WS";de--)fe[de]=_}})(Q,F,ie)},P=function(R,F,q,z,G){if(!(G.hiLevel<R)){if(R===1&&_===1&&!i)return F.reverse(),void(q&&q.reverse());for(var X,U,W,Y,ie=F.length,Z=0;Z<ie;){if(z[Z]>=R){for(W=Z+1;W<ie&&z[W]>=R;)W++;for(Y=Z,U=W-1;Y<U;Y++,U--)X=F[Y],F[Y]=F[U],F[U]=X,q&&(X=q[Y],q[Y]=q[U],q[U]=X);Z=W}Z++}}},B=function(R,F,q){var z=R.split(""),G={hiLevel:_};return q||(q=[]),A(z,q,G),(function(X,U,W){if(W.hiLevel!==0&&d)for(var Y,ie=0;ie<X.length;ie++)U[ie]===1&&(Y=x.indexOf(X[ie]))>=0&&(X[ie]=x[Y+1])})(z,q,G),P(2,z,F,q,G),P(1,z,F,q,G),z.join("")};return this.__bidiEngine__.doBidiReorder=function(R,F,q){if((function(G,X){if(X)for(var U=0;U<G.length;U++)X[U]=U;l===void 0&&(l=C(G)),u===void 0&&(u=C(G))})(R,F),a||!c||u)if(a&&c&&l^u)_=l?1:0,R=M(R,F,q);else if(!a&&c&&u)_=l?1:0,R=B(R,F,q),R=M(R,F);else if(!a||l||c||u){if(a&&!c&&l^u)R=M(R,F),l?(_=0,R=B(R,F,q)):(_=1,R=B(R,F,q),R=M(R,F));else if(a&&l&&!c&&u)_=1,R=B(R,F,q),R=M(R,F);else if(!a&&!c&&l^u){var z=d;l?(_=1,R=B(R,F,q),_=0,d=!1,R=B(R,F,q),d=z):(_=0,R=B(R,F,q),R=M(R,F),_=1,d=!1,R=B(R,F,q),d=z,R=M(R,F))}}else _=0,R=B(R,F,q);else _=l?1:0,R=B(R,F,q);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,c=R.isOutputVisual,l=R.isInputRtl,u=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([n.doBidiReorder(i[l])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(pn),pn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new rp(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new R$e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new b$e(this.contents),this.head=new N$e(this),this.name=new A$e(this),this.cmap=new fse(this),this.toUnicode={},this.hhea=new S$e(this),this.maxp=new C$e(this),this.hmtx=new k$e(this),this.post=new _$e(this),this.os2=new E$e(this),this.loca=new M$e(this),this.glyf=new T$e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var wu,rp=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),b$e=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,l,c,u,d,f,m,p,y,v;for(v in p=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),a=Math.floor(f/c),d=16*p-f,(i=new rp).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(d),s=16*p,u=i.pos+s,l=null,y=[],n)for(m=n[v],i.writeString(v),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),y=y.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=hse.call(n);n.length%4;)n.push(0);for(s=new rp(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),w$e={}.hasOwnProperty,bd=function(t,e){for(var n in e)w$e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wu=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var N$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new rp).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),VH=(function(){function t(e,n){var r,i,s,a,l,c,u,d,f,m,p,y,v,x,b,S,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=(function(){var j,C;for(C=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)C.push(e.readUInt16());return C})(),e.pos+=2,v=(function(){var j,C;for(C=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)C.push(e.readUInt16());return C})(),u=(function(){var j,C;for(C=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)C.push(e.readUInt16());return C})(),d=(function(){var j,C;for(C=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)C.push(e.readUInt16());return C})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var j,C;for(C=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)C.push(e.readUInt16());return C})(),c=b=0,_=s.length;b<_;c=++b)for(x=s[c],r=S=y=v[c];y<=x?S<=x:S>=x;r=y<=x?++S:--S)d[c]===0?a=r+u[c]:(a=l[d[c]/2+(r-y)-(m-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,i,s,a,l,c,u,d,f,m,p,y,v,x,b,S,_,j,C,O,M,A,P,B,R,F,q,z,G,X,U,W,Y,ie,Z,I,V,Q,re,fe,pe,ve,de,be,je,ae;switch(z=new rp,a=Object.keys(e).sort(function(Oe,ee){return Oe-ee}),n){case"macroman":for(v=0,x=(function(){var Oe=[];for(y=0;y<256;++y)Oe.push(0);return Oe})(),S={0:0},s={},G=0,Y=a.length;G<Y;G++)S[de=e[i=a[G]]]==null&&(S[de]=++v),s[i]={old:e[i],new:S[e[i]]},x[i]=S[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:s,subtable:z.data,maxGlyphID:v+1};case"unicode":for(F=[],f=[],_=0,S={},r={},b=u=null,X=0,ie=a.length;X<ie;X++)S[C=e[i=a[X]]]==null&&(S[C]=++_),r[i]={old:C,new:S[C]},l=S[C]-i,b!=null&&l===u||(b&&f.push(b),F.push(i),u=l),b=i;for(b&&f.push(b),f.push(65535),F.push(65535),B=2*(P=F.length),A=2*Math.pow(Math.log(P)/Math.LN2,2),m=Math.log(A/2)/Math.LN2,M=2*P-A,c=[],O=[],p=[],y=U=0,Z=F.length;U<Z;y=++U){if(R=F[y],d=f[y],R===65535){c.push(0),O.push(0);break}if(R-(q=r[R].new)>=32768)for(c.push(0),O.push(2*(p.length+P-y)),i=W=R;R<=d?W<=d:W>=d;i=R<=d?++W:--W)p.push(r[i].new);else c.push(q-R),O.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*P+2*p.length),z.writeUInt16(0),z.writeUInt16(B),z.writeUInt16(A),z.writeUInt16(m),z.writeUInt16(M),pe=0,I=f.length;pe<I;pe++)i=f[pe],z.writeUInt16(i);for(z.writeUInt16(0),ve=0,V=F.length;ve<V;ve++)i=F[ve],z.writeUInt16(i);for(be=0,Q=c.length;be<Q;be++)l=c[be],z.writeUInt16(l);for(je=0,re=O.length;je<re;je++)j=O[je],z.writeUInt16(j);for(ae=0,fe=p.length;ae<fe;ae++)v=p[ae],z.writeUInt16(v);return{charMap:r,subtable:z.data,maxGlyphID:_+1}}},t})(),fse=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new VH(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=VH.encode(e,n),(i=new rp).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),S$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),E$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),_$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),j$e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},A$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,l,c,u,d,f,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=d=0,f=r.length;d<f;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new j$e(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),C$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),k$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,l,c;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],m.push(s.advance);return m}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),hse=[].slice,T$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,l,c,u,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(l=new rp(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=a===-1?new P$e(l,u,f,c,d):new O$e(l,a,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,l,c;for(a=[],s=[],l=0,c=n.length;l<c;l++)i=e[n[l]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t})(),O$e=(function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),P$e=(function(){function t(e,n,r,i,s){var a,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new rp(hse.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),M$e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bd(t,wu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(i+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t})(),R$e=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,l,c;for(i={},a=0,l=e.length;a<l;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,l,c,u,d,f,m,p,y,v,x,b;for(i in r=fse.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},b=r.charMap)p[(c=b[i]).old]=c.new;for(y in m=r.maxGlyphID,a)y in p||(p[y]=m++);return d=(function(S){var _,j;for(_ in j={},S)j[S[_]]=_;return j})(p),f=Object.keys(d).sort(function(S,_){return S-_}),v=(function(){var S,_,j;for(j=[],S=0,_=f.length;S<_;S++)l=f[S],j.push(d[l]);return j})(),s=this.font.glyf.encode(a,v,p),u=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t})();pn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+(function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e})();function I$e(){const t=j4(),[,e]=sl(),{user:n}=Jm(),{data:r,isLoading:i}=rn({queryKey:["/api/manuals",t.id]}),{data:s=[]}=rn({queryKey:["/api/manuals",t.id,"attachments"],enabled:!!t.id}),a=n?.roleName||n?.role,l=["Administrador","Gestor","ADMIN","GESTOR"].includes(String(a)),[c,u]=N.useState(!1),{toast:d}=Pr(),f=async()=>{if(!(!r||!window.confirm(`Eliminar el manual "${r.titulo}"? Esta accin no se puede deshacer.`)))try{await Jt("DELETE",`/api/manuals/${encodeURIComponent(r.id)}`),nn.setQueryData(["/api/manuals"],v=>Array.isArray(v)?v.filter(x=>x.id!==r.id):v),await nn.invalidateQueries({queryKey:["/api/manuals"],exact:!0}),d({title:"Manual eliminado"}),e("/manuales")}catch(v){d({title:"No se pudo eliminar",description:v?.message??"",variant:"destructive"})}},m=y=>y<1024?y+" B":y<1024*1024?(y/1024).toFixed(1)+" KB":(y/(1024*1024)).toFixed(1)+" MB",p=()=>{if(!r)return;const y=new pn;y.setFontSize(20),y.text(r.titulo,20,20),y.setFontSize(12);const v=r.contenidoHtml.replace(/<[^>]*>/g,""),x=y.splitTextToSize(v,170);y.text(x,20,40),y.save(`${r.titulo}.pdf`)};return i?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx(Kn,{className:"h-9 w-48"}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(Kn,{className:"h-8 w-3/4"})}),o.jsx(Qe,{children:o.jsx(Kn,{className:"h-64 w-full"})})]})]}):r?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>e("/manuales"),"data-testid":"button-back",children:o.jsx(kE,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-1",children:o.jsx("h1",{className:"text-3xl font-display font-bold",children:r.titulo})}),o.jsxs(Se,{variant:"outline",onClick:p,"data-testid":"button-export-pdf",children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),l&&o.jsxs(o.Fragment,{children:[o.jsxs(Se,{variant:"outline",onClick:()=>u(y=>!y),"data-testid":"button-expand",children:[c?o.jsx(Mde,{className:"h-4 w-4 mr-2"}):o.jsx(Pde,{className:"h-4 w-4 mr-2"}),c?"Reducir":"Expandir"]}),o.jsxs(Se,{variant:"destructive",onClick:f,"data-testid":"button-delete",children:[o.jsx(ea,{className:"h-4 w-4 mr-2"}),"Eliminar"]}),o.jsxs(Se,{onClick:()=>e(`/manuales/${r.id}/editar`),"data-testid":"button-edit",children:[o.jsx(td,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),o.jsxs("div",{className:c?"grid gap-6 grid-cols-1":"grid gap-6 xl:grid-cols-[minmax(0,1fr)_320px]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ze,{children:[o.jsxs(xt,{className:"px-6 pt-6 pb-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{className:"text-2xl",children:r.titulo}),r.categoria&&o.jsx("p",{className:"text-muted-foreground",children:r.categoria})]}),r.publicado?o.jsx(ct,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):o.jsx(ct,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),r.etiquetas&&r.etiquetas.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.etiquetas.map(y=>o.jsx(ct,{variant:"secondary",children:y},y))})]}),o.jsxs(Qe,{className:"p-0",children:[o.jsx("div",{className:"prose lg:prose-base max-w-none px-6 pb-6 md:px-8 md:pb-8 [&_.editor-table]:border-collapse [&_.editor-table]:w-full [&_.editor-table]:my-4 [&_.editor-table_th]:border-2 [&_.editor-table_th]:border-black [&_.editor-table_th]:p-2 [&_.editor-table_th]:bg-muted [&_.editor-table_th]:font-semibold [&_.editor-table_th]:text-left [&_.editor-table_td]:border-2 [&_.editor-table_td]:border-black [&_.editor-table_td]:p-2",dangerouslySetInnerHTML:{__html:r.contenidoHtml}}),o.jsxs("div",{className:"px-6 md:px-8 mt-4 pt-4 border-t text-sm text-muted-foreground",children:["Creado el ",new Date(r.fechaCreacion).toLocaleDateString(),r.fechaActualizacion!==r.fechaCreacion&&o.jsxs(o.Fragment,{children:["  Actualizado el ",new Date(r.fechaActualizacion).toLocaleDateString()]})]})]})]}),s.length>0&&o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{className:"text-lg flex items-center gap-2",children:[o.jsx(Zh,{className:"h-4 w-4"}),"Adjuntos (",s.length,")"]})}),o.jsx(Qe,{children:o.jsx("div",{className:"space-y-2",children:s.map(y=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate cursor-pointer",onClick:()=>window.open(y.filePath,"_blank"),"data-testid":`attachment-${y.id}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zh,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:y.originalName}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m(y.fileSize)})]})]}),o.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]},y.id))})})]})]}),o.jsx("div",{className:"lg:sticky lg:top-8 lg:h-fit",children:o.jsx(HFe,{htmlContent:r.contenidoHtml})})]})]}):o.jsx("div",{className:"p-8",children:o.jsx(Ze,{children:o.jsxs(Qe,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Manual no encontrado"}),o.jsx(Se,{onClick:()=>e("/manuales"),children:"Volver a Manuales"})]})})})}function Pa(t){this.content=t}Pa.prototype={constructor:Pa,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Pa(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Pa(n)},addToStart:function(t,e){return new Pa([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Pa(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Pa(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Pa.from(t),t.size?new Pa(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Pa.from(t),t.size?new Pa(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Pa.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Pa.from=function(t){if(t instanceof Pa)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Pa(e)};function pse(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=pse(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function mse(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let u=0,d=Math.min(a.text.length,l.text.length);for(;u<d&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let u=mse(a.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class ht{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let c=this.content[a],u=l+c.nodeSize;if(u>e&&r(c,i+l,s||null,a)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,i+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ht(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=c}return new ht(r,i)}cutByIndex(e,n){return e==n?ht.empty:e==0&&n==this.content.length?this:new ht(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ht(i,s)}addToStart(e){return new ht([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ht(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return pse(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return mse(this,e,n,r)}findIndex(e){if(e==0)return e2(0,e);if(e==this.size)return e2(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?e2(n+1,s):e2(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ht.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ht(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ht.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ht(n||e,r)}static from(e){if(!e)return ht.empty;if(e instanceof ht)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ht([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ht.empty=new ht([],0);const bO={index:0,offset:0};function e2(t,e){return bO.index=t,bO.offset=e,bO}function RS(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!RS(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!RS(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let fi=class LR{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&RS(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return LR.none;if(e instanceof LR)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};fi.none=[];class IS extends Error{}class Ft{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=vse(this.content,e+this.openStart,n);return r&&new Ft(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ft(gse(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ft.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ft(ht.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ft(e,r,i)}}Ft.empty=new Ft(ht.empty,0,0);function gse(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(gse(s.content,e-i-1,n-i-1)))}function vse(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=vse(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function D$e(t,e,n){if(n.openStart>t.depth)throw new IS("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new IS("Inconsistent open depths");return yse(t,e,n,0)}function yse(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=yse(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return bm(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=L$e(n,t);return bm(s,bse(t,a,l,e,r))}else return bm(s,DS(t,e,r))}function xse(t,e){if(!e.type.compatibleContent(t.type))throw new IS("Cannot join "+e.type.name+" onto "+t.type.name)}function FR(t,e,n){let r=t.node(n);return xse(r,e.node(n)),r}function xm(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function jb(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(xm(t.nodeAfter,r),s++));for(let l=s;l<a;l++)xm(i.child(l),r);e&&e.depth==n&&e.textOffset&&xm(e.nodeBefore,r)}function bm(t,e){return t.type.checkContent(e),t.copy(e)}function bse(t,e,n,r,i){let s=t.depth>i&&FR(t,e,i+1),a=r.depth>i&&FR(n,r,i+1),l=[];return jb(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(xse(s,a),xm(bm(s,bse(t,e,n,r,i+1)),l)):(s&&xm(bm(s,DS(t,e,i+1)),l),jb(e,n,i,l),a&&xm(bm(a,DS(n,r,i+1)),l)),jb(r,null,i,l),new ht(l)}function DS(t,e,n){let r=[];if(jb(null,t,n,r),t.depth>n){let i=FR(t,e,n+1);xm(bm(i,DS(t,e,n+1)),r)}return jb(e,null,n,r),new ht(r)}function L$e(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ht.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class B0{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return fi.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new LS(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(s),u=s-c;if(r.push(a,l,i+c),!u||(a=a.child(l),a.isText))break;s=u-1,i+=c+1}return new B0(n,r,s)}static resolveCached(e,n){let r=WH.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else WH.set(e,r=new F$e);let i=r.elts[r.i]=B0.resolve(e,n);return r.i=(r.i+1)%B$e,i}}class F$e{constructor(){this.elts=[],this.i=0}}const B$e=12,WH=new WeakMap;class LS{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const $$e=Object.create(null);let Wh=class BR{constructor(e,n,r,i=fi.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ht.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&RS(this.attrs,n||e.defaultAttrs||$$e)&&fi.sameSet(this.marks,r||fi.none)}copy(e=null){return e==this.content?this:new BR(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new BR(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ft.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),u=i.node(a).content.cut(i.pos-l,s.pos-l);return new Ft(u,i.depth-a,s.depth-a)}replace(e,n,r){return D$e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return B0.resolveCached(this,e)}resolveNoCache(e){return B0.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wse(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ht.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=fi.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!fi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ht.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Wh.prototype.text=void 0;class FS extends Wh{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wse(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new FS(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new FS(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wse(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Um{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new z$e(e,n);if(r.next==null)return Um.empty;let i=Nse(r);r.next&&r.err("Unexpected trailing text");let s=G$e(K$e(i));return Y$e(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return ht.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let m=s(f,l.concat(d));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}Um.empty=new Um(!0);class z$e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Nse(t){let e=[];do e.push(q$e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function q$e(t){let e=[];do e.push(U$e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function U$e(t){let e=W$e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=H$e(t,e);else break;return e}function KH(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function H$e(t,e){let n=KH(t),r=n;return t.eat(",")&&(t.next!="}"?r=KH(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function V$e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function W$e(t){if(t.eat("(")){let e=Nse(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=V$e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function K$e(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let u={term:c,to:l};return e[a].push(u),u}function i(a,l){a.forEach(c=>c.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((c,u)=>c.concat(s(u,l)),[]);if(a.type=="seq")for(let c=0;;c++){let u=s(a.exprs[c],l);if(c==a.exprs.length-1)return u;i(u,l=n())}else if(a.type=="star"){let c=n();return r(l,c),i(s(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return i(s(a.expr,l),c),i(s(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let c=l;for(let u=0;u<a.min;u++){let d=n();i(s(a.expr,c),d),c=d}if(a.max==-1)i(s(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let d=n();r(c,d),i(s(a.expr,c),d),c=d}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Sse(t,e){return e-t}function GH(t,e){let n=[];return r(e),n.sort(Sse);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:c}=s[a];!l&&n.indexOf(c)==-1&&r(c)}}}function G$e(t){let e=Object.create(null);return n(GH(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<i.length;d++)i[d][0]==l&&(u=i[d][1]);GH(t,c).forEach(d=>{u||i.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let s=e[r.join(",")]=new Um(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(Sse);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function Y$e(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:c,next:u}=i.next[l];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ese(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function _se(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function jse(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function Ase(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Z$e(t,r,e[r]);return n}let YH=class Cse{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Ase(e,r.attrs),this.defaultAttrs=Ese(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Um.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_se(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wh(this,this.computeAttrs(e),ht.from(n),fi.setFrom(r))}createChecked(e=null,n,r){return n=ht.from(n),this.checkContent(n),new Wh(this,this.computeAttrs(e),n,fi.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ht.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ht.empty,!0);return s?new Wh(this,e,n.append(s),fi.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){jse(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:fi.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new Cse(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function X$e(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Z$e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?X$e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class oj{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Ase(e,i.attrs),this.excluded=null;let s=Ese(this.attrs);this.instance=s?new fi(this,s):null}create(e=null){return!e&&this.instance?this.instance:new fi(this,_se(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new oj(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){jse(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class kse{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Pa.from(e.nodes),n.marks=Pa.from(e.marks||{}),this.nodes=YH.compile(this.spec.nodes,this),this.marks=oj.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Um.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?XH(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:XH(this,a.split(" "))}this.nodeFromJSON=i=>Wh.fromJSON(this,i),this.markFromJSON=i=>fi.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof YH){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new FS(r,r.defaultAttrs,e,fi.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function XH(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let c=t.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Q$e(t){return t.tag!=null}function J$e(t){return t.style!=null}let Ab=class $R{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Q$e(i))this.tags.push(i);else if(J$e(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new QH(this,n,!1);return r.addAll(e,fi.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new QH(this,n,!0);return r.addAll(e,fi.none,n.from,n.to),Ft.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(n7e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=JH(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=JH(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new $R(e,$R.schemaRules(e)))}};const Tse={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},e7e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ose={ol:!0,ul:!0},$0=1,zR=2,Cb=4;function ZH(t,e,n){return e!=null?(e?$0:0)|(e==="full"?zR:0):t&&t.whitespace=="pre"?$0|zR:n&~Cb}class t2{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=fi.none,this.match=s||(a&Cb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ht.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&$0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ht.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ht.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Tse.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class QH{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=ZH(null,n.preserveWhitespace,0)|(r?Cb:0);i?s=new t2(i.type,i.attrs,fi.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new t2(null,null,fi.none,!0,null,a):s=new t2(e.schema.topNodeType,null,fi.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&zR?"full":this.localPreserveWS||(i.options&$0)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;Ose.hasOwnProperty(a)&&this.parser.normalizeLists&&t7e(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:e7e.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(Tse.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(s),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(s,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],u=c.findWrapping(e);if(u&&(!i||i.length>u.length+l)&&(i=u,s=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=fi.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):eV(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=ZH(e,s,a.options);a.options&Cb&&a.content.length==0&&(l|=Cb);let c=fi.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):eV(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new t2(e,n,c,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=$0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=s;c--)if(a(l-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function t7e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ose.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function n7e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function JH(t){let e={};for(let n in t)e[n]=t[n];return e}function eV(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||s.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class ug{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=wO(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,c=0;for(;l<s.length&&c<a.marks.length;){let u=a.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)i=s.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],d=this.serializeMark(u,a.isInline,n);d&&(s.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=z2(wO(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&z2(wO(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return z2(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ug(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=tV(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return tV(e.marks)}}function tV(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function wO(t){return t.document||window.document}const nV=new WeakMap;function r7e(t){let e=nV.get(t);return e===void 0&&nV.set(t,e=i7e(t)),e}function i7e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function z2(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=r7e(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,c=n?t.createElementNS(n,i):t.createElement(i),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let m=f.indexOf(" ");m>0?c.setAttributeNS(f.slice(0,m),f.slice(m+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let m=e[f];if(m===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:y}=z2(t,m,n,r);if(c.appendChild(p),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:c,contentDOM:l}}const Pse=65535,Mse=Math.pow(2,16);function s7e(t,e){return t+e*Mse}function rV(t){return t&Pse}function a7e(t){return(t-(t&Pse))/Mse}const Rse=1,Ise=2,q2=4,Dse=8;class qR{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Dse)>0}get deletedBefore(){return(this.delInfo&(Rse|q2))>0}get deletedAfter(){return(this.delInfo&(Ise|q2))>0}get deletedAcross(){return(this.delInfo&q2)>0}}class Ol{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ol.empty)return Ol.empty}recover(e){let n=0,r=rV(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+a7e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let u=this.ranges[l+s],d=this.ranges[l+a],f=c+u;if(e<=f){let m=u?e==c?-1:e==f?1:n:n,p=c+i+(m<0?0:d);if(r)return p;let y=e==(n<0?c:f)?null:s7e(l/3,e-c),v=e==c?Ise:e==f?Rse:q2;return(n<0?e!=c:e!=f)&&(v|=Dse),new qR(p,v,y)}i+=d-u}return r?e+i:new qR(e+i,0,null)}touches(e,n){let r=0,i=rV(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+s],d=c+u;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),c=a+(this.inverted?0:s),u=this.ranges[i+n],d=this.ranges[i+r];e(l,l+u,c,c+d),s+=d-u}}invert(){return new Ol(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ol.empty:new Ol(e<0?[0,-e,0]:[0,0,e])}}Ol.empty=new Ol([]);class z0{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new z0(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new z0;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new qR(e,i,null)}}const NO=Object.create(null);class ao{getMap(){return Ol.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=NO[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in NO)throw new RangeError("Duplicate use of step JSON ID "+e);return NO[e]=n,n.prototype.jsonID=e,n}}class Ds{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ds(e,null)}static fail(e){return new Ds(null,e)}static fromReplace(e,n,r,i){try{return Ds.ok(e.replace(n,r,i))}catch(s){if(s instanceof IS)return Ds.fail(s.message);throw s}}}function mL(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(mL(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ht.fromArray(r)}class Ih extends ao{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ft(mL(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Ds.fromReplace(e,this.from,this.to,s)}invert(){return new cu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ih(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ih&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ih(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ih(n.from,n.to,e.markFromJSON(n.mark))}}ao.jsonID("addMark",Ih);class cu extends ao{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ft(mL(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ds.fromReplace(e,this.from,this.to,r)}invert(){return new Ih(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new cu(n.pos,r.pos,this.mark)}merge(e){return e instanceof cu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new cu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new cu(n.from,n.to,e.markFromJSON(n.mark))}}ao.jsonID("removeMark",cu);class Dh extends ao{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ds.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ds.fromReplace(e,this.pos,this.pos+1,new Ft(ht.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Dh(this.pos,n.marks[i]);return new Dh(this.pos,this.mark)}}return new Hm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dh(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Dh(n.pos,e.markFromJSON(n.mark))}}ao.jsonID("addNodeMark",Dh);class Hm extends ao{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ds.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ds.fromReplace(e,this.pos,this.pos+1,new Ft(ht.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Dh(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hm(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Hm(n.pos,e.markFromJSON(n.mark))}}ao.jsonID("removeNodeMark",Hm);class ga extends ao{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&UR(e,this.from,this.to)?Ds.fail("Structure replace would overwrite content"):Ds.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ol([this.from,this.to-this.from,this.slice.size])}invert(e){return new ga(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ga(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ga)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ft.empty:new Ft(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ga(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ft.empty:new Ft(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ga(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ga(n.from,n.to,Ft.fromJSON(e,n.slice),!!n.structure)}}ao.jsonID("replace",ga);class xa extends ao{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(UR(e,this.from,this.gapFrom)||UR(e,this.gapTo,this.to)))return Ds.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ds.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ds.fromReplace(e,this.from,this.to,r):Ds.fail("Content does not fit in gap")}getMap(){return new Ol([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new xa(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new xa(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xa(n.from,n.to,n.gapFrom,n.gapTo,Ft.fromJSON(e,n.slice),n.insert,!!n.structure)}}ao.jsonID("replaceAround",xa);function UR(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function o7e(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let m=Math.max(u,e),p=Math.min(u+c.nodeSize,n),y=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(y)||(a&&a.to==m&&a.mark.eq(f[v])?a.to=p:i.push(a=new cu(m,p,f[v])));l&&l.to==m?l.to=p:s.push(l=new Ih(m,p,r))}}),i.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function l7e(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let c=null;if(r instanceof oj){let u=a.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],m;for(let p=0;p<i.length;p++){let y=i[p];y.step==s-1&&f.eq(i[p].style)&&(m=y)}m?(m.to=u,m.step=s):i.push({style:f,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(a=>t.step(new cu(a.from,a.to,a.style)))}function gL(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<s.childCount;c++){let u=s.child(c),d=l+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new ga(l,d,Ft.empty));else{r=f;for(let m=0;m<u.marks.length;m++)n.allowsMarkType(u.marks[m].type)||t.step(new cu(l,d,u.marks[m]));if(i&&u.isText&&n.whitespace!="pre"){let m,p=/\r?\n|\r/g,y;for(;m=p.exec(u.text);)y||(y=new Ft(ht.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new ga(l+m.index,l+m.index+m[0].length,y))}}l=d}if(!r.validEnd){let c=r.fillBefore(ht.empty,!0);t.replace(l,l,new Ft(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function c7e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function tx(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!c7e(i,s,a))break}return null}function u7e(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),c=a,u=l,d=ht.empty,f=0;for(let y=s,v=!1;y>n;y--)v||r.index(y)>0?(v=!0,d=ht.from(r.node(y).copy(d)),f++):c--;let m=ht.empty,p=0;for(let y=s,v=!1;y>n;y--)v||i.after(y+1)<i.end(y)?(v=!0,m=ht.from(i.node(y).copy(m)),p++):u++;t.step(new xa(c,u,a,l,new Ft(d.append(m),f,p),d.size-f,!0))}function vL(t,e,n=null,r=t){let i=d7e(t,e),s=i&&f7e(r,e);return s?i.map(iV).concat({type:e,attrs:n}).concat(s.map(iV)):null}function iV(t){return{type:t,attrs:null}}function d7e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function f7e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;c&&u<i;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function h7e(t,e,n){let r=ht.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ht.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new xa(i,s,i,s,new Ft(r,0,0),n.length,!0))}function p7e(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,c)&&m7e(t.doc,t.mapping.slice(s).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!y?u=!1:!p&&y&&(u=!0)}u===!1&&Fse(t,a,l,s),gL(t,t.mapping.slice(s).map(l,1),r,void 0,u===null);let d=t.mapping.slice(s),f=d.map(l,1),m=d.map(l+a.nodeSize,1);return t.step(new xa(f,m,f+1,m-1,new Ft(ht.from(r.create(c,null,a.marks)),0,0),1,!0)),u===!0&&Lse(t,a,l,s),!1}})}function Lse(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let c=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function Fse(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function m7e(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function g7e(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new xa(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ft(ht.from(a),0,0),1,!0))}function vf(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>s;u--,d--){let f=i.node(u),m=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(m,f.childCount),y=r&&r[d+1];y&&(p=p.replaceChild(0,y.type.create(y.attrs)));let v=r&&r[d]||f;if(!f.canReplace(m+1,f.childCount)||!v.type.validContent(p))return!1}let l=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(l,l,c?c.type:i.node(s+1).type)}function v7e(t,e,n=1,r){let i=t.doc.resolve(e),s=ht.empty,a=ht.empty;for(let l=i.depth,c=i.depth-n,u=n-1;l>c;l--,u--){s=ht.from(i.node(l).copy(s));let d=r&&r[u];a=ht.from(d?d.type.create(d.attrs,a):i.node(l).copy(a))}t.step(new ga(e,e,new Ft(s.append(a),n,n),!0))}function vp(t,e){let n=t.resolve(e),r=n.index();return Bse(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function y7e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Bse(t,e){return!!(t&&e&&!t.isLeaf&&y7e(t,e))}function lj(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&Bse(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function x7e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);Fse(t,d.node(),d.before(),l)}a.inlineContent&&gL(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let c=t.mapping.slice(l),u=c.map(e-n);if(t.step(new ga(u,c.map(e+n,-1),Ft.empty,!0)),r===!0){let d=t.doc.resolve(u);Lse(t,d.node(),d.before(),t.steps.length)}return t}function b7e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function $se(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(s==1)d=u.canReplace(c,c,i);else{let f=u.contentMatchAt(c).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function cj(t,e,n=e,r=Ft.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return zse(i,s,r)?new ga(e,n,r):new w7e(i,s,r).fit()}function zse(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class w7e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ht.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ht.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let c=new Ft(s,a,l);return e>-1?new xa(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new ga(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=SO(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(ht.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:d};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=SO(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ft(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=SO(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ft(ib(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ft(ib(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,d=[],{match:f,type:m}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)d.push(i.child(v));f=f.matchFragment(i)}let p=l.size+e-(a.content.size-a.openEnd);for(;u<l.childCount;){let v=l.child(u),x=f.matchType(v.type);if(!x)break;u++,(u>1||c==0||v.content.size)&&(f=x,d.push(qse(v.mark(m.allowedMarks(v.marks)),u==1?c:0,u==l.childCount?p:-1)))}let y=u==l.childCount;y||(p=-1),this.placed=sb(this.placed,n,ht.from(d)),this.frontier[n].match=f,y&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,x=l;v<p;v++){let b=x.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),x=b.content}this.unplaced=y?e==0?Ft.empty:new Ft(ib(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new Ft(ib(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!EO(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=EO(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=EO(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sb(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=sb(this.placed,this.depth,ht.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ht.empty,!0);n.childCount&&(this.placed=sb(this.placed,this.frontier.length,n))}}function ib(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ib(t.firstChild.content,e-1,n)))}function sb(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(sb(t.lastChild.content,e-1,n)))}function SO(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function qse(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,qse(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ht.empty,!0)))),t.copy(r)}function EO(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!N7e(n,s.content,a)?l:null}function N7e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function S7e(t){return t.spec.defining||t.spec.definingForContent}function E7e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(zse(i,s,r))return t.step(new ga(e,n,r));let a=Hse(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let m=i.depth,p=i.pos-1;m>0;m--,p--){let y=i.node(m).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;a.indexOf(m)>-1?l=m:i.before(m)==p&&a.splice(1,0,-m)}let c=a.indexOf(l),u=[],d=r.openStart;for(let m=r.content,p=0;;p++){let y=m.firstChild;if(u.push(y),p==r.openStart)break;m=y.content}for(let m=d-1;m>=0;m--){let p=u[m],y=S7e(p.type);if(y&&!p.sameMarkup(i.node(Math.abs(l)-1)))d=m;else if(y||!p.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let p=(m+d+1)%(r.openStart+1),y=u[p];if(y)for(let v=0;v<a.length;v++){let x=a[(v+c)%a.length],b=!0;x<0&&(b=!1,x=-x);let S=i.node(x-1),_=i.index(x-1);if(S.canReplaceWith(_,_,y.type,y.marks))return t.replace(i.before(x),b?s.after(x):n,new Ft(Use(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let m=a.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>f));m--){let p=a[m];p<0||(e=i.before(p),n=s.after(p))}}function Use(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Use(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ht.empty,!0))}return t}function _7e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=b7e(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ft(ht.from(r),0,0))}function j7e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=Hse(r,i);for(let a=0;a<s.length;a++){let l=s[a],c=a==s.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function Hse(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Mv extends ao{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ds.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ds.fromReplace(e,this.pos,this.pos+1,new Ft(ht.from(i),0,n.isLeaf?0:1))}getMap(){return Ol.empty}invert(e){return new Mv(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Mv(n.pos,n.attr,n.value)}}ao.jsonID("attr",Mv);class q0 extends ao{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ds.ok(r)}getMap(){return Ol.empty}invert(e){return new q0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new q0(n.attr,n.value)}}ao.jsonID("docAttr",q0);let xy=class extends Error{};xy=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};xy.prototype=Object.create(Error.prototype);xy.prototype.constructor=xy;xy.prototype.name="TransformError";class yL{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new z0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new xy(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ft.empty){let i=cj(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ft(ht.from(r),0,0))}delete(e,n){return this.replace(e,n,Ft.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return E7e(this,e,n,r),this}replaceRangeWith(e,n,r){return _7e(this,e,n,r),this}deleteRange(e,n){return j7e(this,e,n),this}lift(e,n){return u7e(this,e,n),this}join(e,n=1){return x7e(this,e,n),this}wrap(e,n){return h7e(this,e,n),this}setBlockType(e,n=e,r,i=null){return p7e(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return g7e(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Mv(e,n,r)),this}setDocAttribute(e,n){return this.step(new q0(e,n)),this}addNodeMark(e,n){return this.step(new Dh(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof fi)n.isInSet(r.marks)&&this.step(new Hm(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Hm(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return v7e(this,e,n,r),this}addMark(e,n,r){return o7e(this,e,n,r),this}removeMark(e,n,r){return l7e(this,e,n,r),this}clearIncompatible(e,n,r){return gL(this,e,n,r),this}}const _O=Object.create(null);class Mn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Vse(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ft.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],d=e.mapping.slice(s);e.replaceRange(d.map(c.pos),d.map(u.pos),l?Ft.empty:n),l==0&&oV(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(l.pos);s?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),oV(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Sn(e):iv(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?iv(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):iv(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Il(e.node(0))}static atStart(e){return iv(e,e,0,0,1)||new Il(e)}static atEnd(e){return iv(e,e,e.content.size,e.childCount,-1)||new Il(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=_O[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in _O)throw new RangeError("Duplicate use of selection JSON ID "+e);return _O[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Sn.between(this.$anchor,this.$head).getBookmark()}}Mn.prototype.visible=!0;class Vse{constructor(e,n){this.$from=e,this.$to=n}}let sV=!1;function aV(t){!sV&&!t.parent.inlineContent&&(sV=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Sn extends Mn{constructor(e,n=e){aV(e),aV(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Mn.near(r);let i=e.resolve(n.map(this.anchor));return new Sn(i.parent.inlineContent?i:r,r)}replace(e,n=Ft.empty){if(super.replace(e,n),n==Ft.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Sn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new uj(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Sn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Mn.findFrom(n,r,!0)||Mn.findFrom(n,-r,!0);if(s)n=s.$head;else return Mn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Mn.findFrom(e,-r,!0)||Mn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Sn(e,n)}}Mn.jsonID("text",Sn);class uj{constructor(e,n){this.anchor=e,this.head=n}map(e){return new uj(e.map(this.anchor),e.map(this.head))}resolve(e){return Sn.between(e.resolve(this.anchor),e.resolve(this.head))}}class bn extends Mn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Mn.near(s):new bn(s)}content(){return new Ft(ht.from(this.node),0,0)}eq(e){return e instanceof bn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xL(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new bn(e.resolve(n.anchor))}static create(e,n){return new bn(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}bn.prototype.visible=!1;Mn.jsonID("node",bn);class xL{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new uj(r,r):new xL(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&bn.isSelectable(r)?new bn(n):Mn.near(n)}}class Il extends Mn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ft.empty){if(n==Ft.empty){e.delete(0,e.doc.content.size);let r=Mn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Il(e)}map(e){return new Il(e)}eq(e){return e instanceof Il}getBookmark(){return A7e}}Mn.jsonID("all",Il);const A7e={map(){return this},resolve(t){return new Il(t)}};function iv(t,e,n,r,i,s=!1){if(e.inlineContent)return Sn.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&bn.isSelectable(l))return bn.create(t,n-(i<0?l.nodeSize:0))}else{let c=iv(t,l,n+i,i<0?l.childCount:0,i,s);if(c)return c}n+=l.nodeSize*i}return null}function oV(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ga||i instanceof xa))return;let s=t.mapping.maps[r],a;s.forEach((l,c,u,d)=>{a==null&&(a=d)}),t.setSelection(Mn.near(t.doc.resolve(a),n))}const lV=1,n2=2,cV=4;class C7e extends yL{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lV)&~n2,this.storedMarks=null,this}get selectionSet(){return(this.updated&lV)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=n2,this}ensureMarks(e){return fi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&n2)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~n2,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||fi.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Mn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=cV,this}get scrolledIntoView(){return(this.updated&cV)>0}}function uV(t,e){return!e||!t?t:t.bind(e)}class ab{constructor(e,n,r){this.name=e,this.init=uV(n.init,r),this.apply=uV(n.apply,r)}}const k7e=[new ab("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ab("selection",{init(t,e){return t.selection||Mn.atStart(e.doc)},apply(t){return t.selection}}),new ab("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ab("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class jO{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=k7e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ab(r.key,r.spec.state,r))})}}class vv{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=i?i[a].n:0,u=i?i[a].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new vv(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new C7e(this)}static create(e){let n=new jO(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new vv(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new jO(this.schema,e.plugins),r=n.fields,i=new vv(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new jO(e.schema,e.plugins),s=new vv(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Wh.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Mn.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=u.fromJSON.call(c,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function Wse(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Wse(i,e,{})),n[r]=i}return n}class Mi{constructor(e){this.spec=e,this.props={},e.props&&Wse(e.props,this,this.props),this.key=e.key?e.key.key:Kse("plugin")}getState(e){return e[this.key]}}const AO=Object.create(null);function Kse(t){return t in AO?t+"$"+ ++AO[t]:(AO[t]=0,t+"$")}class ps{constructor(e="key"){this.key=Kse(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const bL=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Gse(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Yse=(t,e,n)=>{let r=Gse(t,n);if(!r)return!1;let i=wL(r);if(!i){let a=r.blockRange(),l=a&&tx(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(iae(t,i,e,-1))return!0;if(r.parent.content.size==0&&(by(s,"end")||bn.isSelectable(s)))for(let a=r.depth;;a--){let l=cj(t.doc,r.before(a),r.after(a),Ft.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(by(s,"end")?Mn.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):bn.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},T7e=(t,e,n)=>{let r=Gse(t,n);if(!r)return!1;let i=wL(r);return i?Xse(t,i,e):!1},O7e=(t,e,n)=>{let r=Qse(t,n);if(!r)return!1;let i=NL(r);return i?Xse(t,i,e):!1};function Xse(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=cj(t.doc,s,c,Ft.empty);if(!u||u.from!=s||u instanceof ga&&u.slice.size>=c-s)return!1;if(n){let d=t.tr.step(u);d.setSelection(Sn.create(d.doc,s)),n(d.scrollIntoView())}return!0}function by(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Zse=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=wL(r)}let a=s&&s.nodeBefore;return!a||!bn.isSelectable(a)?!1:(e&&e(t.tr.setSelection(bn.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function wL(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Qse(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Jse=(t,e,n)=>{let r=Qse(t,n);if(!r)return!1;let i=NL(r);if(!i)return!1;let s=i.nodeAfter;if(iae(t,i,e,1))return!0;if(r.parent.content.size==0&&(by(s,"start")||bn.isSelectable(s))){let a=cj(t.doc,r.before(),r.after(),Ft.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(by(s,"start")?Mn.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):bn.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},eae=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=NL(r)}let a=s&&s.nodeAfter;return!a||!bn.isSelectable(a)?!1:(e&&e(t.tr.setSelection(bn.create(t.doc,s.pos)).scrollIntoView()),!0)};function NL(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const P7e=(t,e)=>{let n=t.selection,r=n instanceof bn,i;if(r){if(n.node.isTextblock||!vp(t.doc,n.from))return!1;i=n.from}else if(i=lj(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(bn.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},M7e=(t,e)=>{let n=t.selection,r;if(n instanceof bn){if(n.node.isTextblock||!vp(t.doc,n.to))return!1;r=n.to}else if(r=lj(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},R7e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&tx(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},tae=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function SL(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const I7e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=SL(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Mn.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},nae=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Il||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=SL(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(Sn.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},rae=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(vf(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&tx(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function D7e(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof bn&&e.selection.node.isBlock)return!r.parentOffset||!vf(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,c=!1,u=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){c=r.end(p)==r.pos+(r.depth-p),u=r.start(p)==r.pos-(r.depth-p),l=SL(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(c&&l?{type:l}:null),a=p;break}else{if(p==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof Sn||e.selection instanceof Il)&&d.deleteSelection();let f=d.mapping.map(r.pos),m=vf(d.doc,f,s.length,s);if(m||(s[0]=l?{type:l}:null,m=vf(d.doc,f,s.length,s)),!m)return!1;if(d.split(f,s.length,s),!c&&u&&r.node(a).type!=l){let p=d.mapping.map(r.before(a)),y=d.doc.resolve(p);l&&r.node(a-1).canReplaceWith(y.index(),y.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const L7e=D7e(),F7e=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(bn.create(t.doc,i))),!0)};function B7e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||vp(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function iae(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&B7e(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,y=ht.empty;for(let b=a.length-1;b>=0;b--)y=ht.from(a[b].create(null,y));y=ht.from(i.copy(y));let v=t.tr.step(new xa(e.pos-1,p,e.pos,p,new Ft(y,1,0),a.length,!0)),x=v.doc.resolve(p+2*a.length);x.nodeAfter&&x.nodeAfter.type==i.type&&vp(v.doc,x.pos)&&v.join(x.pos),n(v.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&c?null:Mn.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),m=f&&tx(f);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(f,m).scrollIntoView()),!0;if(u&&by(s,"start",!0)&&by(i,"end")){let p=i,y=[];for(;y.push(p),!p.isTextblock;)p=p.lastChild;let v=s,x=1;for(;!v.isTextblock;v=v.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,v.content)){if(n){let b=ht.empty;for(let _=y.length-1;_>=0;_--)b=ht.from(y[_].copy(b));let S=t.tr.step(new xa(e.pos-y.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Ft(b,y.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function sae(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Sn.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const $7e=sae(-1),z7e=sae(1);function q7e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&vL(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function dV(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(c,u)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let d=n.doc.resolve(u),f=d.index();i=d.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];s.setBlockType(l,c,t,e)}r(s.scrollIntoView())}return!0}}function EL(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}EL(bL,Yse,Zse);EL(bL,Jse,eae);EL(tae,nae,rae,L7e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function U7e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return H7e(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function H7e(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new LS(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new LS(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=vL(s,n,r,e);return l?(t&&V7e(t,e,l,i,n),!0):!1}function V7e(t,e,n,r,i){let s=ht.empty;for(let d=n.length-1;d>=0;d--)s=ht.from(n[d].type.create(n[d].attrs,s));t.step(new xa(e.start-(r?2:0),e.end,e.start,e.end,new Ft(s,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let l=n.length-a,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,m=!0;d<f;d++,m=!1)!m&&vf(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function W7e(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?K7e(e,n,t,s):G7e(e,n,s):!0:!1}}function K7e(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new xa(s-1,a,s,a,new Ft(ht.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new LS(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=tx(r);if(l==null)return!1;i.lift(r,l);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return vp(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function G7e(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,y=n.endIndex-1,v=n.startIndex;y>v;y--)p-=i.child(y).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==i.childCount,u=s.node(-1),d=s.index(-1);if(!u.canReplace(d+(l?0:1),d+1,a.content.append(c?ht.empty:ht.from(i))))return!1;let f=s.pos,m=f+a.nodeSize;return r.step(new xa(f-(l?1:0),m+(c?1:0),f+1,m-1,new Ft((l?ht.empty:ht.from(i.copy(ht.empty))).append(c?ht.empty:ht.from(i.copy(ht.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function Y7e(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=ht.from(u?t.create():null),f=new Ft(ht.from(t.create(null,ht.from(l.type.create(null,d)))),u?3:1,0),m=s.start,p=s.end;n(e.tr.step(new xa(m-(u?3:1),p,m,p,f,1,!0)).scrollIntoView())}return!0}}const Ma=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},wy=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let HR=null;const af=function(t,e,n){let r=HR||(HR=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},X7e=function(){HR=null},Vm=function(t,e,n,r){return n&&(fV(t,e,n,r,-1)||fV(t,e,n,r,1))},Z7e=/^(img|br|input|textarea|hr)$/i;function fV(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:fc(t))){let a=t.parentNode;if(!a||a.nodeType!=1||O1(t)||Z7e.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ma(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?fc(t):0}else return!1}}function fc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Q7e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=fc(t)}else if(t.parentNode&&!O1(t))e=Ma(t),t=t.parentNode;else return null}}function J7e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!O1(t))e=Ma(t)+1,t=t.parentNode;else return null}}function eze(t,e,n){for(let r=e==0,i=e==fc(t);r||i;){if(t==n)return!0;let s=Ma(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==fc(t)}}function O1(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const dj=function(t){return t.focusNode&&Vm(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function tm(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function tze(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function nze(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(fc(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(fc(r.startContainer),r.startOffset)}}}const pd=typeof navigator<"u"?navigator:null,hV=typeof document<"u"?document:null,yp=pd&&pd.userAgent||"",VR=/Edge\/(\d+)/.exec(yp),aae=/MSIE \d/.exec(yp),WR=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yp),il=!!(aae||WR||VR),Kh=aae?document.documentMode:WR?+WR[1]:VR?+VR[1]:0,vc=!il&&/gecko\/(\d+)/i.test(yp);vc&&+(/Firefox\/(\d+)/.exec(yp)||[0,0])[1];const KR=!il&&/Chrome\/(\d+)/.exec(yp),ro=!!KR,oae=KR?+KR[1]:0,ko=!il&&!!pd&&/Apple Computer/.test(pd.vendor),Ny=ko&&(/Mobile\/\w+/.test(yp)||!!pd&&pd.maxTouchPoints>2),uc=Ny||(pd?/Mac/.test(pd.platform):!1),rze=pd?/Win/.test(pd.platform):!1,ff=/Android \d/.test(yp),P1=!!hV&&"webkitFontSmoothing"in hV.documentElement.style,ize=P1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sze(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Jd(t,e){return typeof t=="number"?t:t[e]}function aze(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function pV(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=wy(a);continue}let l=a,c=l==s.body,u=c?sze(s):aze(l),d=0,f=0;if(e.top<u.top+Jd(r,"top")?f=-(u.top-e.top+Jd(i,"top")):e.bottom>u.bottom-Jd(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Jd(i,"top")-u.top:e.bottom-u.bottom+Jd(i,"bottom")),e.left<u.left+Jd(r,"left")?d=-(u.left-e.left+Jd(i,"left")):e.right>u.right-Jd(r,"right")&&(d=e.right-u.right+Jd(i,"right")),d||f)if(c)s.defaultView.scrollBy(d,f);else{let p=l.scrollLeft,y=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let v=l.scrollLeft-p,x=l.scrollTop-y;e={left:e.left-v,top:e.top-x,right:e.right-v,bottom:e.bottom-x}}let m=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(m))break;a=m=="absolute"?a.offsetParent:wy(a)}}function oze(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,i=c.top;break}}return{refDOM:r,refTop:i,stack:lae(t.dom)}}function lae(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=wy(r));return e}function lze({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;cae(n,r==0?0:r-e)}function cae(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Yg=null;function cze(t){if(t.setActive)return t.setActive();if(Yg)return t.focus(Yg);let e=lae(t);t.focus(Yg==null?{get preventScroll(){return Yg={preventScroll:!0},!0}}:void 0),Yg||(Yg=!1,cae(e,0))}function uae(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=af(d).getClientRects();else continue;for(let p=0;p<m.length;p++){let y=m[p];if(y.top<=a&&y.bottom>=l){a=Math.max(y.bottom,a),l=Math.min(y.top,l);let v=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(v<r){n=d,r=v,i=v&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,d.nodeType==1&&v&&(s=f+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!c&&y.left<=e.left&&y.right>=e.left&&(c=d,u={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(s=f+1)}}return!n&&c&&(n=c,i=u,r=0),n&&n.nodeType==3?uze(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:uae(n,i)}function uze(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=yh(r,1);if(s.top!=s.bottom&&_L(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function _L(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function dze(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function fze(t,e,n){let{node:r,offset:i}=uae(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function hze(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?i=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function dae(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(_L(e,u))return dae(a,e,u)}}if((s=(s+1)%r)==i)break}return t}function pze(t,e){let n=t.dom.ownerDocument,r,i=0,s=nze(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!_L(e,u)||(a=dae(t.dom,e,u),!a))return null}if(ko)for(let u=a;r&&u;u=wy(u))u.draggable&&(r=void 0);if(a=dze(a,e),r){if(vc&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;P1&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=hze(t,r,i,e))}l==null&&(l=fze(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function mV(t){return t.top<t.bottom||t.left<t.right}function yh(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(mV(r))return r}return Array.prototype.find.call(n,mV)||t.getBoundingClientRect()}const mze=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function fae(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=P1||vc;if(r.nodeType==3)if(a&&(mze.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=yh(af(r,i,i),n);if(vc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=yh(af(r,i-1,i-1),-1);if(u.top==c.top){let d=yh(af(r,i,i+1),-1);if(d.top!=c.top)return Wx(d,d.left<u.left)}}return c}else{let c=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==r.nodeValue.length?(c--,d=1):n<0?c--:u++,Wx(yh(af(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==fc(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return CO(c.getBoundingClientRect(),!1)}if(s==null&&i<fc(r)){let c=r.childNodes[i];if(c.nodeType==1)return CO(c.getBoundingClientRect(),!0)}return CO(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==fc(r))){let c=r.childNodes[i-1],u=c.nodeType==3?af(c,fc(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Wx(yh(u,1),!1)}if(s==null&&i<fc(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?af(c,0,a?0:1):c.nodeType==1?c:null:null;if(u)return Wx(yh(u,-1),!0)}return Wx(yh(r.nodeType==3?af(r):r,-n),n>=0)}function Wx(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function CO(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function hae(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function gze(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return hae(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=fae(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=af(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const vze=/[\u0590-\u08ac]/;function yze(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!vze.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:hae(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),m=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:y,focusOffset:v}=t.domSelectionRange(),x=y&&!p.contains(y.nodeType==1?y:y.parentNode)||c==y&&u==v;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return m!=null&&(l.caretBidiLevel=m),x}):r.pos==r.start()||r.pos==r.end()}let gV=null,vV=null,yV=!1;function xze(t,e,n){return gV==e&&vV==n?yV:(gV=e,vV=n,yV=n=="up"||n=="down"?gze(t,e,n):yze(t,e,n))}const yc=0,xV=1,dm=2,md=3;class M1{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=yc,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ma(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof mae){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof pae&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ma(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ma(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let c=this.children[l],u=a+c.size;if(i==-1&&e<=u){let d=a+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=a;for(let f=l;f>0;f--){let m=this.children[f-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=Ma(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Ma(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let p=0,y=0;p<this.children.length;p++){let v=this.children[p],x=y+v.size;if(s>y&&a<x)return v.setSelection(e-y-v.border,n-y-v.border,r,i);y=x}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((vc||ko)&&e==n){let{node:p,offset:y}=l;if(p.nodeType==3){if(f=!!(y&&p.nodeValue[y-1]==`
`),f&&y==p.nodeValue.length)for(let v=p,x;v;v=v.parentNode){if(x=v.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:Ma(x)+1});break}let b=v.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let v=p.childNodes[y-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(vc&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&ko)&&Vm(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Vm(c.node,c.offset,d.focusNode,d.focusOffset))return;let m=!1;if((u.extend||e==n)&&!(f&&vc)){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>n){let y=l;l=c,c=y}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,c=a-s.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?dm:xV,e==l&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=md:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?dm:md}r=a}this.dirty=dm}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?dm:xV;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class pae extends M1{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==yc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class bze extends M1{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wm extends M1{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=ug.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wm(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&md||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=md&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=yc){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=yc}}slice(e,n,r){let i=Wm.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=YR(s,n,a,r)),e>0&&(s=YR(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Gh extends M1{constructor(e,n,r,i,s,a,l,c,u){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],c,u=l&&l(n,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=ug.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=yae(d,r,n),u?c=new wze(e,n,r,i,d,f||null,m,u,s,a+1):n.isText?new fj(e,n,r,i,d,m,s):new Gh(e,n,r,i,d,f||null,m,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ht.empty)}return e}matchesNode(e,n,r){return this.dirty==yc&&e.eq(this.node)&&BS(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new Sze(this,a&&a.node,e);jze(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?fi.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,i)},(u,d,f,m)=>{c.syncToMarks(u.marks,r,e);let p;c.findNodeMatch(u,d,f,m)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(u,d,f,p,e)||c.updateNextNode(u,d,f,e,m,i)||c.addNode(u,d,f,e,i),i+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==dm)&&(a&&this.protectLocalComposition(e,a),gae(this.contentDOM,this.children,e),Ny&&Aze(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Sn)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=Cze(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new bze(this,s,n,i);e.input.compositionNodes.push(a),this.children=YR(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==md||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=yc}updateOuterDeco(e){if(BS(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=vae(this.dom,this.nodeDOM,GR(this.outerDeco,this.node,n),GR(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function bV(t,e,n,r,i){yae(r,e,t);let s=new Gh(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class fj extends Gh{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==md||this.dirty!=yc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=yc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=yc,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new fj(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=md)}get domAtom(){return!1}isText(e){return this.node.text==e}}class mae extends M1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==yc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class wze extends Gh{constructor(e,n,r,i,s,a,l,c,u,d){super(e,n,r,i,s,a,l,u,d),this.spec=c}update(e,n,r,i){if(this.dirty==md)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function gae(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=wV(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof Wm){let c=r?r.previousSibling:t.lastChild;gae(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=wV(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const kb=function(t){t&&(this.nodeName=t)};kb.prototype=Object.create(null);const fm=[new kb];function GR(t,e,n){if(t.length==0)return fm;let r=n?fm[0]:new kb,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new kb(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&i.length==1&&i.push(r=new kb(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return i}function vae(t,e,n,r){if(n==fm&&r==fm)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let c;l&&l.nodeName==a.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=fm[0]),i=c}Nze(i,l||fm[0],a)}return i}function Nze(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function yae(t,e,n){return vae(t,t,fm,GR(e,n,t.nodeType!=1))}function BS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function wV(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Sze{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Eze(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=yc,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Wm.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==md&&a.dom==a.contentDOM&&(a.dirty=dm),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Gh){let u=this.preMatch.matched.get(c);if(u!=null&&u!=s)return!1;let d=c.dom,f,m=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=md&&BS(n,c.outerDeco));if(!m&&c.update(e,n,r,i))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(f=this.recreateWrapper(c,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=dm,f.updateChildren(i,a+1),f.dirty=yc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!BS(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Gh.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Gh.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new pae(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wm;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof fj)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ko||ro)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new mae(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Eze(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Wm)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function _ze(t,e){return t.type.side-e.type.side}function jze(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,i,e.forChild(s,d),u),s+=d.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let d,f;for(;a<i.length&&i[a].to==s;){let x=i[a++];x.widget&&(d?(f||(f=[d])).push(x):d=x)}if(d)if(f){f.sort(_ze);for(let x=0;x<f.length;x++)n(f[x],u,!!c)}else n(d,u,!!c);let m,p;if(c)p=-1,m=c,c=null;else if(u<t.childCount)p=u,m=t.child(u++);else break;for(let x=0;x<l.length;x++)l[x].to<=s&&l.splice(x--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let y=s+m.nodeSize;if(m.isText){let x=y;a<i.length&&i[a].from<x&&(x=i[a].from);for(let b=0;b<l.length;b++)l[b].to<x&&(x=l[b].to);x<y&&(c=m.cut(x-s),m=m.cut(0,x-s),y=x,p=-1)}else for(;a<i.length&&i[a].to<y;)a++;let v=m.isInline&&!m.isLeaf?l.filter(x=>!x.inline):l.slice();r(m,v,e.forChild(s,m),p),s=y}}function Aze(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Cze(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=n){if(s>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?c.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function YR(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],u=l,d=l+=c.size;u>=n||d<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,r)),i&&(s.push(i),i=void 0),d>n&&s.push(c.slice(n-u,c.size,r)))}return s}function jL(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,u;if(dj(n)){for(c=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&bn.isSelectable(f)&&i.parent&&!(f.isInline&&eze(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;u=new bn(a==m?l:r.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,m=a;for(let p=0;p<n.rangeCount;p++){let y=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(f<0)return null;[c,a]=m==t.state.selection.anchor?[m,f]:[f,m],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=AL(t,d,l,f)}return u}function xae(t){return t.editable?t.hasFocus():wae(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function yf(t,e=!1){let n=t.state.selection;if(bae(t,n),!!xae(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ro){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Vm(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Tze(t);else{let{anchor:r,head:i}=n,s,a;NV&&!(n instanceof Sn)&&(n.$from.parent.inlineContent||(s=SV(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=SV(t,n.to))),t.docView.setSelection(r,i,t,e),NV&&(s&&EV(s),a&&EV(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&kze(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const NV=ko||ro&&oae<63;function SV(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ko&&i&&i.contentEditable=="false")return kO(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return kO(i);if(s)return kO(s)}}function kO(t){return t.contentEditable="true",ko&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function EV(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function kze(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!xae(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Tze(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Ma(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&il&&Kh<=11&&(n.disabled=!0,n.disabled=!1)}function bae(t,e){if(e instanceof bn){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(_V(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else _V(t)}function _V(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function AL(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Sn.between(e,n,r)}function jV(t){return t.editable&&!t.hasFocus()?!1:wae(t)}function wae(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Oze(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Vm(e.node,e.offset,n.anchorNode,n.anchorOffset)}function XR(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Mn.findFrom(s,e)}function Nh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function AV(t,e,n){let r=t.state.selection;if(r instanceof Sn)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Nh(t,new Sn(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=XR(t.state,e);return i&&i instanceof bn?Nh(t,i):!1}else if(!(uc&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?bn.isSelectable(s)?Nh(t,new bn(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):P1?Nh(t,new Sn(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof bn&&r.node.isInline)return Nh(t,new Sn(e>0?r.$to:r.$from));{let i=XR(t.state,e);return i?Nh(t,i):!1}}}function $S(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Tb(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Xg(t,e){return e<0?Pze(t):Mze(t)}function Pze(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(vc&&n.nodeType==1&&r<$S(n)&&Tb(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Tb(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(Nae(n))break;{let l=n.previousSibling;for(;l&&Tb(l,-1);)i=n.parentNode,s=Ma(l),l=l.previousSibling;if(l)n=l,r=$S(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?ZR(t,n,r):i&&ZR(t,i,s)}function Mze(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=$S(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Tb(l,1))s=n,a=++r;else break}else{if(Nae(n))break;{let l=n.nextSibling;for(;l&&Tb(l,1);)s=l.parentNode,a=Ma(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=$S(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&ZR(t,s,a)}function Nae(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Rze(t,e){for(;t&&e==t.childNodes.length&&!O1(t);)e=Ma(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Ize(t,e){for(;t&&!e&&!O1(t);)e=Ma(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ZR(t,e,n){if(e.nodeType!=3){let s,a;(a=Rze(e,n))?(e=a,n=0):(s=Ize(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(dj(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&yf(t)},50)}function CV(t,e){let n=t.state.doc.resolve(e);if(!(ro||rze)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function kV(t,e,n){let r=t.state.selection;if(r instanceof Sn&&!r.empty||n.indexOf("s")>-1||uc&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=XR(t.state,e);if(a&&a instanceof bn)return Nh(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof Il?Mn.near(a,e):Mn.findFrom(a,e);return l?Nh(t,l):!1}return!1}function TV(t,e){if(!(t.state.selection instanceof Sn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function OV(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Dze(t){if(!ko||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;OV(t,r,"true"),setTimeout(()=>OV(t,r,"false"),20)}return!1}function Lze(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Fze(t,e){let n=e.keyCode,r=Lze(e);if(n==8||uc&&n==72&&r=="c")return TV(t,-1)||Xg(t,-1);if(n==46&&!e.shiftKey||uc&&n==68&&r=="c")return TV(t,1)||Xg(t,1);if(n==13||n==27)return!0;if(n==37||uc&&n==66&&r=="c"){let i=n==37?CV(t,t.state.selection.from)=="ltr"?-1:1:-1;return AV(t,i,r)||Xg(t,i)}else if(n==39||uc&&n==70&&r=="c"){let i=n==39?CV(t,t.state.selection.from)=="ltr"?1:-1:1;return AV(t,i,r)||Xg(t,i)}else{if(n==38||uc&&n==80&&r=="c")return kV(t,-1,r)||Xg(t,-1);if(n==40||uc&&n==78&&r=="c")return Dze(t)||kV(t,1,r)||Xg(t,1);if(r==(uc?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function CL(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=t.someProp("clipboardSerializer")||ug.fromSchema(t.state.schema),l=Cae(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=Aae[u.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let y=l.createElement(d[p]);for(;c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function Sae(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,s||r,t)}),s)return l=new Ft(ht.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{l=m(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",m=>m(e,i,r,t));if(f)l=f;else{let m=i.marks(),{schema:p}=t.state,y=ug.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let x=a.appendChild(document.createElement("p"));v&&x.appendChild(y.serializeNode(p.text(v,m)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=qze(n),P1&&Uze(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let m=a.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;a=m}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ab.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!Bze.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Hze(PV(l,+d[1],+d[2]),d[4]);else if(l=Ft.maxOpen($ze(l.content,i),!0),l.openStart||l.openEnd){let f=0,m=0;for(let p=l.content.firstChild;f<l.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=l.content.lastChild;m<l.openEnd&&!p.type.spec.isolating;m++,p=p.lastChild);l=PV(l,f,m)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const Bze=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $ze(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let c=i.findWrapping(l.type),u;if(!c)return a=null;if(u=a.length&&s.length&&_ae(c,s,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=jae(a[a.length-1],s.length));let d=Eae(l,c);a.push(d),i=i.matchType(d.type),s=c}}),a)return ht.from(a)}return t}function Eae(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ht.from(t));return t}function _ae(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=_ae(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ht.from(Eae(n,t,i+1))))}}function jae(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jae(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ht.empty,!0);return t.copy(n.append(r))}function QR(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=QR(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ht.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function PV(t,e,n){return e<t.openStart&&(t=new Ft(QR(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ft(QR(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Aae={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let MV=null;function Cae(){return MV||(MV=document.implementation.createHTMLDocument("title"))}let TO=null;function zze(t){let e=window.trustedTypes;return e?(TO||(TO=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),TO.createHTML(t)):t}function qze(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Cae().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Aae[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=zze(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Uze(t){let e=t.querySelectorAll(ro?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Hze(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;i=ht.from(c.create(r[l+1],i)),s++,a++}return new Ft(i,s,a)}const To={},Oo={},Vze={touchstart:!0,touchmove:!0};class Wze{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Kze(t){for(let e in To){let n=To[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Yze(t,r)&&!kL(t,r)&&(t.editable||!(r.type in Oo))&&n(t,r)},Vze[e]?{passive:!0}:void 0)}ko&&t.dom.addEventListener("input",()=>null),JR(t)}function Lh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Gze(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function JR(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>kL(t,r))})}function kL(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Yze(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Xze(t,e){!kL(t,e)&&To[e.type]&&(t.editable||!(e.type in Oo))&&To[e.type](t,e)}Oo.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Tae(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ff&&ro&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ny&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,tm(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Fze(t,n)?n.preventDefault():Lh(t,"key")};Oo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Oo.keypress=(t,e)=>{let n=e;if(Tae(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||uc&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Sn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function hj(t){return{left:t.clientX,top:t.clientY}}function Zze(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function TL(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function Rv(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Qze(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&bn.isSelectable(r)?(Rv(t,new bn(n)),!0):!1}function Jze(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof bn&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(bn.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Rv(t,bn.create(t.state.doc,i)),!0):!1}function e9e(t,e,n,r,i){return TL(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Jze(t,n):Qze(t,n))}function t9e(t,e,n,r){return TL(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function n9e(t,e,n,r){return TL(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||r9e(t,n,r)}function r9e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Rv(t,Sn.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)Rv(t,Sn.create(r,l+1,l+1+a.content.size));else if(bn.isSelectable(a))Rv(t,bn.create(r,l));else continue;return!0}}function OL(t){return zS(t)}const kae=uc?"metaKey":"ctrlKey";To.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=OL(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Zze(n,t.input.lastClick)&&!n[kae]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(hj(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new i9e(t,a,n,!!r)):(s=="doubleClick"?t9e:n9e)(t,a.pos,a.inside,n)?n.preventDefault():Lh(t,"pointer"))};class i9e{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[kae],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,a=d.depth?d.before():0}const l=i?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof bn&&u.from<=a&&u.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Lh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>yf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hj(e))),this.updateAllowDefault(e),this.allowDefault||!n?Lh(this.view,"pointer"):e9e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ko&&this.mightDrag&&!this.mightDrag.node.isAtom||ro&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Rv(this.view,Mn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Lh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Lh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}To.touchstart=t=>{t.input.lastTouch=Date.now(),OL(t),Lh(t,"pointer")};To.touchmove=t=>{t.input.lastTouch=Date.now(),Lh(t,"pointer")};To.contextmenu=t=>OL(t);function Tae(t,e){return t.composing?!0:ko&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const s9e=ff?5e3:-1;Oo.compositionstart=Oo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Sn&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),zS(t,!0),t.markCursor=null;else if(zS(t,!e.selection.empty),vc&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}Oae(t,s9e)};Oo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Oae(t,20))};function Oae(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>zS(t),e))}function Pae(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=o9e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function a9e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Q7e(e.focusNode,e.focusOffset),r=J7e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function o9e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function zS(t,e=!1){if(!(ff&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Pae(t),e||t.docView&&t.docView.dirty){let n=jL(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function l9e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const U0=il&&Kh<15||Ny&&ize<604;To.copy=Oo.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=U0?null:n.clipboardData,a=r.content(),{dom:l,text:c}=CL(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):l9e(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function c9e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function u9e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?H0(t,r.value,null,i,e):H0(t,r.textContent,r.innerHTML,i,e)},50)}function H0(t,e,n,r,i){let s=Sae(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,s||Ft.empty)))return!0;if(!s)return!1;let a=c9e(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Mae(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Oo.paste=(t,e)=>{let n=e;if(t.composing&&!ff)return;let r=U0?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&H0(t,Mae(r),r.getData("text/html"),i,n)?n.preventDefault():u9e(t,n)};class Rae{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const d9e=uc?"altKey":"ctrlKey";function Iae(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[d9e]}To.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(hj(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof bn?i.to-1:i.to))){if(r&&r.mightDrag)a=bn.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=bn.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:u,slice:d}=CL(t,l);(!n.dataTransfer.files.length||!ro||oae>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(U0?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",U0||n.dataTransfer.setData("text/plain",u),t.dragging=new Rae(d,Iae(t,n),a)};To.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Oo.dragover=Oo.dragenter=(t,e)=>e.preventDefault();Oo.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(hj(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",y=>{a=y(a,t,!1)}):a=Sae(t,Mae(n.dataTransfer),U0?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&Iae(t,n));if(t.someProp("handleDrop",y=>y(t,n,a||Ft.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let c=a?$se(t.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let u=t.state.tr;if(l){let{node:y}=r;y?y.replace(u):u.deleteSelection()}let d=u.mapping.map(c),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=u.doc;if(f?u.replaceRangeWith(d,d,a.content.firstChild):u.replaceRange(d,d,a),u.doc.eq(m))return;let p=u.doc.resolve(d);if(f&&bn.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new bn(p));else{let y=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((v,x,b,S)=>y=S),u.setSelection(AL(t,p,u.doc.resolve(y)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};To.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&yf(t)},20))};To.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};To.beforeinput=(t,e)=>{if(ro&&ff&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,tm(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Oo)To[t]=Oo[t];function V0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class qS{constructor(e,n){this.toDOM=e,this.spec=n||wm,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Qs(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof qS&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&V0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Yh{constructor(e,n){this.attrs=e,this.spec=n||wm}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Qs(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Yh&&V0(this.attrs,e.attrs)&&V0(this.spec,e.spec)}static is(e){return e.type instanceof Yh}destroy(){}}class PL{constructor(e,n){this.attrs=e,this.spec=n||wm}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Qs(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof PL&&V0(this.attrs,e.attrs)&&V0(this.spec,e.spec)}destroy(){}}class Qs{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Qs(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Qs(e,e,new qS(n,r))}static inline(e,n,r,i){return new Qs(e,n,new Yh(r,i))}static node(e,n,r,i){return new Qs(e,n,new PL(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Yh}get widget(){return this.type instanceof qS}}const sv=[],wm={};class li{constructor(e,n){this.local=e.length?e:sv,this.children=n.length?n:sv}static create(e,n){return n.length?US(n,e,0,wm):Ja}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Ja||e.maps.length==0?this:this.mapInner(e,n,0,0,r||wm)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,i);c&&c.type.valid(n,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?f9e(this.children,a||[],e,n,r,i,s):a?new li(a.sort(Nm),sv):Ja}add(e,n){return n.length?this==Ja?li.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,c)=>{let u=c+r,d;if(d=Lae(n,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(l,d,u+1):i.splice(s,0,c,c+l.nodeSize,US(d,l,u+1,wm)),s+=3}});let a=Dae(s?Fae(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new li(a.length?this.local.concat(a).sort(Nm):this.local,i||this.children)}remove(e){return e.length==0||this==Ja?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,c=r[s+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(a,l+1);u!=Ja?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new li(i,r):Ja}forChild(e,n){if(this==Ja)return this;if(n.isLeaf)return li.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof Yh){let u=Math.max(s,c.from)-s,d=Math.min(a,c.to)-s;u<d&&(i||(i=[])).push(c.copy(u,d))}}if(i){let l=new li(i.sort(Nm),sv);return r?new jh([l,r]):l}return r||Ja}eq(e){if(this==e)return!0;if(!(e instanceof li)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ML(this.localsInner(e))}localsInner(e){if(this==Ja)return sv;if(e.inlineContent||!this.local.some(Yh.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Yh||n.push(this.local[r]);return n}forEachSet(e){e(this)}}li.empty=new li([],[]);li.removeOverlap=ML;const Ja=li.empty;class jh{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,wm));return jh.from(r)}forChild(e,n){if(n.isLeaf)return li.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Ja&&(s instanceof jh?r=r.concat(s.members):r.push(s))}return jh.from(r)}eq(e){if(!(e instanceof jh)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?ML(r?n:n.sort(Nm)):sv}static from(e){switch(e.length){case 0:return Ja;case 1:return e[0];default:return new jh(e.every(n=>n instanceof li)?e:e.reduce((n,r)=>n.concat(r instanceof li?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function f9e(t,e,n,r,i,s,a){let l=t.slice();for(let u=0,d=s;u<n.maps.length;u++){let f=0;n.maps[u].forEach((m,p,y,v)=>{let x=v-y-(p-m);for(let b=0;b<l.length;b+=3){let S=l[b+1];if(S<0||m>S+d-f)continue;let _=l[b]+d-f;p>=_?l[b+1]=m<=_?-2:-1:m>=d&&x&&(l[b]+=x,l[b+1]+=x)}f+=x}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(t[u]+s),f=d-i;if(f<0||f>=r.content.size){c=!0;continue}let m=n.map(t[u+1]+s,-1),p=m-i,{index:y,offset:v}=r.content.findIndex(f),x=r.maybeChild(y);if(x&&v==f&&v+x.nodeSize==p){let b=l[u+2].mapInner(n,x,d+1,t[u]+s+1,a);b!=Ja?(l[u]=f,l[u+1]=p,l[u+2]=b):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=h9e(l,t,e,n,i,s,a),d=US(u,r,0,a);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,m=0;f<d.children.length;f+=3){let p=d.children[f];for(;m<l.length&&l[m]<p;)m+=3;l.splice(m,0,d.children[f],d.children[f+1],d.children[f+2])}}return new li(e.sort(Nm),l)}function Dae(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Qs(i.from+e,i.to+e,i.type))}return n}function h9e(t,e,n,r,i,s,a){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,i,u);f?n.push(f):a.onRemove&&a.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return n}function Lae(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function Fae(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function US(t,e,n,r){let i=[],s=!1;e.forEach((l,c)=>{let u=Lae(t,l,c+n);if(u){s=!0;let d=US(u,l,n+c+1,r);d!=Ja&&i.push(c,c+l.nodeSize,d)}});let a=Dae(s?Fae(t):t,-n).sort(Nm);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new li(a,i):Ja}function Nm(t,e){return t.from-e.from||t.to-e.to}function ML(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),RV(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),RV(e,i,r.copy(s.from,r.to)));break}}}return e}function RV(t,e,n){for(;e<t.length&&Nm(n,t[e])>0;)e++;t.splice(e,0,n)}function OO(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ja&&e.push(r)}),t.cursorWrapper&&e.push(li.create(t.state.doc,[t.cursorWrapper.deco])),jh.from(e)}const p9e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},m9e=il&&Kh<=11;class g9e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class v9e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new g9e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);il&&Kh<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),m9e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,p9e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(jV(this.view)){if(this.suppressingSelectionUpdates)return yf(this.view);if(il&&Kh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Vm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=wy(s))n.add(s);for(let s=e.anchorNode;s;s=wy(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&jV(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(s=s<0?f.from:Math.min(f.from,s),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(vc&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,m]=d;f.parentNode&&f.parentNode.parentNode==m.parentNode?m.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let m of d){let p=m.parentNode;p&&p.nodeName=="LI"&&(!f||b9e(e,f)!=p)&&m.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&dj(r)&&(u=jL(e))&&u.eq(Mn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,yf(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),y9e(e)),this.handleDOMChange(s,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||yf(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(il&&Kh<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:m}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let a=i&&i.parentNode==e.target?Ma(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?Ma(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let IV=new WeakMap,DV=!1;function y9e(t){if(!IV.has(t)&&(IV.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=vc,DV)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),DV=!0}}function LV(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Vm(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function x9e(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return LV(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?LV(t,n):null}function b9e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function w9e(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],dj(c)||u.push({node:c.focusNode,offset:c.focusOffset})),ro&&t.input.lastKeyCode===8)for(let x=s;x>i;x--){let b=r.childNodes[x-1],S=b.pmViewDesc;if(b.nodeName=="BR"&&!S){s=x;break}if(!S||S.size)break}let f=t.state.doc,m=t.someProp("domParser")||Ab.fromSchema(t.state.schema),p=f.resolve(a),y=null,v=m.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:N9e,context:p});if(u&&u[0].pos!=null){let x=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=x),y={anchor:x+a,head:b+a}}return{doc:v,sel:y,from:a,to:l}}function N9e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ko&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ko&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const S9e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function E9e(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=jL(t,M);if(A&&!t.state.selection.eq(A)){if(ro&&ff&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,tm(13,"Enter"))))return;let P=t.state.tr.setSelection(A);M=="pointer"?P.setMeta("pointer",!0):M=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),t.dispatch(P)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=w9e(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),m,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,p="end"):(m=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let y=A9e(f.content,u.doc.content,u.from,m,p);if(y&&t.input.domChangeCount++,(Ny&&t.input.lastIOSEnter>Date.now()-225||ff)&&i.some(M=>M.nodeType==1&&!S9e.test(M.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",M=>M(t,tm(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(r&&c instanceof Sn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))y={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let M=FV(t,t.state.doc,u.sel);if(M&&!M.eq(t.state.selection)){let A=t.state.tr.setSelection(M);s&&A.setMeta("composition",s),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof Sn&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),il&&Kh<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)==" "&&(y.start--,y.endA--,y.endB--);let v=u.doc.resolveNoCache(y.start-u.from),x=u.doc.resolveNoCache(y.endB-u.from),b=d.resolve(y.start),S=v.sameParent(x)&&v.parent.inlineContent&&b.end()>=y.endA;if((Ny&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!S&&v.pos<u.doc.content.size&&(!v.sameParent(x)||!v.parent.inlineContent)&&v.pos<x.pos&&!/\S/.test(u.doc.textBetween(v.pos,x.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,tm(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&j9e(d,y.start,y.endA,v,x)&&t.someProp("handleKeyDown",M=>M(t,tm(8,"Backspace")))){ff&&ro&&t.domObserver.suppressSelectionUpdates();return}ro&&y.endB==y.start&&(t.input.lastChromeDelete=Date.now()),ff&&!S&&v.start()!=x.start()&&x.parentOffset==0&&v.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,x=u.doc.resolveNoCache(y.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,tm(13,"Enter"))})},20));let _=y.start,j=y.endA,C=M=>{let A=M||t.state.tr.replace(_,j,u.doc.slice(y.start-u.from,y.endB-u.from));if(u.sel){let P=FV(t,A.doc,u.sel);P&&!(ro&&t.composing&&P.empty&&(y.start!=y.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==_||P.head==A.mapping.map(j)-1)||il&&P.empty&&P.head==_)&&A.setSelection(P)}return s&&A.setMeta("composition",s),A.scrollIntoView()},O;if(S)if(v.pos==x.pos){il&&Kh<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>yf(t),20));let M=C(t.state.tr.delete(_,j)),A=d.resolve(y.start).marksAcross(d.resolve(y.endA));A&&M.ensureMarks(A),t.dispatch(M)}else if(y.endA==y.endB&&(O=_9e(v.parent.content.cut(v.parentOffset,x.parentOffset),b.parent.content.cut(b.parentOffset,y.endA-b.start())))){let M=C(t.state.tr);O.type=="add"?M.addMark(_,j,O.mark):M.removeMark(_,j,O.mark),t.dispatch(M)}else if(v.parent.child(v.index()).isText&&v.index()==x.index()-(x.textOffset?0:1)){let M=v.parent.textBetween(v.parentOffset,x.parentOffset),A=()=>C(t.state.tr.insertText(M,_,j));t.someProp("handleTextInput",P=>P(t,_,j,M,A))||t.dispatch(A())}else t.dispatch(C());else t.dispatch(C())}function FV(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:AL(t,e.resolve(n.anchor),e.resolve(n.head))}function _9e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",c=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(ht.from(u).eq(t))return{mark:l,type:a}}function j9e(t,e,n,r,i){if(n-e<=i.pos-r.pos||PO(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(PO(s,!0,!0));return!a.parent.isTextblock||a.pos>n||PO(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function PO(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function A9e(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(a,l));r-=a+c-s}if(a<s&&t.size<e.size){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&BV(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-a),a=s}else if(l<s){let c=r<=s&&r>=l?s-r:0;s-=c,s&&s<t.size&&BV(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function BV(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Bae{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Wze,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(HV),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=qV(this),zV(this),this.nodeViews=UV(this),this.docView=bV(this.state.doc,$V(this),OO(this),this.dom,this),this.domObserver=new v9e(this,(r,i,s,a)=>E9e(this,r,i,s,a)),this.domObserver.start(),Kze(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&JR(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(HV),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(Pae(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=UV(this);k9e(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&JR(this),this.editable=qV(this),zV(this);let c=OO(this),u=$V(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(i.selection))&&(a=!0);let m=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&oze(this);if(a){this.domObserver.stop();let p=f&&(il||ro)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&C9e(i.selection,e.selection);if(f){let y=ro?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=a9e(this)),(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=bV(e.doc,u,c,this.dom,this)),y&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Oze(this))?yf(this,p):(bae(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&lze(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof bn){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&pV(this,n.getBoundingClientRect(),e)}else pV(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Rae(e.slice,e.move,i<0?void 0:bn.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(il){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&cze(this.dom),yf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return pze(this,e)}coordsAtPos(e,n=1){return fae(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return xze(this,n||this.state,e)}pasteHTML(e,n){return H0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return H0(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return CL(this,e)}destroy(){this.docView&&(Gze(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],OO(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,X7e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Xze(this,e)}domSelectionRange(){let e=this.domSelection();return e?ko&&this.root.nodeType===11&&tze(this.dom.ownerDocument)==this.dom&&x9e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Bae.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function $V(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Qs.node(0,t.state.doc.content.size,e)]}function zV(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function qV(t){return!t.someProp("editable",e=>e(t.state)===!1)}function C9e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function UV(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function k9e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function HV(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ip={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},HS={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},T9e=typeof navigator<"u"&&/Mac/.test(navigator.platform),O9e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ra=0;Ra<10;Ra++)ip[48+Ra]=ip[96+Ra]=String(Ra);for(var Ra=1;Ra<=24;Ra++)ip[Ra+111]="F"+Ra;for(var Ra=65;Ra<=90;Ra++)ip[Ra]=String.fromCharCode(Ra+32),HS[Ra]=String.fromCharCode(Ra);for(var MO in ip)HS.hasOwnProperty(MO)||(HS[MO]=ip[MO]);function P9e(t){var e=T9e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||O9e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?HS:ip)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const M9e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),R9e=typeof navigator<"u"&&/Win/.test(navigator.platform);function I9e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))M9e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function D9e(t){let e=Object.create(null);for(let n in t)e[I9e(n)]=t[n];return e}function RO(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function L9e(t){return new Mi({props:{handleKeyDown:RL(t)}})}function RL(t){let e=D9e(t);return function(n,r){let i=P9e(r),s,a=e[RO(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[RO(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(R9e&&r.ctrlKey&&r.altKey)&&(s=ip[r.keyCode])&&s!=i){let l=e[RO(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var F9e=Object.defineProperty,IL=(t,e)=>{for(var n in e)F9e(t,n,{get:e[n],enumerable:!0})};function pj(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var mj=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,c=t||i.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,m])=>[f,(...y)=>{const v=this.buildProps(c,e),x=m(...y)(v);return a.push(x),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:pj({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},$ae={};IL($ae,{blur:()=>B9e,clearContent:()=>$9e,clearNodes:()=>z9e,command:()=>q9e,createParagraphNear:()=>U9e,cut:()=>H9e,deleteCurrentNode:()=>V9e,deleteNode:()=>W9e,deleteRange:()=>K9e,deleteSelection:()=>G9e,enter:()=>Y9e,exitCode:()=>X9e,extendMarkRange:()=>Z9e,first:()=>Q9e,focus:()=>eqe,forEach:()=>tqe,insertContent:()=>nqe,insertContentAt:()=>sqe,joinBackward:()=>lqe,joinDown:()=>oqe,joinForward:()=>cqe,joinItemBackward:()=>uqe,joinItemForward:()=>dqe,joinTextblockBackward:()=>fqe,joinTextblockForward:()=>hqe,joinUp:()=>aqe,keyboardShortcut:()=>mqe,lift:()=>gqe,liftEmptyBlock:()=>vqe,liftListItem:()=>yqe,newlineInCode:()=>xqe,resetAttributes:()=>bqe,scrollIntoView:()=>wqe,selectAll:()=>Nqe,selectNodeBackward:()=>Sqe,selectNodeForward:()=>Eqe,selectParentNode:()=>_qe,selectTextblockEnd:()=>jqe,selectTextblockStart:()=>Aqe,setContent:()=>Cqe,setMark:()=>Vqe,setMeta:()=>Wqe,setNode:()=>Kqe,setNodeSelection:()=>Gqe,setTextSelection:()=>Yqe,sinkListItem:()=>Xqe,splitBlock:()=>Zqe,splitListItem:()=>Qqe,toggleList:()=>Jqe,toggleMark:()=>eUe,toggleNode:()=>tUe,toggleWrap:()=>nUe,undoInputRule:()=>rUe,unsetAllMarks:()=>iUe,unsetMark:()=>sUe,updateAttributes:()=>aUe,wrapIn:()=>oUe,wrapInList:()=>lUe});var B9e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),$9e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),z9e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),m=u.resolve(d.map(c+l.nodeSize)),p=f.blockRange(m);if(!p)return;const y=tx(p);if(l.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,v)}(y||y===0)&&e.lift(p,y)})}),!0},q9e=t=>e=>t(e),U9e=()=>({state:t,dispatch:e})=>nae(t,e),H9e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Sn(r.doc.resolve(Math.max(a-1,0)))),!0},V9e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),c=i.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1};function Bs(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var W9e=t=>({tr:e,state:n,dispatch:r})=>{const i=Bs(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const c=s.before(a),u=s.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1},K9e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},G9e=()=>({state:t,dispatch:e})=>bL(t,e),Y9e=()=>({commands:t})=>t.keyboardShortcut("Enter"),X9e=()=>({state:t,dispatch:e})=>I7e(t,e);function DL(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function VS(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:DL(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function zae(t,e,n={}){return t.find(r=>r.type===e&&VS(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function VV(t,e,n={}){return!!zae(t,e,n)}function LL(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!zae([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,c=a+1,u=l+i.node.nodeSize;for(;a>0&&VV([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&VV([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function Pf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Z9e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Pf(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:u,to:d}=l;if(i){const f=LL(c,s,e);if(f&&f.from<=u&&f.to>=d){const m=Sn.create(a,f.from,f.to);n.setSelection(m)}}return!0},Q9e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function qae(t){return t instanceof Sn}function hm(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Uae(t,e=null){if(!e)return null;const n=Mn.atStart(t),r=Mn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Sn.create(t,hm(0,i,s),hm(t.content.size,i,s)):Sn.create(t,hm(e,i,s),hm(e,i,s))}function J9e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function FL(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var eqe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(FL()||J9e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!qae(n.state.selection))return a(),!0;const l=Uae(i.doc,t)||n.state.selection,c=n.state.selection.eq(l);return s&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},tqe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),nqe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Hae=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Hae(r)}return t};function r2(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Hae(n)}function W0(t,e,n){if(t instanceof Wh||t instanceof ht)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ht.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),W0("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const c=new kse({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Ab.fromSchema(c).parseSlice(r2(t),n.parseOptions):Ab.fromSchema(c).parse(r2(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Ab.fromSchema(e);return n.slice?s.parseSlice(r2(t),n.parseOptions).content:s.parse(r2(t),n.parseOptions)}return W0("",e,n)}function rqe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ga||i instanceof xa))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,c,u,d)=>{a===0&&(a=d)}),t.setSelection(Mn.near(t.doc.resolve(a),n))}var iqe=t=>!("type"in t),sqe=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{W0(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){c(x)}try{l=W0(e,s.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(x){return c(x),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,p=!0;if((iqe(l)?l:[l]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,p=p?x.isBlock:!1}),d===f&&p){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,f+=1)}let v;if(m){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof ht){let x="";e.forEach(b=>{b.text&&(x+=b.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=l;const x=r.doc.resolve(d),b=x.node(),S=x.parentOffset===0,_=b.isText||b.isTextblock,j=b.content.size>0;S&&_&&j&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&rqe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},aqe=()=>({state:t,dispatch:e})=>P7e(t,e),oqe=()=>({state:t,dispatch:e})=>M7e(t,e),lqe=()=>({state:t,dispatch:e})=>Yse(t,e),cqe=()=>({state:t,dispatch:e})=>Jse(t,e),uqe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=lj(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},dqe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=lj(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},fqe=()=>({state:t,dispatch:e})=>T7e(t,e),hqe=()=>({state:t,dispatch:e})=>O7e(t,e);function Vae(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pqe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))FL()||Vae()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var mqe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=pqe(t).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function sp(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Bs(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(f,m)=>{if(f.isText)return;const p=Math.max(r,m),y=Math.min(i,m+f.nodeSize);l.push({node:f,from:p,to:y})});const c=i-r,u=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>VS(f.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((f,m)=>f+m.to-m.from,0)>=c}var gqe=(t,e={})=>({state:n,dispatch:r})=>{const i=Bs(t,n.schema);return sp(n,i,e)?R7e(n,r):!1},vqe=()=>({state:t,dispatch:e})=>rae(t,e),yqe=t=>({state:e,dispatch:n})=>{const r=Bs(t,e.schema);return W7e(r)(e,n)},xqe=()=>({state:t,dispatch:e})=>tae(t,e);function gj(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function WV(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var bqe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=gj(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Bs(t,r.schema)),l==="mark"&&(a=Pf(t,r.schema)),i&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&n.setNodeMarkup(d,void 0,WV(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&n.addMark(d,d+u.nodeSize,a.create(WV(f.attrs,e)))})})}),!0):!1},wqe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Nqe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Il(t.doc);t.setSelection(n)}return!0},Sqe=()=>({state:t,dispatch:e})=>Zse(t,e),Eqe=()=>({state:t,dispatch:e})=>eae(t,e),_qe=()=>({state:t,dispatch:e})=>F7e(t,e),jqe=()=>({state:t,dispatch:e})=>z7e(t,e),Aqe=()=>({state:t,dispatch:e})=>$7e(t,e);function e4(t,e,n={},r={}){return W0(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Cqe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:c}=s;if(r.preserveWhitespace!=="full"){const u=e4(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Wae(t,e){const n=Pf(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Kae(t,e){const n=new yL(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function kqe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function t4(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function Tqe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function Gae(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function vj(t){return e=>Gae(e.$from,t)}function vn(t,e,n){return t.config[e]===void 0&&t.parent?vn(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?vn(t.parent,e,n):null}):t.config[e]}function BL(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=vn(e,"addExtensions",n);return r?[e,...BL(r())]:e}).flat(10)}function $L(t,e){const n=ug.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Yae(t){return typeof t=="function"}function qr(t,e=void 0,...n){return Yae(t)?e?t.bind(e)(...n):t(...n):t}function Oqe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function K0(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Xae(t){const e=[],{nodeExtensions:n,markExtensions:r}=K0(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},c=vn(a,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([m,p])=>{e.push({type:f,name:m,attribute:{...s,...p}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=vn(a,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const m={...s,...f};typeof m?.default=="function"&&(m.default=m.default()),m?.isRequired&&m?.default===void 0&&delete m.default,e.push({type:a.name,name:d,attribute:m})})}),e}function pi(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],u=l.filter(d=>!c.includes(d));r[i]=[...c,...u].join(" ")}else if(i==="style"){const l=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,m]=d.split(":").map(p=>p.trim());u.set(f,m)}),l.forEach(d=>{const[f,m]=d.split(":").map(p=>p.trim());u.set(f,m)}),r[i]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=s}),r},{})}function WS(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>pi(n,r),{})}function Pqe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function KV(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):Pqe(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function GV(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Oqe(n)?!1:n!=null))}function Mqe(t,e){var n;const r=Xae(t),{nodeExtensions:i,markExtensions:s}=K0(t),a=(n=i.find(u=>vn(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((b,S)=>{const _=vn(S,"extendNodeSchema",f);return{...b,..._?_(u):{}}},{}),p=GV({...m,content:qr(vn(u,"content",f)),marks:qr(vn(u,"marks",f)),group:qr(vn(u,"group",f)),inline:qr(vn(u,"inline",f)),atom:qr(vn(u,"atom",f)),selectable:qr(vn(u,"selectable",f)),draggable:qr(vn(u,"draggable",f)),code:qr(vn(u,"code",f)),whitespace:qr(vn(u,"whitespace",f)),linebreakReplacement:qr(vn(u,"linebreakReplacement",f)),defining:qr(vn(u,"defining",f)),isolating:qr(vn(u,"isolating",f)),attrs:Object.fromEntries(d.map(b=>{var S,_;return[b.name,{default:(S=b?.attribute)==null?void 0:S.default,validate:(_=b?.attribute)==null?void 0:_.validate}]}))}),y=qr(vn(u,"parseHTML",f));y&&(p.parseDOM=y.map(b=>KV(b,d)));const v=vn(u,"renderHTML",f);v&&(p.toDOM=b=>v({node:b,HTMLAttributes:WS(b,d)}));const x=vn(u,"renderText",f);return x&&(p.toText=x),[u.name,p]})),c=Object.fromEntries(s.map(u=>{const d=r.filter(x=>x.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((x,b)=>{const S=vn(b,"extendMarkSchema",f);return{...x,...S?S(u):{}}},{}),p=GV({...m,inclusive:qr(vn(u,"inclusive",f)),excludes:qr(vn(u,"excludes",f)),group:qr(vn(u,"group",f)),spanning:qr(vn(u,"spanning",f)),code:qr(vn(u,"code",f)),attrs:Object.fromEntries(d.map(x=>{var b,S;return[x.name,{default:(b=x?.attribute)==null?void 0:b.default,validate:(S=x?.attribute)==null?void 0:S.validate}]}))}),y=qr(vn(u,"parseHTML",f));y&&(p.parseDOM=y.map(x=>KV(x,d)));const v=vn(u,"renderHTML",f);return v&&(p.toDOM=x=>v({mark:x,HTMLAttributes:WS(x,d)})),[u.name,p]}));return new kse({topNode:a,nodes:l,marks:c})}function Rqe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function zL(t){return t.sort((n,r)=>{const i=vn(n,"priority")||100,s=vn(r,"priority")||100;return i>s?-1:i<s?1:0})}function Zae(t){const e=zL(BL(t)),n=Rqe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Qae(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(c,u,d,f)=>{var m;c.isBlock&&u>r&&(l+=s);const p=a?.[c.type.name];if(p)return d&&(l+=p({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(m=c?.text)==null?void 0:m.slice(Math.max(r,u)-u,i-u))}),l}function Iqe(t,e){const n={from:0,to:t.content.size};return Qae(t,n,e)}function Jae(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Dqe(t,e){const n=Bs(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function eoe(t,e){const n=gj(typeof e=="string"?e:e.name,t.schema);return n==="node"?Dqe(t,e):n==="mark"?Wae(t,e):{}}function Lqe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Fqe(t){const e=Lqe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function toe(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[s];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const u=e.slice(s).map(l,-1),d=e.slice(s).map(c),f=e.invert().map(u,-1),m=e.invert().map(d);r.push({oldRange:{from:f,to:m},newRange:{from:u,to:d}})})}),Fqe(r)}function qL(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=LL(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var Bqe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function IO(t,e){return e.nodes[t]||e.marks[t]||null}function U2(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var $qe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var c,u;const d=((u=(c=i.type.spec).toText)==null?void 0:u.call(c,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function n4(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Pf(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>VS(f.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:f,$to:m})=>{const p=f.pos,y=m.pos;t.doc.nodesBetween(p,y,(v,x)=>{if(!v.isText&&!v.marks.length)return;const b=Math.max(p,x),S=Math.min(y,x+v.nodeSize),_=S-b;a+=_,l.push(...v.marks.map(j=>({mark:j,from:b,to:S})))})}),a===0)return!1;const c=l.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>VS(f.mark.attrs,n,{strict:!1})).reduce((f,m)=>f+m.to-m.from,0),u=l.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,m)=>f+m.to-m.from,0);return(c>0?c+u:c)>=a}function zqe(t,e,n={}){if(!e)return sp(t,null,n)||n4(t,null,n);const r=gj(e,t.schema);return r==="node"?sp(t,e,n):r==="mark"?n4(t,e,n):!1}var qqe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=vj(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},Uqe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function YV(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function XV(t,e){const{nodeExtensions:n}=K0(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=qr(vn(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function yj(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(yj(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function noe(t){return t instanceof bn}function Hqe(t,e,n){var r;const{selection:i}=e;let s=null;if(qae(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,m)=>{if(u)return!1;if(d.isInline){const p=!m||m.type.allowsMarkType(n),y=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=p&&y}return!u}),u})}var Vqe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,c=Pf(t,r.schema);if(i)if(a){const u=Wae(r,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(m,p)=>{const y=Math.max(p,d),v=Math.min(p+m.nodeSize,f);m.marks.find(b=>b.type===c)?m.marks.forEach(b=>{c===b.type&&n.addMark(y,v,c.create({...b.attrs,...e}))}):n.addMark(y,v,c.create(e))})});return Hqe(r,n,c)},Wqe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Kqe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Bs(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>dV(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>dV(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Gqe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=hm(t,0,r.content.size),s=bn.create(r,i);e.setSelection(s)}return!0},Yqe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Sn.atStart(r).from,l=Sn.atEnd(r).to,c=hm(i,a,l),u=hm(s,a,l),d=Sn.create(r,c,u);e.setSelection(d)}return!0},Xqe=t=>({state:e,dispatch:n})=>{const r=Bs(t,e.schema);return Y7e(r)(e,n)};function ZV(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var Zqe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:c}=s,u=i.extensionManager.attributes,d=U2(u,l.node().type.name,l.node().attrs);if(s instanceof bn&&s.node.isBlock)return!l.parentOffset||!vf(a,l.pos)?!1:(r&&(t&&ZV(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,m=l.depth===0?void 0:kqe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=f&&m?[{type:m,attrs:d}]:void 0,y=vf(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!y&&vf(e.doc,e.mapping.map(l.pos),1,m?[{type:m}]:void 0)&&(y=!0,p=m?[{type:m,attrs:d}]:void 0),r){if(y&&(s instanceof Sn&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),m&&!f&&!l.parentOffset&&l.parent.type!==m)){const v=e.mapping.map(l.before()),x=e.doc.resolve(v);l.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(l.before()),m)}t&&ZV(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return y},Qqe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Bs(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const m=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let b=ht.empty;const S=c.index(-1)?1:c.index(-2)?2:3;for(let A=c.depth-S;A>=c.depth-3;A-=1)b=ht.from(c.node(A).copy(b));const _=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,j={...U2(m,c.node().type.name,c.node().attrs),...e},C=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(j))||void 0;b=b.append(ht.from(l.createAndFill(null,C)||void 0));const O=c.before(c.depth-(S-1));n.replace(O,c.after(-_),new Ft(b,4-S,0));let M=-1;n.doc.nodesBetween(O,n.doc.content.size,(A,P)=>{if(M>-1)return!1;A.isTextblock&&A.content.size===0&&(M=P+1)}),M>-1&&n.setSelection(Sn.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const p=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,y={...U2(m,f.type.name,f.attrs),...e},v={...U2(m,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const x=p?[{type:l,attrs:y},{type:p,attrs:v}]:[{type:l,attrs:y}];if(!vf(n.doc,c.pos,2))return!1;if(i){const{selection:b,storedMarks:S}=r,{splittableMarks:_}=s.extensionManager,j=S||b.$to.parentOffset&&b.$from.marks();if(n.split(c.pos,2,x).scrollIntoView(),!j||!i)return!0;const C=j.filter(O=>_.includes(O.type.name));n.ensureMarks(C)}return!0},DO=(t,e)=>{const n=vj(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&vp(t.doc,n.pos)&&t.join(n.pos),!0},LO=(t,e)=>{const n=vj(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&vp(t.doc,r)&&t.join(r),!0},Jqe=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:m}=i.extensionManager,p=Bs(t,a.schema),y=Bs(e,a.schema),{selection:v,storedMarks:x}=a,{$from:b,$to:S}=v,_=b.blockRange(S),j=x||v.$to.parentOffset&&v.$from.marks();if(!_)return!1;const C=vj(O=>XV(O.type.name,f))(v);if(_.depth>=1&&C&&_.depth-C.depth<=1){if(C.node.type===p)return u.liftListItem(y);if(XV(C.node.type.name,f)&&p.validContent(C.node.content)&&l)return c().command(()=>(s.setNodeMarkup(C.pos,p),!0)).command(()=>DO(s,p)).command(()=>LO(s,p)).run()}return!n||!j||!l?c().command(()=>d().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>DO(s,p)).command(()=>LO(s,p)).run():c().command(()=>{const O=d().wrapInList(p,r),M=j.filter(A=>m.includes(A.type.name));return s.ensureMarks(M),O?!0:u.clearNodes()}).wrapInList(p,r).command(()=>DO(s,p)).command(()=>LO(s,p)).run()},eUe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=Pf(t,r.schema);return n4(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},tUe=(t,e,n={})=>({state:r,commands:i})=>{const s=Bs(t,r.schema),a=Bs(e,r.schema),l=sp(r,s,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?i.setNode(a,c):i.setNode(s,{...c,...n})},nUe=(t,e={})=>({state:n,commands:r})=>{const i=Bs(t,n.schema);return sp(n,i,e)?r.lift(i):r.wrapIn(i,e)},rUe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},iUe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},sUe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=Pf(t,r.schema),{$from:u,empty:d,ranges:f}=l;if(!i)return!0;if(d&&a){let{from:m,to:p}=l;const y=(s=u.marks().find(x=>x.type===c))==null?void 0:s.attrs,v=LL(u,c,y);v&&(m=v.from,p=v.to),n.removeMark(m,p,c)}else f.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,c)});return n.removeStoredMark(c),!0},aUe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=gj(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Bs(t,r.schema)),l==="mark"&&(a=Pf(t,r.schema)),i&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,m,p,y;n.selection.empty?r.doc.nodesBetween(u,d,(v,x)=>{s&&s===v.type&&(p=Math.max(x,u),y=Math.min(x+v.nodeSize,d),f=x,m=v)}):r.doc.nodesBetween(u,d,(v,x)=>{x<u&&s&&s===v.type&&(p=Math.max(x,u),y=Math.min(x+v.nodeSize,d),f=x,m=v),x>=u&&x<=d&&(s&&s===v.type&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(b=>{if(a===b.type){const S=Math.max(x,u),_=Math.min(x+v.nodeSize,d);n.addMark(S,_,a.create({...b.attrs,...e}))}}))}),m&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...m.attrs,...e}),a&&m.marks.length&&m.marks.forEach(v=>{a===v.type&&n.addMark(p,y,a.create({...v.attrs,...e}))}))}),!0):!1},oUe=(t,e={})=>({state:n,dispatch:r})=>{const i=Bs(t,n.schema);return q7e(i,e)(n,r)},lUe=(t,e={})=>({state:n,dispatch:r})=>{const i=Bs(t,n.schema);return U7e(i,e)(n,r)},cUe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},xj=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},uUe=(t,e)=>{if(DL(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function i2(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const f=$qe(u)+s;return a.forEach(m=>{if(d)return;const p=uUe(f,m.find);if(!p)return;const y=c.state.tr,v=pj({state:c.state,transaction:y}),x={from:r-(p[0].length-s.length),to:i},{commands:b,chain:S,can:_}=new mj({editor:n,state:v});m.handler({state:v,range:x,match:p,commands:b,chain:S,can:_})===null||!y.steps.length||(m.undoable&&y.setMeta(l,{transform:y,from:r,to:i,text:s}),c.dispatch(y),d=!0)}),d}function dUe(t){const{editor:e,rules:n}=t,r=new Mi({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=$L(ht.from(d),a.schema);const{from:f}=c,m=f+d.length;i2({editor:e,from:f,to:m,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return i2({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&i2({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?i2({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function fUe(t){return Object.prototype.toString.call(t).slice(8,-1)}function s2(t){return fUe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function roe(t,e){const n={...t};return s2(t)&&s2(e)&&Object.keys(e).forEach(r=>{s2(e[r])&&s2(t[r])?n[r]=roe(t[r],e[r]):n[r]=e[r]}),n}var UL=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...qr(vn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...qr(vn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>roe(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Mf=class ioe extends UL{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new ioe(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const c=a.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function hUe(t){return typeof t=="number"}var pUe=class{constructor(t){this.find=t.find,this.handler=t.handler}},mUe=(t,e,n)=>{if(DL(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function gUe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:u,can:d}=new mj({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(p,y)=>{var v,x,b,S,_;if((x=(v=p.type)==null?void 0:v.spec)!=null&&x.code||!(p.isText||p.isTextblock||p.isInline))return;const j=(_=(S=(b=p.content)==null?void 0:b.size)!=null?S:p.nodeSize)!=null?_:0,C=Math.max(r,y),O=Math.min(i,y+j);if(C>=O)return;const M=p.isText?p.text||"":p.textBetween(C-y,O-y,void 0,"");mUe(M,s.find,a).forEach(P=>{if(P.index===void 0)return;const B=C+P.index+1,R=B+P[0].length,F={from:n.tr.mapping.map(B),to:n.tr.mapping.map(R)},q=s.handler({state:n,range:F,match:P,commands:c,chain:u,can:d,pasteEvent:a,dropEvent:l});f.push(q)})}),f.every(p=>p!==null)}var a2=null,vUe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function yUe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:m,rule:p,pasteEvt:y})=>{const v=d.tr,x=pj({state:d,transaction:v});if(!(!gUe({editor:e,state:x,from:Math.max(f-1,0),to:m.b-1,rule:p,pasteEvent:y,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Mi({view(f){const m=y=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(y.target)?f.dom.parentElement:null,r&&(a2=e)},p=()=>{a2&&(a2=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,m)=>{if(s=r===f.dom.parentElement,l=m,!s){const p=a2;p?.isEditable&&setTimeout(()=>{const y=p.state.selection;y&&p.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(f,m)=>{var p;const y=(p=m.clipboardData)==null?void 0:p.getData("text/html");return a=m,i=!!y?.includes("data-pm-slice"),!1}}},appendTransaction:(f,m,p)=>{const y=f[0],v=y.getMeta("uiEvent")==="paste"&&!i,x=y.getMeta("uiEvent")==="drop"&&!s,b=y.getMeta("applyPasteRules"),S=!!b;if(!v&&!x&&!S)return;if(S){let{text:C}=b;typeof C=="string"?C=C:C=$L(ht.from(C),p.schema);const{from:O}=b,M=O+C.length,A=vUe(C);return c({rule:d,state:p,from:O,to:{b:M},pasteEvt:A})}const _=m.doc.content.findDiffStart(p.doc.content),j=m.doc.content.findDiffEnd(p.doc.content);if(!(!hUe(_)||!j||_===j.b))return c({rule:d,state:p,from:_,to:j,pasteEvt:a})}}))}var bj=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Zae(t),this.schema=Mqe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:IO(e.name,this.schema)},r=vn(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return zL([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:IO(r.name,this.schema)},s=[],a=vn(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&vn(r,"exitable",i)&&(l.ArrowRight=()=>Mf.handleExit({editor:t,mark:r})),a){const m=Object.fromEntries(Object.entries(a()).map(([p,y])=>[p,()=>y({editor:t})]));l={...l,...m}}const c=L9e(l);s.push(c);const u=vn(r,"addInputRules",i);if(YV(r,t.options.enableInputRules)&&u){const m=u();if(m&&m.length){const p=dUe({editor:t,rules:m}),y=Array.isArray(p)?p:[p];s.push(...y)}}const d=vn(r,"addPasteRules",i);if(YV(r,t.options.enablePasteRules)&&d){const m=d();if(m&&m.length){const p=yUe({editor:t,rules:m});s.push(...p)}}const f=vn(r,"addProseMirrorPlugins",i);if(f){const m=f();s.push(...m)}return s})}get attributes(){return Xae(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=K0(this.extensions);return Object.fromEntries(e.filter(n=>!!vn(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Bs(n.name,this.schema)},s=vn(n,"addNodeView",i);if(!s)return[];const a=(l,c,u,d,f)=>{const m=WS(l,r);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:t,extension:n,HTMLAttributes:m})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=K0(this.extensions);return Object.fromEntries(e.filter(n=>!!vn(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Pf(n.name,this.schema)},s=vn(n,"addMarkView",i);if(!s)return[];const a=(l,c,u)=>{const d=WS(l,r);return s()({mark:l,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{OUe(l,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:IO(e.name,this.schema)};e.type==="mark"&&((n=qr(vn(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=vn(e,"onBeforeCreate",r),s=vn(e,"onCreate",r),a=vn(e,"onUpdate",r),l=vn(e,"onSelectionUpdate",r),c=vn(e,"onTransaction",r),u=vn(e,"onFocus",r),d=vn(e,"onBlur",r),f=vn(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};bj.resolve=Zae;bj.sort=zL;bj.flatten=BL;var xUe={};IL(xUe,{ClipboardTextSerializer:()=>aoe,Commands:()=>ooe,Delete:()=>loe,Drop:()=>coe,Editable:()=>uoe,FocusEvents:()=>foe,Keymap:()=>hoe,Paste:()=>poe,Tabindex:()=>moe,focusEventsPluginKey:()=>doe});var ii=class soe extends UL{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new soe(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},aoe=ii.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mi({key:new ps("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(d=>d.$from.pos)),l=Math.max(...s.map(d=>d.$to.pos)),c=Jae(n);return Qae(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),ooe=ii.create({name:"commands",addCommands(){return{...$ae}}}),loe=ii.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,c,u;if((u=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=Kae(t.before,[t,...e]);toe(d).forEach(p=>{d.mapping.mapResult(p.oldRange.from).deletedAfter&&d.mapping.mapResult(p.oldRange.to).deletedBefore&&d.before.nodesBetween(p.oldRange.from,p.oldRange.to,(y,v)=>{const x=v+y.nodeSize-2,b=p.oldRange.from<=v&&x<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:v,to:x,newFrom:d.mapping.map(v),newTo:d.mapping.map(x),deletedRange:p.oldRange,newRange:p.newRange,partial:!b,editor:this.editor,transaction:t,combinedTransform:d})})});const m=d.mapping;d.steps.forEach((p,y)=>{var v,x;if(p instanceof cu){const b=m.slice(y).map(p.from,-1),S=m.slice(y).map(p.to),_=m.invert().map(b,-1),j=m.invert().map(S),C=(v=d.doc.nodeAt(b-1))==null?void 0:v.marks.some(M=>M.eq(p.mark)),O=(x=d.doc.nodeAt(S))==null?void 0:x.marks.some(M=>M.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:_,to:j},newRange:{from:b,to:S},partial:!!(O||C),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),coe=ii.create({name:"drop",addProseMirrorPlugins(){return[new Mi({key:new ps("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),uoe=ii.create({name:"editable",addProseMirrorPlugins(){return[new Mi({key:new ps("editable"),props:{editable:()=>this.editor.options.editable}})]}}),doe=new ps("focusEvents"),foe=ii.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mi({key:doe,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),hoe=ii.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:m,parent:p}=f,y=f.parent.isTextblock&&m>0?l.doc.resolve(m-1):f,v=y.parent.type.spec.isolating,x=f.pos-f.parentOffset,b=v&&y.parent.childCount===1?x===f.pos:Mn.atStart(u).from===m;return!d||!p.type.isTextblock||p.textContent.length||!b||b&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return FL()||Vae()?s:i},addProseMirrorPlugins(){return[new Mi({key:new ps("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,c=Mn.atStart(e.doc).from,u=Mn.atEnd(e.doc).to;if(s||!(a===c&&l===u)||!yj(n.doc))return;const m=n.tr,p=pj({state:n,transaction:m}),{commands:y}=new mj({editor:this.editor,state:p});if(y.clearNodes(),!!m.steps.length)return m}})]}}),poe=ii.create({name:"paste",addProseMirrorPlugins(){return[new Mi({key:new ps("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),moe=ii.create({name:"tabindex",addProseMirrorPlugins(){return[new Mi({key:new ps("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),bUe=class av{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new av(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new av(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new av(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const c=new av(l,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new av(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(c=>n[c]===a.node.attrs[c])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},wUe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function NUe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var SUe=class extends cUe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=Uae(e,this.options.autofocus);this.editorState=vv.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=NUe(wUe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=Yae(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[uoe,aoe.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),ooe,foe,hoe,moe,coe,poe,loe].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new bj(r,this)}createCommandManager(){this.commandManager=new mj({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=e4(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=e4(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Bae(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return eoe(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return zqe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return $L(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Iqe(this.state.doc,{blockSeparator:e,textSerializers:{...Jae(this.schema),...n}})}get isEmpty(){return yj(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new bUe(e,this)}get $doc(){return this.$pos(0)}};function Km(t){return new xj({find:t.find,handler:({state:e,range:n,match:r})=>{const i=qr(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),u=n.from+l.indexOf(a),d=u+a.length;if(qL(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===t.type&&v!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&s.delete(d,n.to),u>n.from&&s.delete(n.from+c,u);const m=n.from+c+a.length;s.addMark(n.from+c,m,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function goe(t){return new xj({find:t.find,handler:({state:e,range:n,match:r})=>{const i=qr(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const c=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>l?d=l:l=d+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,a+r[0].length-1),s.replaceWith(d,l,c)}else if(r[0]){const u=t.type.isInline?a:a-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function r4(t){return new xj({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=qr(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Sy(t){return new xj({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=qr(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&vL(c,t.type,s);if(!u)return null;if(a.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:m}=e,{splittableMarks:p}=t.editor.extensionManager,y=m||f.$to.parentOffset&&f.$from.marks();if(y){const v=y.filter(x=>p.includes(x.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&vp(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}function EUe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof bn){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var _Ue={};IL(_Ue,{createAtomBlockMarkdownSpec:()=>jUe,createBlockMarkdownSpec:()=>AUe,createInlineMarkdownSpec:()=>TUe,parseAttributes:()=>HL,parseIndentedBlocks:()=>i4,renderNestedMarkdownContent:()=>WL,serializeAttributes:()=>VL});function HL(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const u=i.map(d=>d.trim().slice(1));e.class=u.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var f;const m=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),p=n[m];p&&(e[u]=p.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function VL(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function jUe(t){const{nodeName:e,name:n,parseAttributes:r=HL,serializeAttributes:i=VL,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(m=>{m in d&&(f[m]=d[m])}),f};return{parseMarkdown:(d,f)=>{const m={...s,...d.attributes};return f.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const m=new RegExp(`^:::${c}(?:\\s|$)`,"m"),p=(f=d.match(m))==null?void 0:f.index;return p!==void 0?p:-1},tokenize(d,f,m){const p=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=d.match(p);if(!y)return;const v=y[1]||"",x=r(v);if(!a.find(S=>!(S in x)))return{type:e,raw:y[0],attributes:x}}},renderMarkdown:d=>{const f=u(d.attrs||{}),m=i(f),p=m?` {${m}}`:"";return`:::${c}${p} :::`}}}function AUe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=HL,serializeAttributes:s=VL,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const m={};return c.forEach(p=>{p in f&&(m[p]=f[p])}),m};return{parseMarkdown:(f,m)=>{let p;if(r){const v=r(f);p=typeof v=="string"?[{type:"text",text:v}]:v}else l==="block"?p=m.parseChildren(f.tokens||[]):p=m.parseInline(f.tokens||[]);const y={...a,...f.attributes};return m.createNode(e,y,p)},markdownTokenizer:{name:e,level:"block",start(f){var m;const p=new RegExp(`^:::${u}`,"m"),y=(m=f.match(p))==null?void 0:m.index;return y!==void 0?y:-1},tokenize(f,m,p){var y;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=f.match(v);if(!x)return;const[b,S=""]=x,_=i(S);let j=1;const C=b.length;let O="";const M=/^:::([\w-]*)(\s.*)?/gm,A=f.slice(C);for(M.lastIndex=0;;){const P=M.exec(A);if(P===null)break;const B=P.index,R=P[1];if(!((y=P[2])!=null&&y.endsWith(":::"))){if(R)j+=1;else if(j-=1,j===0){const F=A.slice(0,B);O=F.trim();const q=f.slice(0,C+B+P[0].length);let z=[];if(O)if(l==="block")for(z=p.blockTokens(F),z.forEach(G=>{G.text&&(!G.tokens||G.tokens.length===0)&&(G.tokens=p.inlineTokens(G.text))});z.length>0;){const G=z[z.length-1];if(G.type==="paragraph"&&(!G.text||G.text.trim()===""))z.pop();else break}else z=p.inlineTokens(O);return{type:e,raw:q,attributes:_,content:O,tokens:z}}}}}},renderMarkdown:(f,m)=>{const p=d(f.attrs||{}),y=s(p),v=y?` {${y}}`:"",x=m.renderChildren(f.content||[],`

`);return`:::${u}${v}

${x}

:::`}}}function CUe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function kUe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function TUe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=CUe,serializeAttributes:s=kUe,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,u=n||e,d=m=>{if(!c)return m;const p={};return c.forEach(y=>{y in m&&(p[y]=m[y])}),p},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,p)=>{const y={...a,...m.attributes};if(l)return p.createNode(e,y);const v=r?r(m):m.content||"";return v?p.createNode(e,y,[p.createTextNode(v)]):p.createNode(e,y,[])},markdownTokenizer:{name:e,level:"inline",start(m){const p=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),y=m.match(p),v=y?.index;return v!==void 0?v:-1},tokenize(m,p,y){const v=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),x=m.match(v);if(!x)return;let b="",S="";if(l){const[,j]=x;S=j}else{const[,j,C]=x;S=j,b=C||""}const _=i(S.trim());return{type:e,raw:x[0],content:b.trim(),attributes:_}}},renderMarkdown:m=>{let p="";r?p=r(m):m.content&&m.content.length>0&&(p=m.content.filter(b=>b.type==="text").map(b=>b.text).join(""));const y=d(m.attrs||{}),v=s(y),x=v?` ${v}`:"";return l?`[${u}${x}]`:`[${u}${x}]${p}[/${u}]`}}}function i4(t,e,n){var r,i,s,a;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const m=l[d],p=m.match(e.itemPattern);if(!p){if(c.length>0)break;if(m.trim()===""){d+=1;continue}else return}const y=e.extractItemData(p),{indentLevel:v,mainContent:x}=y;u=`${u}${m}
`;const b=[x];for(d+=1;d<l.length;){const C=l[d];if(C.trim()===""){const M=l.slice(d+1).findIndex(B=>B.trim()!=="");if(M===-1)break;if((((i=(r=l[d+1+M].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>v){b.push(C),u=`${u}${C}
`,d+=1;continue}else break}if((((a=(s=C.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>v)b.push(C),u=`${u}${C}
`,d+=1;else break}let S;const _=b.slice(1);if(_.length>0){const C=_.map(O=>O.slice(v+f)).join(`
`);C.trim()&&(e.customNestedParser?S=e.customNestedParser(C):S=n.blockTokens(C))}const j=e.createToken(y,S);c.push(j)}if(c.length!==0)return{items:c,raw:u.trim()}}function WL(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,l=e.renderChildren([s]),c=[`${i}${l}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(m=>m?e.indent(m):"").join(`
`);c.push(f)}}),c.join(`
`)}function OUe(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,c)=>{const u=s.mapping.map(c),d=s.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(p=>{if(p!==a)return!1;f=p}),!f)return;let m=!1;if(Object.keys(n).forEach(p=>{n[p]!==f.attrs[p]&&(m=!0)}),m){const p=t.type.create({...t.attrs,...n});s.removeMark(u,d,t.type),s.addMark(u,d,p)}}),s.docChanged&&e.view.dispatch(s)}var Ea=class voe extends UL{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new voe(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ap(t){return new pUe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=qr(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),m=f+l.length;if(qL(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>f).length)return null;m<n.to&&a.delete(m,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+l.length,a.addMark(n.from+d,u,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var FO,QV;function PUe(){return QV||(QV=1,FO=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),FO}var MUe=PUe();const RUe=Ir(MUe);var BO={exports:{}},$O={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV;function IUe(){if(JV)return $O;JV=1;var t=Z0(),e=GW();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return $O.useSyncExternalStoreWithSelector=function(u,d,f,m,p){var y=s(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=l(function(){function b(O){if(!S){if(S=!0,_=O,O=m(O),p!==void 0&&v.hasValue){var M=v.value;if(p(M,O))return j=M}return j=O}if(M=j,r(_,O))return M;var A=m(O);return p!==void 0&&p(M,A)?(_=O,M):(_=O,j=A)}var S=!1,_,j,C=f===void 0?null:f;return[function(){return b(d())},C===null?void 0:function(){return b(C())}]},[d,f,m,p]);var x=i(u,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=x},[x]),c(x),x},$O}var eW;function DUe(){return eW||(eW=1,BO.exports=IUe()),BO.exports}var LUe=DUe(),FUe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},BUe=({contentComponent:t})=>{const e=EE.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function $Ue(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:gK.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var zUe=class extends xe.Component{constructor(t){var e;super(t),this.editorContentRef=xe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=$Ue(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:FUe(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(BUe,{contentComponent:t.contentComponent})]})}},qUe=N.forwardRef((t,e)=>{const n=xe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return xe.createElement(zUe,{key:n,innerRef:e,...t})}),yoe=xe.memo(qUe),UUe=typeof window<"u"?N.useLayoutEffect:N.useEffect,HUe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function VUe(t){var e;const[n]=N.useState(()=>new HUe(t.editor)),r=LUe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:RUe);return UUe(()=>n.watch(t.editor),[t.editor,n]),N.useDebugValue(r),r}var WUe=!1,s4=typeof window>"u",KUe=s4||!!(typeof window<"u"&&window.next),GUe=class xoe{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?s4||KUe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new SUe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?xoe.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function boe(t={},e=[]){const n=N.useRef(t);n.current=t;const[r]=N.useState(()=>new GUe(n)),i=EE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return N.useDebugValue(i),N.useEffect(r.onRender(e)),VUe({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var YUe=N.createContext({editor:null});YUe.Consumer;var XUe=N.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),ZUe=()=>N.useContext(XUe);xe.forwardRef((t,e)=>{const{onDragStart:n}=ZUe(),r=t.as||"div";return o.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});xe.createContext({markViewContentRef:()=>{}});var KS=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},QUe=/^\s*>\s$/,JUe=Ea.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return KS("blockquote",{...pi(this.options.HTMLAttributes,t),children:KS("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(i=>{const a=e.renderChildren(i).split(`
`).map(l=>`> ${l}`).join(`
`);n.push(a)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Sy({find:QUe,type:this.type})]}}),eHe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,tHe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,nHe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,rHe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,iHe=Mf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return KS("strong",{...pi(this.options.HTMLAttributes,t),children:KS("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Km({find:eHe,type:this.type}),Km({find:nHe,type:this.type})]},addPasteRules(){return[ap({find:tHe,type:this.type}),ap({find:rHe,type:this.type})]}}),sHe=/(^|[^`])`([^`]+)`(?!`)$/,aHe=/(^|[^`])`([^`]+)`(?!`)/g,oHe=Mf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",pi(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Km({find:sHe,type:this.type})]},addPasteRules(){return[ap({find:aHe,type:this.type})]}}),zO=4,lHe=/^```([a-z]+)?[\s\n]$/,cHe=/^~~~([a-z]+)?[\s\n]$/,woe=Ea.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:zO,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",pi(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:zO,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=i,p=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(y=>l+y).join(`
`);return c.replaceWith(u,d,r.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:zO,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:u}=s,d=s.start(),f=s.end(),p=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let y=0,v=0;const x=u-d;for(let O=0;O<p.length;O+=1){if(v+p[O].length>=x){y=O;break}v+=p[O].length+1}const S=((c=p[y].match(/^ */))==null?void 0:c[0])||"",_=Math.min(S.length,n);if(_===0)return!0;let j=d;for(let O=0;O<y;O+=1)j+=p[O].length+1;return l.delete(j,j+_),u-j<=_&&l.setSelection(Sn.create(l.doc,j)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=i,m=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>{var y;const v=((y=p.match(/^ */))==null?void 0:y[0])||"",x=Math.min(v.length,n);return p.slice(x)}).join(`
`);return l.replaceWith(c,u,r.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Mn.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[r4({find:lHe,type:this.type,getAttributes:t=>({language:t[1]})}),r4({find:cHe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mi({key:new ps("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(Sn.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),uHe=woe,dHe=Ea.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),fHe=Ea.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",pi(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&a){const f=c.filter(m=>l.includes(m.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),hHe=Ea.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,pi(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>r4({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),pHe=Ea.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",pi(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!EUe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return noe(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(Sn.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(bn.create(a.doc,c.pos)):a.setSelection(Sn.create(a.doc,c.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(a.insert(u,f),a.setSelection(Sn.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[goe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),mHe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,gHe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vHe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,yHe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,xHe=Mf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",pi(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Km({find:mHe,type:this.type}),Km({find:vHe,type:this.type})]},addPasteRules(){return[ap({find:gHe,type:this.type}),ap({find:yHe,type:this.type})]}});const bHe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",wHe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",a4="numeric",o4="ascii",l4="alpha",Ob="asciinumeric",ob="alphanumeric",c4="domain",Noe="emoji",NHe="scheme",SHe="slashscheme",qO="whitespace";function EHe(t,e){return t in e||(e[t]=[]),e[t]}function pm(t,e,n){e[a4]&&(e[Ob]=!0,e[ob]=!0),e[o4]&&(e[Ob]=!0,e[l4]=!0),e[Ob]&&(e[ob]=!0),e[l4]&&(e[ob]=!0),e[ob]&&(e[c4]=!0),e[Noe]&&(e[c4]=!0);for(const r in e){const i=EHe(r,n);i.indexOf(t)<0&&i.push(t)}}function _He(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Zo(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Zo.groups={};Zo.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Zo.groups;let i;return e&&e.j?i=e:(i=new Zo(e),n&&r&&pm(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Zo.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Zo,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Zo,s){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(_He(a.t,r),n);pm(s,c,r)}else n&&pm(s,n,r);a.t=s}return i.j[t]=a,a}};const ar=(t,e,n,r,i)=>t.ta(e,n,r,i),as=(t,e,n,r,i)=>t.tr(e,n,r,i),tW=(t,e,n,r,i)=>t.ts(e,n,r,i),jt=(t,e,n,r,i)=>t.tt(e,n,r,i),rf="WORD",u4="UWORD",Soe="ASCIINUMERICAL",Eoe="ALPHANUMERICAL",G0="LOCALHOST",d4="TLD",f4="UTLD",H2="SCHEME",ov="SLASH_SCHEME",KL="NUM",h4="WS",GL="NL",Pb="OPENBRACE",Mb="CLOSEBRACE",GS="OPENBRACKET",YS="CLOSEBRACKET",XS="OPENPAREN",ZS="CLOSEPAREN",QS="OPENANGLEBRACKET",JS="CLOSEANGLEBRACKET",eE="FULLWIDTHLEFTPAREN",tE="FULLWIDTHRIGHTPAREN",nE="LEFTCORNERBRACKET",rE="RIGHTCORNERBRACKET",iE="LEFTWHITECORNERBRACKET",sE="RIGHTWHITECORNERBRACKET",aE="FULLWIDTHLESSTHAN",oE="FULLWIDTHGREATERTHAN",lE="AMPERSAND",cE="APOSTROPHE",uE="ASTERISK",Sh="AT",dE="BACKSLASH",fE="BACKTICK",hE="CARET",Ah="COLON",YL="COMMA",pE="DOLLAR",qu="DOT",mE="EQUALS",XL="EXCLAMATION",ac="HYPHEN",Rb="PERCENT",gE="PIPE",vE="PLUS",yE="POUND",Ib="QUERY",ZL="QUOTE",_oe="FULLWIDTHMIDDLEDOT",QL="SEMI",Uu="SLASH",Db="TILDE",xE="UNDERSCORE",joe="EMOJI",bE="SYM";var Aoe=Object.freeze({__proto__:null,ALPHANUMERICAL:Eoe,AMPERSAND:lE,APOSTROPHE:cE,ASCIINUMERICAL:Soe,ASTERISK:uE,AT:Sh,BACKSLASH:dE,BACKTICK:fE,CARET:hE,CLOSEANGLEBRACKET:JS,CLOSEBRACE:Mb,CLOSEBRACKET:YS,CLOSEPAREN:ZS,COLON:Ah,COMMA:YL,DOLLAR:pE,DOT:qu,EMOJI:joe,EQUALS:mE,EXCLAMATION:XL,FULLWIDTHGREATERTHAN:oE,FULLWIDTHLEFTPAREN:eE,FULLWIDTHLESSTHAN:aE,FULLWIDTHMIDDLEDOT:_oe,FULLWIDTHRIGHTPAREN:tE,HYPHEN:ac,LEFTCORNERBRACKET:nE,LEFTWHITECORNERBRACKET:iE,LOCALHOST:G0,NL:GL,NUM:KL,OPENANGLEBRACKET:QS,OPENBRACE:Pb,OPENBRACKET:GS,OPENPAREN:XS,PERCENT:Rb,PIPE:gE,PLUS:vE,POUND:yE,QUERY:Ib,QUOTE:ZL,RIGHTCORNERBRACKET:rE,RIGHTWHITECORNERBRACKET:sE,SCHEME:H2,SEMI:QL,SLASH:Uu,SLASH_SCHEME:ov,SYM:bE,TILDE:Db,TLD:d4,UNDERSCORE:xE,UTLD:f4,UWORD:u4,WORD:rf,WS:h4});const ef=/[a-z]/,Kx=new RegExp("\\p{L}","u"),UO=new RegExp("\\p{Emoji}","u"),tf=/\d/,HO=/\s/,nW="\r",VO=`
`,jHe="",AHe="",WO="";let o2=null,l2=null;function CHe(t=[]){const e={};Zo.groups=e;const n=new Zo;o2==null&&(o2=rW(bHe)),l2==null&&(l2=rW(wHe)),jt(n,"'",cE),jt(n,"{",Pb),jt(n,"}",Mb),jt(n,"[",GS),jt(n,"]",YS),jt(n,"(",XS),jt(n,")",ZS),jt(n,"<",QS),jt(n,">",JS),jt(n,"",eE),jt(n,"",tE),jt(n,"",nE),jt(n,"",rE),jt(n,"",iE),jt(n,"",sE),jt(n,"",aE),jt(n,"",oE),jt(n,"&",lE),jt(n,"*",uE),jt(n,"@",Sh),jt(n,"`",fE),jt(n,"^",hE),jt(n,":",Ah),jt(n,",",YL),jt(n,"$",pE),jt(n,".",qu),jt(n,"=",mE),jt(n,"!",XL),jt(n,"-",ac),jt(n,"%",Rb),jt(n,"|",gE),jt(n,"+",vE),jt(n,"#",yE),jt(n,"?",Ib),jt(n,'"',ZL),jt(n,"/",Uu),jt(n,";",QL),jt(n,"~",Db),jt(n,"_",xE),jt(n,"\\",dE),jt(n,"",_oe);const r=as(n,tf,KL,{[a4]:!0});as(r,tf,r);const i=as(r,ef,Soe,{[Ob]:!0}),s=as(r,Kx,Eoe,{[ob]:!0}),a=as(n,ef,rf,{[o4]:!0});as(a,tf,i),as(a,ef,a),as(i,tf,i),as(i,ef,i);const l=as(n,Kx,u4,{[l4]:!0});as(l,ef),as(l,tf,s),as(l,Kx,l),as(s,tf,s),as(s,ef),as(s,Kx,s);const c=jt(n,VO,GL,{[qO]:!0}),u=jt(n,nW,h4,{[qO]:!0}),d=as(n,HO,h4,{[qO]:!0});jt(n,WO,d),jt(u,VO,c),jt(u,WO,d),as(u,HO,d),jt(d,nW),jt(d,VO),as(d,HO,d),jt(d,WO,d);const f=as(n,UO,joe,{[Noe]:!0});jt(f,"#"),as(f,UO,f),jt(f,jHe,f);const m=jt(f,AHe);jt(m,"#"),as(m,UO,f);const p=[[ef,a],[tf,i]],y=[[ef,null],[Kx,l],[tf,s]];for(let v=0;v<o2.length;v++)mh(n,o2[v],d4,rf,p);for(let v=0;v<l2.length;v++)mh(n,l2[v],f4,u4,y);pm(d4,{tld:!0,ascii:!0},e),pm(f4,{utld:!0,alpha:!0},e),mh(n,"file",H2,rf,p),mh(n,"mailto",H2,rf,p),mh(n,"http",ov,rf,p),mh(n,"https",ov,rf,p),mh(n,"ftp",ov,rf,p),mh(n,"ftps",ov,rf,p),pm(H2,{scheme:!0,ascii:!0},e),pm(ov,{slashscheme:!0,ascii:!0},e),t=t.sort((v,x)=>v[0]>x[0]?1:-1);for(let v=0;v<t.length;v++){const x=t[v][0],S=t[v][1]?{[NHe]:!0}:{[SHe]:!0};x.indexOf("-")>=0?S[c4]=!0:ef.test(x)?tf.test(x)?S[Ob]=!0:S[o4]=!0:S[a4]=!0,tW(n,x,x,S)}return tW(n,"localhost",G0,{ascii:!0}),n.jd=new Zo(bE),{start:n,tokens:Object.assign({groups:e},Aoe)}}function Coe(t,e){const n=kHe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,c=null,u=0,d=null,f=-1,m=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,m=0,d=l):f>=0&&(f+=n[a].length,m++),u+=n[a].length,s+=n[a].length,a++;s-=f,a-=m,u-=f,i.push({t:d.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function kHe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function mh(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new Zo(r),s.jr=i.slice(),t.j[c]=s),t=s}return s=new Zo(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function rW(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Y0={defaultProtocol:"http",events:null,format:iW,formatHref:iW,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function JL(t,e=null){let n=Object.assign({},Y0);t&&(n=Object.assign(n,t instanceof JL?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}JL.prototype={o:Y0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Y0[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function iW(t){return t}function koe(t,e){this.t="token",this.v=t,this.tk=e}koe.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Y0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:i,attributes:a,content:s,eventListeners:f}}};function wj(t,e){class n extends koe{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const sW=wj("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),aW=wj("text"),THe=wj("nl"),c2=wj("url",{isLink:!0,toHref(t=Y0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==G0&&t[1].t===Ah}}),sc=t=>new Zo(t);function OHe({groups:t}){const e=t.domain.concat([lE,uE,Sh,dE,fE,hE,pE,mE,ac,KL,Rb,gE,vE,yE,Uu,bE,Db,xE]),n=[cE,Ah,YL,qu,XL,Rb,Ib,ZL,QL,QS,JS,Pb,Mb,YS,GS,XS,ZS,eE,tE,nE,rE,iE,sE,aE,oE],r=[lE,cE,uE,dE,fE,hE,pE,mE,ac,Pb,Mb,Rb,gE,vE,yE,Ib,Uu,bE,Db,xE],i=sc(),s=jt(i,Db);ar(s,r,s),ar(s,t.domain,s);const a=sc(),l=sc(),c=sc();ar(i,t.domain,a),ar(i,t.scheme,l),ar(i,t.slashscheme,c),ar(a,r,s),ar(a,t.domain,a);const u=jt(a,Sh);jt(s,Sh,u),jt(l,Sh,u),jt(c,Sh,u);const d=jt(s,qu);ar(d,r,s),ar(d,t.domain,s);const f=sc();ar(u,t.domain,f),ar(f,t.domain,f);const m=jt(f,qu);ar(m,t.domain,f);const p=sc(sW);ar(m,t.tld,p),ar(m,t.utld,p),jt(u,G0,p);const y=jt(f,ac);jt(y,ac,y),ar(y,t.domain,f),ar(p,t.domain,f),jt(p,qu,m),jt(p,ac,y);const v=jt(p,Ah);ar(v,t.numeric,sW);const x=jt(a,ac),b=jt(a,qu);jt(x,ac,x),ar(x,t.domain,a),ar(b,r,s),ar(b,t.domain,a);const S=sc(c2);ar(b,t.tld,S),ar(b,t.utld,S),ar(S,t.domain,a),ar(S,r,s),jt(S,qu,b),jt(S,ac,x),jt(S,Sh,u);const _=jt(S,Ah),j=sc(c2);ar(_,t.numeric,j);const C=sc(c2),O=sc();ar(C,e,C),ar(C,n,O),ar(O,e,C),ar(O,n,O),jt(S,Uu,C),jt(j,Uu,C);const M=jt(l,Ah),A=jt(c,Ah),P=jt(A,Uu),B=jt(P,Uu);ar(l,t.domain,a),jt(l,qu,b),jt(l,ac,x),ar(c,t.domain,a),jt(c,qu,b),jt(c,ac,x),ar(M,t.domain,C),jt(M,Uu,C),jt(M,Ib,C),ar(B,t.domain,C),ar(B,e,C),jt(B,Uu,C);const R=[[Pb,Mb],[GS,YS],[XS,ZS],[QS,JS],[eE,tE],[nE,rE],[iE,sE],[aE,oE]];for(let F=0;F<R.length;F++){const[q,z]=R[F],G=jt(C,q);jt(O,q,G),jt(G,z,C);const X=sc(c2);ar(G,e,X);const U=sc();ar(G,n),ar(X,e,X),ar(X,n,U),ar(U,e,X),ar(U,n,U),jt(X,z,C),jt(U,z,C)}return jt(i,G0,S),jt(i,GL,THe),{start:i,tokens:Aoe}}function PHe(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,c=null,u=null,d=0,f=null,m=-1;for(;i<r&&!(c=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(u=c||l.go(n[i].t));)c=null,l=u,l.accepts()?(m=0,f=l):m>=0&&m++,i++,d++;if(m<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(KO(aW,e,a)),a=[]),i-=m,d-=m;const p=f.t,y=n.slice(i-d,i);s.push(KO(p,e,y))}}return a.length>0&&s.push(KO(aW,e,a)),s}function KO(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const MHe=typeof console<"u"&&console&&console.warn||(()=>{}),RHe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ki={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function IHe(){return Zo.groups={},ki.scanner=null,ki.parser=null,ki.tokenQueue=[],ki.pluginQueue=[],ki.customSchemes=[],ki.initialized=!1,ki}function oW(t,e=!1){if(ki.initialized&&MHe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${RHe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ki.customSchemes.push([t,e])}function DHe(){ki.scanner=CHe(ki.customSchemes);for(let t=0;t<ki.tokenQueue.length;t++)ki.tokenQueue[t][1]({scanner:ki.scanner});ki.parser=OHe(ki.scanner.tokens);for(let t=0;t<ki.pluginQueue.length;t++)ki.pluginQueue[t][1]({scanner:ki.scanner,parser:ki.parser});return ki.initialized=!0,ki}function e3(t){return ki.initialized||DHe(),PHe(ki.parser.start,t,Coe(ki.scanner.start,t))}e3.scan=Coe;function Toe(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new JL(n),i=e3(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var t3="[\0- -\u2029]",LHe=new RegExp(t3),FHe=new RegExp(`${t3}$`),BHe=new RegExp(t3,"g");function $He(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function zHe(t){return new Mi({key:new ps("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=Kae(n.doc,[...e]);if(toe(l).forEach(({newRange:u})=>{const d=Tqe(r.doc,u,p=>p.isTextblock);let f,m;if(d.length>1)f=d[0],m=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(u.from,u.to," "," ");if(!FHe.test(p))return;f=d[0],m=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&m){const p=m.split(LHe).filter(Boolean);if(p.length<=0)return!1;const y=p[p.length-1],v=f.pos+m.lastIndexOf(y);if(!y)return!1;const x=e3(y).map(b=>b.toObject(t.defaultProtocol));if(!$He(x))return!1;x.filter(b=>b.isLink).map(b=>({...b,from:v+b.start+1,to:v+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>t.validate(b.value)).filter(b=>t.shouldAutoLink(b.value)).forEach(b=>{qL(b.from,b.to,r.doc).some(S=>S.mark.type===t.type)||a.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!a.steps.length)return a}})}function qHe(t){return new Mi({key:new ps("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;a=f.find(m=>m.nodeName==="A")}if(!a)return!1;const l=eoe(e.state,t.type.name),c=(i=a?.href)!=null?i:l.href,u=(s=a?.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&c?(window.open(c,u),!0):!1}}})}function UHe(t){return new Mi({key:new ps("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=Toe(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||i!==void 0&&!i(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function Kp(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(BHe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var n3=Mf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){oW(t);return}oW(t.scheme,t.optionalSlashes)})},onDestroy(){IHe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Kp(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Kp(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Kp(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",pi(this.options.HTMLAttributes,t),0]:["a",pi(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Kp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Kp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ap({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=Toe(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Kp(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(zHe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Kp(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(qHe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(UHe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),HHe=n3,VHe=Object.defineProperty,WHe=(t,e)=>{for(var n in e)VHe(t,n,{get:e[n],enumerable:!0})},KHe="listItem",lW="textStyle",cW=/^\s*([-+*])\s$/,Ooe=Ea.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",pi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KHe,this.editor.getAttributes(lW)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Sy({find:cW,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Sy({find:cW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(lW),editor:this.editor})),[t]}}),Poe=Ea.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",pi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>WL(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),GHe={};WHe(GHe,{findListItemPos:()=>R1,getNextListDepth:()=>r3,handleBackspace:()=>p4,handleDelete:()=>m4,hasListBefore:()=>Moe,hasListItemAfter:()=>YHe,hasListItemBefore:()=>Roe,listItemHasSubList:()=>Ioe,nextListIsDeeper:()=>Doe,nextListIsHigher:()=>Loe});var R1=(t,e)=>{const{$from:n}=e.selection,r=Bs(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},r3=(t,e)=>{const n=R1(t,e);if(!n)return!1;const[,r]=Bqe(e,t,n.$pos.pos+4);return r},Moe=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},Roe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},Ioe=(t,e,n)=>{if(!n)return!1;const r=Bs(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},p4=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!sp(t.state,e)&&Moe(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((m,p)=>{m.type.name===e&&u.push({node:m,pos:p})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!sp(t.state,e)||!Uqe(t.state))return!1;const r=R1(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=Ioe(e,t.state,s);return Roe(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Doe=(t,e)=>{const n=r3(t,e),r=R1(t,e);return!r||!n?!1:n>r.depth},Loe=(t,e)=>{const n=r3(t,e),r=R1(t,e);return!r||!n?!1:n<r.depth},m4=(t,e)=>{if(!sp(t.state,e)||!qqe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:Doe(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Loe(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},YHe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},Foe=ii.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&m4(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&m4(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&p4(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&p4(t,n,r)&&(e=!0)}),e}}}}),uW=/^(\s*)(\d+)\.\s+(.*)$/,XHe=/^\s/;function ZHe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(uW);if(!s)break;const[,a,l,c]=s,u=a.length;let d=c,f=n+1;const m=[i];for(;f<t.length;){const p=t[f];if(p.match(uW))break;if(p.trim()==="")m.push(p),d+=`
`,f+=1;else if(p.match(XHe))m.push(p),d+=`
${p.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:m.join(`
`)}),r=f,n=f}return[e,r]}function Boe(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const p=n.blockTokens(d);u.push(...p)}let f=s+1;const m=[];for(;f<t.length&&t[f].indent>e;)m.push(t[f]),f+=1;if(m.length>0){const p=Math.min(...m.map(v=>v.indent)),y=Boe(m,p,n);u.push({type:"list",ordered:!0,start:m[0].number,items:y,raw:m.map(v=>v.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:u}),s=f}else s+=1}return i}function QHe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var JHe="listItem",dW="textStyle",fW=/^(\d+)\.\s$/,$oe=Ea.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",pi(this.options.HTMLAttributes,n),0]:["ol",pi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?QHe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=ZHe(i);if(s.length===0)return;const l=Boe(s,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:l,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(JHe,this.editor.getAttributes(dW)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Sy({find:fW,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Sy({find:fW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(dW)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),eVe=/^\s*(\[([( |x])?\])\s$/,tVe=Ea.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",pi(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return WL(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,m;l.ariaLabel=((m=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:m.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const p=n();if(typeof p!="number")return!1;const y=m.doc.nodeAt(p);return m.setNodeMarkup(p,void 0,{...y?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,c),Object.entries(e).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Sy({find:eVe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),nVe=Ea.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",pi(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=i4(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=i4(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ii.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Ooe.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Poe.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Foe.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push($oe.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(tVe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(nVe.configure(this.options.taskList)),t}});var rVe=Ea.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",pi(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),iVe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,sVe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,aVe=Mf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",pi(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Km({find:iVe,type:this.type})]},addPasteRules(){return[ap({find:sVe,type:this.type})]}}),oVe=Ea.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),zoe=Mf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",pi(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),lVe=zoe;function cVe(t={}){return new Mi({view(e){return new uVe(e,t)}})}class uVe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let f=e.nodeBefore,m=e.nodeAfter;if(f||m){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let y=p.getBoundingClientRect(),v=f?y.bottom:y.top;f&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*l;r={left:y.left,right:y.right,top:v-x,bottom:v+x}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*a;r={left:f.left-m,right:f.left+m,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),m=f.width/c.offsetWidth,p=f.height/c.offsetHeight;u=f.left-c.scrollLeft*m,d=f.top-c.scrollTop*p}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=$se(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ds extends Mn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ds.valid(r)?new ds(r):Mn.near(r)}content(){return Ft.empty}eq(e){return e instanceof ds&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ds(e.resolve(n.pos))}getBookmark(){return new i3(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!dVe(e)||!fVe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ds.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let c=e.doc.resolve(i);if(ds.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!bn.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(ds.valid(l))return l}return null}}}ds.prototype.visible=!1;ds.findFrom=ds.findGapCursorFrom;Mn.jsonID("gapcursor",ds);class i3{constructor(e){this.pos=e}map(e){return new i3(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ds.valid(n)?new ds(n):Mn.near(n)}}function qoe(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function dVe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||qoe(i.type))return!0;if(i.inlineContent)return!1}}return!0}function fVe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||qoe(i.type))return!0;if(i.inlineContent)return!1}}return!0}function hVe(){return new Mi({props:{decorations:vVe,createSelectionBetween(t,e,n){return e.pos==n.pos&&ds.valid(n)?new ds(n):null},handleClick:mVe,handleKeyDown:pVe,handleDOMEvents:{beforeinput:gVe}}})}const pVe=RL({ArrowLeft:u2("horiz",-1),ArrowRight:u2("horiz",1),ArrowUp:u2("vert",-1),ArrowDown:u2("vert",1)});function u2(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Sn){if(!s.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=ds.findGapCursorFrom(l,e,c);return u?(i&&i(r.tr.setSelection(new ds(u))),!0):!1}}function mVe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ds.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&bn.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ds(r))),!0)}function gVe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ds))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ht.empty;for(let a=r.length-1;a>=0;a--)i=ht.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ft(i,0,0));return s.setSelection(Sn.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function vVe(t){if(!(t.selection instanceof ds))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",li.create(t.doc,[Qs.widget(t.selection.head,e,{key:"gapcursor"})])}var wE=200,ba=function(){};ba.prototype.append=function(e){return e.length?(e=ba.from(e),!this.length&&e||e.length<wE&&this.leafAppend(e)||this.length<wE&&e.leafPrepend(this)||this.appendInner(e)):this};ba.prototype.prepend=function(e){return e.length?ba.from(e).append(this):this};ba.prototype.appendInner=function(e){return new yVe(this,e)};ba.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ba.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ba.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ba.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ba.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};ba.from=function(e){return e instanceof ba?e:e&&e.length?new Uoe(e):ba.empty};var Uoe=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var c=s;c<a;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var c=s-1;c>=a;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=wE)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=wE)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(ba);ba.empty=new Uoe([]);var yVe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(ba);const xVe=500;class su{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,c,u=[],d=[];return this.items.forEach((f,m)=>{if(!f.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,d.push(f);return}if(i){d.push(new Hu(f.map));let p=f.step.map(i.slice(s)),y;p&&a.maybeStep(p).doc&&(y=a.mapping.maps[a.mapping.maps.length-1],u.push(new Hu(y,void 0,void 0,u.length+d.length))),s--,y&&i.appendMap(y,s)}else a.maybeStep(f.step);if(f.selection)return l=i?f.selection.map(i.slice(s)):f.selection,c=new su(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),m=new Hu(e.mapping.maps[d],f,n),p;(p=c&&c.merge(m))&&(m=p,d?s.pop():l=l.slice(0,l.length-1)),s.push(m),n&&(a++,n=void 0),i||(c=m)}let u=a-r.depth;return u>wVe&&(l=bVe(l,u),a-=u),new su(l.append(s),a)}remapping(e,n){let r=new z0;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new su(this.items.append(e.map(n=>new Hu(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},i);let c=n;this.items.forEach(m=>{let p=s.getMirror(--c);if(p==null)return;a=Math.min(a,p);let y=s.maps[p];if(m.step){let v=e.steps[p].invert(e.docs[p]),x=m.selection&&m.selection.map(s.slice(c+1,p));x&&l++,r.push(new Hu(y,v,x))}else r.push(new Hu(y))},i);let u=[];for(let m=n;m<a;m++)u.push(new Hu(s.maps[m]));let d=this.items.slice(0,i).append(u).append(r),f=new su(d,l);return f.emptyItemCount()>xVe&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=a.selection&&a.selection.map(n.slice(r));d&&s++;let f=new Hu(u.invert(),c,d),m,p=i.length-1;(m=i.length&&i[p].merge(f))?i[p]=m:i.push(f)}}else a.map&&r--},this.items.length,0),new su(ba.from(i.reverse()),s)}}su.empty=new su(ba.empty,0);function bVe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Hu{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Hu(n.getMap().invert(),n,this.selection)}}}class Eh{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const wVe=20;function NVe(t,e,n,r){let i=n.getMeta(Sm),s;if(i)return i.historyState;n.getMeta(_Ve)&&(t=new Eh(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Sm))return a.getMeta(Sm).redo?new Eh(t.done.addTransform(n,void 0,r,V2(e)),t.undone,hW(n.mapping.maps),t.prevTime,t.prevComposition):new Eh(t.done,t.undone.addTransform(n,void 0,r,V2(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!SVe(n,t.prevRanges)),u=a?GO(t.prevRanges,n.mapping):hW(n.mapping.maps);return new Eh(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,V2(e)),su.empty,u,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Eh(t.done.rebased(n,s),t.undone.rebased(n,s),GO(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Eh(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),GO(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function SVe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function hW(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function GO(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function EVe(t,e,n){let r=V2(e),i=Sm.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Eh(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(Sm,{redo:n,historyState:c})}let YO=!1,pW=null;function V2(t){let e=t.plugins;if(pW!=e){YO=!1,pW=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){YO=!0;break}}return YO}const Sm=new ps("history"),_Ve=new ps("closeHistory");function jVe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mi({key:Sm,state:{init(){return new Eh(su.empty,su.empty,null,0,-1)},apply(e,n,r){return NVe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Voe:r=="historyRedo"?Woe:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Hoe(t,e){return(n,r)=>{let i=Sm.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=EVe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Voe=Hoe(!1,!0),Woe=Hoe(!0,!0);ii.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Mi({key:new ps("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-r,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var AVe=ii.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cVe(this.options)]}});ii.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Mi({key:new ps("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return li.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(i>=u&&i<=u+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(i>=u&&i<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(Qs.node(u,u+c.nodeSize,{class:this.options.className}))}),li.create(t,s)}}})]}});var CVe=ii.create({name:"gapCursor",addProseMirrorPlugins(){return[hVe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=qr(vn(t,"allowGapCursor",n)))!=null?e:null}}}),kVe=ii.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Mi({key:new ps("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,u=!a.isLeaf&&yj(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=Qs.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),li.create(t,i)}}})]}});ii.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Mi({key:new ps("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||noe(n.selection)||t.view.dragging?null:li.create(n.doc,[Qs.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function mW({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var TVe=ii.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new ps(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Mi({key:e,appendTransaction:(i,s,a)=>{const{doc:l,tr:c,schema:u}=a,d=e.getState(a),f=l.content.size,m=u.nodes[n];if(d)return c.insert(f,m.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!mW({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged)return s;const a=i.doc.lastChild;return!mW({node:a,types:r})}}})]}}),OVe=ii.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Voe(t,e),redo:()=>({state:t,dispatch:e})=>Woe(t,e)}},addProseMirrorPlugins(){return[jVe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),PVe=ii.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(iHe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(JUe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Ooe.configure(this.options.bulletList)),this.options.code!==!1&&i.push(oHe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(woe.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(dHe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(AVe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(CVe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(fHe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(hHe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(OVe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(pHe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(xHe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(Poe.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Foe.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(n3.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push($oe.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(rVe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(aVe.configure(this.options.strike)),this.options.text!==!1&&i.push(oVe.configure(this.options.text)),this.options.underline!==!1&&i.push(zoe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(TVe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Koe=PVe,MVe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Goe=Ea.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",pi(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,a;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",u=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[goe({find:MVe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),RVe=Goe,Yoe=ii.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),IVe=Yoe,DVe=20,Xoe=(t,e=0)=>{const n=[];return!t.children.length||e>DVe||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...Xoe(r,e+1))}),n},LVe=t=>{if(!t.children.length)return;const e=Xoe(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},s3=Mf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&LVe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",pi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),FVe=ii.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),a3=ii.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),BVe=ii.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),$Ve=ii.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),zVe=ii.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});ii.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(FVe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(a3.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(BVe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push($Ve.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(zVe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(s3.configure(this.options.textStyle)),t}});var qVe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,UVe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,HVe=Mf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",pi(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),a=n.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Km({find:qVe,type:this.type})]},addPasteRules(){return[ap({find:UVe,type:this.type})]}}),XO,gW;function VVe(){if(gW)return XO;gW=1;function t(Ee){return Ee instanceof Map?Ee.clear=Ee.delete=Ee.set=function(){throw new Error("map is read-only")}:Ee instanceof Set&&(Ee.add=Ee.clear=Ee.delete=function(){throw new Error("set is read-only")}),Object.freeze(Ee),Object.getOwnPropertyNames(Ee).forEach(Ye=>{const ft=Ee[Ye],It=typeof ft;(It==="object"||It==="function")&&!Object.isFrozen(ft)&&t(ft)}),Ee}class e{constructor(Ye){Ye.data===void 0&&(Ye.data={}),this.data=Ye.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(Ee){return Ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(Ee,...Ye){const ft=Object.create(null);for(const It in Ee)ft[It]=Ee[It];return Ye.forEach(function(It){for(const On in It)ft[On]=It[On]}),ft}const i="</span>",s=Ee=>!!Ee.scope,a=(Ee,{prefix:Ye})=>{if(Ee.startsWith("language:"))return Ee.replace("language:","language-");if(Ee.includes(".")){const ft=Ee.split(".");return[`${Ye}${ft.shift()}`,...ft.map((It,On)=>`${It}${"_".repeat(On+1)}`)].join(" ")}return`${Ye}${Ee}`};class l{constructor(Ye,ft){this.buffer="",this.classPrefix=ft.classPrefix,Ye.walk(this)}addText(Ye){this.buffer+=n(Ye)}openNode(Ye){if(!s(Ye))return;const ft=a(Ye.scope,{prefix:this.classPrefix});this.span(ft)}closeNode(Ye){s(Ye)&&(this.buffer+=i)}value(){return this.buffer}span(Ye){this.buffer+=`<span class="${Ye}">`}}const c=(Ee={})=>{const Ye={children:[]};return Object.assign(Ye,Ee),Ye};class u{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Ye){this.top.children.push(Ye)}openNode(Ye){const ft=c({scope:Ye});this.add(ft),this.stack.push(ft)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Ye){return this.constructor._walk(Ye,this.rootNode)}static _walk(Ye,ft){return typeof ft=="string"?Ye.addText(ft):ft.children&&(Ye.openNode(ft),ft.children.forEach(It=>this._walk(Ye,It)),Ye.closeNode(ft)),Ye}static _collapse(Ye){typeof Ye!="string"&&Ye.children&&(Ye.children.every(ft=>typeof ft=="string")?Ye.children=[Ye.children.join("")]:Ye.children.forEach(ft=>{u._collapse(ft)}))}}class d extends u{constructor(Ye){super(),this.options=Ye}addText(Ye){Ye!==""&&this.add(Ye)}startScope(Ye){this.openNode(Ye)}endScope(){this.closeNode()}__addSublanguage(Ye,ft){const It=Ye.root;ft&&(It.scope=`language:${ft}`),this.add(It)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(Ee){return Ee?typeof Ee=="string"?Ee:Ee.source:null}function m(Ee){return v("(?=",Ee,")")}function p(Ee){return v("(?:",Ee,")*")}function y(Ee){return v("(?:",Ee,")?")}function v(...Ee){return Ee.map(ft=>f(ft)).join("")}function x(Ee){const Ye=Ee[Ee.length-1];return typeof Ye=="object"&&Ye.constructor===Object?(Ee.splice(Ee.length-1,1),Ye):{}}function b(...Ee){return"("+(x(Ee).capture?"":"?:")+Ee.map(It=>f(It)).join("|")+")"}function S(Ee){return new RegExp(Ee.toString()+"|").exec("").length-1}function _(Ee,Ye){const ft=Ee&&Ee.exec(Ye);return ft&&ft.index===0}const j=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function C(Ee,{joinWith:Ye}){let ft=0;return Ee.map(It=>{ft+=1;const On=ft;let ce=f(It),Fe="";for(;ce.length>0;){const dt=j.exec(ce);if(!dt){Fe+=ce;break}Fe+=ce.substring(0,dt.index),ce=ce.substring(dt.index+dt[0].length),dt[0][0]==="\\"&&dt[1]?Fe+="\\"+String(Number(dt[1])+On):(Fe+=dt[0],dt[0]==="("&&ft++)}return Fe}).map(It=>`(${It})`).join(Ye)}const O=/\b\B/,M="[a-zA-Z]\\w*",A="[a-zA-Z_]\\w*",P="\\b\\d+(\\.\\d+)?",B="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",R="\\b(0b[01]+)",F="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",q=(Ee={})=>{const Ye=/^#![ ]*\//;return Ee.binary&&(Ee.begin=v(Ye,/.*\b/,Ee.binary,/\b.*/)),r({scope:"meta",begin:Ye,end:/$/,relevance:0,"on:begin":(ft,It)=>{ft.index!==0&&It.ignoreMatch()}},Ee)},z={begin:"\\\\[\\s\\S]",relevance:0},G={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[z]},X={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[z]},U={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(Ee,Ye,ft={}){const It=r({scope:"comment",begin:Ee,end:Ye,contains:[]},ft);It.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const On=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return It.contains.push({begin:v(/[ ]+/,"(",On,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),It},Y=W("//","$"),ie=W("/\\*","\\*/"),Z=W("#","$"),I={scope:"number",begin:P,relevance:0},V={scope:"number",begin:B,relevance:0},Q={scope:"number",begin:R,relevance:0},re={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[z,{begin:/\[/,end:/\]/,relevance:0,contains:[z]}]},fe={scope:"title",begin:M,relevance:0},pe={scope:"title",begin:A,relevance:0},ve={begin:"\\.\\s*"+A,relevance:0};var be=Object.freeze({__proto__:null,APOS_STRING_MODE:G,BACKSLASH_ESCAPE:z,BINARY_NUMBER_MODE:Q,BINARY_NUMBER_RE:R,COMMENT:W,C_BLOCK_COMMENT_MODE:ie,C_LINE_COMMENT_MODE:Y,C_NUMBER_MODE:V,C_NUMBER_RE:B,END_SAME_AS_BEGIN:function(Ee){return Object.assign(Ee,{"on:begin":(Ye,ft)=>{ft.data._beginMatch=Ye[1]},"on:end":(Ye,ft)=>{ft.data._beginMatch!==Ye[1]&&ft.ignoreMatch()}})},HASH_COMMENT_MODE:Z,IDENT_RE:M,MATCH_NOTHING_RE:O,METHOD_GUARD:ve,NUMBER_MODE:I,NUMBER_RE:P,PHRASAL_WORDS_MODE:U,QUOTE_STRING_MODE:X,REGEXP_MODE:re,RE_STARTERS_RE:F,SHEBANG:q,TITLE_MODE:fe,UNDERSCORE_IDENT_RE:A,UNDERSCORE_TITLE_MODE:pe});function je(Ee,Ye){Ee.input[Ee.index-1]==="."&&Ye.ignoreMatch()}function ae(Ee,Ye){Ee.className!==void 0&&(Ee.scope=Ee.className,delete Ee.className)}function Oe(Ee,Ye){Ye&&Ee.beginKeywords&&(Ee.begin="\\b("+Ee.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",Ee.__beforeBegin=je,Ee.keywords=Ee.keywords||Ee.beginKeywords,delete Ee.beginKeywords,Ee.relevance===void 0&&(Ee.relevance=0))}function ee(Ee,Ye){Array.isArray(Ee.illegal)&&(Ee.illegal=b(...Ee.illegal))}function ne(Ee,Ye){if(Ee.match){if(Ee.begin||Ee.end)throw new Error("begin & end are not supported with match");Ee.begin=Ee.match,delete Ee.match}}function Me(Ee,Ye){Ee.relevance===void 0&&(Ee.relevance=1)}const ut=(Ee,Ye)=>{if(!Ee.beforeMatch)return;if(Ee.starts)throw new Error("beforeMatch cannot be used with starts");const ft=Object.assign({},Ee);Object.keys(Ee).forEach(It=>{delete Ee[It]}),Ee.keywords=ft.keywords,Ee.begin=v(ft.beforeMatch,m(ft.begin)),Ee.starts={relevance:0,contains:[Object.assign(ft,{endsParent:!0})]},Ee.relevance=0,delete ft.beforeMatch},Je=["of","and","for","in","not","or","if","then","parent","list","value"],He="keyword";function me(Ee,Ye,ft=He){const It=Object.create(null);return typeof Ee=="string"?On(ft,Ee.split(" ")):Array.isArray(Ee)?On(ft,Ee):Object.keys(Ee).forEach(function(ce){Object.assign(It,me(Ee[ce],Ye,ce))}),It;function On(ce,Fe){Ye&&(Fe=Fe.map(dt=>dt.toLowerCase())),Fe.forEach(function(dt){const Lt=dt.split("|");It[Lt[0]]=[ce,Ne(Lt[0],Lt[1])]})}}function Ne(Ee,Ye){return Ye?Number(Ye):Ce(Ee)?0:1}function Ce(Ee){return Je.includes(Ee.toLowerCase())}const Ve={},We=Ee=>{console.error(Ee)},Ue=(Ee,...Ye)=>{console.log(`WARN: ${Ee}`,...Ye)},tt=(Ee,Ye)=>{Ve[`${Ee}/${Ye}`]||(console.log(`Deprecated as of ${Ee}. ${Ye}`),Ve[`${Ee}/${Ye}`]=!0)},_t=new Error;function bt(Ee,Ye,{key:ft}){let It=0;const On=Ee[ft],ce={},Fe={};for(let dt=1;dt<=Ye.length;dt++)Fe[dt+It]=On[dt],ce[dt+It]=!0,It+=S(Ye[dt-1]);Ee[ft]=Fe,Ee[ft]._emit=ce,Ee[ft]._multi=!0}function Tt(Ee){if(Array.isArray(Ee.begin)){if(Ee.skip||Ee.excludeBegin||Ee.returnBegin)throw We("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),_t;if(typeof Ee.beginScope!="object"||Ee.beginScope===null)throw We("beginScope must be object"),_t;bt(Ee,Ee.begin,{key:"beginScope"}),Ee.begin=C(Ee.begin,{joinWith:""})}}function Wt(Ee){if(Array.isArray(Ee.end)){if(Ee.skip||Ee.excludeEnd||Ee.returnEnd)throw We("skip, excludeEnd, returnEnd not compatible with endScope: {}"),_t;if(typeof Ee.endScope!="object"||Ee.endScope===null)throw We("endScope must be object"),_t;bt(Ee,Ee.end,{key:"endScope"}),Ee.end=C(Ee.end,{joinWith:""})}}function At(Ee){Ee.scope&&typeof Ee.scope=="object"&&Ee.scope!==null&&(Ee.beginScope=Ee.scope,delete Ee.scope)}function An(Ee){At(Ee),typeof Ee.beginScope=="string"&&(Ee.beginScope={_wrap:Ee.beginScope}),typeof Ee.endScope=="string"&&(Ee.endScope={_wrap:Ee.endScope}),Tt(Ee),Wt(Ee)}function En(Ee){function Ye(Fe,dt){return new RegExp(f(Fe),"m"+(Ee.case_insensitive?"i":"")+(Ee.unicodeRegex?"u":"")+(dt?"g":""))}class ft{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(dt,Lt){Lt.position=this.position++,this.matchIndexes[this.matchAt]=Lt,this.regexes.push([Lt,dt]),this.matchAt+=S(dt)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const dt=this.regexes.map(Lt=>Lt[1]);this.matcherRe=Ye(C(dt,{joinWith:"|"}),!0),this.lastIndex=0}exec(dt){this.matcherRe.lastIndex=this.lastIndex;const Lt=this.matcherRe.exec(dt);if(!Lt)return null;const Hn=Lt.findIndex((pr,or)=>or>0&&pr!==void 0),gn=this.matchIndexes[Hn];return Lt.splice(0,Hn),Object.assign(Lt,gn)}}class It{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(dt){if(this.multiRegexes[dt])return this.multiRegexes[dt];const Lt=new ft;return this.rules.slice(dt).forEach(([Hn,gn])=>Lt.addRule(Hn,gn)),Lt.compile(),this.multiRegexes[dt]=Lt,Lt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(dt,Lt){this.rules.push([dt,Lt]),Lt.type==="begin"&&this.count++}exec(dt){const Lt=this.getMatcher(this.regexIndex);Lt.lastIndex=this.lastIndex;let Hn=Lt.exec(dt);if(this.resumingScanAtSamePosition()&&!(Hn&&Hn.index===this.lastIndex)){const gn=this.getMatcher(0);gn.lastIndex=this.lastIndex+1,Hn=gn.exec(dt)}return Hn&&(this.regexIndex+=Hn.position+1,this.regexIndex===this.count&&this.considerAll()),Hn}}function On(Fe){const dt=new It;return Fe.contains.forEach(Lt=>dt.addRule(Lt.begin,{rule:Lt,type:"begin"})),Fe.terminatorEnd&&dt.addRule(Fe.terminatorEnd,{type:"end"}),Fe.illegal&&dt.addRule(Fe.illegal,{type:"illegal"}),dt}function ce(Fe,dt){const Lt=Fe;if(Fe.isCompiled)return Lt;[ae,ne,An,ut].forEach(gn=>gn(Fe,dt)),Ee.compilerExtensions.forEach(gn=>gn(Fe,dt)),Fe.__beforeBegin=null,[Oe,ee,Me].forEach(gn=>gn(Fe,dt)),Fe.isCompiled=!0;let Hn=null;return typeof Fe.keywords=="object"&&Fe.keywords.$pattern&&(Fe.keywords=Object.assign({},Fe.keywords),Hn=Fe.keywords.$pattern,delete Fe.keywords.$pattern),Hn=Hn||/\w+/,Fe.keywords&&(Fe.keywords=me(Fe.keywords,Ee.case_insensitive)),Lt.keywordPatternRe=Ye(Hn,!0),dt&&(Fe.begin||(Fe.begin=/\B|\b/),Lt.beginRe=Ye(Lt.begin),!Fe.end&&!Fe.endsWithParent&&(Fe.end=/\B|\b/),Fe.end&&(Lt.endRe=Ye(Lt.end)),Lt.terminatorEnd=f(Lt.end)||"",Fe.endsWithParent&&dt.terminatorEnd&&(Lt.terminatorEnd+=(Fe.end?"|":"")+dt.terminatorEnd)),Fe.illegal&&(Lt.illegalRe=Ye(Fe.illegal)),Fe.contains||(Fe.contains=[]),Fe.contains=[].concat(...Fe.contains.map(function(gn){return yn(gn==="self"?Fe:gn)})),Fe.contains.forEach(function(gn){ce(gn,Lt)}),Fe.starts&&ce(Fe.starts,dt),Lt.matcher=On(Lt),Lt}if(Ee.compilerExtensions||(Ee.compilerExtensions=[]),Ee.contains&&Ee.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return Ee.classNameAliases=r(Ee.classNameAliases||{}),ce(Ee)}function zt(Ee){return Ee?Ee.endsWithParent||zt(Ee.starts):!1}function yn(Ee){return Ee.variants&&!Ee.cachedVariants&&(Ee.cachedVariants=Ee.variants.map(function(Ye){return r(Ee,{variants:null},Ye)})),Ee.cachedVariants?Ee.cachedVariants:zt(Ee)?r(Ee,{starts:Ee.starts?r(Ee.starts):null}):Object.isFrozen(Ee)?r(Ee):Ee}var nr="11.11.1";class an extends Error{constructor(Ye,ft){super(Ye),this.name="HTMLInjectionError",this.html=ft}}const Cn=n,wn=r,Ar=Symbol("nomatch"),Cr=7,mn=function(Ee){const Ye=Object.create(null),ft=Object.create(null),It=[];let On=!0;const ce="Could not find the language '{}', did you forget to load/include a language module?",Fe={disableAutodetect:!0,name:"Plain text",contains:[]};let dt={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function Lt(Et){return dt.noHighlightRe.test(Et)}function Hn(Et){let sn=Et.className+" ";sn+=Et.parentNode?Et.parentNode.className:"";const Vn=dt.languageDetectRe.exec(sn);if(Vn){const tr=ia(Vn[1]);return tr||(Ue(ce.replace("{}",Vn[1])),Ue("Falling back to no-highlight mode for this block.",Et)),tr?Vn[1]:"no-highlight"}return sn.split(/\s+/).find(tr=>Lt(tr)||ia(tr))}function gn(Et,sn,Vn){let tr="",gi="";typeof sn=="object"?(tr=Et,Vn=sn.ignoreIllegals,gi=sn.language):(tt("10.7.0","highlight(lang, code, ...args) has been deprecated."),tt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),gi=Et,tr=sn),Vn===void 0&&(Vn=!0);const Dr={code:tr,language:gi};_s("before:highlight",Dr);const Ro=Dr.result?Dr.result:pr(Dr.language,Dr.code,Vn);return Ro.code=Dr.code,_s("after:highlight",Ro),Ro}function pr(Et,sn,Vn,tr){const gi=Object.create(null);function Dr(Mt,qt){return Mt.keywords[qt]}function Ro(){if(!xn.keywords){_i.addText(yr);return}let Mt=0;xn.keywordPatternRe.lastIndex=0;let qt=xn.keywordPatternRe.exec(yr),Nn="";for(;qt;){Nn+=yr.substring(Mt,qt.index);const Dt=Vi.case_insensitive?qt[0].toLowerCase():qt[0],vi=Dr(xn,Dt);if(vi){const[Ji,xp]=vi;if(_i.addText(Nn),Nn="",gi[Dt]=(gi[Dt]||0)+1,gi[Dt]<=Cr&&(Pc+=xp),Ji.startsWith("_"))Nn+=qt[0];else{const Lf=Vi.classNameAliases[Ji]||Ji;As(qt[0],Lf)}}else Nn+=qt[0];Mt=xn.keywordPatternRe.lastIndex,qt=xn.keywordPatternRe.exec(yr)}Nn+=yr.substring(Mt),_i.addText(Nn)}function si(){if(yr==="")return;let Mt=null;if(typeof xn.subLanguage=="string"){if(!Ye[xn.subLanguage]){_i.addText(yr);return}Mt=pr(xn.subLanguage,yr,!0,Oc[xn.subLanguage]),Oc[xn.subLanguage]=Mt._top}else Mt=Ur(yr,xn.subLanguage.length?xn.subLanguage:null);xn.relevance>0&&(Pc+=Mt.relevance),_i.__addSublanguage(Mt._emitter,Mt.language)}function js(){xn.subLanguage!=null?si():Ro(),yr=""}function As(Mt,qt){Mt!==""&&(_i.startScope(qt),_i.addText(Mt),_i.endScope())}function _a(Mt,qt){let Nn=1;const Dt=qt.length-1;for(;Nn<=Dt;){if(!Mt._emit[Nn]){Nn++;continue}const vi=Vi.classNameAliases[Mt[Nn]]||Mt[Nn],Ji=qt[Nn];vi?As(Ji,vi):(yr=Ji,Ro(),yr=""),Nn++}}function La(Mt,qt){return Mt.scope&&typeof Mt.scope=="string"&&_i.openNode(Vi.classNameAliases[Mt.scope]||Mt.scope),Mt.beginScope&&(Mt.beginScope._wrap?(As(yr,Vi.classNameAliases[Mt.beginScope._wrap]||Mt.beginScope._wrap),yr=""):Mt.beginScope._multi&&(_a(Mt.beginScope,qt),yr="")),xn=Object.create(Mt,{parent:{value:xn}}),xn}function zs(Mt,qt,Nn){let Dt=_(Mt.endRe,Nn);if(Dt){if(Mt["on:end"]){const vi=new e(Mt);Mt["on:end"](qt,vi),vi.isMatchIgnored&&(Dt=!1)}if(Dt){for(;Mt.endsParent&&Mt.parent;)Mt=Mt.parent;return Mt}}if(Mt.endsWithParent)return zs(Mt.parent,qt,Nn)}function kc(Mt){return xn.matcher.regexIndex===0?(yr+=Mt[0],1):(ja=!0,0)}function Ei(Mt){const qt=Mt[0],Nn=Mt.rule,Dt=new e(Nn),vi=[Nn.__beforeBegin,Nn["on:begin"]];for(const Ji of vi)if(Ji&&(Ji(Mt,Dt),Dt.isMatchIgnored))return kc(qt);return Nn.skip?yr+=qt:(Nn.excludeBegin&&(yr+=qt),js(),!Nn.returnBegin&&!Nn.excludeBegin&&(yr=qt)),La(Nn,Mt),Nn.returnBegin?0:qt.length}function Tc(Mt){const qt=Mt[0],Nn=sn.substring(Mt.index),Dt=zs(xn,Mt,Nn);if(!Dt)return Ar;const vi=xn;xn.endScope&&xn.endScope._wrap?(js(),As(qt,xn.endScope._wrap)):xn.endScope&&xn.endScope._multi?(js(),_a(xn.endScope,Mt)):vi.skip?yr+=qt:(vi.returnEnd||vi.excludeEnd||(yr+=qt),js(),vi.excludeEnd&&(yr=qt));do xn.scope&&_i.closeNode(),!xn.skip&&!xn.subLanguage&&(Pc+=xn.relevance),xn=xn.parent;while(xn!==Dt.parent);return Dt.starts&&La(Dt.starts,Mt),vi.returnEnd?0:qt.length}function Df(){const Mt=[];for(let qt=xn;qt!==Vi;qt=qt.parent)qt.scope&&Mt.unshift(qt.scope);Mt.forEach(qt=>_i.openNode(qt))}let zl={};function ql(Mt,qt){const Nn=qt&&qt[0];if(yr+=Mt,Nn==null)return js(),0;if(zl.type==="begin"&&qt.type==="end"&&zl.index===qt.index&&Nn===""){if(yr+=sn.slice(qt.index,qt.index+1),!On){const Dt=new Error(`0 width match regex (${Et})`);throw Dt.languageName=Et,Dt.badRule=zl.rule,Dt}return 1}if(zl=qt,qt.type==="begin")return Ei(qt);if(qt.type==="illegal"&&!Vn){const Dt=new Error('Illegal lexeme "'+Nn+'" for mode "'+(xn.scope||"<unnamed>")+'"');throw Dt.mode=xn,Dt}else if(qt.type==="end"){const Dt=Tc(qt);if(Dt!==Ar)return Dt}if(qt.type==="illegal"&&Nn==="")return yr+=`
`,1;if(co>1e5&&co>qt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return yr+=Nn,Nn.length}const Vi=ia(Et);if(!Vi)throw We(ce.replace("{}",Et)),new Error('Unknown language: "'+Et+'"');const Eu=En(Vi);let cr="",xn=tr||Eu;const Oc={},_i=new dt.__emitter(dt);Df();let yr="",Pc=0,Fa=0,co=0,ja=!1;try{if(Vi.__emitTokens)Vi.__emitTokens(sn,_i);else{for(xn.matcher.considerAll();;){co++,ja?ja=!1:xn.matcher.considerAll(),xn.matcher.lastIndex=Fa;const Mt=xn.matcher.exec(sn);if(!Mt)break;const qt=sn.substring(Fa,Mt.index),Nn=ql(qt,Mt);Fa=Mt.index+Nn}ql(sn.substring(Fa))}return _i.finalize(),cr=_i.toHTML(),{language:Et,value:cr,relevance:Pc,illegal:!1,_emitter:_i,_top:xn}}catch(Mt){if(Mt.message&&Mt.message.includes("Illegal"))return{language:Et,value:Cn(sn),illegal:!0,relevance:0,_illegalBy:{message:Mt.message,index:Fa,context:sn.slice(Fa-100,Fa+100),mode:Mt.mode,resultSoFar:cr},_emitter:_i};if(On)return{language:Et,value:Cn(sn),illegal:!1,relevance:0,errorRaised:Mt,_emitter:_i,_top:xn};throw Mt}}function or(Et){const sn={value:Cn(Et),illegal:!1,relevance:0,_top:Fe,_emitter:new dt.__emitter(dt)};return sn._emitter.addText(Et),sn}function Ur(Et,sn){sn=sn||dt.languages||Object.keys(Ye);const Vn=or(Et),tr=sn.filter(ia).filter(Rf).map(js=>pr(js,Et,!1));tr.unshift(Vn);const gi=tr.sort((js,As)=>{if(js.relevance!==As.relevance)return As.relevance-js.relevance;if(js.language&&As.language){if(ia(js.language).supersetOf===As.language)return 1;if(ia(As.language).supersetOf===js.language)return-1}return 0}),[Dr,Ro]=gi,si=Dr;return si.secondBest=Ro,si}function mi(Et,sn,Vn){const tr=sn&&ft[sn]||Vn;Et.classList.add("hljs"),Et.classList.add(`language-${tr}`)}function Hi(Et){let sn=null;const Vn=Hn(Et);if(Lt(Vn))return;if(_s("before:highlightElement",{el:Et,language:Vn}),Et.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",Et);return}if(Et.children.length>0&&(dt.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Et)),dt.throwUnescapedHTML))throw new an("One of your code blocks includes unescaped HTML.",Et.innerHTML);sn=Et;const tr=sn.textContent,gi=Vn?gn(tr,{language:Vn,ignoreIllegals:!0}):Ur(tr);Et.innerHTML=gi.value,Et.dataset.highlighted="yes",mi(Et,Vn,gi.language),Et.result={language:gi.language,re:gi.relevance,relevance:gi.relevance},gi.secondBest&&(Et.secondBest={language:gi.secondBest.language,relevance:gi.secondBest.relevance}),_s("after:highlightElement",{el:Et,result:gi,text:tr})}function oo(Et){dt=wn(dt,Et)}const Ri=()=>{Mo(),tt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function $s(){Mo(),tt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ra=!1;function Mo(){function Et(){Mo()}if(document.readyState==="loading"){ra||window.addEventListener("DOMContentLoaded",Et,!1),ra=!0;return}document.querySelectorAll(dt.cssSelector).forEach(Hi)}function lo(Et,sn){let Vn=null;try{Vn=sn(Ee)}catch(tr){if(We("Language definition for '{}' could not be registered.".replace("{}",Et)),On)We(tr);else throw tr;Vn=Fe}Vn.name||(Vn.name=Et),Ye[Et]=Vn,Vn.rawDefinition=sn.bind(null,Ee),Vn.aliases&&Cc(Vn.aliases,{languageName:Et})}function Bl(Et){delete Ye[Et];for(const sn of Object.keys(ft))ft[sn]===Et&&delete ft[sn]}function Ac(){return Object.keys(Ye)}function ia(Et){return Et=(Et||"").toLowerCase(),Ye[Et]||Ye[ft[Et]]}function Cc(Et,{languageName:sn}){typeof Et=="string"&&(Et=[Et]),Et.forEach(Vn=>{ft[Vn.toLowerCase()]=sn})}function Rf(Et){const sn=ia(Et);return sn&&!sn.disableAutodetect}function Hr(Et){Et["before:highlightBlock"]&&!Et["before:highlightElement"]&&(Et["before:highlightElement"]=sn=>{Et["before:highlightBlock"](Object.assign({block:sn.el},sn))}),Et["after:highlightBlock"]&&!Et["after:highlightElement"]&&(Et["after:highlightElement"]=sn=>{Et["after:highlightBlock"](Object.assign({block:sn.el},sn))})}function If(Et){Hr(Et),It.push(Et)}function Su(Et){const sn=It.indexOf(Et);sn!==-1&&It.splice(sn,1)}function _s(Et,sn){const Vn=Et;It.forEach(function(tr){tr[Vn]&&tr[Vn](sn)})}function $l(Et){return tt("10.7.0","highlightBlock will be removed entirely in v12.0"),tt("10.7.0","Please use highlightElement now."),Hi(Et)}Object.assign(Ee,{highlight:gn,highlightAuto:Ur,highlightAll:Mo,highlightElement:Hi,highlightBlock:$l,configure:oo,initHighlighting:Ri,initHighlightingOnLoad:$s,registerLanguage:lo,unregisterLanguage:Bl,listLanguages:Ac,getLanguage:ia,registerAliases:Cc,autoDetection:Rf,inherit:wn,addPlugin:If,removePlugin:Su}),Ee.debugMode=function(){On=!1},Ee.safeMode=function(){On=!0},Ee.versionString=nr,Ee.regex={concat:v,lookahead:m,either:b,optional:y,anyNumberOfTimes:p};for(const Et in be)typeof be[Et]=="object"&&t(be[Et]);return Object.assign(Ee,be),Ee},Ut=mn({});return Ut.newInstance=()=>mn({}),XO=Ut,Ut.HighlightJS=Ut,Ut.default=Ut,XO}var WVe=VVe();const Zoe=Ir(WVe);function Qoe(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?Qoe(n.children,r):{text:n.value,classes:r}})}function vW(t){return t.value||t.children||[]}function KVe(t){return!!Zoe.getLanguage(t)}function yW({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return t4(t,s=>s.type.name===e).forEach(s=>{var a;let l=s.pos+1;const c=s.node.attrs.language||r,u=n.listLanguages(),d=c&&(u.includes(c)||KVe(c)||(a=n.registered)!=null&&a.call(n,c))?vW(n.highlight(c,s.node.textContent)):vW(n.highlightAuto(s.node.textContent));Qoe(d).forEach(f=>{const m=l+f.text.length;if(f.classes.length){const p=Qs.inline(l,m,{class:f.classes.join(" ")});i.push(p)}l=m})}),li.create(t,i)}function GVe(t){return typeof t=="function"}function YVe({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>GVe(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Mi({key:new ps("lowlight"),state:{init:(i,{doc:s})=>yW({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(i,s,a,l)=>{const c=a.selection.$head.parent.type.name,u=l.selection.$head.parent.type.name,d=t4(a.doc,m=>m.type.name===t),f=t4(l.doc,m=>m.type.name===t);return i.docChanged&&([c,u].includes(t)||f.length!==d.length||i.steps.some(m=>m.from!==void 0&&m.to!==void 0&&d.some(p=>p.pos>=m.from&&p.pos+p.node.nodeSize<=m.to)))?yW({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var XVe=uHe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],YVe({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function ZVe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],j={type:v,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},C={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},O=[C,f,l,n,t.C_BLOCK_COMMENT_MODE,d,u],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:j,contains:O.concat([{begin:/\(/,end:/\)/,keywords:j,contains:O.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:j,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:j,relevance:0},{begin:p,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:j,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,A,C,O,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:j,contains:["self",l]},{begin:t.IDENT_RE+"::",keywords:j},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function QVe(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=ZVe(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function JVe(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=t.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],x=["true","false"],b={match:/(\/[a-z._-]+)+/},S=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],_=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],j=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:x,built_in:[...S,..._,"set","shopt",...j,...C]},contains:[p,t.SHEBANG(),y,f,s,a,b,l,c,u,d,n]}}function eWe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",x={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[f,l,n,t.C_BLOCK_COMMENT_MODE,d,u],S={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:b.concat([{begin:/\(/,end:/\)/,keywords:x,contains:b.concat(["self"]),relevance:0}]),relevance:0},_={begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:x,relevance:0},{begin:p,returnBegin:!0,contains:[t.inherit(m,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C",aliases:["h"],keywords:x,disableAutodetect:!0,illegal:"</",contains:[].concat(S,_,b,[f,{begin:t.IDENT_RE+"::",keywords:x},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:f,strings:u,keywords:x}}}function tWe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],j={type:v,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},C={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},O=[C,f,l,n,t.C_BLOCK_COMMENT_MODE,d,u],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:j,contains:O.concat([{begin:/\(/,end:/\)/,keywords:j,contains:O.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:j,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:j,relevance:0},{begin:p,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:j,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,A,C,O,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:j,contains:["self",l]},{begin:t.IDENT_RE+"::",keywords:j},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function nWe(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:e,literal:r},l=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=t.inherit(d,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:a},p=t.inherit(m,{illegal:/\n/}),y={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,p]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},x=t.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});m.contains=[v,y,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c,t.C_BLOCK_COMMENT_MODE],p.contains=[x,y,f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const b={variants:[u,v,y,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},S={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},_=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",j={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},b,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,S,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,S,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+_+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,S],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[b,c,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},j]}}const rWe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),iWe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],sWe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],aWe=[...iWe,...sWe],oWe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),lWe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),cWe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),uWe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function dWe(t){const e=t.regex,n=rWe(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",l=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+lWe.join("|")+")"},{begin:":(:)?("+cWe.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+uWe.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:oWe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+aWe.join("|")+")\\b"}]}}function fWe(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function hWe(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function pWe(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function mWe(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,f=e.either(c,u,d),m=e.concat(f,"(\\s*\\.\\s*",f,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:m,className:"attr",starts:{end:/$/,contains:[r,l,s,i,a,n]}}]}}var lv="[0-9](_*[0-9])*",d2=`\\.(${lv})`,f2="[0-9a-fA-F](_*[0-9a-fA-F])*",xW={className:"number",variants:[{begin:`(\\b(${lv})((${d2})|\\.)?|(${d2}))[eE][+-]?(${lv})[fFdD]?\\b`},{begin:`\\b(${lv})((${d2})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${d2})[fFdD]?\\b`},{begin:`\\b(${lv})[fFdD]\\b`},{begin:`\\b0[xX]((${f2})\\.?|(${f2})?\\.(${f2}))[pP][+-]?(${lv})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${f2})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Joe(t,e,n){return n===-1?"":t.replace(e,r=>Joe(t,e,n-1))}function gWe(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+Joe("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,xW,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},xW,u]}}const bW="[A-Za-z$_][0-9A-Za-z$_]*",vWe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],yWe=["true","false","null","undefined","NaN","Infinity"],ele=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],tle=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],nle=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],xWe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],bWe=[].concat(nle,ele,tle);function wWe(t){const e=t.regex,n=(W,{after:Y})=>{const ie="</"+W[0].slice(1);return W.input.indexOf(ie,Y)!==-1},r=bW,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Y)=>{const ie=W[0].length+W.index,Z=W.input[ie];if(Z==="<"||Z===","){Y.ignoreMatch();return}Z===">"&&(n(W,{after:ie})||Y.ignoreMatch());let I;const V=W.input.substring(ie);if(I=V.match(/^\s*=/)){Y.ignoreMatch();return}if((I=V.match(/^\s+extends\s+/))&&I.index===0){Y.ignoreMatch();return}}},l={$pattern:bW,keyword:vWe,literal:yWe,built_in:bWe,"variable.language":xWe},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},S={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},_=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,y,v,x,{match:/\$\d+/},f];m.contains=_.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(_)});const j=[].concat(S,m.contains),C=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(j)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ele,...tle]}},P={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(W){return e.concat("(?!",W.join("|"),")")}const q={match:e.concat(/\b/,F([...nle,"super","import"].map(W=>`${W}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},G={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},X="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(X)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),P,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,y,v,x,S,{match:/\$\d+/},f,A,{scope:"attr",match:r+e.lookahead(":"),relevance:0},U,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,t.REGEXP_MODE,{className:"function",begin:X,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},q,R,M,G,{match:/\$[(.]/}]}}function NWe(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var cv="[0-9](_*[0-9])*",h2=`\\.(${cv})`,p2="[0-9a-fA-F](_*[0-9a-fA-F])*",SWe={className:"number",variants:[{begin:`(\\b(${cv})((${h2})|\\.)?|(${h2}))[eE][+-]?(${cv})[fFdD]?\\b`},{begin:`\\b(${cv})((${h2})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${h2})[fFdD]?\\b`},{begin:`\\b(${cv})[fFdD]\\b`},{begin:`\\b0[xX]((${p2})\\.?|(${p2})?\\.(${p2}))[pP][+-]?(${cv})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${p2})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function EWe(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(a,{className:"string"}),"self"]}]},u=SWe,d=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},m=f;return m.variants[1].contains=[f],f.variants[1].contains=[m],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,d,n,r,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,t.C_LINE_COMMENT_MODE,d],relevance:0},t.C_LINE_COMMENT_MODE,d,l,c,a,t.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const _We=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),jWe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],AWe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],CWe=[...jWe,...AWe],kWe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),rle=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),ile=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),TWe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),OWe=rle.concat(ile).sort().reverse();function PWe(t){const e=_We(t),n=OWe,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],l=[],c=function(_){return{className:"string",begin:"~?"+_+".*?"+_}},u=function(_,j,C){return{className:_,begin:j,relevance:C}},d={$pattern:/[a-z-]+/,keyword:r,attribute:kWe.join(" ")},f={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,c("'"),c('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,f,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const m=l.concat({begin:/\{/,end:/\}/,contains:a}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},y={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+TWe.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},x={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:m}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+CWe.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+rle.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+ile.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:m},{begin:"!important"},e.FUNCTION_DISPATCH]},S={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[b]};return a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,v,x,S,y,b,p,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function MWe(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function RWe(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,a]}}function IWe(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=t.inherit(u,{contains:[]}),m=t.inherit(d,{contains:[]});u.contains.push(m),d.contains.push(f);let p=[n,c];return[u,d,f,m].forEach(b=>{b.contains=b.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,r,c,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function DWe(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function LWe(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[t.BACKSLASH_ESCAPE,s,c],f=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],m=(v,x,b="\\1")=>{const S=b==="\\1"?b:e.concat(b,x);return e.concat(e.concat("(?:",v,")"),x,/(?:\\.|[^\\\/])*?/,S,/(?:\\.|[^\\\/])*?/,b,r)},p=(v,x,b)=>e.concat(e.concat("(?:",v,")"),x,/(?:\\.|[^\\\/])*?/,b,r),y=[c,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:m("s|tr|y",e.either(...f,{capture:!0}))},{begin:m("s|tr|y","\\(","\\)")},{begin:m("s|tr|y","\\[","\\]")},{begin:m("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",e.either(...f,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=y,a.contains=y,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:y}}function FWe(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=t.inherit(t.APOS_STRING_MODE,{illegal:null}),d=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(c)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(z,G)=>{G.data._beginMatch=z[1]||z[2]},"on:end":(z,G)=>{G.data._beginMatch!==z[1]&&G.ignoreMatch()}},m=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,y={scope:"string",variants:[d,u,f,m]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},x=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],S=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],j={keyword:b,literal:(z=>{const G=[];return z.forEach(X=>{G.push(X),X.toLowerCase()===X?G.push(X.toUpperCase()):G.push(X.toLowerCase())}),G})(x),built_in:S},C=z=>z.map(G=>G.replace(/\|\d+$/,"")),O={variants:[{match:[/new/,e.concat(p,"+"),e.concat("(?!",C(S).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},M=e.concat(r,"\\b(?!\\()"),A={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),M],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),M],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},P={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},B={relevance:0,begin:/\(/,end:/\)/,keywords:j,contains:[P,a,A,t.C_BLOCK_COMMENT_MODE,y,v,O]},R={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",C(b).join("\\b|"),"|",C(S).join("\\b|"),"\\b)"),r,e.concat(p,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[B]};B.contains.push(R);const F=[P,A,t.C_BLOCK_COMMENT_MODE,y,v,O],q={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:x,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:x,keyword:["new","array"]},contains:["self",...F]},...F,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:j,contains:[q,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},a,R,A,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},O,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:j,contains:["self",q,a,A,t.C_BLOCK_COMMENT_MODE,y,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},y,v]}}function BWe(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function $We(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function zWe(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,d,u]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",p=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,y=`\\b|${r.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${p}))[eE][+-]?(${m})[jJ]?(?=${y})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${m})[jJ](?=${y})`}]},x={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,v,f,t.HASH_COMMENT_MODE]}]};return u.contains=[f,v,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,x,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,b,f]}]}}function qWe(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function UWe(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function HWe(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[t.COMMENT("#","$",{contains:[l]}),t.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},f={className:"string",contains:[t.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,d]})]}]},m="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",y={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},O=[f,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:n}],relevance:0},y,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=O,v.contains=O;const B=[{begin:/^\s*=>/,starts:{end:"$",contains:O}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:O}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(B).concat(u).concat(O)}}function VWe(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},s]}}const WWe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),KWe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],GWe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],YWe=[...KWe,...GWe],XWe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ZWe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),QWe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),JWe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function eKe(t){const e=WWe(t),n=QWe,r=ZWe,i="@[a-z-]+",s="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+YWe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+JWe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,l,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:XWe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function tKe(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function nKe(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,y=[...u,...c].filter(C=>!d.includes(C)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},x={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function S(C){return e.concat(/\b/,e.either(...C.map(O=>O.replace(/\s+/,"\\s+"))),/\b/)}const _={scope:"keyword",match:S(m),relevance:0};function j(C,{exceptions:O,when:M}={}){const A=M;return O=O||[],C.map(P=>P.match(/\|\d+$/)||O.includes(P)?P:A(P)?`${P}|0`:P)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:j(y,{when:C=>C.length<3}),literal:s,type:l,built_in:f},contains:[{scope:"type",match:S(a)},_,b,v,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,x]}}function sle(t){return t?typeof t=="string"?t:t.source:null}function Gx(t){return ti("(?=",t,")")}function ti(...t){return t.map(n=>sle(n)).join("")}function rKe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function xo(...t){return"("+(rKe(t).capture?"":"?:")+t.map(r=>sle(r)).join("|")+")"}const o3=t=>ti(/\b/,t,/\w$/.test(t)?/\b/:/\B/),iKe=["Protocol","Type"].map(o3),wW=["init","self"].map(o3),sKe=["Any","Self"],ZO=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],NW=["false","nil","true"],aKe=["assignment","associativity","higherThan","left","lowerThan","none","right"],oKe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],SW=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ale=xo(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),ole=xo(ale,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),QO=ti(ale,ole,"*"),lle=xo(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),NE=xo(lle,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),zu=ti(lle,NE,"*"),m2=ti(/[A-Z]/,NE,"*"),lKe=["attached","autoclosure",ti(/convention\(/,xo("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",ti(/objc\(/,zu,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],cKe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function uKe(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,xo(...iKe,...wW)],className:{2:"keyword"}},s={match:ti(/\./,xo(...ZO)),relevance:0},a=ZO.filter(Me=>typeof Me=="string").concat(["_|0"]),l=ZO.filter(Me=>typeof Me!="string").concat(sKe).map(o3),c={variants:[{className:"keyword",match:xo(...l,...wW)}]},u={$pattern:xo(/\b\w+/,/#\w+/),keyword:a.concat(oKe),literal:NW},d=[i,s,c],f={match:ti(/\./,xo(...SW)),relevance:0},m={className:"built_in",match:ti(/\b/,xo(...SW),/(?=\()/)},p=[f,m],y={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:QO},{match:`\\.(\\.|${ole})+`}]},x=[y,v],b="([0-9]_*)+",S="([0-9a-fA-F]_*)+",_={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${S})(\\.(${S}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},j=(Me="")=>({className:"subst",variants:[{match:ti(/\\/,Me,/[0\\tnr"']/)},{match:ti(/\\/,Me,/u\{[0-9a-fA-F]{1,8}\}/)}]}),C=(Me="")=>({className:"subst",match:ti(/\\/,Me,/[\t ]*(?:[\r\n]|\r\n)/)}),O=(Me="")=>({className:"subst",label:"interpol",begin:ti(/\\/,Me,/\(/),end:/\)/}),M=(Me="")=>({begin:ti(Me,/"""/),end:ti(/"""/,Me),contains:[j(Me),C(Me),O(Me)]}),A=(Me="")=>({begin:ti(Me,/"/),end:ti(/"/,Me),contains:[j(Me),O(Me)]}),P={className:"string",variants:[M(),M("#"),M("##"),M("###"),A(),A("#"),A("##"),A("###")]},B=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],R={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:B},F=Me=>{const ut=ti(Me,/\//),Je=ti(/\//,Me);return{begin:ut,end:Je,contains:[...B,{scope:"comment",begin:`#(?!.*${Je})`,end:/$/}]}},q={scope:"regexp",variants:[F("###"),F("##"),F("#"),R]},z={match:ti(/`/,zu,/`/)},G={className:"variable",match:/\$\d+/},X={className:"variable",match:`\\$${NE}+`},U=[z,G,X],W={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:cKe,contains:[...x,_,P]}]}},Y={scope:"keyword",match:ti(/@/,xo(...lKe),Gx(xo(/\(/,/\s+/)))},ie={scope:"meta",match:ti(/@/,zu)},Z=[W,Y,ie],I={match:Gx(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:ti(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,NE,"+")},{className:"type",match:m2,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:ti(/\s+&\s+/,Gx(m2)),relevance:0}]},V={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...Z,y,I]};I.contains.push(V);const Q={match:ti(zu,/\s*:/),keywords:"_|0",relevance:0},re={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",Q,...r,q,...d,...p,...x,_,P,...U,...Z,I]},fe={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,I]},pe={begin:xo(Gx(ti(zu,/\s*:/)),Gx(ti(zu,/\s+/,zu,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:zu}]},ve={begin:/\(/,end:/\)/,keywords:u,contains:[pe,...r,...d,...x,_,P,...Z,I,re],endsParent:!0,illegal:/["']/},de={match:[/(func|macro)/,/\s+/,xo(z.match,zu,QO)],className:{1:"keyword",3:"title.function"},contains:[fe,ve,e],illegal:[/\[/,/%/]},be={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[fe,ve,e],illegal:/\[|%/},je={match:[/operator/,/\s+/,QO],className:{1:"keyword",3:"title"}},ae={begin:[/precedencegroup/,/\s+/,m2],className:{1:"keyword",3:"title"},contains:[I],keywords:[...aKe,...NW],end:/}/},Oe={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ee={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},ne={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,zu,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[fe,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:m2},...d],relevance:0}]};for(const Me of P.variants){const ut=Me.contains.find(He=>He.label==="interpol");ut.keywords=u;const Je=[...d,...p,...x,_,P,...U];ut.contains=[...Je,{begin:/\(/,end:/\)/,contains:["self",...Je]}]}return{name:"Swift",keywords:u,contains:[...r,de,be,Oe,ee,ne,je,ae,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},q,...d,...p,...x,_,P,...U,...Z,I,re]}}const SE="[A-Za-z$_][0-9A-Za-z$_]*",cle=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ule=["true","false","null","undefined","NaN","Infinity"],dle=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],fle=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],hle=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ple=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],mle=[].concat(hle,dle,fle);function dKe(t){const e=t.regex,n=(W,{after:Y})=>{const ie="</"+W[0].slice(1);return W.input.indexOf(ie,Y)!==-1},r=SE,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Y)=>{const ie=W[0].length+W.index,Z=W.input[ie];if(Z==="<"||Z===","){Y.ignoreMatch();return}Z===">"&&(n(W,{after:ie})||Y.ignoreMatch());let I;const V=W.input.substring(ie);if(I=V.match(/^\s*=/)){Y.ignoreMatch();return}if((I=V.match(/^\s+extends\s+/))&&I.index===0){Y.ignoreMatch();return}}},l={$pattern:SE,keyword:cle,literal:ule,built_in:mle,"variable.language":ple},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},S={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},_=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,y,v,x,{match:/\$\d+/},f];m.contains=_.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(_)});const j=[].concat(S,m.contains),C=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(j)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...dle,...fle]}},P={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(W){return e.concat("(?!",W.join("|"),")")}const q={match:e.concat(/\b/,F([...hle,"super","import"].map(W=>`${W}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},G={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},X="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(X)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),P,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,y,v,x,S,{match:/\$\d+/},f,A,{scope:"attr",match:r+e.lookahead(":"),relevance:0},U,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,t.REGEXP_MODE,{className:"function",begin:X,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},q,R,M,G,{match:/\$[(.]/}]}}function fKe(t){const e=t.regex,n=dKe(t),r=SE,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:SE,keyword:cle.concat(c),literal:ule,built_in:mle.concat(i),"variable.language":ple},d={className:"meta",begin:"@"+r},f=(v,x,b)=>{const S=v.contains.findIndex(_=>_.label===x);if(S===-1)throw new Error("can not find mode to replace");v.contains.splice(S,1,b)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const m=n.contains.find(v=>v.scope==="attr"),p=Object.assign({},m,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,m,p]),n.contains=n.contains.concat([d,s,a,p]),f(n,"shebang",t.SHEBANG()),f(n,"use_strict",l);const y=n.contains.find(v=>v.label==="func.def");return y.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function hKe(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,l,/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(a,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},f=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),m=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,f,m,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[m]}]}}function pKe(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,t.QUOTE_STRING_MODE,c,u,l]}}function mKe(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(s,{begin:/\(/,end:/\)/}),l=t.inherit(t.APOS_STRING_MODE,{className:"string"}),c=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,l,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,c,l]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function gKe(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},l=t.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),m={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},y={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},x=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},m,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},y,v,s,a],b=[...x];return b.pop(),b.push(l),p.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:x}}const vKe={arduino:QVe,bash:JVe,c:eWe,cpp:tWe,csharp:nWe,css:dWe,diff:fWe,go:hWe,graphql:pWe,ini:mWe,java:gWe,javascript:wWe,json:NWe,kotlin:EWe,less:PWe,lua:MWe,makefile:RWe,markdown:IWe,objectivec:DWe,perl:LWe,php:FWe,"php-template":BWe,plaintext:$We,python:zWe,"python-repl":qWe,r:UWe,ruby:HWe,rust:VWe,scss:eKe,shell:tKe,sql:nKe,swift:uKe,typescript:fKe,vbnet:hKe,wasm:pKe,xml:mKe,yaml:gKe},EW={},yKe="hljs-";function xKe(t){const e=Zoe.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:l};function n(c,u,d){const f=d||EW,m=typeof f.prefix=="string"?f.prefix:yKe;if(!e.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");e.configure({__emitter:bKe,classPrefix:m});const p=e.highlight(u,{ignoreIllegals:!0,language:c});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const y=p._emitter.root,v=y.data;return v.language=p.language,v.relevance=p.relevance,y}function r(c,u){const f=(u||EW).subset||i();let m=-1,p=0,y;for(;++m<f.length;){const v=f[m];if(!e.getLanguage(v))continue;const x=n(v,c,u);x.data&&x.data.relevance!==void 0&&x.data.relevance>p&&(p=x.data.relevance,y=x)}return y||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return e.listLanguages()}function s(c,u){if(typeof c=="string")e.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&e.registerLanguage(d,c[d])}}function a(c,u){if(typeof c=="string")e.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const f=c[d];e.registerAliases(typeof f=="string"?f:[...f],{languageName:d})}}}function l(c){return!!e.getLanguage(c)}}class bKe{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(a,l){return l?a+"_".repeat(l):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}var g4,v4;if(typeof WeakMap<"u"){let t=new WeakMap;g4=e=>t.get(e),v4=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;g4=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},v4=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var fs=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,a=i+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:a,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,c),right:Math.max(r,l),bottom:Math.max(s,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[s-1]==a||r==t.top&&r&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<i;)a++;return a==l?s-1:this.map[a]}i=s}}static get(t){return g4(t)||v4(t,wKe(t))}};function wKe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=NKe(t),n=t.childCount,r=[];let i=0,s=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let y=0;;y++){for(;i<r.length&&r[i]!=0;)i++;if(y==f.childCount)break;const v=f.child(y),{colspan:x,rowspan:b,colwidth:S}=v.attrs;for(let _=0;_<b;_++){if(_+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:d,n:b-_});break}const j=i+_*e;for(let C=0;C<x;C++){r[j+C]==0?r[j+C]=d:(s||(s=[])).push({type:"collision",row:u,pos:d,n:x-C});const O=S&&S[C];if(O){const M=(j+C)%e*2,A=a[M];A==null||A!=O&&a[M+1]==1?(a[M]=O,a[M+1]=1):A==O&&a[M+1]++}}}i+=x,d+=v.nodeSize}const m=(u+1)*e;let p=0;for(;i<m;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:u,n:p}),d++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const l=new fs(e,n,r,s);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&SKe(l,a,t),l}function NKe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const l=i.child(a);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function SKe(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=(i+u)%t.width,f=e[d*2];f!=null&&(!c.colwidth||c.colwidth[u]!=f)&&((l||(l=EKe(c)))[u]=f)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function EKe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function so(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Ch=new ps("selectingCells");function nx(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function _Ke(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Nu(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Nj(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=nx(e.$head)||jKe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function jKe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function y4(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function AKe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function l3(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function gle(t,e,n){const r=t.node(-1),i=fs.get(r),s=t.start(-1),a=i.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}function Gm(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function vle(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function CKe(t,e,n){const r=so(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Ni=class sf extends Mn{constructor(e,n=e){const r=e.node(-1),i=fs.get(r),s=e.start(-1),a=i.rectBetween(e.pos-s,n.pos-s),l=e.node(0),c=i.cellsInRect(a).filter(d=>d!=n.pos-s);c.unshift(n.pos-s);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw RangeError(`No cell with offset ${d} found`);const m=s+d+1;return new Vse(l.resolve(m),l.resolve(m+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(y4(r)&&y4(i)&&l3(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?sf.rowSelection(r,i):s&&this.isColSelection()?sf.colSelection(r,i):new sf(r,i)}return Sn.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=fs.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let c=i.top;c<i.bottom;c++){const u=[];for(let d=c*n.width+i.left,f=i.left;f<i.right;f++,d++){const m=n.map[d];if(s[m])continue;s[m]=!0;const p=n.findCell(m);let y=e.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const v=i.left-p.left,x=p.right-i.right;if(v>0||x>0){let b=y.attrs;if(v>0&&(b=Gm(b,0,v)),x>0&&(b=Gm(b,b.colspan-x,x)),p.left<i.left){if(y=y.type.createAndFill(b),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(b)}`)}else y=y.type.create(b,y.content)}if(p.top<i.top||p.bottom>i.bottom){const b={...y.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?y=y.type.createAndFill(b):y=y.type.create(b,y.content)}u.push(y)}a.push(e.child(c).copy(ht.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new Ft(ht.from(l),1,1)}replace(e,n=Ft.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:l,$to:c}=i[a],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),a?Ft.empty:n)}const s=Mn.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new Ft(ht.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=fs.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),i+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=fs.get(r),s=e.start(-1),a=i.findCell(e.pos-s),l=i.findCell(n.pos-s),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(s+i.map[a.left])),l.bottom<i.height&&(n=c.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(s+i.map[l.left])),a.bottom<i.height&&(e=c.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new sf(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=fs.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof sf&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=fs.get(r),s=e.start(-1),a=i.findCell(e.pos-s),l=i.findCell(n.pos-s),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(s+i.map[a.top*i.width])),l.right<i.width&&(n=c.resolve(s+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(s+i.map[l.top*i.width])),a.right<i.width&&(e=c.resolve(s+i.map[i.width*(a.top+1)-1]))),new sf(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new sf(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new sf(e.resolve(n),e.resolve(r))}getBookmark(){return new kKe(this.$anchorCell.pos,this.$headCell.pos)}};Ni.prototype.visible=!1;Mn.jsonID("cell",Ni);var kKe=class yle{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yle(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&l3(n,r)?new Ni(n,r):Mn.near(r,1)}};function TKe(t){if(!(t.selection instanceof Ni))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Qs.node(r,r+n.nodeSize,{class:"selectedCell"}))}),li.create(t.doc,e)}function OKe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function PKe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function MKe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,a;if(r instanceof bn&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=Ni.create(i,r.from);else if(a=="row"){const l=i.resolve(r.from+1);s=Ni.rowSelection(l,l)}else if(!n){const l=fs.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];s=Ni.create(i,c+1,u)}}else r instanceof Sn&&OKe(r)?s=Sn.create(i,r.from):r instanceof Sn&&PKe(r)&&(s=Sn.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var RKe=new ps("fix-tables");function xle(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let a=0,l=0;a<s;a++){const c=e.child(a);for(let u=l,d=Math.min(i,a+3);u<d;u++)if(t.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<i&&t.child(l).sameMarkup(c)?xle(t.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function ble(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=IKe(t,i,s,n))};return e?e.doc!=t.doc&&xle(e.doc,t.doc,0,r):t.doc.descendants(r),n}function IKe(t,e,n,r){const i=fs.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let c=0;c<i.height;c++)s.push(0);for(let c=0;c<i.problems.length;c++){const u=i.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let m=0;m<f.rowspan;m++)s[u.row+m]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Gm(f,f.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,l;for(let c=0;c<s.length;c++)s[c]&&(a==null&&(a=c),l=c);for(let c=0,u=n+1;c<i.height;c++){const d=e.child(c),f=u+d.nodeSize,m=s[c];if(m>0){let p="cell";d.firstChild&&(p=d.firstChild.type.spec.tableRole);const y=[];for(let x=0;x<m;x++){const b=so(t.schema)[p].createAndFill();b&&y.push(b)}const v=(c==0||a==c-1)&&l==c?u+1:f-1;r.insert(r.mapping.map(v),y)}u=f}return r.setMeta(RKe,{fixTables:!0})}function wd(t){const e=t.selection,n=Nj(t),r=n.node(-1),i=n.start(-1),s=fs.get(r);return{...e instanceof Ni?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function wle(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;CKe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,vle(u.attrs,i-e.colCount(c))),a+=u.attrs.rowspan-1}else{const c=s==null?so(r.type.schema).cell:r.nodeAt(e.map[l+s]).type,u=e.positionAt(a,i,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function DKe(t,e){if(!Nu(t))return!1;if(e){const n=wd(t);e(wle(t.tr,n,n.left))}return!0}function LKe(t,e){if(!Nu(t))return!1;if(e){const n=wd(t);e(wle(t.tr,n,n.right))}return!0}function FKe(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+i,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(i>0&&e.map[l-1]==c||i<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(r+c),null,Gm(d,i-e.colCount(c)));else{const f=t.mapping.slice(s).map(r+c);t.delete(f,f+u.nodeSize)}a+=d.rowspan}}function BKe(t,e){if(!Nu(t))return!1;if(e){const n=wd(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;FKe(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=fs.get(s)}e(r)}return!0}function $Ke(t,e,n){var r;const i=so(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function Nle(t,{map:e,tableStart:n,table:r},i){var s;let a=n;for(let u=0;u<i;u++)a+=r.child(u).nodeSize;const l=[];let c=i>0?-1:0;$Ke(e,r,i+c)&&(c=i==0||i==e.height?null:0);for(let u=0,d=e.width*i;u<e.width;u++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],m=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...m,rowspan:m.rowspan+1}),u+=m.colspan-1}else{const f=c==null?so(r.type.schema).cell:(s=r.nodeAt(e.map[d+c*e.width]))==null?void 0:s.type,m=f?.createAndFill();m&&l.push(m)}return t.insert(a,so(r.type.schema).row.create(null,l)),t}function zKe(t,e){if(!Nu(t))return!1;if(e){const n=wd(t);e(Nle(t.tr,n,n.top))}return!0}function qKe(t,e){if(!Nu(t))return!1;if(e){const n=wd(t);e(Nle(t.tr,n,n.bottom))}return!0}function UKe(t,{map:e,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const a=s+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(s+r,a+r);const c=new Set;for(let u=0,d=i*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),i>0&&f==e.map[d-e.width]){const m=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<e.height&&f==e.map[d+e.width]){const m=n.nodeAt(f),p=m.attrs,y=m.type.create({...p,rowspan:m.attrs.rowspan-1},m.content),v=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(l).map(r+v),y),u+=p.colspan-1}}}}function HKe(t,e){if(!Nu(t))return!1;if(e){const n=wd(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;UKe(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=fs.get(n.table)}e(r)}return!0}function _W(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function VKe({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,a=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[a]==n[a+t])return!0;i++,a++}return!1}function jW(t,e){const n=t.selection;if(!(n instanceof Ni)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=wd(t),{map:i}=r;if(VKe(i,r))return!1;if(e){const s=t.tr,a={};let l=ht.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const m=i.map[d*i.width+f],p=r.table.nodeAt(m);if(!(a[m]||!p))if(a[m]=!0,c==null)c=m,u=p;else{_W(p)||(l=l.append(p.content));const y=s.mapping.map(m+r.tableStart);s.delete(y,y+p.nodeSize)}}if(c==null||u==null)return!0;if(s.setNodeMarkup(c+r.tableStart,null,{...vle(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const d=c+1+u.content.size,f=_W(u)?c+1:d;s.replaceWith(f+r.tableStart,d+r.tableStart,l)}s.setSelection(new Ni(s.doc.resolve(c+r.tableStart))),e(s)}return!0}function AW(t,e){const n=so(t.schema);return WKe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function WKe(t){return(e,n)=>{var r;const i=e.selection;let s,a;if(i instanceof Ni){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(s=_Ke(i.$from),!s)return!1;a=(r=nx(i.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=wd(e),f=e.tr;for(let p=0;p<d.right-d.left;p++)c.push(u?{...l,colwidth:u&&u[p]?[u[p]]:null}:l);let m;for(let p=d.top;p<d.bottom;p++){let y=d.map.positionAt(p,d.left,d.table);p==d.top&&(y+=s.nodeSize);for(let v=d.left,x=0;v<d.right;v++,x++)v==d.left&&p==d.top||f.insert(m=f.mapping.map(y+d.tableStart,1),t({node:s,row:p,col:v}).createAndFill(c[x]))}f.setNodeMarkup(a,t({node:s,row:d.top,col:d.left}),c[0]),i instanceof Ni&&f.setSelection(new Ni(f.doc.resolve(i.$anchorCell.pos),m?f.doc.resolve(m):void 0)),n(f)}return!0}}function KKe(t,e){return function(n,r){if(!Nu(n))return!1;const i=Nj(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof Ni?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&s.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function GKe(t){return function(e,n){if(!Nu(e))return!1;if(n){const r=so(e.schema),i=wd(e),s=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=a.map(c=>i.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[c],r.cell,l[c].attrs);if(s.steps.length==0)for(let c=0;c<a.length;c++)s.setNodeMarkup(i.tableStart+a[c],r.header_cell,l[c].attrs);n(s)}return!0}}function CW(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function X0(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?GKe(t):function(n,r){if(!Nu(n))return!1;if(r){const i=so(n.schema),s=wd(n),a=n.tr,l=CW("row",s,i),c=CW("column",s,i),d=(t==="column"?l:t==="row"?c:!1)?1:0,f=t=="column"?{left:0,top:d,right:1,bottom:s.map.height}:t=="row"?{left:d,top:0,right:s.map.width,bottom:1}:s,m=t=="column"?c?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(p=>{const y=p+s.tableStart,v=a.doc.nodeAt(y);v&&a.setNodeMarkup(y,m,v.attrs)}),r(a)}return!0}}X0("row",{useDeprecatedLogic:!0});X0("column",{useDeprecatedLogic:!0});var YKe=X0("cell",{useDeprecatedLogic:!0});function XKe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function kW(t){return function(e,n){if(!Nu(e))return!1;const r=XKe(Nj(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Sn.between(i,AKe(i))).scrollIntoView())}return!0}}function ZKe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function g2(t,e){const n=t.selection;if(!(n instanceof Ni))return!1;if(e){const r=t.tr,i=so(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new Ft(i,0,0))}),r.docChanged&&e(r)}return!0}function QKe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,a=i.type.schema,l=[];if(s=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=x4(so(a).row,new Ft(u,d,f)).content),l.push(u)}else if(s=="cell"||s=="header_cell")l.push(n||r?x4(so(a).row,new Ft(e,n,r)).content:e);else return null;return JKe(a,l)}function JKe(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=s.child(a).attrs;for(let u=i;u<i+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(ht.empty),n[i]<r){const s=so(t).cell.createAndFill(),a=[];for(let l=n[i];l<r;l++)a.push(s);e[i]=e[i].append(ht.from(a))}return{height:e.length,width:r,rows:e}}function x4(t,e){const n=t.createAndFill();return new yL(n).replace(0,n.content.size,e).doc}function eGe({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=s[l]||0,f=0;d<r;f++){let m=c.child(f%c.childCount);d+m.attrs.colspan>r&&(m=m.type.createChecked(Gm(m.attrs,m.attrs.colspan,d+m.attrs.colspan-r),m.content)),u.push(m),d+=m.attrs.colspan;for(let p=1;p<m.attrs.rowspan;p++)s[l+p]=(s[l+p]||0)+m.attrs.colspan}a.push(ht.from(u))}n=a,t=r}if(e!=i){const s=[];for(let a=0,l=0;a<i;a++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),c.push(f)}s.push(ht.from(c))}n=s,e=i}return{width:t,height:e,rows:n}}function tGe(t,e,n,r,i,s,a){const l=t.doc.type.schema,c=so(l);let u,d;if(i>e.width)for(let f=0,m=0;f<e.height;f++){const p=n.child(f);m+=p.nodeSize;const y=[];let v;p.lastChild==null||p.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let x=e.width;x<i;x++)y.push(v);t.insert(t.mapping.slice(a).map(m-1+r),y)}if(s>e.height){const f=[];for(let y=0,v=(e.height-1)*e.width;y<Math.max(e.width,i);y++){const x=y>=e.width?!1:n.nodeAt(e.map[v+y]).type==c.header_cell;f.push(x?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const m=c.row.create(null,ht.from(f)),p=[];for(let y=e.height;y<s;y++)p.push(m);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),p)}return!!(u||d)}function TW(t,e,n,r,i,s,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let u=i;u<s;u++){const d=a*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const m=n.nodeAt(f),{top:p,left:y}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...m.attrs,rowspan:a-p}),t.insert(t.mapping.slice(l).map(e.positionAt(a,y,n)),m.type.createAndFill({...m.attrs,rowspan:p+m.attrs.rowspan-a})),u+=m.attrs.colspan-1}}return c}function OW(t,e,n,r,i,s,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let u=i;u<s;u++){const d=u*e.width+a,f=e.map[d];if(e.map[d-1]==f){c=!0;const m=n.nodeAt(f),p=e.colCount(f),y=t.mapping.slice(l).map(f+r);t.setNodeMarkup(y,null,Gm(m.attrs,a-p,m.attrs.colspan-(a-p))),t.insert(y+m.nodeSize,m.type.createAndFill(Gm(m.attrs,0,a-p))),u+=m.attrs.rowspan-1}}return c}function PW(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=fs.get(s);const{top:l,left:c}=r,u=c+i.width,d=l+i.height,f=t.tr;let m=0;function p(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");a=fs.get(s),m=f.mapping.maps.length}tGe(f,a,s,n,u,d,m)&&p(),TW(f,a,s,n,c,u,l,m)&&p(),TW(f,a,s,n,c,u,d,m)&&p(),OW(f,a,s,n,l,d,c,m)&&p(),OW(f,a,s,n,l,d,u,m)&&p();for(let y=l;y<d;y++){const v=a.positionAt(y,c,s),x=a.positionAt(y,u,s);f.replace(f.mapping.slice(m).map(v+n),f.mapping.slice(m).map(x+n),new Ft(i.rows[y-l],0,0))}p(),f.setSelection(new Ni(f.doc.resolve(n+a.positionAt(l,c,s)),f.doc.resolve(n+a.positionAt(d-1,u-1,s)))),e(f)}var nGe=RL({ArrowLeft:v2("horiz",-1),ArrowRight:v2("horiz",1),ArrowUp:v2("vert",-1),ArrowDown:v2("vert",1),"Shift-ArrowLeft":y2("horiz",-1),"Shift-ArrowRight":y2("horiz",1),"Shift-ArrowUp":y2("vert",-1),"Shift-ArrowDown":y2("vert",1),Backspace:g2,"Mod-Backspace":g2,Delete:g2,"Mod-Delete":g2});function W2(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function v2(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Ni)return W2(n,r,Mn.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=Sle(i,t,e);if(a==null)return!1;if(t=="horiz")return W2(n,r,Mn.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(a),c=gle(l,t,e);let u;return c?u=Mn.near(c,1):e<0?u=Mn.near(n.doc.resolve(l.before(-1)),-1):u=Mn.near(n.doc.resolve(l.after(-1)),1),W2(n,r,u)}}}function y2(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof Ni)a=s;else{const c=Sle(i,t,e);if(c==null)return!1;a=new Ni(n.doc.resolve(c))}const l=gle(a.$headCell,t,e);return l?W2(n,r,new Ni(a.$anchorCell,l)):!1}}function rGe(t,e){const n=t.state.doc,r=nx(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Ni(r))),!0):!1}function iGe(t,e,n){if(!Nu(t.state))return!1;let r=QKe(n);const i=t.state.selection;if(i instanceof Ni){r||(r={width:1,height:1,rows:[ht.from(x4(so(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),l=fs.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=eGe(r,l.right-l.left,l.bottom-l.top),PW(t.state,t.dispatch,a,l,r),!0}else if(r){const s=Nj(t.state),a=s.start(-1);return PW(t.state,t.dispatch,a,fs.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function sGe(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=MW(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Ni)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=nx(t.state.selection.$anchor))!=null&&((n=JO(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(c,u){let d=JO(t,u);const f=Ch.getState(t.state)==null;if(!d||!l3(c,d))if(f)d=c;else return;const m=new Ni(c,d);if(f||!t.state.selection.eq(m)){const p=t.state.tr.setSelection(m);f&&p.setMeta(Ch,c.pos),t.dispatch(p)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Ch.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ch,-1))}function l(c){const u=c,d=Ch.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(MW(t,u.target)!=r&&(f=JO(t,e),!f))return a();f&&s(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function Sle(t,e,n){if(!(t.state.selection instanceof Sn))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=r.before(i),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}function MW(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function JO(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?nx(t.state.doc.resolve(n.pos)):null}var aGe=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),b4(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,b4(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function b4(t,e,n,r,i,s){var a;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d){for(let f=0,m=0;f<d.childCount;f++){const{colspan:p,colwidth:y}=d.child(f).attrs;for(let v=0;v<p;v++,m++){const x=i==m?s:y&&y[v],b=x?x+"px":"";if(l+=x||r,x||(c=!1),u)u.style.width!=b&&(u.style.width=b),u=u.nextSibling;else{const S=document.createElement("col");S.style.width=b,e.appendChild(S)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Pl=new ps("tableColumnResizing");function oGe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=aGe,lastColumnResizable:i=!0}={}){const s=new Mi({key:Pl,state:{init(a,l){var c,u;const d=(u=(c=s.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,f=so(l.schema).table.name;return r&&d&&(d[f]=(m,p)=>new r(m,n,p)),new lGe(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Pl.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{cGe(a,l,t,i)},mouseleave:a=>{uGe(a)},mousedown:(a,l)=>{dGe(a,l,e,n)}},decorations:a=>{const l=Pl.getState(a);if(l&&l.activeHandle>-1)return gGe(a,l.activeHandle)},nodeViews:{}}});return s}var lGe=class K2{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Pl);if(r&&r.setHandle!=null)return new K2(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new K2(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return y4(e.doc.resolve(i))||(i=-1),new K2(i,n.dragging)}return n}};function cGe(t,e,n,r){if(!t.editable)return;const i=Pl.getState(t.state);if(i&&!i.dragging){const s=hGe(e.target);let a=-1;if(s){const{left:l,right:c}=s.getBoundingClientRect();e.clientX-l<=n?a=RW(t,e,"left",n):c-e.clientX<=n&&(a=RW(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=fs.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}Ele(t,a)}}}function uGe(t){if(!t.editable)return;const e=Pl.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Ele(t,-1)}function dGe(t,e,n,r){var i;if(!t.editable)return!1;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=Pl.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=fGe(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Pl,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",d);const m=Pl.getState(t.state);m?.dragging&&(pGe(t,m.activeHandle,IW(m.dragging,f,n)),t.dispatch(t.state.tr.setMeta(Pl,{setDragging:null})))}function d(f){if(!f.which)return u(f);const m=Pl.getState(t.state);if(m&&m.dragging){const p=IW(m.dragging,f,n);DW(t,m.activeHandle,p,r)}}return DW(t,a.activeHandle,c,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",d),e.preventDefault(),!0}function fGe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,c=n;if(r)for(let u=0;u<n;u++)r[u]&&(l-=r[u],c--);return l/c}function hGe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function RW(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:a}=s,l=nx(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=fs.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function IW(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Ele(t,e){t.dispatch(t.state.tr.setMeta(Pl,{setHandle:e}))}function pGe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=fs.get(i),a=r.start(-1),l=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<s.height;u++){const d=u*s.width+l;if(u&&s.map[d]==s.map[d-s.width])continue;const f=s.map[d],m=i.nodeAt(f).attrs,p=m.colspan==1?0:l-s.colCount(f);if(m.colwidth&&m.colwidth[p]==n)continue;const y=m.colwidth?m.colwidth.slice():mGe(m.colspan);y[p]=n,c.setNodeMarkup(a+f,null,{...m,colwidth:y})}c.docChanged&&t.dispatch(c)}function DW(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),a=i.start(-1),l=fs.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let c=t.domAtPos(i.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&b4(s,c.firstChild,c,r,l,n)}function mGe(t){return Array(t).fill(0)}function gGe(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return li.empty;const a=fs.get(s),l=i.start(-1),c=a.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){const d=c+u*a.width;if((c==a.width-1||a.map[d]!=a.map[d+1])&&(u==0||a.map[d]!=a.map[d-a.width])){const f=a.map[d],m=l+f+s.nodeAt(f).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=Pl.getState(t))!=null&&n.dragging&&r.push(Qs.node(l+f,l+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),r.push(Qs.widget(m,p))}}return li.create(t.doc,r)}function vGe({allowTableNodeSelection:t=!1}={}){return new Mi({key:Ch,state:{init(){return null},apply(e,n){const r=e.getMeta(Ch);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:TKe,handleDOMEvents:{mousedown:sGe},createSelectionBetween(e){return Ch.getState(e.state)!=null?e.state.selection:null},handleTripleClick:rGe,handleKeyDown:nGe,handlePaste:iGe},appendTransaction(e,n,r){return MKe(r,ble(r,n),t)}})}var c3=Ea.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),i=r?r.split(",").map(s=>parseInt(s,10)):null;if(!i){const s=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&s&&s[a]){const l=s[a].getAttribute("width");return l?[parseInt(l,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",pi(this.options.HTMLAttributes,t),0]}}),u3=Ea.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",pi(this.options.HTMLAttributes,t),0]}}),d3=Ea.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",pi(this.options.HTMLAttributes,t),0]}});function w4(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function LW(t,e,n,r,i,s){var a;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let f=0,m=0;f<d.childCount;f+=1){const{colspan:p,colwidth:y}=d.child(f).attrs;for(let v=0;v<p;v+=1,m+=1){const x=i===m?s:y&&y[v],b=x?`${x}px`:"";if(l+=x||r,x||(c=!1),u){if(u.style.width!==b){const[S,_]=w4(r,x);u.style.setProperty(S,_)}u=u.nextSibling}else{const S=document.createElement("col"),[_,j]=w4(r,x);S.style.setProperty(_,j),e.appendChild(S)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}c?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var yGe=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),LW(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,LW(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function xGe(t,e,n,r){let i=0,s=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,m=0;f<l.childCount;f+=1){const{colspan:p,colwidth:y}=l.child(f).attrs;for(let v=0;v<p;v+=1,m+=1){const x=n===m?r:y&&y[v];i+=x||e,x||(s=!1);const[b,S]=w4(e,x);a.push(["col",{style:`${b}: ${S}`}])}}const c=s?`${i}px`:"",u=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function FW(t,e){return t.createAndFill()}function bGe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function wGe(t,e,n,r,i){const s=bGe(t),a=[],l=[];for(let u=0;u<n;u+=1){const d=FW(s.cell);if(d&&l.push(d),r){const f=FW(s.header_cell);f&&a.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(s.row.createChecked(null,r&&u===0?a:l));return s.table.createChecked(null,c)}function NGe(t){return t instanceof Ni}var x2=({editor:t})=>{const{selection:e}=t.state;if(!NGe(e))return!1;let n=0;const r=Gae(e.ranges[0].$from,s=>s.type.name==="table");return r?.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},SGe="";function EGe(t){return(t||"").replace(/\s+/g," ").trim()}function _Ge(t,e,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:SGe;if(!t||!t.content||t.content.length===0)return"";const s=[];t.content.forEach(y=>{const v=[];y.content&&y.content.forEach(x=>{let b="";x.content&&Array.isArray(x.content)&&x.content.length>1?b=x.content.map(C=>e.renderChildren(C)).join(i):b=x.content?e.renderChildren(x.content):"";const S=EGe(b),_=x.type==="tableHeader";v.push({text:S,isHeader:_})}),s.push(v)});const a=s.reduce((y,v)=>Math.max(y,v.length),0);if(a===0)return"";const l=new Array(a).fill(0);s.forEach(y=>{var v;for(let x=0;x<a;x+=1){const S=(((v=y[x])==null?void 0:v.text)||"").length;S>l[x]&&(l[x]=S),l[x]<3&&(l[x]=3)}});const c=(y,v)=>y+" ".repeat(Math.max(0,v-y.length)),u=s[0],d=u.some(y=>y.isHeader);let f=`
`;const m=new Array(a).fill(0).map((y,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${m.map((y,v)=>c(y,l[v])).join(" | ")} |
`,f+=`| ${l.map(y=>"-".repeat(Math.max(3,y))).join(" | ")} |
`,(d?s.slice(1):s).forEach(y=>{f+=`| ${new Array(a).fill(0).map((v,x)=>c(y[x]&&y[x].text||"",l[x])).join(" | ")} |
`}),f}var jGe=_Ge,f3=Ea.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:yGe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=xGe(t,this.options.cellMinWidth);return["table",pi(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(i=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const i=[];r.forEach(s=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>jGe(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const a=wGe(s.schema,t,e,n);if(i){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Sn.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>DKe(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>LKe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>BKe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>zKe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>qKe(t,e),deleteRow:()=>({state:t,dispatch:e})=>HKe(t,e),deleteTable:()=>({state:t,dispatch:e})=>ZKe(t,e),mergeCells:()=>({state:t,dispatch:e})=>jW(t,e),splitCell:()=>({state:t,dispatch:e})=>AW(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>X0("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>X0("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>YKe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>jW(t,e)?!0:AW(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>KKe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>kW(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>kW(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&ble(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Ni.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:x2,"Mod-Backspace":x2,Delete:x2,"Mod-Delete":x2}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[oGe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],vGe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:qr(vn(t,"tableRole",e))}}});ii.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(f3.configure(this.options.table)),this.options.tableCell!==!1&&t.push(c3.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(u3.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(d3.configure(this.options.tableRow)),t}});var AGe=d3,CGe=c3,kGe=u3;function TGe({initialData:t,onSave:e,onCancel:n}){const[r,i]=N.useState(t?.length||3),[s,a]=N.useState(t?.[0]?.length||3),[l,c]=N.useState(t||Array(3).fill(null).map(()=>Array(3).fill("")));N.useEffect(()=>{t&&(c(t),i(t.length),a(t[0]?.length||3))},[t]);const u=(v,x,b)=>{const S=[...l];S[v][x]=b,c(S)},d=()=>{const v=[...l,Array(s).fill("")];c(v),i(r+1)},f=()=>{if(r>1){const v=l.slice(0,-1);c(v),i(r-1)}},m=()=>{const v=l.map(x=>[...x,""]);c(v),a(s+1)},p=()=>{if(s>1){const v=l.map(x=>x.slice(0,-1));c(v),a(s-1)}},y=()=>{e(l)};return o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(De,{className:"text-sm",children:"Filas:"}),o.jsx(Se,{size:"icon",variant:"outline",onClick:f,disabled:r<=1,className:"h-8 w-8","data-testid":"button-remove-row",children:o.jsx(hP,{className:"h-4 w-4"})}),o.jsx(Ge,{type:"number",value:r,readOnly:!0,className:"w-16 h-8 text-center"}),o.jsx(Se,{size:"icon",variant:"outline",onClick:d,className:"h-8 w-8","data-testid":"button-add-row",children:o.jsx(Js,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(De,{className:"text-sm",children:"Columnas:"}),o.jsx(Se,{size:"icon",variant:"outline",onClick:p,disabled:s<=1,className:"h-8 w-8","data-testid":"button-remove-column",children:o.jsx(hP,{className:"h-4 w-4"})}),o.jsx(Ge,{type:"number",value:s,readOnly:!0,className:"w-16 h-8 text-center"}),o.jsx(Se,{size:"icon",variant:"outline",onClick:m,className:"h-8 w-8","data-testid":"button-add-column",children:o.jsx(Js,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"border rounded-md overflow-auto max-h-[400px]","data-testid":"excel-table-grid",children:o.jsx("table",{className:"w-full border-collapse",children:o.jsx("tbody",{children:l.map((v,x)=>o.jsx("tr",{children:v.map((b,S)=>o.jsx("td",{className:"border p-0",children:o.jsx(Ge,{value:b,onChange:_=>u(x,S,_.target.value),className:"border-0 rounded-none focus-visible:ring-0 focus-visible:ring-offset-0","data-testid":`cell-${x}-${S}`,placeholder:x===0?`Columna ${S+1}`:""})},S))},x))})})}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(Se,{variant:"outline",onClick:n,"data-testid":"button-cancel-table",children:"Cancelar"}),o.jsx(Se,{onClick:y,"data-testid":"button-save-table",children:"Insertar Tabla"})]})]})}const OGe=xKe(vKe);function _le({content:t,onChange:e,manualId:n}){const{toast:r}=Pr(),[i,s]=N.useState(!1),[a,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(void 0),[m,p]=N.useState(null),[y,v]=N.useState(null),[x,b]=N.useState(""),[S,_]=N.useState(""),[j,C]=N.useState(!1),[O,M]=N.useState(!1),A=boe({extensions:[Koe.configure({codeBlock:!1}),Goe.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"editor-image"}}),n3.configure({openOnClick:!1}),Yoe.configure({types:["heading","paragraph"]}),s3,a3,HVe.configure({multicolor:!0}),XVe.configure({lowlight:OGe}),f3.configure({resizable:!1,HTMLAttributes:{class:"editor-table"}}),d3,u3,c3],content:t,onUpdate:({editor:z})=>{e(z.getHTML())},editorProps:{handleDrop:(z,G,X,U)=>{if(!U&&G.dataTransfer&&G.dataTransfer.files&&G.dataTransfer.files[0]){const W=G.dataTransfer.files[0];if(W.type.startsWith("image/"))return G.preventDefault(),P(W),!0}return!1},handlePaste:(z,G)=>{const X=G.clipboardData?.items;if(X){const U=Array.from(X);for(const W of U)if(W.type.startsWith("image/")){G.preventDefault();const Y=W.getAsFile();return Y&&P(Y),!0}}return!1}}});if(!A)return null;N.useEffect(()=>{try{const z=A.getHTML();(!z||z==="<p></p>"||z===`<p></p>
`)&&t&&typeof t=="string"&&A.commands.setContent(t)}catch{}},[A,t,n]);const P=async z=>{if(!n){r({title:"Error",description:"Debes guardar el manual primero",variant:"destructive"});return}const G=new FormData;G.append("image",z);try{const X=await fetch("/api/manuals/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:G});if(!X.ok)throw new Error("Error al subir imagen");const U=await X.json();A.chain().focus().setImage({src:U.url}).run(),r({title:"Imagen insertada correctamente"})}catch{r({title:"Error al subir imagen",variant:"destructive"})}},B=async()=>{let z=y;if(!z){const G=document.getElementById("image-file");G?.files&&G.files[0]&&(z=G.files[0],v(z))}if(!z){r({title:"Error",description:"Selecciona una imagen primero",variant:"destructive"});return}await P(z),s(!1),v(null)},R=()=>{x&&(S?A.chain().focus().insertContent(`<a href="${x}">${S}</a>`).run():A.chain().focus().setLink({href:x}).run(),l(!1),b(""),_(""))},F=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899"],q=z=>{const G=document.createElement("div");G.innerHTML=z;const X=G.querySelector("table");if(!X)return[];const U=[];return X.querySelectorAll("tr").forEach(W=>{const Y=[];W.querySelectorAll("th, td").forEach(ie=>{Y.push(ie.textContent||"")}),Y.length>0&&U.push(Y)}),U};return o.jsxs("div",{className:"border rounded-lg",children:[o.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1 items-center bg-muted/30",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>A.chain().focus().undo().run(),disabled:!A.can().undo(),"data-testid":"button-undo",children:o.jsx(hG,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>A.chain().focus().redo().run(),disabled:!A.can().redo(),"data-testid":"button-redo",children:o.jsx(uG,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:A.isActive("bold")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleBold().run(),"data-testid":"button-bold",children:o.jsx(GK,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("italic")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleItalic().run(),"data-testid":"button-italic",children:o.jsx(aG,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("strike")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleStrike().run(),"data-testid":"button-strike",children:o.jsx(dG,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("code")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleCode().run(),"data-testid":"button-code",children:o.jsx(bde,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:A.isActive("heading",{level:1})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleHeading({level:1}).run(),"data-testid":"button-h1",children:o.jsx(nG,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("heading",{level:2})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleHeading({level:2}).run(),"data-testid":"button-h2",children:o.jsx(rG,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("heading",{level:3})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleHeading({level:3}).run(),"data-testid":"button-h3",children:o.jsx(iG,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:A.isActive("bulletList")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleBulletList().run(),"data-testid":"button-bullet-list",children:o.jsx($4,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("orderedList")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleOrderedList().run(),"data-testid":"button-ordered-list",children:o.jsx(oG,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive("blockquote")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleBlockquote().run(),"data-testid":"button-blockquote",children:o.jsx(cG,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:A.isActive({textAlign:"left"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("left").run(),"data-testid":"button-align-left",children:o.jsx(WK,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive({textAlign:"center"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("center").run(),"data-testid":"button-align-center",children:o.jsx(HK,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive({textAlign:"right"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("right").run(),"data-testid":"button-align-right",children:o.jsx(KK,{className:"h-4 w-4"})}),o.jsx(Se,{variant:A.isActive({textAlign:"justify"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("justify").run(),"data-testid":"button-align-justify",children:o.jsx(VK,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsxs("div",{className:"relative",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>C(!j),"data-testid":"button-text-color",children:o.jsx("div",{className:"h-4 w-4 border-2 border-current",style:{backgroundColor:A.getAttributes("textStyle").color||"#000"}})}),j&&o.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:F.map(z=>o.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:z},onClick:()=>{A.chain().focus().setColor(z).run(),C(!1)}},z))})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Se,{variant:A.isActive("highlight")?"default":"ghost",size:"icon",onClick:()=>M(!O),"data-testid":"button-highlight",children:o.jsx(Sde,{className:"h-4 w-4"})}),O&&o.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:F.slice(4).map(z=>o.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:z},onClick:()=>{A.chain().focus().toggleHighlight({color:z}).run(),M(!1)}},z))})]}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:A.isActive("codeBlock")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleCodeBlock().run(),"data-testid":"button-code-block",children:o.jsx(JK,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{const G=A.getHTML().match(/<table[\s\S]*?<\/table>/);if(G){const X=q(G[0]);f(X),p(G[0])}else f(void 0),p(null);u(!0)},"data-testid":"button-insert-table",title:"Insertar/Editar tabla",children:o.jsx(fG,{className:"h-4 w-4"})}),o.jsx(eo,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>s(!0),"data-testid":"button-insert-image",title:"Insertar imagen",children:o.jsx(B4,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>l(!0),"data-testid":"button-insert-link",title:"Insertar enlace",children:o.jsx(Ade,{className:"h-4 w-4"})})]}),o.jsx("style",{children:`
        .ProseMirror {
          outline: none;
          padding: 1rem;
          min-height: 400px;
        }

        /* Estilos de tabla profesionales tipo Word */
        .ProseMirror .editor-table {
          border-collapse: collapse;
          table-layout: fixed;
          width: 100%;
          margin: 1rem 0;
          overflow: hidden;
        }

        .ProseMirror .editor-table td,
        .ProseMirror .editor-table th {
          min-width: 1em;
          border: 2px solid #000000;
          padding: 0.5rem;
          vertical-align: top;
          box-sizing: border-box;
          position: relative;
          background-color: hsl(var(--background));
        }

        .ProseMirror .editor-table th {
          font-weight: 600;
          text-align: left;
          background-color: hsl(var(--muted));
          border: 2px solid #000000;
        }

        .ProseMirror .editor-table .selectedCell {
          background-color: hsl(var(--accent) / 0.3);
        }

        /* Handle de redimensionamiento de columna */
        .ProseMirror .editor-table .column-resize-handle {
          position: absolute;
          right: -2px;
          top: 0;
          bottom: 0;
          width: 4px;
          background-color: hsl(var(--primary));
          cursor: col-resize;
          z-index: 20;
        }

        /* Estilos de imagen mejorados */
        .ProseMirror .editor-image {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1rem 0;
          border-radius: 0.375rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .ProseMirror .editor-image:hover {
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .ProseMirror .editor-image.ProseMirror-selectednode {
          outline: 2px solid hsl(var(--primary));
          outline-offset: 2px;
        }

        /* Indicador de arrastre */
        .ProseMirror.dragging {
          background-color: hsl(var(--accent) / 0.1);
        }

        /* Estilos de prose mejorados */
        .ProseMirror p {
          margin: 0.5rem 0;
        }

        .ProseMirror h1, .ProseMirror h2, .ProseMirror h3 {
          margin-top: 1.5rem;
          margin-bottom: 0.5rem;
        }

        .ProseMirror ul, .ProseMirror ol {
          padding-left: 1.5rem;
        }

        .ProseMirror blockquote {
          border-left: 3px solid hsl(var(--border));
          padding-left: 1rem;
          margin-left: 0;
          font-style: italic;
        }

        .ProseMirror code {
          background-color: hsl(var(--muted));
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
        }

        .ProseMirror pre {
          background-color: hsl(var(--muted));
          border-radius: 0.5rem;
          padding: 1rem;
          overflow-x: auto;
        }

        .ProseMirror pre code {
          background-color: transparent;
          padding: 0;
        }
      `}),o.jsx(yoe,{editor:A,className:"focus:outline-none"}),o.jsx(ci,{open:i,onOpenChange:s,children:o.jsxs(ri,{children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Insertar Imagen"}),o.jsx(Ss,{children:"Sube una imagen desde tu ordenador o arrastra y suelta directamente en el editor"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"image-file",children:"Seleccionar imagen"}),o.jsx(Ge,{id:"image-file",type:"file",accept:"image/*",onChange:z=>v(z.target.files?.[0]||null),"data-testid":"input-image-file"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" Tambin puedes arrastrar imgenes directamente al editor o pegarlas con Ctrl+V"})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),o.jsx(Se,{onClick:B,"data-testid":"button-upload-image",children:"Insertar"})]})]})}),o.jsx(ci,{open:a,onOpenChange:l,children:o.jsxs(ri,{children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Insertar Enlace"}),o.jsx(Ss,{children:"Aade un enlace al documento"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"link-url",children:"URL"}),o.jsx(Ge,{id:"link-url",type:"url",placeholder:"https://example.com",value:x,onChange:z=>b(z.target.value),"data-testid":"input-link-url"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"link-text",children:"Texto (opcional)"}),o.jsx(Ge,{id:"link-text",type:"text",placeholder:"Texto del enlace",value:S,onChange:z=>_(z.target.value),"data-testid":"input-link-text"})]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),o.jsx(Se,{onClick:R,"data-testid":"button-insert-link-confirm",children:"Insertar"})]})]})}),o.jsx(ci,{open:c,onOpenChange:u,children:o.jsxs(ri,{className:"max-w-4xl",children:[o.jsxs(ui,{children:[o.jsx(di,{children:m?"Editar Tabla":"Insertar Tabla"}),o.jsxs(Ss,{children:[m?"Modifica la tabla existente.":"Crea una nueva tabla."," La primera fila ser el encabezado con fondo gris."]})]}),o.jsx(TGe,{initialData:d,onSave:z=>{if(z.length!==0){if(m){const G=PGe(z),U=A.getHTML().replace(m,G);A.commands.setContent(U)}else{const G=z.length,X=z[0]?.length||2;A.chain().focus().insertTable({rows:G,cols:X,withHeaderRow:!0}).run(),z.forEach((U,W)=>{U.forEach((Y,ie)=>{A.commands.goToNextCell(),Y&&A.commands.insertContent(Y)})})}u(!1),f(void 0),p(null)}},onCancel:()=>{u(!1),f(void 0),p(null)}})]})})]})}function PGe(t){if(t.length===0)return"";let e='<table class="editor-table">';return t.forEach((n,r)=>{e+="<tr>",n.forEach(i=>{r===0?e+=`<th>${i||""}</th>`:e+=`<td>${i||""}</td>`}),e+="</tr>"}),e+="</table>",e}const MGe=[{id:"procedimiento-basico",nombre:"Procedimiento Bsico",descripcion:"Plantilla para documentar un procedimiento paso a paso",categoria:"General",etiquetas:["procedimiento"],contenidoHtml:`
      <h1>Ttulo del Procedimiento</h1>
      <p><strong>Objetivo:</strong> Describir el objetivo del procedimiento</p>
      <p><strong>Alcance:</strong> Definir el alcance y limitaciones</p>
      
      <h2>Requisitos Previos</h2>
      <ul>
        <li>Requisito 1</li>
        <li>Requisito 2</li>
        <li>Requisito 3</li>
      </ul>

      <h2>Procedimiento</h2>
      <ol>
        <li><strong>Paso 1:</strong> Descripcin detallada del primer paso</li>
        <li><strong>Paso 2:</strong> Descripcin detallada del segundo paso</li>
        <li><strong>Paso 3:</strong> Descripcin detallada del tercer paso</li>
      </ol>

      <h2>Resultados Esperados</h2>
      <p>Describir los resultados que se deben obtener al completar el procedimiento</p>

      <h2>Solucin de Problemas</h2>
      <table>
        <thead>
          <tr>
            <th>Problema</th>
            <th>Causa</th>
            <th>Solucin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Problema 1</td>
            <td>Causa probable</td>
            <td>Solucin recomendada</td>
          </tr>
        </tbody>
      </table>
    `},{id:"modelo-fiscal",nombre:"Gua Modelo Fiscal",descripcion:"Plantilla para documentar la presentacin de modelos fiscales",categoria:"Fiscal",etiquetas:["fiscal","impuestos"],contenidoHtml:`
      <h1>Modelo [Nmero] - [Nombre del Modelo]</h1>
      
      <h2>Informacin General</h2>
      <p><strong>Descripcin:</strong> Breve descripcin del modelo fiscal</p>
      <p><strong>Periodicidad:</strong> Trimestral / Mensual / Anual</p>
      <p><strong>Plazo de presentacin:</strong> Especificar fechas lmite</p>

      <h2>Quin debe presentarlo?</h2>
      <ul>
        <li>Tipo de contribuyente 1</li>
        <li>Tipo de contribuyente 2</li>
      </ul>

      <h2>Documentacin Necesaria</h2>
      <ol>
        <li>Documento 1</li>
        <li>Documento 2</li>
        <li>Documento 3</li>
      </ol>

      <h2>Procedimiento de Clculo</h2>
      <h3>Paso 1: Clculo de Base Imponible</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 2: Aplicacin de Tipos</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 3: Deducciones</h3>
      <p>Explicacin detallada</p>

      <h2>Presentacin Telemtica</h2>
      <ol>
        <li>Acceder a la sede electrnica</li>
        <li>Seleccionar el modelo correspondiente</li>
        <li>Completar los datos requeridos</li>
        <li>Revisar y confirmar</li>
      </ol>

      <h2>Notas Importantes</h2>
      <blockquote>
        <p> Consideraciones especiales y advertencias</p>
      </blockquote>
    `},{id:"normativa-laboral",nombre:"Normativa Laboral",descripcion:"Plantilla para documentar normativa y procedimientos laborales",categoria:"Laboral",etiquetas:["laboral","normativa"],contenidoHtml:`
      <h1>Normativa Laboral - [Ttulo]</h1>
      
      <h2>Marco Legal</h2>
      <p><strong>Normativa aplicable:</strong></p>
      <ul>
        <li>Ley / Real Decreto 1</li>
        <li>Ley / Real Decreto 2</li>
      </ul>

      <h2>mbito de Aplicacin</h2>
      <p>Definir a quin aplica esta normativa</p>

      <h2>Obligaciones del Empresario</h2>
      <ol>
        <li>Obligacin 1: Descripcin</li>
        <li>Obligacin 2: Descripcin</li>
        <li>Obligacin 3: Descripcin</li>
      </ol>

      <h2>Derechos del Trabajador</h2>
      <ol>
        <li>Derecho 1: Descripcin</li>
        <li>Derecho 2: Descripcin</li>
        <li>Derecho 3: Descripcin</li>
      </ol>

      <h2>Procedimiento</h2>
      <h3>Paso 1: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h3>Paso 2: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h2>Sanciones</h2>
      <table>
        <thead>
          <tr>
            <th>Infraccin</th>
            <th>Tipo</th>
            <th>Sancin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Infraccin leve</td>
            <td>Leve</td>
            <td>Multa de X a Y </td>
          </tr>
          <tr>
            <td>Infraccin grave</td>
            <td>Grave</td>
            <td>Multa de X a Y </td>
          </tr>
        </tbody>
      </table>
    `},{id:"guia-rapida",nombre:"Gua Rpida",descripcion:"Plantilla para crear guas rpidas de referencia",categoria:"General",etiquetas:["gua","referencia"],contenidoHtml:`
      <h1>Gua Rpida - [Ttulo]</h1>
      
      <h2>Resumen</h2>
      <p>Breve descripcin de lo que cubre esta gua</p>

      <h2>Acciones Frecuentes</h2>
      <h3>Accin 1: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h3>Accin 2: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h2>Shortcuts / Atajos</h2>
      <table>
        <thead>
          <tr>
            <th>Accin</th>
            <th>Mtodo Rpido</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Accin 1</td>
            <td>Descripcin del atajo</td>
          </tr>
          <tr>
            <td>Accin 2</td>
            <td>Descripcin del atajo</td>
          </tr>
        </tbody>
      </table>

      <h2>Preguntas Frecuentes</h2>
      <h3>Pregunta 1?</h3>
      <p>Respuesta 1</p>

      <h3>Pregunta 2?</h3>
      <p>Respuesta 2</p>

      <h2>Enlaces tiles</h2>
      <ul>
        <li><a href="#">Recurso 1</a></li>
        <li><a href="#">Recurso 2</a></li>
      </ul>
    `},{id:"politica-empresa",nombre:"Poltica de Empresa",descripcion:"Plantilla para documentar polticas internas",categoria:"Organizacin",etiquetas:["poltica","normativa"],contenidoHtml:`
      <h1>Poltica de [Ttulo]</h1>
      
      <h2>Propsito</h2>
      <p>Descripcin del propsito de esta poltica</p>

      <h2>Alcance</h2>
      <p>Define a quin aplica esta poltica</p>

      <h2>Definiciones</h2>
      <ul>
        <li><strong>Trmino 1:</strong> Definicin</li>
        <li><strong>Trmino 2:</strong> Definicin</li>
      </ul>

      <h2>Poltica</h2>
      <h3>Principios Generales</h3>
      <ol>
        <li>Principio 1</li>
        <li>Principio 2</li>
        <li>Principio 3</li>
      </ol>

      <h3>Normas Especficas</h3>
      <ol>
        <li>Norma 1: Descripcin detallada</li>
        <li>Norma 2: Descripcin detallada</li>
      </ol>

      <h2>Responsabilidades</h2>
      <table>
        <thead>
          <tr>
            <th>Rol</th>
            <th>Responsabilidad</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Direccin</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
          <tr>
            <td>Empleados</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
        </tbody>
      </table>

      <h2>Incumplimiento</h2>
      <p>Consecuencias del incumplimiento de esta poltica</p>

      <h2>Revisin</h2>
      <p>Esta poltica ser revisada [periodicidad]</p>
    `}];function BW(){const t=j4(),[e,n]=sl(),{toast:r}=Pr(),i=e==="/manuales/nuevo"||t.id==="nuevo",[s,a]=N.useState({titulo:"",categoria:"",etiquetas:[],publicado:!1,contenidoHtml:""}),[l,c]=N.useState(""),[u,d]=N.useState(null),[f,m]=N.useState(!1),{data:p}=rn({queryKey:["/api/manuals",t.id],enabled:!i}),{data:y=[]}=rn({queryKey:["/api/manuals",t.id,"attachments"],enabled:!i}),{data:v=[]}=rn({queryKey:["/api/manuals",t.id,"versions"],enabled:!i});N.useEffect(()=>{p&&!i&&a({titulo:p.titulo,categoria:p.categoria||"",etiquetas:p.etiquetas||[],publicado:p.publicado,contenidoHtml:p.contenidoHtml})},[p,i]);const x=hn({mutationFn:async B=>i?await Jt("POST","/api/manuals",B):await Jt("PATCH",`/api/manuals/${t.id}`,B),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/manuals"]}),r({title:i?"Manual creado exitosamente":"Manual actualizado exitosamente"}),n("/manuales")}}),b=hn({mutationFn:async B=>{const R=new FormData;R.append("file",B);const F=await fetch(`/api/manuals/${t.id}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:R});if(!F.ok)throw new Error("Error al subir adjunto");return F.json()},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto subido correctamente"}),d(null)}}),S=hn({mutationFn:async B=>{await Jt("DELETE",`/api/manuals/${t.id}/attachments/${B}`)},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto eliminado"})}}),_=hn({mutationFn:async B=>await Jt("POST",`/api/manuals/${t.id}/versions/restore/${B}`),onSuccess:B=>{nn.invalidateQueries({queryKey:["/api/manuals"]}),a({titulo:B.titulo,categoria:B.categoria||"",etiquetas:B.etiquetas||[],publicado:B.publicado,contenidoHtml:B.contenidoHtml}),r({title:"Versin restaurada correctamente"})}}),j=(B=!1)=>{if(!s.titulo){r({title:"Error",description:"El ttulo es requerido",variant:"destructive"});return}x.mutate({...s,createVersion:B})},C=()=>{l&&!s.etiquetas.includes(l)&&(a({...s,etiquetas:[...s.etiquetas,l]}),c(""))},O=B=>{a({...s,etiquetas:s.etiquetas.filter(R=>R!==B)})},M=()=>{u&&b.mutate(u)},A=B=>B<1024?B+" B":B<1024*1024?(B/1024).toFixed(1)+" KB":(B/(1024*1024)).toFixed(1)+" MB",P=B=>{a({...s,titulo:s.titulo||B.nombre,categoria:B.categoria,etiquetas:Array.from(new Set([...s.etiquetas,...B.etiquetas])),contenidoHtml:B.contenidoHtml}),m(!1),r({title:"Plantilla aplicada correctamente"})};return o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>n("/manuales"),"data-testid":"button-back",children:o.jsx(kE,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-1",children:o.jsx("h1",{className:"text-3xl font-display font-bold",children:i?"Nuevo Manual":"Editar Manual"})}),i&&o.jsxs(ci,{open:f,onOpenChange:m,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{variant:"outline","data-testid":"button-use-template",children:[o.jsx(JK,{className:"h-4 w-4 mr-2"}),"Usar Plantilla"]})}),o.jsxs(ri,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Seleccionar Plantilla"}),o.jsx(Ss,{children:"Elige una plantilla predefinida para comenzar tu manual"})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:MGe.map(B=>o.jsx(Ze,{className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>P(B),"data-testid":`template-${B.id}`,children:o.jsxs(Qe,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:B.nombre}),o.jsx(Er,{className:"text-sm mb-3",children:B.descripcion}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ct,{variant:"outline",children:B.categoria}),B.etiquetas.slice(0,2).map(R=>o.jsx(ct,{variant:"secondary",children:R},R))]})]})},B.id))})]})]}),o.jsx(Se,{variant:"outline",onClick:()=>j(!0),disabled:i,"data-testid":"button-save-version",children:"Guardar Versin"}),o.jsxs(Se,{onClick:()=>j(!1),"data-testid":"button-save",children:[o.jsx(t1,{className:"h-4 w-4 mr-2"}),"Guardar"]})]}),o.jsxs(Sc,{defaultValue:"editor",className:"space-y-4",children:[o.jsxs(Fl,{children:[o.jsxs(zn,{value:"editor","data-testid":"tab-editor",children:[o.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Editor"]}),!i&&o.jsxs(o.Fragment,{children:[o.jsxs(zn,{value:"attachments","data-testid":"tab-attachments",children:[o.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Adjuntos (",y.length,")"]}),o.jsxs(zn,{value:"versions","data-testid":"tab-versions",children:[o.jsx(Am,{className:"h-4 w-4 mr-2"}),"Versiones (",v.length,")"]})]})]}),o.jsx(sr,{value:"editor",className:"space-y-6",children:o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsx(Ze,{className:"md:col-span-2",children:o.jsxs(Qe,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"titulo",children:"Ttulo *"}),o.jsx(Ge,{id:"titulo",value:s.titulo,onChange:B=>a({...s,titulo:B.target.value}),placeholder:"Ttulo del manual...","data-testid":"input-titulo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Editor de Contenido"}),o.jsx(_le,{content:s.contenidoHtml,onChange:B=>a({...s,contenidoHtml:B}),manualId:t.id})]})]})}),o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"categoria",children:"Categora"}),o.jsx(Ge,{id:"categoria",value:s.categoria,onChange:B=>a({...s,categoria:B.target.value}),placeholder:"ej: Fiscal, Laboral","data-testid":"input-categoria"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"etiquetas",children:"Etiquetas"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ge,{id:"etiquetas",value:l,onChange:B=>c(B.target.value),onKeyPress:B=>B.key==="Enter"&&(B.preventDefault(),C()),placeholder:"Aadir etiqueta","data-testid":"input-tag"}),o.jsx(Se,{type:"button",onClick:C,"data-testid":"button-add-tag",children:"+"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.etiquetas.map(B=>o.jsxs(ct,{variant:"secondary",className:"cursor-pointer hover-elevate",onClick:()=>O(B),"data-testid":`badge-tag-${B}`,children:[B," "]},B))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"publicado",children:"Publicado"}),o.jsx(hu,{id:"publicado",checked:s.publicado,onCheckedChange:B=>a({...s,publicado:B}),"data-testid":"switch-publicado"})]})]})})]})}),o.jsx(sr,{value:"attachments",className:"space-y-4",children:o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(De,{htmlFor:"attachment-file",children:"Subir Adjunto"}),o.jsx(Ge,{id:"attachment-file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.txt",onChange:B=>d(B.target.files?.[0]||null),"data-testid":"input-attachment-file"})]}),o.jsxs(Se,{onClick:M,disabled:!u||b.isPending,"data-testid":"button-upload-attachment",children:[o.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Subir"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(De,{children:["Adjuntos (",y.length,")"]}),o.jsxs("div",{className:"space-y-2",children:[y.map(B=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate","data-testid":`attachment-${B.id}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zh,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:B.originalName}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[A(B.fileSize),"  ",new Date(B.uploadedAt).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>window.open(B.filePath,"_blank"),"data-testid":`button-download-${B.id}`,children:o.jsx(Da,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>S.mutate(B.id),"data-testid":`button-delete-${B.id}`,children:o.jsx(ea,{className:"h-4 w-4 text-destructive"})})]})]},B.id)),y.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay adjuntos todava"})]})]})]})})}),o.jsx(sr,{value:"versions",className:"space-y-4",children:o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs(De,{children:["Historial de Versiones (",v.length,")"]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Restaura una versin anterior del manual"})]}),o.jsxs("div",{className:"space-y-2",children:[v.map((B,R)=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`version-${B.id}`,children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:["Versin ",B.versionNumber," - ",B.titulo]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(B.createdAt).toLocaleString()})]}),o.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>_.mutate(B.id),disabled:R===0,"data-testid":`button-restore-${B.id}`,children:[o.jsx(Am,{className:"h-4 w-4 mr-2"}),R===0?"Versin Actual":"Restaurar"]})]},B.id)),v.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No hay versiones guardadas. Usa "Guardar Versin" para crear una.'})]})]})})})]})]})}function RGe(){const[t,e]=N.useState([]),{socket:n}=yY();N.useEffect(()=>{if(!n)return;const s=a=>{e(l=>[...l,a])};return n.on("system:log",s),()=>{n.off("system:log",s)}},[n]);const r=s=>{switch(s){case"success":return o.jsx(Co,{className:"h-4 w-4 text-green-500"});case"error":return o.jsx(io,{className:"h-4 w-4 text-red-500"});case"warning":return o.jsx(Dv,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(J2,{className:"h-4 w-4 text-blue-500"})}},i=s=>{switch(s){case"success":return"default";case"error":return"destructive";case"warning":return"secondary";default:return"outline"}};return t.length===0?null:o.jsxs(Ze,{className:"mt-4",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(J2,{className:"h-5 w-5"}),"Logs del Sistema"]})}),o.jsx(Qe,{children:o.jsx(ij,{className:"h-[300px] w-full rounded-md border p-4",children:o.jsx("div",{className:"space-y-2",children:t.map((s,a)=>o.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md hover-elevate","data-testid":`log-item-${a}`,children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:r(s.level)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ct,{variant:i(s.level),className:"text-xs",children:s.type.toUpperCase()}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.timestamp).toLocaleTimeString("es-ES")})]}),o.jsx("p",{className:"text-sm","data-testid":`log-message-${a}`,children:s.message}),s.details&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`log-details-${a}`,children:s.details}),s.progress!==void 0&&o.jsx("div",{className:"mt-2 w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${s.progress}%`},"data-testid":`log-progress-${a}`})})]})]},a))})})})]})}function $W(){const{toast:t}=Pr(),[e]=sl(),[n,r]=N.useState(!1),[i,s]=N.useState(null),[a,l]=N.useState({username:"",email:"",password:"",roleId:""}),[c,u]=N.useState(!1),[d,f]=N.useState(null),[m,p]=N.useState({name:"",description:""}),[y,v]=N.useState([]),[x,b]=N.useState(!1),[S,_]=N.useState(null),[j,C]=N.useState({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),[O,M]=N.useState(!1),{data:A,isLoading:P}=rn({queryKey:["/api/users"]}),{data:B,isLoading:R}=rn({queryKey:["/api/activity-logs"]}),{data:F}=rn({queryKey:["/api/admin/system-settings"]}),{data:q,isLoading:z}=rn({queryKey:["/api/roles"]}),{data:G}=rn({queryKey:["/api/permissions"]}),{data:X,isLoading:U}=rn({queryKey:["/api/admin/smtp-accounts"]}),{data:W}=rn({queryKey:["/api/system/config"]}),[Y,ie]=N.useState({backup_db_pattern:"",backup_files_pattern:""});N.useEffect(()=>{if(W){const ce=W.find(dt=>dt.key==="backup_db_pattern"),Fe=W.find(dt=>dt.key==="backup_files_pattern");ie({backup_db_pattern:ce?.value||"",backup_files_pattern:Fe?.value||""})}},[W]);const[Z,I]=N.useState(!1),[V,Q]=N.useState(null),{data:re}=rn({queryKey:["/api/system/version"]}),{data:fe,isLoading:pe}=rn({queryKey:["/api/system/backups"]}),ve=hn({mutationFn:async ce=>await Jt("POST","/api/users",ce),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario creado exitosamente"}),r(!1),Tt()}}),de=hn({mutationFn:async({id:ce,data:Fe})=>await Jt("PATCH",`/api/users/${ce}`,Fe),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario actualizado exitosamente"}),r(!1),Tt()}}),be=hn({mutationFn:async ce=>await Jt("DELETE",`/api/users/${ce}`,{}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario eliminado exitosamente"})},onError:ce=>{t({title:"Error al eliminar usuario",description:ce.message,variant:"destructive"})}}),je=hn({mutationFn:async ce=>await Jt("PATCH",`/api/users/${ce}/toggle-active`,{}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Estado del usuario actualizado"})},onError:ce=>{t({title:"Error al cambiar estado",description:ce.message,variant:"destructive"})}}),ae=hn({mutationFn:async ce=>await Jt("PATCH","/api/admin/system-settings",{registrationEnabled:ce}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/admin/system-settings"]}),t({title:"Configuracin actualizada exitosamente"})},onError:ce=>{t({title:"Error al actualizar configuracin",description:ce.message,variant:"destructive"})}}),Oe=hn({mutationFn:async ce=>{const Fe=await Jt("POST","/api/roles",ce);return y.length>0&&await Jt("POST",`/api/roles/${Fe.id}/permissions`,{permissionIds:y}),Fe},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol creado exitosamente"}),u(!1),An()}}),ee=hn({mutationFn:async({id:ce,data:Fe})=>{const dt=await Jt("PATCH",`/api/roles/${ce}`,Fe);return await Jt("POST",`/api/roles/${ce}/permissions`,{permissionIds:y}),dt},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol actualizado exitosamente"}),u(!1),An()}}),ne=hn({mutationFn:async ce=>await Jt("DELETE",`/api/roles/${ce}`,{}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol eliminado exitosamente"})},onError:ce=>{t({title:"Error al eliminar rol",description:ce.message,variant:"destructive"})}}),Me=hn({mutationFn:async ce=>await Jt("POST","/api/admin/smtp-accounts",ce),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP creada exitosamente"}),b(!1),En()}}),ut=hn({mutationFn:async({id:ce,data:Fe})=>await Jt("PATCH",`/api/admin/smtp-accounts/${ce}`,Fe),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP actualizada exitosamente"}),b(!1),En()}}),Je=hn({mutationFn:async ce=>await Jt("DELETE",`/api/admin/smtp-accounts/${ce}`,{}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP eliminada exitosamente"})}}),He=hn({mutationFn:async ce=>await Jt("POST","/api/admin/smtp-accounts/test",ce),onSuccess:()=>{t({title:"Conexin SMTP exitosa",description:"La configuracin es vlida"})},onError:ce=>{t({title:"Error de conexin SMTP",description:ce.message,variant:"destructive"})}}),me=hn({mutationFn:async({key:ce,value:Fe})=>await Jt("PUT",`/api/system/config/${ce}`,{value:Fe}),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/system/config"]}),t({title:"Patrn de backup actualizado exitosamente"})},onError:ce=>{t({title:"Error al actualizar patrn",description:ce.message,variant:"destructive"})}}),[Ne,Ce]=N.useState({repoUrl:"",branch:"main"}),{data:Ve}=rn({queryKey:["/api/admin/github-config"]});N.useEffect(()=>{Ve&&Ce({repoUrl:Ve.repoUrl||"",branch:Ve.branch||"main"})},[Ve]);const We=hn({mutationFn:async ce=>await Jt("PUT","/api/admin/github-config",ce),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/admin/github-config"]}),nn.invalidateQueries({queryKey:["/api/system/version"]}),t({title:"Configuracin de GitHub guardada exitosamente"})},onError:ce=>{t({title:"Error al guardar configuracin",description:ce.message,variant:"destructive"})}}),Ue=hn({mutationFn:async()=>(I(!0),await Jt("GET","/api/system/version")),onSuccess:ce=>{I(!1),nn.invalidateQueries({queryKey:["/api/system/version"]}),ce.updateAvailable?(Q({version:ce.latestVersion,changelog:ce.changelog}),t({title:"Actualizacin disponible",description:`Versin ${ce.latestVersion} disponible`})):t({title:"Sistema actualizado",description:"Ya tienes la ltima versin instalada"})},onError:ce=>{I(!1),t({title:"Error al comprobar actualizaciones",description:ce.message,variant:"destructive"})}}),tt=hn({mutationFn:async()=>await Jt("POST","/api/system/update",{}),onSuccess:()=>{t({title:"Actualizacin iniciada",description:"El sistema se actualizar y reiniciar automticamente"}),Q(null),nn.invalidateQueries({queryKey:["/api/system/version"]})},onError:ce=>{t({title:"Error al actualizar",description:ce.message,variant:"destructive"})}}),_t=hn({mutationFn:async ce=>await Jt("POST",`/api/system/restore/${ce}`,{}),onSuccess:()=>{t({title:"Restauracin iniciada",description:"El sistema se restaurar y reiniciar automticamente"}),nn.invalidateQueries({queryKey:["/api/system/backups"]})},onError:ce=>{t({title:"Error al restaurar",description:ce.message,variant:"destructive"})}}),bt=ce=>{if(!ce)return"";const Fe=new Date;function dt(Ur){const mi=new Date(Ur.getTime());mi.setHours(0,0,0,0),mi.setDate(mi.getDate()+4-(mi.getDay()||7));const Hi=new Date(mi.getFullYear(),0,1);return Math.ceil(((mi.getTime()-Hi.getTime())/864e5+1)/7)}function Lt(Ur){const Hi=new Date(Ur.getFullYear(),Ur.getMonth(),1).getDay(),Ri=1+(Hi===0?1:Hi===1?0:8-Hi),$s=Ur.getDate();return $s<Ri?0:Math.floor(($s-Ri)/7)+1}const Hn=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],gn=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],pr={"{fecha}":Fe.toISOString().split("T")[0].replace(/-/g,""),"{hora}":Fe.toTimeString().split(" ")[0].replace(/:/g,""),"{version}":"1.0.0","{timestamp}":Date.now().toString(),"{YEAR_4}":Fe.getFullYear().toString(),"{YEAR_2}":Fe.getFullYear().toString().slice(-2),"{MONTH_NUMBER}":(Fe.getMonth()+1).toString().padStart(2,"0"),"{MONTH_NAME}":Hn[Fe.getMonth()],"{MONTH_DAY_NUMBER}":Fe.getDate().toString().padStart(2,"0"),"{WEEK_DAY_NUMBER}":(Fe.getDay()||7).toString(),"{WEEK_DAY_NAME}":gn[Fe.getDay()],"{HOURS}":Fe.getHours().toString().padStart(2,"0"),"{MINUTES}":Fe.getMinutes().toString().padStart(2,"0"),"{SECONDS}":Fe.getSeconds().toString().padStart(2,"0"),"{WEEK_NUMBER}":dt(Fe).toString(),"{WEEK_NUMBER_IN_THE_MONTH}":Lt(Fe).toString()};let or=ce;return Object.entries(pr).forEach(([Ur,mi])=>{or=or.replaceAll(Ur,mi)}),or},Tt=()=>{l({username:"",email:"",password:"",roleId:q?.[0]?.id||""}),s(null)},Wt=ce=>{s(ce),l({username:ce.username,email:ce.email,password:"",roleId:ce.roleId||""}),r(!0)},At=ce=>{if(ce.preventDefault(),i){const Fe={username:a.username,email:a.email,roleId:a.roleId};a.password&&(Fe.password=a.password),de.mutate({id:i.id,data:Fe})}else ve.mutate(a)},An=()=>{p({name:"",description:""}),v([]),f(null)},En=()=>{C({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),_(null)},zt=ce=>{_(ce),C({nombre:ce.nombre,host:ce.host,port:ce.port.toString(),user:ce.user,password:"",isPredeterminada:ce.isPredeterminada,activa:ce.activa}),b(!0)},yn=ce=>{if(ce.preventDefault(),S){const Fe={...j};Fe.password||delete Fe.password,ut.mutate({id:S.id,data:Fe})}else Me.mutate(j)},nr=()=>{M(!0),He.mutate({host:j.host,port:j.port,user:j.user,password:j.password},{onSettled:()=>M(!1)})},an=ce=>{f(ce),p({name:ce.name,description:ce.description||""});const Fe=ce.permissions?.map(dt=>dt.permission.id)||[];v(Fe),u(!0)},Cn=ce=>{ce.preventDefault(),d?ee.mutate({id:d.id,data:m}):Oe.mutate(m)},wn=ce=>{v(Fe=>Fe.includes(ce)?Fe.filter(dt=>dt!==ce):[...Fe,ce])},Ar=ce=>{if(!ce)return o.jsx(ct,{variant:"outline",children:"Sin rol"});const Fe=q?.find(Lt=>Lt.id===ce);if(!Fe)return o.jsx(ct,{variant:"outline",children:"Sin rol"});const dt=Fe.isSystem?"text-primary bg-primary/10":"text-chart-2 bg-chart-2/10";return o.jsx(ct,{variant:"outline",className:dt,children:Fe.name})},Cr=ce=>{const Fe={clientes:"text-chart-1 bg-chart-1/10",impuestos:"text-chart-2 bg-chart-2/10",tareas:"text-chart-3 bg-chart-3/10",manuales:"text-chart-4 bg-chart-4/10",usuarios:"text-chart-5 bg-chart-5/10"};return o.jsx(ct,{variant:"outline",className:Fe[ce]||"text-muted-foreground bg-muted",children:ce})},mn=ce=>ce?ce.startsWith("/admin/sessions")?"sessions":ce.startsWith("/admin/smtp-accounts")?"smtp-accounts":ce.startsWith("/admin/storage-config")?"storage":"users":"users",[Ut,Ee]=N.useState(()=>mn(e));N.useEffect(()=>{Ee(mn(e))},[e]);const[Ye,ft]=N.useState(!1),{data:It,isLoading:On}=rn({queryKey:["/api/admin/sessions",Ye?"all":"active"],queryFn:async()=>{const Fe=await fetch(Ye?"/api/admin/sessions/all":"/api/admin/sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Fe.ok)throw new Error("Error al cargar sesiones");return Fe.json()},enabled:Ut==="sessions",refetchInterval:5e3});return P||R?o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx(Kn,{className:"h-9 w-48"}),o.jsx("div",{className:"space-y-4",children:[...Array(5)].map((ce,Fe)=>o.jsx(Kn,{className:"h-16"},Fe))})]}):o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Administracin"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de usuarios y configuracin del sistema"})]}),o.jsxs(Sc,{value:Ut,onValueChange:ce=>Ee(ce),className:"space-y-6",children:[o.jsxs(Fl,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[o.jsxs(zn,{value:"users","data-testid":"tab-users",children:[o.jsx(cb,{className:"h-4 w-4 mr-2"}),"Usuarios"]}),o.jsxs(zn,{value:"roles","data-testid":"tab-roles",children:[o.jsx(rm,{className:"h-4 w-4 mr-2"}),"Roles y Permisos"]}),o.jsxs(zn,{value:"logs","data-testid":"tab-logs",children:[o.jsx(xA,{className:"h-4 w-4 mr-2"}),"Logs de Actividad"]}),o.jsxs(zn,{value:"settings","data-testid":"tab-settings",children:[o.jsx(OE,{className:"h-4 w-4 mr-2"}),"Configuracin"]}),o.jsxs(zn,{value:"smtp-accounts","data-testid":"tab-smtp-accounts",children:[o.jsx(eN,{className:"h-4 w-4 mr-2"}),"Cuentas SMTP"]}),o.jsx(zn,{value:"sessions","data-testid":"tab-sessions",children:o.jsxs(au,{href:"/admin/sessions",className:"flex items-center",children:[o.jsx(cb,{className:"h-4 w-4 mr-2"}),"Usuarios conectados"]})}),o.jsxs(zn,{value:"system-updates","data-testid":"tab-system-updates",children:[o.jsx(Bb,{className:"h-4 w-4 mr-2"}),"Actualizaciones"]}),o.jsxs(zn,{value:"storage","data-testid":"tab-storage",children:[o.jsx(dP,{className:"h-4 w-4 mr-2"}),"Almacenamiento"]})]}),o.jsxs(sr,{value:"users",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Usuarios"}),o.jsxs(ci,{open:n,onOpenChange:r,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{onClick:Tt,"data-testid":"button-add-user",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),o.jsxs(ri,{children:[o.jsxs(ui,{children:[o.jsx(di,{children:i?"Editar Usuario":"Nuevo Usuario"}),o.jsx(Ss,{children:i?"Actualiza los datos del usuario":"Crea un nuevo usuario del sistema"})]}),o.jsxs("form",{onSubmit:At,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"username",children:"Usuario *"}),o.jsx(Ge,{id:"username",value:a.username,onChange:ce=>l({...a,username:ce.target.value}),required:!0,"data-testid":"input-username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:"Email *"}),o.jsx(Ge,{id:"email",type:"email",value:a.email,onChange:ce=>l({...a,email:ce.target.value}),required:!0,"data-testid":"input-email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"password",children:i?"Nueva Contrasea (dejar en blanco para no cambiar)":"Contrasea *"}),o.jsx(Ge,{id:"password",type:"password",value:a.password,onChange:ce=>l({...a,password:ce.target.value}),required:!i,"data-testid":"input-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"role",children:"Rol *"}),o.jsxs(qn,{value:a.roleId,onValueChange:ce=>l({...a,roleId:ce}),children:[o.jsx(Ln,{"data-testid":"select-role",children:o.jsx(Un,{placeholder:"Selecciona un rol"})}),o.jsx(Fn,{children:q?.map(ce=>o.jsx(it,{value:ce.id,children:ce.name},ce.id))})]})]}),o.jsxs(va,{children:[o.jsx(Se,{type:"button",variant:"outline",onClick:()=>{r(!1),Tt()},children:"Cancelar"}),o.jsx(Se,{type:"submit","data-testid":"button-submit-user",children:i?"Actualizar":"Crear"})]})]})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{children:["Usuarios del Sistema (",A?.length||0,")"]})}),o.jsx(Qe,{children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Usuario"}),o.jsx(Ot,{children:"Email"}),o.jsx(Ot,{children:"Rol"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Fecha de Creacin"}),o.jsx(Ot,{className:"text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:!A||A.length===0?o.jsx(ir,{children:o.jsx(yt,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No hay usuarios registrados"})}):A.map(ce=>o.jsxs(ir,{"data-testid":`row-user-${ce.id}`,children:[o.jsx(yt,{className:"font-medium",children:ce.username}),o.jsx(yt,{children:ce.email}),o.jsx(yt,{children:Ar(ce.roleId)}),o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ct,{variant:ce.isActive?"default":"secondary","data-testid":`badge-status-${ce.id}`,children:ce.isActive?"Activo":"Inactivo"}),o.jsx(hu,{checked:ce.isActive,onCheckedChange:()=>je.mutate(ce.id),disabled:je.isPending,"data-testid":`switch-active-${ce.id}`})]})}),o.jsx(yt,{children:new Date(ce.createdAt).toLocaleDateString()}),o.jsx(yt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>Wt(ce),"data-testid":`button-edit-${ce.id}`,children:o.jsx(td,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>be.mutate(ce.id),"data-testid":`button-delete-${ce.id}`,children:o.jsx(ea,{className:"h-4 w-4"})})]})})]},ce.id))})]})})]})]}),o.jsxs(sr,{value:"roles",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Roles y Permisos"}),o.jsxs(ci,{open:c,onOpenChange:u,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{onClick:An,"data-testid":"button-add-role",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})}),o.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(ui,{children:[o.jsx(di,{children:d?"Editar Rol":"Nuevo Rol"}),o.jsx(Ss,{children:d?"Actualiza el rol y sus permisos":"Crea un nuevo rol personalizado con permisos especficos"})]}),o.jsxs("form",{onSubmit:Cn,className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"role-name",children:"Nombre del Rol *"}),o.jsx(Ge,{id:"role-name",value:m.name,onChange:ce=>p({...m,name:ce.target.value}),required:!0,disabled:d?.isSystem,placeholder:"Ej: Contable Senior","data-testid":"input-role-name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"role-description",children:"Descripcin"}),o.jsx(Ge,{id:"role-description",value:m.description,onChange:ce=>p({...m,description:ce.target.value}),placeholder:"Descripcin del rol...","data-testid":"input-role-description"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(De,{className:"text-base font-semibold",children:"Permisos"}),o.jsx("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:Object.entries(G?.reduce((ce,Fe)=>(ce[Fe.resource]||(ce[Fe.resource]=[]),ce[Fe.resource].push(Fe),ce),{})||{}).map(([ce,Fe])=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium capitalize text-sm",children:ce}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-4",children:Fe.map(dt=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:dt.id,checked:y.includes(dt.id),onCheckedChange:()=>wn(dt.id),"data-testid":`checkbox-permission-${dt.resource}-${dt.action}`}),o.jsx(De,{htmlFor:dt.id,className:"text-sm font-normal cursor-pointer",children:dt.action})]},dt.id))})]},ce))}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length," permiso(s) seleccionado(s)"]})]}),o.jsxs(va,{children:[o.jsx(Se,{type:"button",variant:"outline",onClick:()=>{u(!1),An()},children:"Cancelar"}),o.jsx(Se,{type:"submit","data-testid":"button-submit-role",children:d?"Actualizar":"Crear"})]})]})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{children:["Roles del Sistema (",q?.length||0,")"]})}),o.jsx(Qe,{children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Nombre del Rol"}),o.jsx(Ot,{children:"Descripcin"}),o.jsx(Ot,{children:"Usuarios"}),o.jsx(Ot,{children:"Permisos"}),o.jsx(Ot,{className:"text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:!q||q.length===0?o.jsx(ir,{children:o.jsx(yt,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No hay roles configurados"})}):q.map(ce=>o.jsxs(ir,{"data-testid":`row-role-${ce.id}`,children:[o.jsx(yt,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[ce.name,ce.isSystem&&o.jsxs(ct,{variant:"outline",className:"text-xs",children:[o.jsx(z4,{className:"h-3 w-3 mr-1"}),"Sistema"]})]})}),o.jsx(yt,{className:"text-muted-foreground",children:ce.description||"-"}),o.jsx(yt,{children:o.jsxs(ct,{variant:"outline",children:[ce._count?.users||0," usuarios"]})}),o.jsx(yt,{children:o.jsxs(ct,{variant:"outline",children:[ce.permissions?.length||0," permisos"]})}),o.jsx(yt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>an(ce),"data-testid":`button-edit-role-${ce.id}`,children:o.jsx(td,{className:"h-4 w-4"})}),!ce.isSystem&&o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>ne.mutate(ce.id),"data-testid":`button-delete-role-${ce.id}`,children:o.jsx(ea,{className:"h-4 w-4"})})]})})]},ce.id))})]})})]})]}),o.jsxs(sr,{value:"logs",className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Registro de Actividad"}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Actividad Reciente"})}),o.jsx(Qe,{className:"p-0",children:!B||B.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-12",children:"No hay actividad registrada"}):o.jsx("div",{className:"divide-y",children:B.slice(0,50).map(ce=>o.jsx("div",{className:"p-4 hover-elevate","data-testid":`row-log-${ce.id}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("p",{className:"font-medium",children:ce.user?.username||"Usuario desconocido"}),Cr(ce.modulo)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:ce.accion}),ce.detalles&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ce.detalles})]}),o.jsx("time",{className:"text-sm text-muted-foreground",children:new Date(ce.fecha).toLocaleString()})]})},ce.id))})})]})]}),o.jsxs(sr,{value:"settings",className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin del Sistema"}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Control de Acceso"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(De,{htmlFor:"registration-enabled",children:"Permitir registro de nuevos usuarios"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cuando est deshabilitado, solo los administradores pueden crear usuarios"})]}),o.jsx(hu,{id:"registration-enabled",checked:F?.registrationEnabled??!0,onCheckedChange:ce=>ae.mutate(ce),"data-testid":"switch-registration"})]})})]}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Configuracin de Backups"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Personaliza los patrones de nombres para los archivos de respaldo"})]}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"backup-db-pattern",children:"Patrn para Backup de Base de Datos"}),o.jsx(Ge,{id:"backup-db-pattern",value:Y.backup_db_pattern,onChange:ce=>ie({...Y,backup_db_pattern:ce.target.value}),placeholder:"backup_db_{fecha}_{hora}","data-testid":"input-backup-db-pattern"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",o.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[bt(Y.backup_db_pattern),".sql"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"backup-files-pattern",children:"Patrn para Backup de Archivos"}),o.jsx(Ge,{id:"backup-files-pattern",value:Y.backup_files_pattern,onChange:ce=>ie({...Y,backup_files_pattern:ce.target.value}),placeholder:"backup_files_{fecha}_{hora}","data-testid":"input-backup-files-pattern"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",o.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[bt(Y.backup_files_pattern),".zip"]})]})]})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Variables disponibles:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{fecha}"})," - Fecha actual (YYYYMMDD)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{hora}"})," - Hora actual (HHMMSS)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{version}"})," - Versin del sistema"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{timestamp}"})," - Timestamp Unix"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_4}"})," - Ao 4 dgitos (2025)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_2}"})," - Ao 2 dgitos (25)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NUMBER}"})," - Mes numrico (01-12)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NAME}"})," - Nombre del mes (Enero-Diciembre)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_DAY_NUMBER}"})," - Da del mes (01-31)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NUMBER}"})," - Da semana numrico (1-7)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NAME}"})," - Da de la semana (Lunes-Domingo)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{HOURS}"})," - Hora en formato 24h (00-23)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MINUTES}"})," - Minutos (00-59)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{SECONDS}"})," - Segundos (00-59)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER}"})," - Semana ISO-8601 del ao (1-53)"]}),o.jsxs("div",{children:[o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER_IN_THE_MONTH}"})," - Semana del mes (0-5)"]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{onClick:()=>{me.mutate({key:"backup_db_pattern",value:Y.backup_db_pattern})},disabled:!Y.backup_db_pattern,"data-testid":"button-save-db-pattern",children:"Guardar Patrn BD"}),o.jsx(Se,{onClick:()=>{me.mutate({key:"backup_files_pattern",value:Y.backup_files_pattern})},disabled:!Y.backup_files_pattern,"data-testid":"button-save-files-pattern",variant:"outline",children:"Guardar Patrn Archivos"})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Personalizacin"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"company-name",children:"Nombre de la Empresa"}),o.jsx(Ge,{id:"company-name",defaultValue:"Asesora La Llave","data-testid":"input-company-name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"logo",children:"Logo de la Empresa"}),o.jsx(Ge,{id:"logo",type:"file",accept:"image/*","data-testid":"input-logo"})]}),o.jsx(Se,{"data-testid":"button-save-branding",children:"Guardar Cambios"})]})]})]}),o.jsxs(sr,{value:"smtp-accounts",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Cuentas SMTP"}),o.jsxs(ci,{open:x,onOpenChange:b,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{onClick:()=>En(),"data-testid":"button-add-smtp-account",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nueva Cuenta SMTP"]})}),o.jsxs(ri,{className:"sm:max-w-[600px]",children:[o.jsxs(ui,{children:[o.jsxs(di,{children:[S?"Editar":"Nueva"," Cuenta SMTP"]}),o.jsx(Ss,{children:"Configure una cuenta SMTP para el envo de notificaciones"})]}),o.jsxs("form",{onSubmit:yn,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(De,{htmlFor:"smtp-nombre",children:"Nombre de la Cuenta *"}),o.jsx(Ge,{id:"smtp-nombre",value:j.nombre,onChange:ce=>C({...j,nombre:ce.target.value}),placeholder:"Ej: Gmail Principal",required:!0,"data-testid":"input-smtp-nombre"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"smtp-form-host",children:"Servidor SMTP *"}),o.jsx(Ge,{id:"smtp-form-host",value:j.host,onChange:ce=>C({...j,host:ce.target.value}),placeholder:"smtp.gmail.com",required:!0,"data-testid":"input-smtp-form-host"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"smtp-form-port",children:"Puerto *"}),o.jsx(Ge,{id:"smtp-form-port",type:"number",value:j.port,onChange:ce=>C({...j,port:ce.target.value}),placeholder:"587",required:!0,"data-testid":"input-smtp-form-port"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"smtp-form-user",children:"Usuario *"}),o.jsx(Ge,{id:"smtp-form-user",value:j.user,onChange:ce=>C({...j,user:ce.target.value}),placeholder:"usuario@gmail.com",required:!0,"data-testid":"input-smtp-form-user"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"smtp-form-password",children:"Contrasea *"}),o.jsx(Ge,{id:"smtp-form-password",type:"password",value:j.password,onChange:ce=>C({...j,password:ce.target.value}),placeholder:S?"(dejar vaco para mantener)":"",required:!S,"data-testid":"input-smtp-form-password"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"smtp-predeterminada",checked:j.isPredeterminada,onCheckedChange:ce=>C({...j,isPredeterminada:!!ce}),"data-testid":"checkbox-smtp-predeterminada"}),o.jsx(De,{htmlFor:"smtp-predeterminada",className:"text-sm",children:"Cuenta Predeterminada"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"smtp-activa",checked:j.activa,onCheckedChange:ce=>C({...j,activa:!!ce}),"data-testid":"checkbox-smtp-activa"}),o.jsx(De,{htmlFor:"smtp-activa",className:"text-sm",children:"Activa"})]})]}),o.jsxs(va,{children:[o.jsx(Se,{type:"button",variant:"outline",onClick:nr,disabled:!j.host||!j.port||!j.user||!j.password||O,"data-testid":"button-test-smtp",children:O?"Probando...":"Probar Conexin"}),o.jsxs(Se,{type:"submit","data-testid":"button-submit-smtp",children:[S?"Actualizar":"Crear"," Cuenta"]})]})]})]})]})]}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Cuentas SMTP Configuradas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona mltiples cuentas SMTP para el envo de notificaciones"})]}),o.jsx(Qe,{children:U?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Kn,{className:"h-12 w-full"}),o.jsx(Kn,{className:"h-12 w-full"})]}):X&&X.length>0?o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Nombre"}),o.jsx(Ot,{children:"Servidor"}),o.jsx(Ot,{children:"Puerto"}),o.jsx(Ot,{children:"Usuario"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Acciones"})]})}),o.jsx(Eo,{children:X.map(ce=>o.jsxs(ir,{children:[o.jsxs(yt,{className:"font-medium",children:[ce.nombre,ce.isPredeterminada&&o.jsx(ct,{variant:"secondary",className:"ml-2",children:"Predeterminada"})]}),o.jsx(yt,{children:ce.host}),o.jsx(yt,{children:ce.port}),o.jsx(yt,{children:ce.user}),o.jsx(yt,{children:o.jsx(ct,{variant:ce.activa?"default":"secondary",children:ce.activa?"Activa":"Inactiva"})}),o.jsx(yt,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>zt(ce),"data-testid":`button-edit-smtp-${ce.id}`,children:o.jsx(td,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>Je.mutate(ce.id),"data-testid":`button-delete-smtp-${ce.id}`,children:o.jsx(ea,{className:"h-4 w-4"})})]})})]},ce.id))})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay cuentas SMTP configuradas. Crea una para empezar."})})]})]}),o.jsxs(sr,{value:"sessions",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Sesiones"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitoreo avanzado de sesiones de usuario"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:Ye?"default":"outline",size:"sm",onClick:()=>ft(!Ye),children:Ye?"Solo Activas":"Ver Todas"}),o.jsxs(Se,{variant:"outline",size:"sm",onClick:async()=>{try{const ce=await Jt("POST","/api/admin/sessions/cleanup");nn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Limpieza completada",description:`${ce.totalCleaned} sesiones procesadas (${ce.deletedCount} eliminadas, ${ce.markedInactiveCount} marcadas como inactivas)`})}catch(ce){t({title:"Error",description:ce.message||String(ce),variant:"destructive"})}},children:[o.jsx(pP,{className:"h-4 w-4 mr-2"}),"Limpiar Sesiones"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(Ze,{children:o.jsx(Qe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sesiones Activas"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:It?.items?.filter(ce=>ce.status==="active").length||0})]}),o.jsx(xA,{className:"h-8 w-8 text-green-600"})]})})}),o.jsx(Ze,{children:o.jsx(Qe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sesiones Inactivas"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:It?.items?.filter(ce=>ce.status==="idle").length||0})]}),o.jsx(xA,{className:"h-8 w-8 text-yellow-600"})]})})}),o.jsx(Ze,{children:o.jsx(Qe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sospechosas"}),o.jsx("p",{className:"text-2xl font-bold text-red-600",children:It?.items?.filter(ce=>ce.suspicious).length||0})]}),o.jsx(rm,{className:"h-8 w-8 text-red-600"})]})})}),o.jsx(Ze,{children:o.jsx(Qe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sesiones"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:It?.total||0})]}),o.jsx(cb,{className:"h-8 w-8 text-blue-600"})]})})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{children:[Ye?"Todas las Sesiones":"Sesiones Activas"," (",It?.total??0,")",Ye&&o.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Incluye sesiones cerradas)"})]})}),o.jsx(Qe,{children:On?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Kn,{className:"h-12 w-full"}),o.jsx(Kn,{className:"h-12 w-full"})]}):!It||!It.items||It.items.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay sesiones"}):o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Usuario"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"IP / Ubicacin"}),o.jsx(Ot,{children:"Dispositivo"}),o.jsx(Ot,{children:"ltima Actividad"}),o.jsx(Ot,{children:"Duracin"}),o.jsx(Ot,{className:"text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:It.items.map(ce=>o.jsxs(ir,{className:ce.suspicious?"bg-red-50 dark:bg-red-950/20":"",children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:ce.user?.username||""}),o.jsx("p",{className:"text-sm text-muted-foreground",children:ce.user?.role?.name||""})]}),ce.suspicious&&o.jsx(rm,{className:"h-4 w-4 text-red-500"})]})}),o.jsx(yt,{children:o.jsx(ct,{variant:ce.status==="active"?"default":ce.status==="idle"?"secondary":"outline",className:ce.status==="active"?"bg-green-100 text-green-800":ce.status==="idle"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:ce.status==="active"?"Activo":ce.status==="idle"?"Inactivo":"Cerrado"})}),o.jsx(yt,{children:o.jsxs("div",{children:[o.jsx("p",{className:"font-mono text-sm",children:ce.ip}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ce.location?.city,", ",ce.location?.country,ce.location?.isVpn&&o.jsx("span",{className:"text-red-500 ml-1",children:"(VPN)"})]})]})}),o.jsx(yt,{children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:ce.deviceInfo?.type||"Unknown"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:ce.deviceInfo?.platform||"Unknown"})]})}),o.jsx(yt,{children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:ce.lastSeenAt?new Date(ce.lastSeenAt).toLocaleString():"-"}),ce.minutesSinceLastSeen!==void 0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ce.minutesSinceLastSeen<60?`Hace ${ce.minutesSinceLastSeen} min`:`Hace ${Math.floor(ce.minutesSinceLastSeen/60)}h ${ce.minutesSinceLastSeen%60}min`})]})}),o.jsx(yt,{children:o.jsxs("p",{className:"text-sm",children:[ce.createdAt?Math.floor((Date.now()-new Date(ce.createdAt).getTime())/(1e3*60*60)):0,"h"]})}),o.jsx(yt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-1",children:[o.jsx(Se,{variant:"destructive",size:"sm",onClick:async()=>{try{await Jt("POST",`/api/admin/sessions/${ce.id}/terminate`),nn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Sesin terminada",description:`La sesin de ${ce.user?.username} ha sido terminada y el usuario ser redirigido al login`})}catch(Fe){t({title:"Error",description:Fe.message||String(Fe),variant:"destructive"})}},children:o.jsx(ed,{className:"h-4 w-4"})}),o.jsx(Se,{variant:ce.suspicious?"destructive":"outline",size:"sm",onClick:async()=>{try{const Fe=ce.suspicious?"unflag":"flag";await Jt("POST",`/api/admin/sessions/${ce.id}/${Fe}`),nn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:ce.suspicious?"Marcado como seguro":"Marcado como sospechoso",description:ce.suspicious?"La sesin ya no est marcada como sospechosa":"La sesin ha sido marcada como sospechosa"})}catch(Fe){t({title:"Error",description:Fe.message||String(Fe),variant:"destructive"})}},children:o.jsx(rm,{className:"h-4 w-4"})})]})})]},ce.id))})]})})]})]}),o.jsxs(sr,{value:"system-updates",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Actualizaciones del Sistema"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gestiona las actualizaciones automticas del sistema"})]}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Configuracin de Repositorio GitHub"}),o.jsx(Er,{children:"Configura el repositorio de GitHub para comprobar y descargar actualizaciones automticas"})]}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"github-repo",children:"Repositorio (owner/repo)"}),o.jsx(Ge,{id:"github-repo",placeholder:"ejemplo: usuario/repositorio",value:Ne.repoUrl,onChange:ce=>Ce({...Ne,repoUrl:ce.target.value}),"data-testid":"input-github-repo"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Formato: owner/repo o URL completa de GitHub"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"github-branch",children:"Rama"}),o.jsx(Ge,{id:"github-branch",placeholder:"main",value:Ne.branch,onChange:ce=>Ce({...Ne,branch:ce.target.value}),"data-testid":"input-github-branch"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Rama a usar para actualizaciones (por defecto: main)"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(Se,{onClick:()=>We.mutate(Ne),disabled:We.isPending||!Ne.repoUrl,"data-testid":"button-save-github-config",children:[o.jsx(t1,{className:"h-4 w-4 mr-2"}),We.isPending?"Guardando...":"Guardar Configuracin"]})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Versin Actual"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin instalada"}),o.jsx("p",{className:"text-2xl font-bold","data-testid":"text-current-version",children:re?.currentVersion||"Cargando..."})]}),o.jsxs(Se,{onClick:()=>Ue.mutate(),disabled:Z||Ue.isPending,className:"w-full","data-testid":"button-check-updates",children:[o.jsx(Bb,{className:`h-4 w-4 mr-2 ${Z?"animate-spin":""}`}),Z?"Comprobando...":"Comprobar Actualizaciones"]})]})]}),re?.updateAvailable&&o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Actualizacin Disponible"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva versin"}),o.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-latest-version",children:re.latestVersion})]}),re.changelog&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Novedades:"}),o.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-changelog",children:re.changelog})]}),o.jsxs(ci,{children:[o.jsx(Cl,{asChild:!0,children:o.jsx(Se,{variant:"default",className:"w-full","data-testid":"button-update-now",children:"Actualizar Ahora"})}),o.jsxs(ri,{children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Confirmar Actualizacin"}),o.jsxs(Ss,{children:["Esta accin actualizar el sistema a la versin ",re.latestVersion,". Se crear un backup automtico antes de la actualizacin. El sistema se reiniciar automticamente cuando termine."]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:ce=>{ce.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":"button-cancel-update",children:"Cancelar"}),o.jsx(Se,{onClick:()=>{tt.mutate(),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:tt.isPending,"data-testid":"button-confirm-update",children:tt.isPending?"Actualizando...":"Confirmar Actualizacin"})]})]})]})]})]}),!re?.updateAvailable&&re?.currentVersion&&o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Sistema Actualizado"})}),o.jsx(Qe,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu sistema est ejecutando la ltima versin disponible."})})]})]}),o.jsx(RGe,{}),o.jsxs(Ze,{className:"mt-6",children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Backups del Sistema"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Historial de backups automticos y manuales"})]}),o.jsx(Qe,{children:pe?o.jsx("div",{className:"space-y-2",children:[...Array(3)].map((ce,Fe)=>o.jsx(Kn,{className:"h-12"},Fe))}):fe&&fe.length>0?o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Fecha"}),o.jsx(Ot,{children:"Versin"}),o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tG,{className:"h-3 w-3"}),o.jsx("span",{children:"BD"})]})}),o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(fP,{className:"h-3 w-3"}),o.jsx("span",{children:"Archivos"})]})}),o.jsx(Ot,{className:"text-right",children:"Acciones"})]})}),o.jsx(Eo,{children:fe.map(ce=>o.jsxs(ir,{"data-testid":`row-backup-${ce.id}`,children:[o.jsx(yt,{children:new Date(ce.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsx(yt,{children:o.jsxs(ct,{variant:"outline","data-testid":`badge-version-${ce.id}`,children:["v",ce.version]})}),o.jsx(yt,{"data-testid":`text-db-size-${ce.id}`,children:ce.dbSize}),o.jsx(yt,{"data-testid":`text-files-size-${ce.id}`,children:ce.filesSize}),o.jsx(yt,{className:"text-right",children:o.jsxs(ci,{children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{variant:"outline",size:"sm","data-testid":`button-restore-${ce.id}`,children:[o.jsx(pP,{className:"h-4 w-4 mr-2"}),"Restaurar"]})}),o.jsxs(ri,{children:[o.jsxs(ui,{children:[o.jsx(di,{children:"Confirmar Restauracin"}),o.jsxs(Ss,{children:["Esta accin restaurar el sistema al estado del backup creado el"," ",new Date(ce.createdAt).toLocaleString("es-ES"),".",o.jsx("br",{}),o.jsx("br",{}),o.jsx("strong",{children:"Advertencia:"})," Esta operacin sobrescribir todos los datos actuales y el sistema se reiniciar automticamente."]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:Fe=>{Fe.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":`button-cancel-restore-${ce.id}`,children:"Cancelar"}),o.jsx(Se,{variant:"destructive",onClick:()=>{_t.mutate(ce.id),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:_t.isPending,"data-testid":`button-confirm-restore-${ce.id}`,children:_t.isPending?"Restaurando...":"Confirmar Restauracin"})]})]})]})})]},ce.id))})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay backups disponibles. Se crean automticamente durante las actualizaciones."})})]})]}),o.jsx(sr,{value:"storage",className:"space-y-4",children:o.jsx(IGe,{})})]})]})}function IGe(){const{toast:t}=Pr(),[e,n]=N.useState("LOCAL"),[r,i]=N.useState(!1),[s,a]=N.useState(!1),[l,c]=N.useState({host:"",port:"21",username:"",password:"",basePath:"/uploads"}),[u,d]=N.useState({host:"",shareName:"",username:"",password:"",domain:"",basePath:"/uploads"}),{data:f,isLoading:m}=rn({queryKey:["/api/admin/storage-config"]});N.useEffect(()=>{f&&(n(f.type),i(f.active),f.type==="FTP"&&f.config?c({host:f.config.host||"",port:(f.config.port||21).toString(),username:f.config.username||"",password:"",basePath:f.config.basePath||"/uploads"}):f.type==="SMB"&&f.config&&d({host:f.config.host||"",shareName:f.config.shareName||"",username:f.config.username||"",password:"",domain:f.config.domain||"",basePath:f.config.basePath||"/uploads"}))},[f]);const p=hn({mutationFn:async x=>Jt("POST","/api/admin/storage-config",x),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/admin/storage-config"]}),t({title:"Configuracin guardada",description:"La configuracin de almacenamiento se ha actualizado correctamente"})},onError:x=>{t({title:"Error",description:x.message||"No se pudo guardar la configuracin",variant:"destructive"})}}),y=async()=>{a(!0);try{const b=await Jt("POST","/api/admin/storage-config/test",{type:e,config:e==="FTP"?l:e==="SMB"?u:null});t({title:"Conexin exitosa",description:b.message||"La conexin se estableci correctamente"})}catch(x){t({title:"Error de conexin",description:x.message||"No se pudo conectar al servidor",variant:"destructive"})}finally{a(!1)}},v=()=>{const x=e==="LOCAL"?null:e==="FTP"?{...l,port:parseInt(l.port)}:u;p.mutate({type:e,active:r,config:x})};return m?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Kn,{className:"h-8 w-64"}),o.jsx(Kn,{className:"h-32"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin de Almacenamiento"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configura dnde se almacenan los archivos del sistema"})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Proveedor de Almacenamiento"}),f&&o.jsx(ct,{variant:f.active?"default":"secondary",children:f.active?"Activo":"Inactivo"})]})}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Tipo de Almacenamiento"}),o.jsxs(qn,{value:e,onValueChange:x=>n(x),children:[o.jsx(Ln,{"data-testid":"select-storage-type",children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"LOCAL",children:"Local (Servidor)"}),o.jsx(it,{value:"FTP",children:"FTP"}),o.jsx(it,{value:"SMB",children:"SMB/CIFS (NAS)"})]})]})]}),e==="LOCAL"&&o.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(tG,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"font-medium",children:"Almacenamiento Local"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Los archivos se guardan en el servidor en: ",o.jsx("code",{className:"px-1 py-0.5 bg-background rounded text-xs",children:"/uploads"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No requiere configuracin adicional."})]})]})}),e==="FTP"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"ftp-host",children:"Servidor FTP *"}),o.jsx(Ge,{id:"ftp-host",value:l.host,onChange:x=>c({...l,host:x.target.value}),placeholder:"ftp.ejemplo.com","data-testid":"input-ftp-host"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"ftp-port",children:"Puerto *"}),o.jsx(Ge,{id:"ftp-port",type:"number",value:l.port,onChange:x=>c({...l,port:x.target.value}),placeholder:"21","data-testid":"input-ftp-port"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"ftp-username",children:"Usuario *"}),o.jsx(Ge,{id:"ftp-username",value:l.username,onChange:x=>c({...l,username:x.target.value}),"data-testid":"input-ftp-username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"ftp-password",children:"Contrasea *"}),o.jsx(Ge,{id:"ftp-password",type:"password",value:l.password,onChange:x=>c({...l,password:x.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-ftp-password"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"ftp-basePath",children:"Ruta Base"}),o.jsx(Ge,{id:"ftp-basePath",value:l.basePath,onChange:x=>c({...l,basePath:x.target.value}),placeholder:"/uploads","data-testid":"input-ftp-basepath"})]})]}),e==="SMB"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smb-host",children:"Servidor SMB *"}),o.jsx(Ge,{id:"smb-host",value:u.host,onChange:x=>d({...u,host:x.target.value}),placeholder:"192.168.1.100","data-testid":"input-smb-host"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smb-share",children:"Nombre del Recurso Compartido *"}),o.jsx(Ge,{id:"smb-share",value:u.shareName,onChange:x=>d({...u,shareName:x.target.value}),placeholder:"archivos","data-testid":"input-smb-share"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smb-username",children:"Usuario *"}),o.jsx(Ge,{id:"smb-username",value:u.username,onChange:x=>d({...u,username:x.target.value}),"data-testid":"input-smb-username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smb-password",children:"Contrasea *"}),o.jsx(Ge,{id:"smb-password",type:"password",value:u.password,onChange:x=>d({...u,password:x.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-smb-password"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smb-domain",children:"Dominio (opcional)"}),o.jsx(Ge,{id:"smb-domain",value:u.domain,onChange:x=>d({...u,domain:x.target.value}),placeholder:"WORKGROUP","data-testid":"input-smb-domain"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smb-basePath",children:"Ruta Base"}),o.jsx(Ge,{id:"smb-basePath",value:u.basePath,onChange:x=>d({...u,basePath:x.target.value}),placeholder:"/uploads","data-testid":"input-smb-basepath"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(De,{htmlFor:"storage-active",className:"font-medium",children:"Activar Configuracin"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Esta configuracin est activa y se usa para nuevos archivos":"Activa esta configuracin para empezar a usarla"})]}),o.jsx(hu,{id:"storage-active",checked:r,onCheckedChange:i,"data-testid":"switch-storage-active"})]}),o.jsxs("div",{className:"flex gap-2",children:[e!=="LOCAL"&&o.jsx(Se,{variant:"outline",onClick:y,disabled:s,"data-testid":"button-test-connection",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Iv,{className:"h-4 w-4 mr-2 animate-spin"}),"Probando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),"Probar Conexin"]})}),o.jsx(Se,{onClick:v,disabled:p.isPending,"data-testid":"button-save-storage-config",children:p.isPending?"Guardando...":"Guardar Configuracin"})]})]})]}),f&&f.type!==e&&o.jsxs(Ze,{className:"border-orange-200 dark:border-orange-900",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400",children:[o.jsx(fP,{className:"h-5 w-5"}),"Migracin de Archivos"]})}),o.jsxs(Qe,{children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Al cambiar el tipo de almacenamiento, los archivos existentes permanecern en ",f.type,". Puedes migrarlos al nuevo almacenamiento desde la seccin de mantenimiento."]}),o.jsxs(Se,{variant:"outline",disabled:!0,children:[o.jsx(fP,{className:"h-4 w-4 mr-2"}),"Migrar Archivos (Prximamente)"]})]})]})]})}const DGe={clients:"Clientes",tasks:"Tareas",client_tax:"Impuestos",manuals:"Manuales",users:"Usuarios"},LGe={CREATE:"default",UPDATE:"secondary",DELETE:"destructive"},FGe={CREATE:"Creacin",UPDATE:"Actualizacin",DELETE:"Eliminacin"};function BGe(){const[t,e]=N.useState("all"),{data:n=[],isLoading:r}=rn({queryKey:["/api/audit",t],queryFn:async()=>{const s=new URLSearchParams;t!=="all"&&s.append("table",t);const a=await fetch(`/api/audit?${s.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Error al cargar auditora");return a.json()}}),i=({anterior:s,nuevo:a})=>{if(!s&&!a)return null;const l=s?JSON.parse(s):{},c=a?JSON.parse(a):{};return o.jsx("div",{className:"mt-2 space-y-1",children:Object.keys({...l,...c}).map(u=>{if(["id","fechaActualizacion","fechaCreacion","created_at","updated_at"].includes(u))return null;const d=l[u],f=c[u];return d===f?null:o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"font-medium text-muted-foreground",children:[u,":"]})," ",d!==void 0&&o.jsx("span",{className:"line-through text-destructive",children:String(d)}),d!==void 0&&f!==void 0&&"  ",f!==void 0&&o.jsx("span",{className:"text-primary",children:String(f)})]},u)})})};return o.jsxs("div",{className:"container mx-auto py-6 px-4",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Auditora del Sistema"}),o.jsx("p",{className:"text-muted-foreground",children:"Registro completo de cambios y modificaciones"})]}),o.jsx("div",{className:"mb-6 flex gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nde,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs(qn,{value:t,onValueChange:e,children:[o.jsx(Ln,{className:"w-[200px]","data-testid":"select-filter-table",children:o.jsx(Un,{placeholder:"Filtrar por mdulo"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"all",children:"Todos los mdulos"}),o.jsx(it,{value:"clients",children:"Clientes"}),o.jsx(it,{value:"tasks",children:"Tareas"}),o.jsx(it,{value:"client_tax",children:"Impuestos"}),o.jsx(it,{value:"manuals",children:"Manuales"}),o.jsx(it,{value:"users",children:"Usuarios"})]})]})]})}),r?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),o.jsx(Qe,{children:o.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})})]},s))}):n.length===0?o.jsx(Ze,{children:o.jsxs(Qe,{className:"py-10 text-center",children:[o.jsx(Ui,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No se encontraron registros de auditora"})]})}):o.jsx("div",{className:"space-y-4",children:n.map(s=>o.jsxs(Ze,{"data-testid":`audit-entry-${s.id}`,children:[o.jsx(xt,{children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsxs(St,{className:"text-lg flex items-center gap-2",children:[o.jsx(ct,{variant:LGe[s.accion],children:FGe[s.accion]}),o.jsx("span",{children:DGe[s.tabla]||s.tabla})]}),o.jsx(Er,{className:"mt-2",children:s.cambios||"Sin descripcin de cambios"})]})})}),o.jsx(Qe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(r1,{className:"h-4 w-4"}),o.jsx("span",{children:s.usuario?.username||"Usuario desconocido"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Jo,{className:"h-4 w-4"}),o.jsx("span",{children:Ao(new Date(s.fecha),"d 'de' MMMM 'de' yyyy, HH:mm",{locale:Vu})})]})]}),(s.valorAnterior||s.valorNuevo)&&o.jsx(i,{anterior:s.valorAnterior,nuevo:s.valorNuevo})]})})]},s.id))})]})}const zW=[{key:"{nombre_cliente}",description:"Nombre del cliente"},{key:"{email_cliente}",description:"Email del cliente"},{key:"{fecha_vencimiento}",description:"Fecha de vencimiento"}];function $Ge(){const[t,e]=N.useState("plantillas"),{toast:n}=Pr(),[r,i]=N.useState(!1),[s,a]=N.useState(null),[l,c]=N.useState({nombre:"",asunto:"",contenidoHTML:""}),[u,d]=N.useState(""),[f,m]=N.useState("all"),[p,y]=N.useState(""),[v,x]=N.useState(!1),{data:b,isLoading:S}=rn({queryKey:["/api/notification-templates"]}),{data:_}=rn({queryKey:["/api/admin/smtp-accounts"]}),{data:j,isLoading:C}=rn({queryKey:["/api/notifications/history"],enabled:t==="historial"}),{data:O,isLoading:M}=rn({queryKey:["/api/notifications/scheduled"],enabled:t==="programadas"}),A=hn({mutationFn:async U=>await Jt("POST","/api/notification-templates",U),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),F(),n({title:"Plantilla creada",description:"La plantilla se ha creado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo crear la plantilla.",variant:"destructive"})}}),P=hn({mutationFn:async({id:U,data:W})=>await Jt("PATCH",`/api/notification-templates/${U}`,W),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),F(),n({title:"Plantilla actualizada",description:"La plantilla se ha actualizado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo actualizar la plantilla.",variant:"destructive"})}}),B=hn({mutationFn:async U=>await Jt("DELETE",`/api/notification-templates/${U}`),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/notification-templates"]}),n({title:"Plantilla eliminada",description:"La plantilla se ha eliminado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo eliminar la plantilla.",variant:"destructive"})}}),R=hn({mutationFn:async U=>v?await Jt("POST","/api/notifications/schedule",U):await Jt("POST","/api/notifications/send",U),onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/notifications/history"]}),nn.invalidateQueries({queryKey:["/api/notifications/scheduled"]}),d(""),m("all"),y(""),x(!1),n({title:v?"Notificacin programada":"Notificacin enviada",description:v?"La notificacin se ha programado correctamente.":"La notificacin se ha enviado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo enviar la notificacin.",variant:"destructive"})}}),F=()=>{c({nombre:"",asunto:"",contenidoHTML:""}),a(null)},q=()=>{if(!u)return;const U=b?.find(W=>String(W.id)===u);U&&R.mutate({plantillaId:u,smtpAccountId:p||null,destinatarios:f,asunto:U.asunto,contenido:U.contenidoHTML})},z=U=>{a(U),c({nombre:U.nombre,asunto:U.asunto,contenidoHTML:U.contenidoHTML}),i(!0)},G=U=>{U.preventDefault(),s?P.mutate({id:s.id,data:l}):A.mutate(l)},X=U=>{const W=l.contenidoHTML+" "+U+" ";c({...l,contenidoHTML:W})};return o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-display font-bold",children:"Sistema de Notificaciones"})}),o.jsxs(Sc,{value:t,onValueChange:e,className:"space-y-4",children:[o.jsxs(Fl,{children:[o.jsxs(zn,{value:"plantillas","data-testid":"tab-plantillas",children:[o.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Plantillas"]}),o.jsxs(zn,{value:"enviar","data-testid":"tab-enviar",children:[o.jsx(tN,{className:"h-4 w-4 mr-2"}),"Enviar Notificacin"]}),o.jsxs(zn,{value:"historial","data-testid":"tab-historial",children:[o.jsx(Am,{className:"h-4 w-4 mr-2"}),"Historial"]}),o.jsxs(zn,{value:"programadas","data-testid":"tab-programadas",children:[o.jsx(Jo,{className:"h-4 w-4 mr-2"}),"Programadas"]})]}),o.jsxs(sr,{value:"plantillas",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-display font-semibold",children:"Plantillas de Notificacin"}),o.jsxs(ci,{open:r,onOpenChange:i,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{onClick:()=>F(),"data-testid":"button-add-template",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),o.jsxs(ri,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(ui,{children:[o.jsxs(di,{children:[s?"Editar":"Nueva"," Plantilla"]}),o.jsx(Ss,{children:"Crea plantillas de notificacin reutilizables con variables dinmicas"})]}),o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"template-nombre",children:"Nombre de la Plantilla *"}),o.jsx(Ge,{id:"template-nombre",value:l.nombre,onChange:U=>c({...l,nombre:U.target.value}),placeholder:"Ej: Recordatorio de vencimiento",required:!0,"data-testid":"input-template-nombre"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"template-asunto",children:"Asunto del Email *"}),o.jsx(Ge,{id:"template-asunto",value:l.asunto,onChange:U=>c({...l,asunto:U.target.value}),placeholder:"Ej: Recordatorio: Vencimiento prximo",required:!0,"data-testid":"input-template-asunto"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Variables Disponibles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:zW.map(U=>o.jsxs(Se,{type:"button",variant:"outline",size:"sm",onClick:()=>X(U.key),"data-testid":`button-variable-${U.key}`,children:[o.jsx(XK,{className:"h-3 w-3 mr-1"}),U.key]},U.key))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Haz clic en una variable para insertarla en el contenido"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"template-contenido",children:"Contenido HTML *"}),o.jsx(_le,{content:l.contenidoHTML,onChange:U=>c({...l,contenidoHTML:U})})]}),o.jsx(va,{children:o.jsxs(Se,{type:"submit","data-testid":"button-submit-template",children:[s?"Actualizar":"Crear"," Plantilla"]})})]})]})]})]}),o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Plantillas Creadas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus plantillas de notificacin reutilizables"})]}),o.jsx(Qe,{children:S?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Kn,{className:"h-12 w-full"}),o.jsx(Kn,{className:"h-12 w-full"})]}):b&&b.length>0?o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Nombre"}),o.jsx(Ot,{children:"Asunto"}),o.jsx(Ot,{children:"Tipo"}),o.jsx(Ot,{children:"Variables Usadas"}),o.jsx(Ot,{children:"Acciones"})]})}),o.jsx(Eo,{children:b.map(U=>{const W=zW.filter(Y=>U.contenidoHTML.includes(Y.key));return o.jsxs(ir,{children:[o.jsx(yt,{className:"font-medium","data-testid":`text-template-nombre-${U.id}`,children:U.nombre}),o.jsx(yt,{"data-testid":`text-template-asunto-${U.id}`,children:U.asunto}),o.jsx(yt,{"data-testid":`text-template-tipo-${U.id}`,children:o.jsx(ct,{variant:U.tipo==="RECORDATORIO"?"default":U.tipo==="URGENTE"?"destructive":"secondary",className:"text-xs",children:U.tipo})}),o.jsx(yt,{"data-testid":`text-template-variables-${U.id}`,children:o.jsx("div",{className:"flex flex-wrap gap-1",children:W.length>0?W.map(Y=>o.jsx(ct,{variant:"secondary",className:"text-xs","data-testid":`badge-variable-${Y.key.replace(/[{}]/g,"")}-${U.id}`,children:Y.key},Y.key)):o.jsx("span",{className:"text-sm text-muted-foreground",children:"Sin variables"})})}),o.jsx(yt,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>z(U),"data-testid":`button-edit-template-${U.id}`,children:o.jsx(td,{className:"h-4 w-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>B.mutate(U.id),"data-testid":`button-delete-template-${U.id}`,children:o.jsx(ea,{className:"h-4 w-4"})})]})})]},U.id)})})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas creadas. Crea una para empezar."})})]})]}),o.jsx(sr,{value:"enviar",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Enviar Notificacin"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enva notificaciones inmediatas o programadas a tus clientes."})]}),o.jsx(Qe,{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"template-select","data-testid":"label-template-select",children:"Plantilla"}),o.jsxs("select",{id:"template-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-template",value:u,onChange:U=>d(U.target.value),children:[o.jsx("option",{value:"",children:"Selecciona una plantilla"}),b?.map(U=>o.jsx("option",{value:U.id,"data-testid":`option-template-${U.id}`,children:U.nombre},U.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{"data-testid":"label-recipients",children:"Destinatarios"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",id:"all-clients",name:"recipients",value:"all",checked:f==="all",onChange:U=>m(U.target.value),"data-testid":"radio-recipients-all"}),o.jsx(De,{htmlFor:"all-clients",className:"font-normal cursor-pointer",children:"Todos los clientes activos"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",id:"autonomos",name:"recipients",value:"AUTONOMO",checked:f==="AUTONOMO",onChange:U=>m(U.target.value),"data-testid":"radio-recipients-autonomo"}),o.jsx(De,{htmlFor:"autonomos",className:"font-normal cursor-pointer",children:"Solo autnomos"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",id:"empresas",name:"recipients",value:"EMPRESA",checked:f==="EMPRESA",onChange:U=>m(U.target.value),"data-testid":"radio-recipients-empresa"}),o.jsx(De,{htmlFor:"empresas",className:"font-normal cursor-pointer",children:"Solo empresas"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"smtp-select","data-testid":"label-smtp-select",children:"Cuenta SMTP"}),o.jsxs("select",{id:"smtp-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-smtp",value:p,onChange:U=>y(U.target.value),children:[o.jsx("option",{value:"",children:"Usar cuenta predeterminada"}),_?.map(U=>o.jsxs("option",{value:U.id,"data-testid":`option-smtp-${U.id}`,children:[U.nombre," ",U.isPredeterminada?"(Predeterminada)":""]},U.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{"data-testid":"label-preview",children:"Vista Previa"}),o.jsx("div",{className:"border rounded-md p-4 bg-muted/50 min-h-[200px]","data-testid":"div-preview",children:u?o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:b?.find(U=>String(U.id)===u)?.contenidoHTML?.replace(/{nombre_cliente}/g,'<strong class="text-primary">Cliente Ejemplo</strong>')?.replace(/{email_cliente}/g,'<strong class="text-primary">ejemplo@email.com</strong>')?.replace(/{fecha_vencimiento}/g,'<strong class="text-primary">31/12/2025</strong>')||'<p class="text-sm text-muted-foreground">No se encontr la plantilla</p>'}})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona una plantilla para ver la vista previa"})})]}),o.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"schedule-send","data-testid":"checkbox-schedule",checked:v,onChange:U=>x(U.target.checked)}),o.jsx(De,{htmlFor:"schedule-send",className:"font-normal cursor-pointer",children:"Programar envo"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Se,{variant:"default","data-testid":"button-send-notification",disabled:!u||R.isPending,onClick:q,children:[o.jsx(eN,{className:"h-4 w-4 mr-2"}),R.isPending?"Enviando...":v?"Programar Envo":"Enviar Ahora"]}),o.jsx(Se,{variant:"outline","data-testid":"button-cancel-send",onClick:()=>{d(""),m("all"),y(""),x(!1)},children:"Cancelar"})]})]})]})})]})}),o.jsx(sr,{value:"historial",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Historial de Notificaciones"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Consulta todas las notificaciones enviadas y su estado."})]}),o.jsxs(Qe,{children:[o.jsxs("div",{className:"flex gap-3 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Ge,{placeholder:"Buscar por destinatario...","data-testid":"input-search-history"})}),o.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2","data-testid":"select-status-filter",children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"ENVIADO",children:"Enviado"}),o.jsx("option",{value:"ERROR",children:"Error"}),o.jsx("option",{value:"PENDIENTE",children:"Pendiente"})]})]}),o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Fecha"}),o.jsx(Ot,{children:"Plantilla"}),o.jsx(Ot,{children:"Destinatario"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Cuenta SMTP"})]})}),o.jsx(Eo,{children:C?o.jsx(ir,{children:o.jsx(yt,{colSpan:5,className:"text-center py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):j?.length>0?j.map(U=>o.jsxs(ir,{"data-testid":`row-history-${U.id}`,children:[o.jsx(yt,{"data-testid":`text-history-date-${U.id}`,children:new Date(U.fechaEnvio).toLocaleDateString("es-ES")}),o.jsx(yt,{"data-testid":`text-history-template-${U.id}`,children:U.template?.nombre||"N/A"}),o.jsx(yt,{"data-testid":`text-history-recipients-${U.id}`,children:U.destinatarios==="all"?"Todos":U.destinatarios}),o.jsx(yt,{"data-testid":`text-history-status-${U.id}`,children:o.jsx(ct,{variant:U.estado==="ENVIADO"?"default":"destructive",children:U.estado})}),o.jsx(yt,{"data-testid":`text-history-smtp-${U.id}`,children:U.smtpAccount?.nombre||"Predeterminada"})]},U.id)):o.jsx(ir,{children:o.jsx(yt,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-history",children:"No hay notificaciones en el historial"})})})]})]})]})}),o.jsx(sr,{value:"programadas",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Notificaciones Programadas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona y consulta las notificaciones que estn programadas para envo futuro."})]}),o.jsx(Qe,{children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Fecha Programada"}),o.jsx(Ot,{children:"Plantilla"}),o.jsx(Ot,{children:"Destinatarios"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Acciones"})]})}),o.jsx(Eo,{children:M?o.jsx(ir,{children:o.jsx(yt,{colSpan:5,className:"text-center py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):O?.length>0?O.map(U=>o.jsxs(ir,{"data-testid":`row-scheduled-${U.id}`,children:[o.jsx(yt,{"data-testid":`text-scheduled-date-${U.id}`,children:new Date(U.fechaProgramada).toLocaleDateString("es-ES")}),o.jsx(yt,{"data-testid":`text-scheduled-template-${U.id}`,children:U.template?.nombre||"N/A"}),o.jsx(yt,{"data-testid":`text-scheduled-recipients-${U.id}`,children:U.destinatariosSeleccionados==="all"?"Todos":U.destinatariosSeleccionados}),o.jsx(yt,{"data-testid":`text-scheduled-status-${U.id}`,children:o.jsx(ct,{variant:"secondary",children:U.estado})}),o.jsx(yt,{"data-testid":`div-scheduled-actions-${U.id}`,children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{size:"sm",variant:"outline","data-testid":`button-edit-scheduled-${U.id}`,children:o.jsx(td,{className:"h-3 w-3"})}),o.jsx(Se,{size:"sm",variant:"outline","data-testid":`button-cancel-scheduled-${U.id}`,children:o.jsx(ea,{className:"h-3 w-3"})})]})})]},U.id)):o.jsx(ir,{children:o.jsx(yt,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-scheduled",children:"No hay notificaciones programadas"})})})]})})]})})]})]})}const zGe=[{type:"PYME",icon:dde,title:"PYME",description:"Presupuesto para empresas (Contabilidad, nminas, facturacin)",color:"bg-blue-50 hover:bg-blue-100 border-blue-200",iconColor:"text-blue-600"},{type:"AUTONOMO",icon:Ui,title:"Autnomo",description:"Presupuesto para trabajadores autnomos (Facturas, tributacin)",color:"bg-green-50 hover:bg-green-100 border-green-200",iconColor:"text-green-600"},{type:"RENTA",icon:$de,title:"Renta",description:"Declaracin de la Renta (IRPF, inmuebles, ganancias)",color:"bg-amber-50 hover:bg-amber-100 border-amber-200",iconColor:"text-amber-600"},{type:"HERENCIAS",icon:sG,title:"Herencias",description:"Gestin de herencias (Herederos, fincas, vehculos, plusvalas)",color:"bg-purple-50 hover:bg-purple-100 border-purple-200",iconColor:"text-purple-600"}];function qGe({onSelectType:t}){return o.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Nuevo Presupuesto"}),o.jsx("p",{className:"text-muted-foreground",children:"Selecciona el tipo de presupuesto que deseas crear"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:zGe.map(e=>{const n=e.icon;return o.jsxs(Ze,{className:`cursor-pointer transition-all ${e.color} border-2 hover:shadow-lg`,onClick:()=>t(e.type),children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-lg bg-white shadow-sm",children:o.jsx(n,{className:`h-8 w-8 ${e.iconColor}`})}),o.jsx("div",{children:o.jsx(St,{className:"text-xl",children:e.title})})]})}),o.jsx(Qe,{children:o.jsx(Er,{className:"text-base",children:e.description})})]},e.type)})})]})}function UGe({onSubmit:t,onCancel:e}){const[n,r]=N.useState("LA_LLAVE"),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[m,p]=N.useState(""),[y,v]=N.useState(0),[x,b]=N.useState(0),[S,_]=N.useState(0),[j,C]=N.useState(!1),[O,M]=N.useState(!1),[A,P]=N.useState(!1),[B,R]=N.useState(!1),[F,q]=N.useState("TRIMESTRAL"),[z,G]=N.useState(!1),X=U=>{U.preventDefault(),t({asientosMes:y,nominasMes:x,facturacion:S,irpfAlquileres:j,ivaIntracomunitario:O,notificaciones:A,estadisticasINE:B,periodo:F,emprendedor:z},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return o.jsxs("form",{onSubmit:X,className:"space-y-6",children:[o.jsxs(Ze,{className:"border-2 border-primary/20 bg-primary/5",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),o.jsxs(qn,{value:n,onValueChange:U=>r(U),children:[o.jsx(Ln,{id:"companyBrand",children:o.jsx(Un,{placeholder:"Selecciona empresa"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"LA_LLAVE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),o.jsx(it,{value:"GESTORIA_ONLINE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Gestora Online"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Datos del Cliente"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientName",children:"Nombre / Razn Social *"}),o.jsx(Ge,{id:"clientName",required:!0,value:i,onChange:U=>s(U.target.value),placeholder:"Empresa SL"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientNif",children:"NIF / CIF *"}),o.jsx(Ge,{id:"clientNif",required:!0,value:a,onChange:U=>l(U.target.value),placeholder:"B12345678"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientPhone",children:"Telfono"}),o.jsx(Ge,{id:"clientPhone",value:d,onChange:U=>f(U.target.value),placeholder:"600123456"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientEmail",children:"Email"}),o.jsx(Ge,{id:"clientEmail",type:"email",value:c,onChange:U=>u(U.target.value),placeholder:"cliente@ejemplo.com"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientAddress",children:"Direccin Completa"}),o.jsx(Ge,{id:"clientAddress",value:m,onChange:U=>p(U.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Caractersticas de la PYME"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"asientosMes",children:"Nivel Contable (Asientos/mes) *"}),o.jsxs(qn,{value:y.toString(),onValueChange:U=>v(Number(U)),required:!0,children:[o.jsx(Ln,{id:"asientosMes",children:o.jsx(Un,{placeholder:"Selecciona nivel"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"0",children:"0 asientos (120 /mes)"}),o.jsx(it,{value:"1",children:"1-25 asientos (150 /mes)"}),o.jsx(it,{value:"2",children:"26-50 asientos (200 /mes)"}),o.jsx(it,{value:"3",children:"51-100 asientos (250 /mes)"}),o.jsx(it,{value:"4",children:"101-150 asientos (300 /mes)"}),o.jsx(it,{value:"5",children:"151-200 asientos (350 /mes)"}),o.jsx(it,{value:"6",children:"201-250 asientos (400 /mes)"}),o.jsx(it,{value:"7",children:"251-350 asientos (475 /mes)"}),o.jsx(it,{value:"8",children:">350 asientos (525 /mes)"})]})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"nominasMes",children:"Nminas al mes"}),o.jsx(Ge,{id:"nominasMes",type:"number",min:"0",value:x,onChange:U=>b(Number(U.target.value)),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"facturacion",children:"Facturacin anual ()"}),o.jsx(Ge,{id:"facturacion",type:"number",min:"0",step:"1000",value:S,onChange:U=>_(Number(U.target.value)),placeholder:"100000"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"periodo",children:"Periodo de Liquidacin"}),o.jsxs(qn,{value:F,onValueChange:U=>q(U),children:[o.jsx(Ln,{id:"periodo",children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"TRIMESTRAL",children:"Trimestral"}),o.jsx(it,{value:"MENSUAL",children:"Mensual"})]})]})]})]}),o.jsx(eo,{className:"my-4"}),o.jsxs("div",{children:[o.jsx(De,{className:"text-base font-semibold mb-3 block",children:"Servicios Adicionales"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"irpfAlquileres",checked:j,onCheckedChange:U=>C(!!U)}),o.jsx("label",{htmlFor:"irpfAlquileres",className:"text-sm cursor-pointer",children:"IRPF Alquileres (+10 )"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"ivaIntracomunitario",checked:O,onCheckedChange:U=>M(!!U)}),o.jsx("label",{htmlFor:"ivaIntracomunitario",className:"text-sm cursor-pointer",children:"IVA Intracomunitario (+10 )"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"notificaciones",checked:A,onCheckedChange:U=>P(!!U)}),o.jsx("label",{htmlFor:"notificaciones",className:"text-sm cursor-pointer",children:"Notificaciones AEAT (+5 )"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"estadisticasINE",checked:B,onCheckedChange:U=>R(!!U)}),o.jsx("label",{htmlFor:"estadisticasINE",className:"text-sm cursor-pointer",children:"Estadsticas INE (+5 )"})]})]})]}),o.jsx(eo,{className:"my-4"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"emprendedor",checked:z,onCheckedChange:U=>G(!!U)}),o.jsx("label",{htmlFor:"emprendedor",className:"text-sm font-medium cursor-pointer",children:"Emprendedor (Descuento 20%)"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsxs(Se,{type:"button",variant:"outline",onClick:e,children:[o.jsx(bc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),o.jsxs(Se,{type:"submit",children:[o.jsx(TE,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function HGe({onSubmit:t,onCancel:e}){const[n,r]=N.useState("LA_LLAVE"),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[m,p]=N.useState(""),[y,v]=N.useState(25),[x,b]=N.useState(0),[S,_]=N.useState(0),[j,C]=N.useState(!1),[O,M]=N.useState(!1),[A,P]=N.useState(!1),[B,R]=N.useState(!1),[F,q]=N.useState("TRIMESTRAL"),[z,G]=N.useState("NORMAL"),[X,U]=N.useState(!1),W=Y=>{Y.preventDefault(),t({facturasMes:y,nominasMes:x,facturacion:S,irpfAlquileres:j,ivaIntracomunitario:O,notificaciones:A,estadisticasINE:B,periodo:F,sistemaTributacion:z,emprendedor:X},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return o.jsxs("form",{onSubmit:W,className:"space-y-6",children:[o.jsxs(Ze,{className:"border-2 border-primary/20 bg-primary/5",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),o.jsxs(qn,{value:n,onValueChange:Y=>r(Y),children:[o.jsx(Ln,{id:"companyBrand",children:o.jsx(Un,{placeholder:"Selecciona empresa"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"LA_LLAVE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),o.jsx(it,{value:"GESTORIA_ONLINE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Gestora Online"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Datos del Cliente"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientName",children:"Nombre Completo *"}),o.jsx(Ge,{id:"clientName",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Juan Prez"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientNif",children:"NIF / DNI *"}),o.jsx(Ge,{id:"clientNif",required:!0,value:a,onChange:Y=>l(Y.target.value),placeholder:"12345678A"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientPhone",children:"Telfono"}),o.jsx(Ge,{id:"clientPhone",value:d,onChange:Y=>f(Y.target.value),placeholder:"600123456"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientEmail",children:"Email"}),o.jsx(Ge,{id:"clientEmail",type:"email",value:c,onChange:Y=>u(Y.target.value),placeholder:"cliente@ejemplo.com"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientAddress",children:"Direccin Completa"}),o.jsx(Ge,{id:"clientAddress",value:m,onChange:Y=>p(Y.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Caractersticas del Autnomo"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"facturasMes",children:"Facturas al mes *"}),o.jsxs(qn,{value:y.toString(),onValueChange:Y=>v(Number(Y)),required:!0,children:[o.jsx(Ln,{id:"facturasMes",children:o.jsx(Un,{placeholder:"Selecciona rango"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"25",children:"Hasta 25 facturas (45 /mes)"}),o.jsx(it,{value:"50",children:"26-50 facturas (70 /mes)"}),o.jsx(it,{value:"100",children:"51-100 facturas (90 /mes)"}),o.jsx(it,{value:"150",children:"101-150 facturas (105 /mes)"}),o.jsx(it,{value:"200",children:">150 facturas (125 /mes)"})]})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"nominasMes",children:"Nminas al mes"}),o.jsx(Ge,{id:"nominasMes",type:"number",min:"0",value:x,onChange:Y=>b(Number(Y.target.value)),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"facturacion",children:"Facturacin anual ()"}),o.jsx(Ge,{id:"facturacion",type:"number",min:"0",step:"1000",value:S,onChange:Y=>_(Number(Y.target.value)),placeholder:"50000"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"periodo",children:"Periodo de Liquidacin"}),o.jsxs(qn,{value:F,onValueChange:Y=>q(Y),children:[o.jsx(Ln,{id:"periodo",children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"TRIMESTRAL",children:"Trimestral"}),o.jsx(it,{value:"MENSUAL",children:"Mensual"})]})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"sistemaTributacion",children:"Sistema de Tributacin"}),o.jsxs(qn,{value:z,onValueChange:Y=>G(Y),children:[o.jsx(Ln,{id:"sistemaTributacion",children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"NORMAL",children:"Normal"}),o.jsx(it,{value:"ESN",children:"Estimacin Simplificada (ESN) +10%"}),o.jsx(it,{value:"MODULOS",children:"Mdulos -10%"})]})]})]})]}),o.jsx(eo,{className:"my-4"}),o.jsxs("div",{children:[o.jsx(De,{className:"text-base font-semibold mb-3 block",children:"Servicios Adicionales"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"irpfAlquileres",checked:j,onCheckedChange:Y=>C(!!Y)}),o.jsx("label",{htmlFor:"irpfAlquileres",className:"text-sm cursor-pointer",children:"IRPF Alquileres (+10 )"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"ivaIntracomunitario",checked:O,onCheckedChange:Y=>M(!!Y)}),o.jsx("label",{htmlFor:"ivaIntracomunitario",className:"text-sm cursor-pointer",children:"IVA Intracomunitario (+10 )"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"notificaciones",checked:A,onCheckedChange:Y=>P(!!Y)}),o.jsx("label",{htmlFor:"notificaciones",className:"text-sm cursor-pointer",children:"Notificaciones AEAT (+5 )"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"estadisticasINE",checked:B,onCheckedChange:Y=>R(!!Y)}),o.jsx("label",{htmlFor:"estadisticasINE",className:"text-sm cursor-pointer",children:"Estadsticas INE (+5 )"})]})]})]}),o.jsx(eo,{className:"my-4"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"emprendedor",checked:X,onCheckedChange:Y=>U(!!Y)}),o.jsx("label",{htmlFor:"emprendedor",className:"text-sm font-medium cursor-pointer",children:"Emprendedor (Descuento 20%)"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsxs(Se,{type:"button",variant:"outline",onClick:e,children:[o.jsx(bc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),o.jsxs(Se,{type:"submit",children:[o.jsx(TE,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function VGe({onSubmit:t,onCancel:e}){const[n,r]=N.useState("LA_LLAVE"),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[m,p]=N.useState(""),[y,v]=N.useState("OTROS"),[x,b]=N.useState(!1),[S,_]=N.useState(0),[j,C]=N.useState(0),[O,M]=N.useState(0),[A,P]=N.useState(0),B=R=>{R.preventDefault(),t({unidadFamiliar:y,autonomo:x,inmueblesAlquilados:S,ventaInmuebles:j,ventaFinancieros:O,otrasGanancias:A},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return o.jsxs("form",{onSubmit:B,className:"space-y-6",children:[o.jsxs(Ze,{className:"border-2 border-primary/20 bg-primary/5",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),o.jsxs(qn,{value:n,onValueChange:R=>r(R),children:[o.jsx(Ln,{id:"companyBrand",children:o.jsx(Un,{placeholder:"Selecciona empresa"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"LA_LLAVE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),o.jsx(it,{value:"GESTORIA_ONLINE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Gestora Online"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Datos del Cliente"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientName",children:"Nombre Completo *"}),o.jsx(Ge,{id:"clientName",required:!0,value:i,onChange:R=>s(R.target.value),placeholder:"Juan Prez"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientNif",children:"NIF / DNI *"}),o.jsx(Ge,{id:"clientNif",required:!0,value:a,onChange:R=>l(R.target.value),placeholder:"12345678A"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientPhone",children:"Telfono"}),o.jsx(Ge,{id:"clientPhone",value:d,onChange:R=>f(R.target.value),placeholder:"600123456"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientEmail",children:"Email"}),o.jsx(Ge,{id:"clientEmail",type:"email",value:c,onChange:R=>u(R.target.value),placeholder:"cliente@ejemplo.com"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientAddress",children:"Direccin Completa"}),o.jsx(Ge,{id:"clientAddress",value:m,onChange:R=>p(R.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Declaracin de la Renta (IRPF)"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"unidadFamiliar",children:"Unidad Familiar *"}),o.jsxs(qn,{value:y,onValueChange:R=>v(R),required:!0,children:[o.jsx(Ln,{id:"unidadFamiliar",children:o.jsx(Un,{placeholder:"Selecciona tipo"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"OTROS",children:"Individual u otros (40 )"}),o.jsx(it,{value:"MATRIMONIO",children:"Matrimonio (50 )"}),o.jsx(it,{value:"MATRIMONIO_HIJOS",children:"Matrimonio con hijos (50 )"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"autonomo",checked:x,onCheckedChange:R=>b(!!R)}),o.jsx("label",{htmlFor:"autonomo",className:"text-sm cursor-pointer",children:"Actividad Econmica (Autnomo) +20 "})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(De,{className:"text-base font-semibold mb-3 block",children:"Ganancias Patrimoniales (cantidad de operaciones)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"inmueblesAlquilados",children:"Inmuebles alquilados"}),o.jsx(Ge,{id:"inmueblesAlquilados",type:"number",min:"0",value:S,onChange:R=>_(Number(R.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"15  por inmueble"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"ventaInmuebles",children:"Venta de inmuebles"}),o.jsx(Ge,{id:"ventaInmuebles",type:"number",min:"0",value:j,onChange:R=>C(Number(R.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por venta"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"ventaFinancieros",children:"Venta de acciones/productos financieros"}),o.jsx(Ge,{id:"ventaFinancieros",type:"number",min:"0",value:O,onChange:R=>M(Number(R.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por operacin"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"otrasGanancias",children:"Otras ganancias patrimoniales"}),o.jsx(Ge,{id:"otrasGanancias",type:"number",min:"0",value:A,onChange:R=>P(Number(R.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por operacin"})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsxs(Se,{type:"button",variant:"outline",onClick:e,children:[o.jsx(bc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),o.jsxs(Se,{type:"submit",children:[o.jsx(TE,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function WGe({onSubmit:t,onCancel:e}){const[n,r]=N.useState("LA_LLAVE"),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[m,p]=N.useState(""),[y,v]=N.useState(2e4),[x,b]=N.useState(1),[S,_]=N.useState(0),[j,C]=N.useState(0),[O,M]=N.useState(0),[A,P]=N.useState(0),[B,R]=N.useState(!1),[F,q]=N.useState(!1),[z,G]=N.useState(!1),[X,U]=N.useState(!1),W=Y=>{if(Y.preventDefault(),y<2e4){alert("El caudal hereditario mnimo es de 20.000");return}if(!(S>0||j>0||O>0||A>0)){alert("Debe haber al menos un inmueble, producto financiero o vehculo");return}t({caudalHereditario:y,herederos:x,fincasComunidad:S,fincasOtras:j,productosFinancieros:O,vehiculos:A,sinTestamento:B,sinAcuerdo:F,escriturar:z,aplicarDescuento15:X},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return o.jsxs("form",{onSubmit:W,className:"space-y-6",children:[o.jsxs(Ze,{className:"border-2 border-primary/20 bg-primary/5",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),o.jsxs(qn,{value:n,onValueChange:Y=>r(Y),children:[o.jsx(Ln,{id:"companyBrand",children:o.jsx(Un,{placeholder:"Selecciona empresa"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"LA_LLAVE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),o.jsx(it,{value:"GESTORIA_ONLINE",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-semibold",children:"Gestora Online"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Datos del Cliente"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientName",children:"Nombre Completo *"}),o.jsx(Ge,{id:"clientName",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Juan Prez"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientNif",children:"NIF / DNI *"}),o.jsx(Ge,{id:"clientNif",required:!0,value:a,onChange:Y=>l(Y.target.value),placeholder:"12345678A"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientPhone",children:"Telfono"}),o.jsx(Ge,{id:"clientPhone",value:d,onChange:Y=>f(Y.target.value),placeholder:"600123456"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientEmail",children:"Email"}),o.jsx(Ge,{id:"clientEmail",type:"email",value:c,onChange:Y=>u(Y.target.value),placeholder:"cliente@ejemplo.com"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientAddress",children:"Direccin Completa"}),o.jsx(Ge,{id:"clientAddress",value:m,onChange:Y=>p(Y.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Gestin de Herencia"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs(Hh,{children:[o.jsx(io,{className:"h-4 w-4"}),o.jsx(Vh,{children:"Caudal hereditario mnimo: 20.000 . Debe haber al menos un inmueble, producto financiero o vehculo."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"caudalHereditario",children:"Caudal Hereditario () *"}),o.jsx(Ge,{id:"caudalHereditario",type:"number",min:"20000",step:"1000",required:!0,value:y,onChange:Y=>v(Number(Y.target.value)),placeholder:"20000"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recargo 0.1% del caudal"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"herederos",children:"Nmero de herederos"}),o.jsx(Ge,{id:"herederos",type:"number",min:"1",value:x,onChange:Y=>b(Number(Y.target.value)),placeholder:"1"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"25  por heredero"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"fincasComunidad",children:"Fincas en la Comunidad Autnoma"}),o.jsx(Ge,{id:"fincasComunidad",type:"number",min:"0",value:S,onChange:Y=>_(Number(Y.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"25  + 50  plusvala + 50  registro"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"fincasOtras",children:"Fincas en otras CCAA"}),o.jsx(Ge,{id:"fincasOtras",type:"number",min:"0",value:j,onChange:Y=>C(Number(Y.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"40  + 50  plusvala + 50  registro"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"productosFinancieros",children:"Productos financieros"}),o.jsx(Ge,{id:"productosFinancieros",type:"number",min:"0",value:O,onChange:Y=>M(Number(Y.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por producto"})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"vehiculos",children:"Vehculos"}),o.jsx(Ge,{id:"vehiculos",type:"number",min:"0",value:A,onChange:Y=>P(Number(Y.target.value)),placeholder:"0"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"30  por vehculo"})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(De,{className:"text-base font-semibold mb-3 block",children:"Recargos"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"sinTestamento",checked:B,onCheckedChange:Y=>R(!!Y)}),o.jsx("label",{htmlFor:"sinTestamento",className:"text-sm cursor-pointer",children:"Sin testamento (+30% sobre base)"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"sinAcuerdo",checked:F,onCheckedChange:Y=>q(!!Y)}),o.jsx("label",{htmlFor:"sinAcuerdo",className:"text-sm cursor-pointer",children:"Sin acuerdo entre herederos (+60% sobre base)"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"escriturar",checked:z,onCheckedChange:Y=>G(!!Y)}),o.jsx("label",{htmlFor:"escriturar",className:"text-sm cursor-pointer",children:"Escrituracin de herencia (+30% sobre base)"})]})]})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"aplicarDescuento15",checked:X,onCheckedChange:Y=>U(!!Y)}),o.jsx("label",{htmlFor:"aplicarDescuento15",className:"text-sm font-medium cursor-pointer",children:"Aplicar descuento comercial (15%)"})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsxs(Se,{type:"button",variant:"outline",onClick:e,children:[o.jsx(bc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),o.jsxs(Se,{type:"submit",children:[o.jsx(TE,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function KGe(){const{toast:t}=Pr(),[,e]=sl(),[n,r]=N.useState("type-selector"),[i,s]=N.useState(null),[a,l]=N.useState(!1),c=f=>{s(f),r("form")},u=()=>{n==="form"?(r("type-selector"),s(null)):e("/documentacion/presupuestos")},d=async(f,m)=>{if(i){l(!0);try{const p={type:i,inputs:f,...m},y=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(p)});if(!y.ok){const x=await y.json();throw new Error(x.error||"Error al crear presupuesto")}const v=await y.json();t({title:"Presupuesto creado",description:`Cdigo: ${v.code}`}),e("/documentacion/presupuestos")}catch(p){t({title:"Error",description:p.message,variant:"destructive"})}finally{l(!1)}}};return n==="type-selector"?o.jsx(qGe,{onSelectType:c}):o.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[o.jsx("div",{className:"mb-6",children:o.jsx("button",{onClick:u,className:"text-sm text-muted-foreground hover:text-foreground",children:" Volver a seleccin de tipo"})}),i==="PYME"&&o.jsx(UGe,{onSubmit:d,onCancel:u}),i==="AUTONOMO"&&o.jsx(HGe,{onSubmit:d,onCancel:u}),i==="RENTA"&&o.jsx(VGe,{onSubmit:d,onCancel:u}),i==="HERENCIAS"&&o.jsx(WGe,{onSubmit:d,onCancel:u})]})}function qW(){const[t,e]=_E("/documentacion/presupuestos/:id"),{toast:n}=Pr(),[r,i]=N.useState(!1),s=e?.id,a=()=>{if(!s)return;const p=localStorage.getItem("token")||document.cookie.split("; ").find(y=>y.startsWith("token="))?.split("=")[1];if(!p){n({variant:"destructive",title:"Error",description:"No se encontr el token de autenticacin"});return}window.open(`/api/budgets/${s}/pdf?token=${encodeURIComponent(p)}`,"_blank")},{data:l,isLoading:c,error:u}=rn({queryKey:["/api/budgets",s],queryFn:async()=>{if(!s)throw new Error("ID no proporcionado");const p=await fetch(`/api/budgets/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!p.ok)throw new Error("No se pudo cargar el presupuesto");return p.json()},enabled:!!s,staleTime:3e4}),d=hn({mutationFn:async()=>{if(!s)throw new Error("ID no proporcionado");return Jt("POST",`/api/budgets/${s}/send`,{})},onSuccess:()=>{n({title:"Enviado",description:"El presupuesto se ha enviado por email"}),nn.invalidateQueries({queryKey:["/api/budgets",s]})},onError:p=>{n({title:"Error",description:p?.message||"No se pudo enviar",variant:"destructive"})}});if(!t||!s)return o.jsx("div",{className:"p-8",children:o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx(io,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Presupuesto no encontrado"}),o.jsx(au,{href:"/documentacion/presupuestos",children:o.jsx(Se,{className:"mt-4",variant:"outline",children:"Volver a la lista"})})]})})});const f=p=>{const y=p.toUpperCase();return y==="ACCEPTED"?o.jsxs(ct,{className:"bg-emerald-100 text-emerald-700",children:[o.jsx(Co,{className:"h-3 w-3 mr-1"}),"Aceptado"]}):y==="SENT"?o.jsxs(ct,{className:"bg-blue-100 text-blue-700",children:[o.jsx(tN,{className:"h-3 w-3 mr-1"}),"Enviado"]}):y==="ARCHIVED"?o.jsx(ct,{variant:"secondary",children:"Archivado"}):o.jsxs(ct,{className:"bg-amber-100 text-amber-700",children:[o.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Borrador"]})},m=(p,y)=>{if(!p||y==="ACCEPTED"||y==="ARCHIVED")return null;const v=new Date,x=new Date(p),b=Math.ceil((x.getTime()-v.getTime())/(1e3*60*60*24));return b<0?{text:"Vencido",variant:"destructive"}:b<=3?{text:`Vence en ${b} das`,variant:"destructive"}:b<=7?{text:`Vence en ${b} das`,variant:"default"}:{text:`Vlido hasta ${x.toLocaleDateString()}`,variant:"outline"}};return o.jsx("div",{className:"p-8 space-y-6",children:c?o.jsxs("div",{className:"space-y-6",children:[o.jsx(Kn,{className:"h-32 w-full"}),o.jsx(Kn,{className:"h-64 w-full"}),o.jsx(Kn,{className:"h-48 w-full"})]}):u||!l?o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx(io,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),o.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error al cargar"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No se pudo obtener la informacin del presupuesto"}),o.jsx(au,{href:"/documentacion/presupuestos",children:o.jsx(Se,{variant:"outline",children:"Volver a la lista"})})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(au,{href:"/documentacion/presupuestos",children:o.jsxs(Se,{variant:"ghost",size:"sm",children:[o.jsx(kE,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),o.jsxs("h1",{className:"text-3xl font-display font-bold",children:["Presupuesto ",l.code]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Serie ",l.series,"  N ",l.number,"/",l.year]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[f(l.status),m(l.expiresAt,l.status)&&o.jsxs(ct,{variant:m(l.expiresAt,l.status).variant,children:[o.jsx(Jo,{className:"h-3 w-3 mr-1"}),m(l.expiresAt,l.status).text]})]})]}),o.jsx(Ze,{children:o.jsx(Qe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Se,{onClick:()=>d.mutate(),disabled:d.isPending||l.status==="ACCEPTED",children:[o.jsx(tN,{className:"h-4 w-4 mr-2"}),d.isPending?"Enviando...":"Enviar por Email"]}),o.jsxs(Se,{variant:"outline",onClick:a,children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"Descargar PDF"]}),o.jsx(au,{href:`/documentacion/presupuestos/${l.id}/editar`,children:o.jsxs(Se,{variant:"outline",children:[o.jsx(td,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})})}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Informacin del Cliente"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(r1,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre / Razn Social"}),o.jsx("p",{className:"font-semibold",children:l.clientName})]})]}),l.clientEmail&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(eN,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-semibold",children:l.clientEmail})]})]}),l.clientPhone&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Fde,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telfono"}),o.jsx("p",{className:"font-semibold",children:l.clientPhone})]})]}),l.activity&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(fde,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actividad"}),o.jsx("p",{className:"font-semibold",children:l.activity})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de emisin"}),o.jsx("p",{className:"font-semibold",children:new Date(l.date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vigencia"}),o.jsxs("p",{className:"font-semibold",children:[l.validDays," das"]})]}),l.expiresAt&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vence el"}),o.jsx("p",{className:"font-semibold",children:new Date(l.expiresAt).toLocaleDateString()})]})]}),l.acceptedAt&&o.jsxs("div",{className:"pt-4 border-t",children:[o.jsxs(ct,{className:"bg-emerald-100 text-emerald-700 mb-2",children:[o.jsx(Co,{className:"h-3 w-3 mr-1"}),"Aceptado el ",new Date(l.acceptedAt).toLocaleString()]}),l.acceptedByIp&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["IP: ",l.acceptedByIp,"  ",l.acceptedByAgent||"N/A"]})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Lneas del Presupuesto"})}),o.jsx(Qe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-muted-foreground pb-2 border-b",children:[o.jsx("div",{className:"col-span-5",children:"Concepto"}),o.jsx("div",{className:"col-span-2 text-center",children:"Cantidad"}),o.jsx("div",{className:"col-span-2 text-right",children:"Precio Unit."}),o.jsx("div",{className:"col-span-1 text-center",children:"IVA %"}),o.jsx("div",{className:"col-span-2 text-right",children:"Subtotal"})]}),l.items.map(p=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm py-2 border-b",children:[o.jsx("div",{className:"col-span-5",children:p.concept}),o.jsx("div",{className:"col-span-2 text-center",children:p.quantity}),o.jsxs("div",{className:"col-span-2 text-right",children:[Number(p.price).toFixed(2)," "]}),o.jsxs("div",{className:"col-span-1 text-center",children:[p.vatPct,"%"]}),o.jsxs("div",{className:"col-span-2 text-right font-semibold",children:[Number(p.subtotal).toFixed(2)," "]})]},p.id))]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Totales"})}),o.jsxs(Qe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal (Base Imponible):"}),o.jsxs("span",{className:"font-semibold",children:[Number(l.subtotal).toFixed(2)," "]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"IVA Total:"}),o.jsxs("span",{className:"font-semibold",children:[Number(l.vatTotal).toFixed(2)," "]})]}),o.jsx(eo,{}),o.jsxs("div",{className:"flex justify-between text-xl",children:[o.jsx("span",{className:"font-bold",children:"TOTAL:"}),o.jsxs("span",{className:"font-bold text-primary",children:[Number(l.total).toFixed(2)," "]})]})]})]}),l.emails&&l.emails.length>0&&o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Historial de Envos"})}),o.jsx(Qe,{children:o.jsx("div",{className:"space-y-2",children:l.emails.map(p=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(eN,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:p.subject}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.recipientEmail,"  ",new Date(p.sentAt).toLocaleString()]})]})]}),o.jsx(ct,{variant:p.status==="SENT"?"default":"destructive",children:p.status})]},p.id))})})]}),l.notes&&o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Notas Internas"})}),o.jsx(Qe,{children:o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:l.notes})})]})]})})}function GGe(){const[t,e]=_E("/documentacion/presupuestos/:id/editar"),[,n]=sl(),{toast:r}=Pr(),i=e?.id,[s,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(""),[f,m]=N.useState(""),[p,y]=N.useState(""),[v,x]=N.useState(30),[b,S]=N.useState(""),[_,j]=N.useState(""),[C,O]=N.useState([]),[M,A]=N.useState(!1),[P,B]=N.useState(""),{data:R,isLoading:F}=rn({queryKey:["/api/budgets",i],queryFn:async()=>{if(!i)throw new Error("ID no proporcionado");const I=await fetch(`/api/budgets/${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!I.ok)throw new Error("No se pudo cargar el presupuesto");return I.json()},enabled:!!i});N.useEffect(()=>{if(R){a(R.clientName||""),c(R.clientNif||""),d(R.clientEmail||""),m(R.clientPhone||""),y(R.clientAddress||""),x(R.validityDays||30),S(R.paymentTerms||""),j(R.notes||"");const I=(R.items||[]).map(V=>({...V,quantity:Number(V.quantity),unitPrice:Number(V.unitPrice),vatPct:Number(V.vatPct),subtotal:Number(V.subtotal),total:Number(V.total)}));O(I),R.customTotal&&Number(R.customTotal)>0&&(A(!0),B(Number(R.customTotal).toString()))}},[R]);const q=hn({mutationFn:async I=>{const V=await fetch(`/api/budgets/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(I)});if(!V.ok)throw new Error("Error al actualizar el presupuesto");return V.json()},onSuccess:()=>{nn.invalidateQueries({queryKey:["/api/budgets"]}),r({title:"Presupuesto actualizado",description:"Los cambios se han guardado correctamente"}),n(`/documentacion/presupuestos/${i}`)},onError:I=>{r({variant:"destructive",title:"Error",description:I.message||"No se pudo actualizar el presupuesto"})}}),z=()=>{let I=0,V=0;C.forEach(re=>{const fe=re.quantity*re.unitPrice,pe=fe*(re.vatPct/100);I+=fe,V+=pe});const Q={clientName:s,clientNif:l||null,clientEmail:u||null,clientPhone:f||null,clientAddress:p||null,validityDays:v,paymentTerms:b||null,notes:_||null,items:C.map((re,fe)=>({concept:re.concept,category:re.category||null,position:fe+1,quantity:re.quantity,unitPrice:re.unitPrice,vatPct:re.vatPct,isManuallyEdited:re.isManuallyEdited||!0})),subtotal:I,vatTotal:V,total:I+V};M&&P?Q.customTotal=parseFloat(P):Q.customTotal=null,q.mutate(Q)},G=(I,V,Q)=>{const re=[...C];if(re[I]={...re[I],[V]:Q},V==="quantity"||V==="unitPrice"||V==="vatPct"){const fe=V==="quantity"?parseFloat(Q)||0:re[I].quantity,pe=V==="unitPrice"?parseFloat(Q)||0:re[I].unitPrice,ve=V==="vatPct"?parseFloat(Q)||0:re[I].vatPct,de=fe*pe,be=de*(1+ve/100);re[I].subtotal=de,re[I].total=be,re[I].isManuallyEdited=!0}O(re)},X=()=>{O([...C,{concept:"",position:C.length+1,quantity:1,unitPrice:0,vatPct:21,subtotal:0,total:0,isManuallyEdited:!0}])},U=I=>{O(C.filter((V,Q)=>Q!==I))};if(F)return o.jsx("div",{className:"p-8",children:"Cargando..."});if(!R)return o.jsx("div",{className:"p-8",children:"Presupuesto no encontrado"});const W=C.reduce((I,V)=>I+V.quantity*V.unitPrice,0),Y=C.reduce((I,V)=>I+V.quantity*V.unitPrice*V.vatPct/100,0),ie=W+Y,Z=M&&P?parseFloat(P):ie;return o.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(au,{href:`/documentacion/presupuestos/${i}`,children:o.jsxs(Se,{variant:"ghost",size:"sm",children:[o.jsx(kE,{className:"h-4 w-4 mr-2"}),"Volver"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Editar Presupuesto"}),o.jsx("p",{className:"text-muted-foreground",children:R.code})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Informacin del Cliente"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientName",children:"Nombre / Razn Social *"}),o.jsx(Ge,{id:"clientName",value:s,onChange:I=>a(I.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientNif",children:"NIF/CIF"}),o.jsx(Ge,{id:"clientNif",value:l,onChange:I=>c(I.target.value)})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientEmail",children:"Email"}),o.jsx(Ge,{id:"clientEmail",type:"email",value:u,onChange:I=>d(I.target.value)})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"clientPhone",children:"Telfono"}),o.jsx(Ge,{id:"clientPhone",value:f,onChange:I=>m(I.target.value)})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{htmlFor:"clientAddress",children:"Direccin"}),o.jsx(Ge,{id:"clientAddress",value:p,onChange:I=>y(I.target.value)})]})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(St,{children:"Conceptos"}),o.jsxs(Se,{onClick:X,size:"sm",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Aadir Concepto"]})]})}),o.jsx(Qe,{children:o.jsx("div",{className:"space-y-4",children:C.map((I,V)=>o.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-6 gap-3",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(De,{children:"Concepto"}),o.jsx(Ge,{value:I.concept,onChange:Q=>G(V,"concept",Q.target.value)})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Cantidad"}),o.jsx(Ge,{type:"number",step:"0.01",value:I.quantity,onChange:Q=>G(V,"quantity",Q.target.value)})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Precio Unit. ()"}),o.jsx(Ge,{type:"number",step:"0.01",value:I.unitPrice,onChange:Q=>G(V,"unitPrice",Q.target.value)})]}),o.jsxs("div",{children:[o.jsx(De,{children:"IVA (%)"}),o.jsx(Ge,{type:"number",step:"1",value:I.vatPct,onChange:Q=>G(V,"vatPct",Q.target.value)})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Total ()"}),o.jsx(Ge,{value:I.total.toFixed(2),disabled:!0,className:"bg-muted"})]})]}),o.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>U(V),className:"ml-2",children:o.jsx(ea,{className:"h-4 w-4 text-destructive"})})]})},V))})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Totales"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{children:"Subtotal"}),o.jsx(Ge,{value:`${W.toFixed(2)} `,disabled:!0,className:"bg-muted"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"IVA"}),o.jsx(Ge,{value:`${Y.toFixed(2)} `,disabled:!0,className:"bg-muted"})]}),o.jsxs("div",{children:[o.jsx(De,{children:"Total Calculado"}),o.jsx(Ge,{value:`${ie.toFixed(2)} `,disabled:!0,className:"bg-muted"})]})]}),o.jsx(eo,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oi,{id:"useCustomTotal",checked:M,onCheckedChange:I=>A(I)}),o.jsx(De,{htmlFor:"useCustomTotal",className:"cursor-pointer",children:"Usar total personalizado (edicin manual)"})]}),M&&o.jsxs("div",{children:[o.jsx(De,{htmlFor:"customTotal",children:"Total Personalizado ()"}),o.jsx(Ge,{id:"customTotal",type:"number",step:"0.01",value:P,onChange:I=>B(I.target.value),placeholder:"Ej: 1250.00"})]}),o.jsx("div",{className:"bg-primary/10 p-4 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold",children:"Total Final:"}),o.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Z.toFixed(2)," "]})]})})]})]})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Condiciones"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(De,{htmlFor:"validityDays",children:"Validez (das)"}),o.jsx(Ge,{id:"validityDays",type:"number",value:v,onChange:I=>x(parseInt(I.target.value)||30)})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"paymentTerms",children:"Forma de Pago"}),o.jsx(Ge,{id:"paymentTerms",value:b,onChange:I=>S(I.target.value),placeholder:"Ej: Transferencia bancaria"})]})]}),o.jsxs("div",{children:[o.jsx(De,{htmlFor:"notes",children:"Notas / Observaciones"}),o.jsx(jf,{id:"notes",value:_,onChange:I=>j(I.target.value),rows:4,placeholder:"Informacin adicional..."})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(au,{href:`/documentacion/presupuestos/${i}`,children:o.jsx(Se,{variant:"outline",children:"Cancelar"})}),o.jsxs(Se,{onClick:z,disabled:q.isPending,children:[o.jsx(t1,{className:"h-4 w-4 mr-2"}),q.isPending?"Guardando...":"Guardar Cambios"]})]})]})]})}function YGe(){const[t,e]=_E("/public/budgets/:code/accept"),n=e?.code,i=new URLSearchParams(window.location.search).get("t"),[s,a]=N.useState(!1),[l,c]=N.useState(!1),{data:u,isLoading:d,error:f}=rn({queryKey:["/public/budgets",n,i],queryFn:async()=>{if(!n||!i)throw new Error("Cdigo o token no proporcionado");const x=await fetch(`/public/budgets/${n}/accept?t=${i}`);if(!x.ok){const b=await x.json().catch(()=>({error:"Error al cargar"}));throw new Error(b.error||"No se pudo cargar el presupuesto")}return x.json()},enabled:!!n&&!!i,retry:!1}),m=hn({mutationFn:async()=>{if(!n||!i)throw new Error("Cdigo o token no proporcionado");const x=await fetch(`/public/budgets/${n}/accept?t=${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accepted:!0})});if(!x.ok){const b=await x.json().catch(()=>({error:"Error al aceptar"}));throw new Error(b.error||"No se pudo aceptar el presupuesto")}return x.json()},onSuccess:()=>{a(!0)}}),p=()=>{if(!l){alert("Por favor, acepta los trminos y condiciones");return}m.mutate()},y=u?.expiresAt&&new Date(u.expiresAt)<new Date,v=u?.acceptedAt!==null;return!t||!n||!i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsx(Ze,{className:"max-w-md w-full",children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx(ed,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Enlace invlido"}),o.jsx("p",{className:"text-muted-foreground",children:"El enlace que has utilizado no es vlido o ha expirado."})]})})}):d?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx(Kn,{className:"h-32 w-full"}),o.jsx(Kn,{className:"h-96 w-full"}),o.jsx(Kn,{className:"h-48 w-full"})]})}):f||!u?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsx(Ze,{className:"max-w-md w-full",children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx(io,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),o.jsx("p",{className:"text-muted-foreground",children:f?.message||"No se pudo cargar el presupuesto"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"El enlace puede haber expirado o ser invlido."})]})})}):s||v?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-emerald-100 flex items-center justify-center p-4",children:o.jsx(Ze,{className:"max-w-md w-full",children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-20 h-20 rounded-full bg-emerald-100",children:o.jsx(Co,{className:"h-12 w-12 text-emerald-600"})}),o.jsx("h1",{className:"text-3xl font-bold mb-3 text-emerald-900",children:"Presupuesto Aceptado!"}),o.jsxs("p",{className:"text-lg text-emerald-700 mb-6",children:["Hemos recibido tu aceptacin del presupuesto ",o.jsx("strong",{children:u.code})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total aceptado:"}),o.jsxs("p",{className:"text-3xl font-bold text-primary",children:[Number(u.total).toFixed(2)," "]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibirs un email de confirmacin en breve con los prximos pasos."}),v&&u.acceptedAt&&o.jsx("div",{className:"mt-6 p-3 bg-emerald-50 rounded-lg",children:o.jsxs("p",{className:"text-xs text-emerald-700",children:["Aceptado el ",new Date(u.acceptedAt).toLocaleString()]})})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx(Ze,{children:o.jsxs(xt,{className:"text-center pb-8",children:[o.jsx("div",{className:"mb-4 inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mx-auto",children:o.jsx(Ui,{className:"h-8 w-8 text-primary"})}),o.jsxs(St,{className:"text-3xl font-bold mb-2",children:["Presupuesto ",u.code]}),o.jsx("p",{className:"text-muted-foreground",children:"Revisa los detalles y acepta el presupuesto si ests conforme"}),o.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[o.jsxs(ct,{className:"bg-blue-100 text-blue-700",children:["Serie ",u.series]}),y?o.jsxs(ct,{variant:"destructive",children:[o.jsx(ed,{className:"h-3 w-3 mr-1"}),"Vencido"]}):o.jsxs(ct,{variant:"outline",children:[o.jsx(rm,{className:"h-3 w-3 mr-1"}),"Vlido ",u.validDays," das"]})]})]})}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Informacin General"})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),o.jsx("p",{className:"font-semibold",children:u.clientName})]}),u.clientEmail&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-semibold",children:u.clientEmail})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de emisin"}),o.jsx("p",{className:"font-semibold",children:new Date(u.date).toLocaleDateString()})]}),u.expiresAt&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vlido hasta"}),o.jsxs("p",{className:`font-semibold ${y?"text-destructive":""}`,children:[new Date(u.expiresAt).toLocaleDateString(),y&&" (Vencido)"]})]})]})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Detalle de Servicios"})}),o.jsx(Qe,{children:o.jsx("div",{className:"space-y-3",children:u.items.map((x,b)=>o.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 bg-slate-50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold",children:x.concept}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.quantity,"  ",Number(x.price).toFixed(2),"  (IVA ",x.vatPct,"%)"]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"font-bold text-lg",children:[Number(x.subtotal).toFixed(2)," "]})})]},b))})})]}),o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsx(St,{children:"Resumen"})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal (Base Imponible)"}),o.jsxs("span",{className:"font-semibold",children:[Number(u.subtotal).toFixed(2)," "]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"IVA Total"}),o.jsxs("span",{className:"font-semibold",children:[Number(u.vatTotal).toFixed(2)," "]})]}),o.jsx(eo,{}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xl font-bold",children:"TOTAL"}),o.jsxs("span",{className:"text-3xl font-bold text-primary",children:[Number(u.total).toFixed(2)," "]})]})]})]}),o.jsx(Ze,{children:o.jsx(Qe,{className:"p-4",children:o.jsxs(Se,{variant:"outline",className:"w-full",onClick:()=>window.open(`/public/budgets/${u.id}/pdf`,"_blank"),children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"Descargar Presupuesto en PDF"]})})}),!y&&o.jsxs(Ze,{className:"border-2 border-primary",children:[o.jsx(xt,{children:o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(Co,{className:"h-5 w-5 text-primary"}),"Aceptar Presupuesto"]})}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[o.jsx(Oi,{id:"terms",checked:l,onCheckedChange:x=>c(x===!0)}),o.jsxs("label",{htmlFor:"terms",className:"text-sm cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Acepto los trminos y condiciones"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"He revisado el presupuesto y acepto los servicios, precios y condiciones detalladas. Al aceptar, estoy confirmando mi conformidad con este presupuesto."})]})]}),o.jsx(Se,{size:"lg",className:"w-full",onClick:p,disabled:!l||m.isPending,children:m.isPending?o.jsx(o.Fragment,{children:"Procesando..."}):o.jsxs(o.Fragment,{children:[o.jsx(Co,{className:"h-5 w-5 mr-2"}),"Confirmar Aceptacin del Presupuesto"]})}),m.error&&o.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:o.jsx("p",{className:"text-sm text-destructive font-medium",children:m.error.message})}),o.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[o.jsx(rm,{className:"h-3 w-3 inline mr-1"}),"Conexin segura  Tu aceptacin quedar registrada con fecha y hora"]})]})]}),y&&o.jsx(Ze,{className:"border-2 border-destructive",children:o.jsxs(Qe,{className:"p-8 text-center",children:[o.jsx(ed,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Presupuesto Vencido"}),o.jsxs("p",{className:"text-muted-foreground",children:["Este presupuesto venci el ",new Date(u.expiresAt).toLocaleDateString(),". Por favor, contacta con nosotros para renovarlo."]})]})}),o.jsx(Ze,{className:"bg-slate-100",children:o.jsxs(Qe,{className:"p-6 text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:" 2025 Asesora La Llave  Todos los derechos reservados"}),o.jsxs("p",{className:"mt-2",children:["Tienes dudas? Contacta con nosotros en ",o.jsx("a",{href:"mailto:info@asesorialallave.es",className:"text-primary underline",children:"info@asesorialallave.es"})]})]})})]})})}function XGe(){const[,t]=sl();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Documentacin"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona presupuestos y documentos de tu negocio"})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ze,{className:"hover:shadow-lg transition cursor-pointer",onClick:()=>t("/documentacion/presupuestos"),children:[o.jsx(xt,{children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(eG,{className:"w-5 h-5 text-blue-500"}),"Presupuestos"]}),o.jsx(Er,{className:"mt-2",children:"Crea, gestiona y parametriza presupuestos"})]})})}),o.jsxs(Qe,{children:[o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:" Plantillas personalizables"}),o.jsx("p",{className:"text-sm text-gray-600",children:" Parmetros configurables"}),o.jsx("p",{className:"text-sm text-gray-600",children:" Historial completo"})]}),o.jsx(Se,{className:"w-full",children:"Ir a Presupuestos"})]})]}),o.jsxs(Ze,{className:"hover:shadow-lg transition cursor-pointer",onClick:()=>t("/documentacion/documentos"),children:[o.jsx(xt,{children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsxs(St,{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"w-5 h-5 text-green-500"}),"Documentos"]}),o.jsx(Er,{className:"mt-2",children:"Gestiona documentos, recibos y comprobantes"})]})})}),o.jsxs(Qe,{children:[o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:" Recibos de pago"}),o.jsx("p",{className:"text-sm text-gray-600",children:" Proteccin de datos (RGPD)"}),o.jsx("p",{className:"text-sm text-gray-600",children:" Domiciliacin bancaria"})]}),o.jsx(Se,{className:"w-full",children:"Ir a Documentos"})]})]})]})]})}function ZGe(){const{toast:t}=Pr(),[e,n]=N.useState(""),[r,i]=N.useState("all"),[s,a]=N.useState("all"),[l,c]=N.useState("all"),{data:u,isLoading:d,error:f}=rn({queryKey:["/api/budgets",e,r,s,l],queryFn:async()=>{const b=new URLSearchParams;e&&b.set("q",e.trim()),r!=="all"&&b.set("status",r),s!=="all"&&b.set("series",s),l!=="all"&&b.set("type",l);const S=`/api/budgets${b.toString()?`?${b.toString()}`:""}`;console.log(" Fetching budgets from:",S);const _=await fetch(S,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(console.log(" Response status:",_.status),!_.ok){const C=await _.json().catch(()=>({error:"Error desconocido"}));throw console.error(" Error response:",C),new Error(C.error||"No se pudieron cargar los presupuestos")}const j=await _.json();return console.log(" Budgets loaded:",j.items?.length||0),j},staleTime:3e4}),m=u?.items||[],p=b=>{const S={PYME:"bg-blue-100 text-blue-700",AUTONOMO:"bg-green-100 text-green-700",RENTA:"bg-amber-100 text-amber-700",HERENCIAS:"bg-purple-100 text-purple-700"},_={PYME:"PYME",AUTONOMO:"Autnomo",RENTA:"Renta",HERENCIAS:"Herencias"};return o.jsx(ct,{className:S[b],children:_[b]})},y=b=>{const S=b.toUpperCase();return S==="ACCEPTED"?o.jsxs(ct,{className:"bg-emerald-100 text-emerald-700",children:[o.jsx(Co,{className:"h-3 w-3 mr-1"}),"Aceptado"]}):S==="SENT"?o.jsxs(ct,{className:"bg-blue-100 text-blue-700",children:[o.jsx(io,{className:"h-3 w-3 mr-1"}),"Enviado"]}):S==="ARCHIVED"?o.jsxs(ct,{className:"bg-gray-100 text-gray-700",children:[o.jsx(ed,{className:"h-3 w-3 mr-1"}),"Archivado"]}):o.jsxs(ct,{className:"bg-amber-100 text-amber-700",children:[o.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Borrador"]})},v=(b,S)=>{if(!b||S==="ACCEPTED"||S==="ARCHIVED")return null;const _=new Date,j=new Date(b),C=Math.ceil((j.getTime()-_.getTime())/(1e3*60*60*24));return C<0?o.jsxs(ct,{variant:"destructive",className:"text-xs",children:[o.jsx(ed,{className:"h-3 w-3 mr-1"}),"Vencido"]}):C<=3?o.jsxs(ct,{variant:"destructive",className:"text-xs",children:[o.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Vence en ",C,"d"]}):C<=7?o.jsxs(ct,{className:"bg-amber-100 text-amber-700 text-xs",children:[o.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Vence en ",C,"d"]}):o.jsxs(ct,{variant:"outline",className:"text-xs",children:[o.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Vence en ",C,"d"]})},x=b=>{const S=new URLSearchParams;e&&S.set("q",e.trim()),r!=="all"&&S.set("status",r),s!=="all"&&S.set("series",s);const _=`/api/budgets/export.${b}${S.toString()?`?${S.toString()}`:""}`;window.open(_,"_blank"),t({title:"Exportando",description:`Se descargar el archivo ${b.toUpperCase()}`})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ze,{children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(St,{className:"text-xl",children:"Filtros y bsqueda"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>x("csv"),children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),o.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>x("xlsx"),children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"Exportar XLSX"]}),o.jsx(au,{href:"/documentacion/presupuestos/nuevo",children:o.jsxs(Se,{size:"sm",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nuevo Presupuesto"]})})]})]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[o.jsx(jy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ge,{placeholder:"Buscar por cdigo, cliente o email...",value:e,onChange:b=>n(b.target.value),className:"pl-10"})]}),o.jsxs(qn,{value:r,onValueChange:i,children:[o.jsx(Ln,{className:"w-48",children:o.jsx(Un,{placeholder:"Estado"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"all",children:"Todos los estados"}),o.jsx(it,{value:"DRAFT",children:"Borrador"}),o.jsx(it,{value:"SENT",children:"Enviado"}),o.jsx(it,{value:"ACCEPTED",children:"Aceptado"}),o.jsx(it,{value:"ARCHIVED",children:"Archivado"})]})]}),o.jsxs(qn,{value:s,onValueChange:a,children:[o.jsx(Ln,{className:"w-40",children:o.jsx(Un,{placeholder:"Serie"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"all",children:"Todas las series"}),o.jsx(it,{value:"AL",children:"AL (Asesora La Llave)"}),o.jsx(it,{value:"GO",children:"GO (Gestora Ortega)"})]})]}),o.jsxs(qn,{value:l,onValueChange:c,children:[o.jsx(Ln,{className:"w-44",children:o.jsx(Un,{placeholder:"Tipo"})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"all",children:"Todos los tipos"}),o.jsx(it,{value:"PYME",children:"PYME"}),o.jsx(it,{value:"AUTONOMO",children:"Autnomo"}),o.jsx(it,{value:"RENTA",children:"Renta"}),o.jsx(it,{value:"HERENCIAS",children:"Herencias"})]})]}),(e||r!=="all"||s!=="all"||l!=="all")&&o.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{n(""),i("all"),a("all"),c("all")},children:"Limpiar filtros"})]})})]}),d?o.jsxs("div",{className:"space-y-3",children:[o.jsx(Kn,{className:"h-20 w-full"}),o.jsx(Kn,{className:"h-20 w-full"}),o.jsx(Kn,{className:"h-20 w-full"})]}):f?o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx(ed,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),o.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error al cargar los presupuestos"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:f instanceof Error?f.message:"Error desconocido"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Revisa la consola del navegador (F12) para ms detalles"}),o.jsx(Se,{onClick:()=>window.location.reload(),children:"Recargar pgina"})]})}):m.length===0?o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx(Ui,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-lg font-semibold mb-2",children:"No hay presupuestos"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Crea tu primer presupuesto para comenzar"}),o.jsx(au,{href:"/documentacion/presupuestos/nuevo",children:o.jsxs(Se,{children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Crear Presupuesto"]})})]})}):o.jsx("div",{className:"space-y-3",children:m.map(b=>o.jsx(Ze,{className:"hover:shadow-md transition-shadow",children:o.jsx(Qe,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[o.jsx("h3",{className:"text-lg font-semibold truncate",children:b.clientName}),p(b.type),y(b.status),v(b.expiresAt,b.status),b.acceptedAt&&o.jsxs(ct,{className:"bg-emerald-100 text-emerald-700 text-xs",children:[o.jsx(Co,{className:"h-3 w-3 mr-1"}),"Aceptado ",new Date(b.acceptedAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Cdigo:"})," ",b.code]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Serie:"})," ",b.series]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(b.date).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",b.clientEmail||""]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[Number(b.total).toFixed(2)," "]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Base: ",Number(b.subtotal).toFixed(2),"  + IVA: ",Number(b.vatTotal).toFixed(2)," "]})]}),o.jsx(au,{href:`/documentacion/presupuestos/${b.id}`,children:o.jsxs(Se,{size:"sm",variant:"outline",children:[o.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Ver Detalles"]})})]})]})})},b.id))})]})}function UW(t,e,n){const r=localStorage.getItem("token");return fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include",body:n?JSON.stringify(n):void 0}).then(async i=>{if(!i.ok){const s=await i.json().catch(()=>({error:"Error desconocido"}));throw new Error(s.error||`Error ${i.status}`)}return i.json()})}function QGe({parameter:t,onUpdate:e}){const[n,r]=N.useState(t.value),[i,s]=N.useState(!1),a=()=>{n!==t.value&&e(t.id,n),s(!1)},l=()=>t.minRange!==null&&t.minRange!==void 0?t.maxRange===null||t.maxRange===999999?`Desde ${t.minRange}`:`${t.minRange} - ${t.maxRange}`:null;return o.jsx(Ze,{className:"hover:shadow-md transition-shadow",children:o.jsx(Qe,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:t.label}),l()&&o.jsx(ct,{variant:"outline",className:"mt-1 text-xs",children:l()}),t.description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.description})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(De,{htmlFor:t.id,className:"text-xs text-muted-foreground",children:"Precio"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(ZK,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(Ge,{id:t.id,type:"number",step:"0.01",min:"0",value:n,onChange:c=>{r(parseFloat(c.target.value)||0),s(!0)},className:"h-9"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]}),i&&o.jsxs(Se,{size:"sm",onClick:a,className:"mt-6",children:[o.jsx(t1,{className:"h-3 w-3 mr-1"}),"Guardar"]})]})]})})})}function b2({type:t,parameters:e,onUpdate:n}){const r=e.reduce((s,a)=>{const l=a.category||"General";return s[l]||(s[l]=[]),s[l].push(a),s},{}),i=s=>s.includes("BASE")||s.includes("CONTABILIDAD")?o.jsx(OE,{className:"h-5 w-5"}):s.includes("TRAMO")||s.includes("NOMINA")?o.jsx(n1,{className:"h-5 w-5"}):o.jsx(ZK,{className:"h-5 w-5"});return o.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([s,a])=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i(s),o.jsx("h3",{className:"text-lg font-semibold",children:s.replace(/_/g," ")}),o.jsx(ct,{variant:"secondary",children:a.length})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(l=>o.jsx(QGe,{parameter:l,onUpdate:n},l.id))})]},s))})}function JGe(){const{toast:t}=Pr(),e=Xm(),[n,r]=N.useState("PYME"),{data:i,isLoading:s,error:a}=rn({queryKey:["/api/budget-parameters"],queryFn:()=>UW("GET","/api/budget-parameters"),staleTime:1e3*60*5}),l=hn({mutationFn:({id:d,value:f})=>UW("PUT",`/api/budget-parameters/${d}`,{value:f}),onSuccess:()=>{t({title:"Actualizado",description:"Parmetro actualizado correctamente"}),e.invalidateQueries({queryKey:["/api/budget-parameters"]})},onError:d=>{t({title:"Error",description:d.message||"No se pudo actualizar el parmetro",variant:"destructive"})}}),c=(d,f)=>{l.mutate({id:d,value:f})},u=()=>{e.invalidateQueries({queryKey:["/api/budget-parameters"]}),t({title:"Recargando",description:"Actualizando parmetros..."})};return a?o.jsx("div",{className:"p-8",children:o.jsx(Ze,{children:o.jsxs(Qe,{className:"p-12 text-center",children:[o.jsx("p",{className:"text-destructive",children:"Error al cargar parmetros"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:a.message}),o.jsxs(Se,{onClick:u,className:"mt-4",variant:"outline",children:[o.jsx(Bb,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsxs(Se,{onClick:u,variant:"outline",size:"sm",children:[o.jsx(Bb,{className:"h-4 w-4 mr-2"}),"Actualizar"]})}),s?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Kn,{className:"h-12 w-full"}),o.jsx(Kn,{className:"h-64 w-full"}),o.jsx(Kn,{className:"h-64 w-full"})]}):o.jsxs(Sc,{value:n,onValueChange:d=>r(d),children:[o.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[o.jsxs(zn,{value:"PYME",children:["PYME",i?.PYME&&o.jsx(ct,{variant:"secondary",className:"ml-2",children:i.PYME.length})]}),o.jsxs(zn,{value:"AUTONOMO",children:["Autnomo",i?.AUTONOMO&&o.jsx(ct,{variant:"secondary",className:"ml-2",children:i.AUTONOMO.length})]}),o.jsxs(zn,{value:"RENTA",children:["Renta",i?.RENTA&&o.jsx(ct,{variant:"secondary",className:"ml-2",children:i.RENTA.length})]}),o.jsxs(zn,{value:"HERENCIAS",children:["Herencias",i?.HERENCIAS&&o.jsx(ct,{variant:"secondary",className:"ml-2",children:i.HERENCIAS.length})]})]}),o.jsx(sr,{value:"PYME",className:"mt-6",children:i?.PYME&&o.jsx(b2,{type:"PYME",parameters:i.PYME,onUpdate:c})}),o.jsx(sr,{value:"AUTONOMO",className:"mt-6",children:i?.AUTONOMO&&o.jsx(b2,{type:"AUTONOMO",parameters:i.AUTONOMO,onUpdate:c})}),o.jsx(sr,{value:"RENTA",className:"mt-6",children:i?.RENTA&&o.jsx(b2,{type:"RENTA",parameters:i.RENTA,onUpdate:c})}),o.jsx(sr,{value:"HERENCIAS",className:"mt-6",children:i?.HERENCIAS&&o.jsx(b2,{type:"HERENCIAS",parameters:i.HERENCIAS,onUpdate:c})})]})]})}var eYe=kVe;const HW={common:[{label:"Nombre de contacto",variable:"{{nombre_contacto}}",description:"Nombre del cliente"},{label:"Email",variable:"{{email}}",description:"Correo electrnico"},{label:"Telfono",variable:"{{telefono}}",description:"Telfono de contacto"},{label:"Cdigo presupuesto",variable:"{{codigo}}",description:"Ej: AL-2025-0001"},{label:"Fecha",variable:"{{fecha}}",description:"Fecha de emisin"},{label:"Subtotal",variable:"{{subtotal}}",description:"Subtotal sin IVA"},{label:"IVA",variable:"{{iva}}",description:"Total de IVA"},{label:"Total",variable:"{{total}}",description:"Total con IVA"},{label:"Observaciones",variable:"{{observaciones}}",description:"Notas del presupuesto"}],PYME:[{label:"Nombre sociedad",variable:"{{nombre_sociedad}}",description:"Razn social"},{label:"Actividad",variable:"{{actividad}}",description:"Actividad de la empresa"},{label:"Periodo declaraciones",variable:"{{periodo_declaraciones}}",description:"Trimestral/Mensual"},{label:"Facturacin anual",variable:"{{facturacion_anual}}",description:"Facturacin estimada"},{label:"Nmero asientos",variable:"{{num_asientos}}",description:"Rango de asientos"},{label:"Nminas/mes",variable:"{{nominas_mes}}",description:"Nmero de nminas"}],AUTONOMO:[{label:"Actividad",variable:"{{actividad}}",description:"Actividad del autnomo"},{label:"Sistema tributacin",variable:"{{sistema_tributacion}}",description:"Directo/Mdulos"},{label:"Facturacin anual",variable:"{{facturacion_anual}}",description:"Facturacin estimada"},{label:"Nmero facturas/ao",variable:"{{num_facturas}}",description:"Rango de facturas"},{label:"Nminas/mes",variable:"{{nominas_mes}}",description:"Nmero de nminas"}],RENTA:[{label:"Tipo declaracin",variable:"{{tipo_declaracion}}",description:"Tipo de renta"},{label:"Ingresos",variable:"{{ingresos}}",description:"Ingresos anuales"},{label:"Retenciones",variable:"{{retenciones}}",description:"Retenciones IRPF"}],HERENCIAS:[{label:"Ttulo sucesorio",variable:"{{titulo_sucesorio}}",description:"Con/sin testamento"},{label:"Nmero herederos",variable:"{{num_herederos}}",description:"Cantidad de herederos"},{label:"Herederos menores",variable:"{{herederos_menores}}",description:"S/No"},{label:"Fincas Madrid",variable:"{{fincas_madrid}}",description:"Nmero de fincas"},{label:"Fincas otras",variable:"{{fincas_otras}}",description:"Fincas fuera de Madrid"},{label:"Caudal hereditario",variable:"{{caudal}}",description:"Valor del caudal"},{label:"Tipo proceso",variable:"{{tipo_proceso}}",description:"Amistoso/Judicial"}]},tYe=({editor:t,onInsertVariable:e,budgetType:n})=>{const[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState("#000000");if(!t)return null;const u=()=>{r&&(t.chain().focus().setLink({href:r}).run(),i(""))},d=()=>{s&&(t.chain().focus().setImage({src:s}).run(),a(""))},f=()=>{t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},m=[...HW.common,...HW[n]||[]];return o.jsx("div",{className:"border-b bg-slate-50 p-2 sticky top-0 z-10",children:o.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[o.jsx(Se,{size:"sm",variant:t.isActive("bold")?"default":"ghost",onClick:()=>t.chain().focus().toggleBold().run(),title:"Negrita",children:o.jsx(GK,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("italic")?"default":"ghost",onClick:()=>t.chain().focus().toggleItalic().run(),title:"Cursiva",children:o.jsx(aG,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("underline")?"default":"ghost",onClick:()=>t.chain().focus().toggleUnderline().run(),title:"Subrayado",children:o.jsx(Kde,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("strike")?"default":"ghost",onClick:()=>t.chain().focus().toggleStrike().run(),title:"Tachado",children:o.jsx(dG,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[o.jsx(Se,{size:"sm",variant:t.isActive("heading",{level:1})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),title:"Ttulo 1",children:o.jsx(nG,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("heading",{level:2})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),title:"Ttulo 2",children:o.jsx(rG,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("heading",{level:3})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),title:"Ttulo 3",children:o.jsx(iG,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[o.jsx(Se,{size:"sm",variant:t.isActive("bulletList")?"default":"ghost",onClick:()=>t.chain().focus().toggleBulletList().run(),title:"Lista",children:o.jsx($4,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("orderedList")?"default":"ghost",onClick:()=>t.chain().focus().toggleOrderedList().run(),title:"Lista numerada",children:o.jsx(oG,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive("blockquote")?"default":"ghost",onClick:()=>t.chain().focus().toggleBlockquote().run(),title:"Cita",children:o.jsx(cG,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[o.jsx(Se,{size:"sm",variant:t.isActive({textAlign:"left"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("left").run(),title:"Alinear izquierda",children:o.jsx(WK,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive({textAlign:"center"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("center").run(),title:"Centrar",children:o.jsx(HK,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive({textAlign:"right"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("right").run(),title:"Alinear derecha",children:o.jsx(KK,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:t.isActive({textAlign:"justify"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("justify").run(),title:"Justificar",children:o.jsx(VK,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex gap-1 border-r pr-2",children:o.jsxs(pv,{children:[o.jsx(mv,{asChild:!0,children:o.jsx(Se,{size:"sm",variant:"ghost",title:"Color de texto",children:o.jsx(q4,{className:"h-4 w-4"})})}),o.jsx(um,{className:"w-64",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Color de texto"}),o.jsx(Ge,{type:"color",value:l,onChange:p=>{c(p.target.value),t.chain().focus().setColor(p.target.value).run()}}),o.jsx("div",{className:"grid grid-cols-6 gap-1",children:["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#000080","#808080"].map(p=>o.jsx("button",{className:"w-8 h-8 rounded border",style:{backgroundColor:p},onClick:()=>{c(p),t.chain().focus().setColor(p).run()}},p))})]})})]})}),o.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[o.jsxs(pv,{children:[o.jsx(mv,{asChild:!0,children:o.jsx(Se,{size:"sm",variant:"ghost",title:"Insertar enlace",children:o.jsx(Cde,{className:"h-4 w-4"})})}),o.jsx(um,{className:"w-80",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"URL del enlace"}),o.jsx(Ge,{placeholder:"https://ejemplo.com",value:r,onChange:p=>i(p.target.value),onKeyDown:p=>p.key==="Enter"&&u()}),o.jsx(Se,{onClick:u,className:"w-full",children:"Insertar"})]})})]}),o.jsxs(pv,{children:[o.jsx(mv,{asChild:!0,children:o.jsx(Se,{size:"sm",variant:"ghost",title:"Insertar imagen",children:o.jsx(B4,{className:"h-4 w-4"})})}),o.jsx(um,{className:"w-80",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"URL de la imagen"}),o.jsx(Ge,{placeholder:"https://ejemplo.com/logo.png",value:s,onChange:p=>a(p.target.value),onKeyDown:p=>p.key==="Enter"&&d()}),o.jsx(Se,{onClick:d,className:"w-full",children:"Insertar"})]})})]}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:f,title:"Insertar tabla",children:o.jsx(fG,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex gap-1 border-r pr-2",children:o.jsxs(pv,{children:[o.jsx(mv,{asChild:!0,children:o.jsxs(Se,{size:"sm",variant:"ghost",title:"Insertar variable",children:[o.jsx(Gde,{className:"h-4 w-4"}),o.jsx("span",{className:"ml-1 text-xs",children:"Variables"})]})}),o.jsx(um,{className:"w-80",children:o.jsx(ij,{className:"h-96",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Variables disponibles"}),m.map(p=>o.jsxs("button",{className:"w-full text-left p-2 hover:bg-slate-100 rounded text-sm",onClick:()=>e(p.variable),children:[o.jsx("div",{className:"font-mono text-xs text-blue-600",children:p.variable}),o.jsx("div",{className:"text-xs text-slate-600",children:p.description})]},p.variable))]})})})]})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),title:"Deshacer",children:o.jsx(hG,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),title:"Rehacer",children:o.jsx(uG,{className:"h-4 w-4"})})]})]})})};function nYe({initialContent:t="",budgetType:e,onChange:n,onPreview:r}){const i=boe({extensions:[Koe,lVe,IVe.configure({types:["heading","paragraph"]}),RVe,HHe.configure({openOnClick:!1}),f3.configure({resizable:!0}),AGe,kGe,CGe,s3,a3,eYe.configure({placeholder:'Escribe aqu tu plantilla... Usa el men superior para dar formato y el botn "Variables" para insertar campos dinmicos.'})],content:t,onUpdate:({editor:a})=>{n?.(a.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[600px] p-4"}}}),s=a=>{i?.chain().focus().insertContent(a).run()};return o.jsxs("div",{className:"border rounded-lg bg-white",children:[o.jsx(tYe,{editor:i,onInsertVariable:s,budgetType:e}),o.jsx(yoe,{editor:i,className:"min-h-[600px]"}),r&&o.jsx("div",{className:"border-t p-2 bg-slate-50 flex justify-end",children:o.jsxs(Se,{onClick:r,variant:"outline",size:"sm",children:[o.jsx(jm,{className:"h-4 w-4 mr-2"}),"Vista previa PDF"]})})]})}const rYe={PYME:o.jsx(uP,{className:"h-4 w-4"}),AUTONOMO:o.jsx(r1,{className:"h-4 w-4"}),RENTA:o.jsx(sG,{className:"h-4 w-4"}),HERENCIAS:o.jsx(zde,{className:"h-4 w-4"})},iYe={PYME:"Empresas",AUTONOMO:"Autnomos",RENTA:"Renta",HERENCIAS:"Herencias"};function sYe(){const[t,e]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState("PYME"),[d,f]=N.useState("LA_LLAVE"),[m,p]=N.useState(""),[y,v]=N.useState(null),{toast:x}=Pr(),b=Xm(),S=(G,X)=>({...{codigo:"PREV-2025-001",fecha:new Date().toLocaleDateString("es-ES"),nombre_contacto:"Juan Prez Garca",email:"juan.perez@ejemplo.com",telefono:"666 777 888",subtotal:"150,00 ",iva:"31,50 ",total:"181,50 ",empresa:X==="LA_LLAVE"?"Asesora La Llave":"Gestora Online",descripcion:"Este es un presupuesto de ejemplo para visualizar el diseo de la plantilla."},...{PYME:{nombre_sociedad:"Tecnologas Avanzadas SL",actividad:"Desarrollo de software",periodo_declaraciones:"Trimestral",num_asientos:"50",nominas_mes:"5"},AUTONOMO:{sistema_tributacion:"Estimacin Directa",facturacion_anual:"45.000,00 ",num_facturas:"120"},RENTA:{tipo_declaracion:"Individual",ingresos:"35.000,00 ",retenciones:"5.250,00 "},HERENCIAS:{titulo_sucesorio:"Testamento",num_herederos:"3",fincas_madrid:"S",caudal:"180.000,00 ",tipo_proceso:"Normal"}}[G]}),_=N.useMemo(()=>{if(!m)return'<p class="text-muted-foreground text-center py-12">El contenido aparecer aqu...</p>';const G=S(c,d);let X=m;return Object.entries(G).forEach(([U,W])=>{const Y=new RegExp(`{{\\s*${U}\\s*}}`,"gi");X=X.replace(Y,String(W))}),X=X.replace(/{{([^}]+)}}/g,'<span style="background-color: #fef3c7; color: #92400e; padding: 2px 6px; border-radius: 3px; font-size: 0.875em;">[$1]</span>'),X},[m,c,d]),{data:j,isLoading:C}=rn({queryKey:["/api/budget-templates"]}),O=hn({mutationFn:async G=>{const X=await fetch("/api/budget-templates",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(G)});if(!X.ok)throw new Error("Error al crear plantilla");return X.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla creada correctamente"}),R()},onError:()=>{x({title:" Error al crear plantilla",variant:"destructive"})}}),M=hn({mutationFn:async({id:G,data:X})=>{const U=await fetch(`/api/budget-templates/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)});if(!U.ok)throw new Error("Error al actualizar plantilla");return U.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla actualizada correctamente"}),R()},onError:()=>{x({title:" Error al actualizar plantilla",variant:"destructive"})}}),A=hn({mutationFn:async G=>{const X=await fetch(`/api/budget-templates/${G}`,{method:"DELETE",credentials:"include"});if(!X.ok)throw new Error("Error al eliminar plantilla");return X.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla eliminada correctamente"})},onError:()=>{x({title:" Error al eliminar plantilla",variant:"destructive"})}}),P=hn({mutationFn:async({id:G,type:X,brand:U})=>{const W=await fetch(`/api/budget-templates/${G}/set-default`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:X,companyBrand:U})});if(!W.ok)throw new Error("Error al establecer plantilla predeterminada");return W.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla establecida como predeterminada"})}}),B=G=>{G?(r(G),s(G.name),l(G.description||""),u(G.type),f(G.companyBrand),p(G.htmlContent)):(r(null),s(""),l(""),u("PYME"),f("LA_LLAVE"),p("")),e(!0)},R=()=>{e(!1),r(null),s(""),l(""),p("")},F=()=>{if(!i.trim()){x({title:"El nombre es obligatorio",variant:"destructive"});return}if(!m.trim()){x({title:"El contenido no puede estar vaco",variant:"destructive"});return}const G={name:i,description:a||null,type:c,companyBrand:d,htmlContent:m};n?M.mutate({id:n.id,data:G}):O.mutate(G)},q=G=>{const X={name:`${G.name} (Copia)`,description:G.description,type:G.type,companyBrand:G.companyBrand,htmlContent:G.htmlContent,isDefault:!1};O.mutate(X)},z=G=>{confirm("Ests seguro de eliminar esta plantilla?")&&A.mutate(G)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(Se,{onClick:()=>B(),children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),C?o.jsx(Ze,{children:o.jsx(Qe,{className:"p-12 text-center",children:o.jsx("p",{children:"Cargando plantillas..."})})}):o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Plantillas disponibles"}),o.jsxs(Er,{children:[j?.length||0," plantillas configuradas"]})]}),o.jsx(Qe,{children:o.jsxs(No,{children:[o.jsx(So,{children:o.jsxs(ir,{children:[o.jsx(Ot,{children:"Nombre"}),o.jsx(Ot,{children:"Tipo"}),o.jsx(Ot,{children:"Empresa"}),o.jsx(Ot,{children:"Estado"}),o.jsx(Ot,{children:"Actualizada"}),o.jsx(Ot,{className:"text-right",children:"Acciones"})]})}),o.jsxs(Eo,{children:[j?.map(G=>o.jsxs(ir,{children:[o.jsx(yt,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[rYe[G.type],G.name]})}),o.jsx(yt,{children:o.jsx(ct,{variant:"outline",children:iYe[G.type]})}),o.jsx(yt,{children:o.jsx(ct,{variant:G.companyBrand==="LA_LLAVE"?"default":"secondary",children:G.companyBrand==="LA_LLAVE"?"Asesora La Llave":"Gestora Online"})}),o.jsx(yt,{children:o.jsxs("div",{className:"flex gap-1",children:[G.isDefault&&o.jsxs(ct,{variant:"default",children:[o.jsx(Z6,{className:"h-3 w-3 mr-1"}),"Predeterminada"]}),G.isActive?o.jsx(ct,{variant:"outline",className:"text-green-600",children:"Activa"}):o.jsx(ct,{variant:"outline",className:"text-gray-400",children:"Inactiva"})]})}),o.jsx(yt,{className:"text-sm text-muted-foreground",children:new Date(G.updatedAt).toLocaleDateString("es-ES")}),o.jsx(yt,{className:"text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[!G.isDefault&&o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>P.mutate({id:G.id,type:G.type,brand:G.companyBrand}),title:"Establecer como predeterminada",children:o.jsx(Z6,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>v(G),title:"Vista previa",children:o.jsx(jm,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>B(G),title:"Editar",children:o.jsx(td,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>q(G),title:"Duplicar",children:o.jsx(XK,{className:"h-4 w-4"})}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>z(G.id),title:"Eliminar",disabled:G.isDefault,children:o.jsx(ea,{className:"h-4 w-4"})})]})})]},G.id)),(!j||j.length===0)&&o.jsx(ir,{children:o.jsxs(yt,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[o.jsx(Ui,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No hay plantillas configuradas"}),o.jsx("p",{className:"text-sm",children:"Crea tu primera plantilla para comenzar"})]})})]})]})})]}),o.jsx(ci,{open:t,onOpenChange:e,children:o.jsxs(ri,{className:"max-w-[95vw] max-h-[95vh] overflow-hidden",children:[o.jsxs(ui,{children:[o.jsx(di,{children:n?"Editar Plantilla":"Nueva Plantilla"}),o.jsx(Ss,{children:"Personaliza el diseo del PDF. Los cambios se previsualizan en tiempo real."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-[75vh]",children:[o.jsxs("div",{className:"space-y-4 overflow-y-auto pr-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Nombre de la plantilla *"}),o.jsx(Ge,{placeholder:"Ej: Presupuesto PYME Estndar",value:i,onChange:G=>s(G.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Tipo de presupuesto *"}),o.jsxs(qn,{value:c,onValueChange:G=>u(G),children:[o.jsx(Ln,{children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"PYME",children:"Empresas (PYME)"}),o.jsx(it,{value:"AUTONOMO",children:"Autnomos"}),o.jsx(it,{value:"RENTA",children:"Declaracin de Renta"}),o.jsx(it,{value:"HERENCIAS",children:"Herencias"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Empresa *"}),o.jsxs(qn,{value:d,onValueChange:G=>f(G),children:[o.jsx(Ln,{children:o.jsx(Un,{})}),o.jsxs(Fn,{children:[o.jsx(it,{value:"LA_LLAVE",children:"Asesora La Llave"}),o.jsx(it,{value:"GESTORIA_ONLINE",children:"Gestora Online"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Descripcin (opcional)"}),o.jsx(jf,{placeholder:"Breve descripcin de la plantilla...",value:a,onChange:G=>l(G.target.value),rows:2})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{children:"Contenido de la plantilla *"}),o.jsx(nYe,{initialContent:m,budgetType:c,onChange:p})]})]}),o.jsxs("div",{className:"border-l pl-6 overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background pb-3 mb-3 border-b z-10",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold",children:"Vista Previa en Tiempo Real"}),o.jsx(ct,{variant:"secondary",className:"text-xs",children:d==="LA_LLAVE"?"Asesora La Llave":"Gestora Online"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Datos de ejemplo  Las variables se reemplazan automticamente"})]}),o.jsx("div",{className:"prose prose-sm max-w-none p-6 bg-white border rounded shadow-sm",dangerouslySetInnerHTML:{__html:_}})]})]}),o.jsxs(va,{children:[o.jsx(Se,{variant:"outline",onClick:R,children:"Cancelar"}),o.jsxs(Se,{onClick:F,disabled:O.isPending||M.isPending,children:[n?"Actualizar":"Crear"," Plantilla"]})]})]})}),o.jsx(ci,{open:!!y,onOpenChange:()=>v(null),children:o.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[o.jsxs(ui,{children:[o.jsx(di,{children:y?.name}),o.jsx(Ss,{children:"Vista previa de la plantilla"})]}),o.jsx("div",{className:"prose max-w-none p-6 bg-white border rounded",dangerouslySetInnerHTML:{__html:y?.htmlContent||""}})]})})]})}function VW(){const[t,e]=sl(),{user:n}=Jm(),r=n?.roleName==="Administrador",i=()=>t.includes("/parametros")?"parametros":t.includes("/plantillas")?"plantillas":"presupuestos",s=a=>{a==="presupuestos"?e("/documentacion/presupuestos"):a==="parametros"?e("/documentacion/presupuestos/parametros"):a==="plantillas"&&e("/documentacion/presupuestos/plantillas")};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Documentacin"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestin de presupuestos y documentos"})]}),o.jsxs(Sc,{value:i(),onValueChange:s,className:"w-full",children:[o.jsxs(Fl,{className:"grid w-full grid-cols-3",children:[o.jsxs(zn,{value:"presupuestos",className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"h-4 w-4"}),"Presupuestos"]}),r&&o.jsxs(o.Fragment,{children:[o.jsxs(zn,{value:"parametros",className:"flex items-center gap-2",children:[o.jsx(OE,{className:"h-4 w-4"}),"Parmetros"]}),o.jsxs(zn,{value:"plantillas",className:"flex items-center gap-2",children:[o.jsx(q4,{className:"h-4 w-4"}),"Plantillas"]})]})]}),o.jsx(sr,{value:"presupuestos",className:"mt-6",children:o.jsx(ZGe,{})}),r&&o.jsxs(o.Fragment,{children:[o.jsx(sr,{value:"parametros",className:"mt-6",children:o.jsx(JGe,{})}),o.jsx(sr,{value:"plantillas",className:"mt-6",children:o.jsx(sYe,{})})]})]})]})}function aYe(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState("all"),[a,l]=N.useState("");N.useEffect(()=>{c()},[i]);const c=async()=>{try{r(!0);const y=i!=="all"?`?type=${i}`:"",x=await(await fetch(`/api/documents${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();e(x)}catch(y){console.error("Error fetching documents:",y)}finally{r(!1)}},u=t&&Array.isArray(t)?t.filter(y=>y.name.toLowerCase().includes(a.toLowerCase())):[],d=y=>{const v={draft:{label:"Borrador",color:"bg-gray-100"},pending_signature:{label:"Pendiente Firma",color:"bg-yellow-100"},signed:{label:"Firmado",color:"bg-green-100"},archived:{label:"Archivado",color:"bg-gray-200"}},x=v[y]||v.draft;return o.jsx(ct,{className:x.color,children:x.label})},f=y=>({payment_receipt:"Recibo de Pago",data_protection:"Proteccin de Datos",banking_domiciliation:"Domiciliacin Bancaria",other:"Otro"})[y]||y,m=async y=>{if(confirm("Ests seguro de que deseas eliminar este documento?"))try{if(!(await fetch(`/api/documents/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar");e(x=>x.filter(b=>b.id!==y)),alert("Documento eliminado correctamente")}catch(v){console.error("Error:",v),alert("Error al eliminar el documento")}},p=async y=>{try{const v=await fetch(`/api/documents/${y}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok)throw new Error("Error al descargar");const x=await v.blob(),b=window.URL.createObjectURL(x),S=document.createElement("a");S.href=b,S.download=`documento-${y}.pdf`,document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(b),document.body.removeChild(S)}catch(v){console.error("Error:",v),alert("Error al descargar el documento")}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Ge,{placeholder:"Buscar documento...",value:a,onChange:y=>l(y.target.value)}),o.jsxs("select",{value:i,onChange:y=>s(y.target.value),className:"px-3 py-2 border rounded-md",children:[o.jsx("option",{value:"all",children:"Todos"}),o.jsx("option",{value:"payment_receipt",children:"Recibos de Pago"}),o.jsx("option",{value:"data_protection",children:"Proteccin de Datos"}),o.jsx("option",{value:"banking_domiciliation",children:"Domiciliacin Bancaria"}),o.jsx("option",{value:"other",children:"Otros"})]})]}),n?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando documentos..."}):u.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Ui,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No hay documentos"})]}):o.jsx("div",{className:"grid gap-4",children:u.map(y=>o.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(Ui,{className:"w-5 h-5 text-blue-500 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:y.name}),o.jsx("p",{className:"text-sm text-gray-500",children:f(y.type)}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(y.created_at).toLocaleDateString("es-ES")})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[d(y.status),y.signature_status==="signed_by_client"&&o.jsx(Q2,{className:"w-5 h-5 text-green-500"})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[o.jsxs(Se,{size:"sm",variant:"outline",children:[o.jsx(jm,{className:"w-4 h-4 mr-1"}),"Ver"]}),o.jsxs(Se,{size:"sm",variant:"outline",onClick:()=>p(y.id),children:[o.jsx(Da,{className:"w-4 h-4 mr-1"}),"Descargar"]}),o.jsxs(Se,{size:"sm",variant:"outline",children:[o.jsx(lG,{className:"w-4 h-4 mr-1"}),"Editar"]}),o.jsxs(Se,{size:"sm",variant:"destructive",onClick:()=>m(y.id),children:[o.jsx(ea,{className:"w-4 h-4 mr-1"}),"Eliminar"]})]})]},y.id))})]})}function oYe(){const[t,e]=N.useState([]),[n,r]=N.useState(!1),[i,s]=N.useState(""),[a,l]=N.useState("other"),c=m=>{const p=m.target.files;if(!p)return;const y=Array.from(p).map(v=>({id:`${v.name}-${Date.now()}-${Math.random().toString(36).slice(2)}`,file:v}));e(v=>[...v,...y]),m.target.value=""},u=m=>{e(p=>p.filter(y=>y.id!==m))},d=async()=>{if(!i||t.length===0){alert("Por favor completa todos los campos");return}r(!0);try{const m=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:i,type:a,description:`Documento cargado: ${t.map(y=>y.file.name).join(", ")}`})});if(!m.ok)throw new Error("Error al crear documento");const p=await m.json();for(const y of t){const v=new FormData;if(v.append("file",y.file),!(await fetch(`/api/documents/${p.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:v})).ok)throw new Error("Error al subir archivo")}alert("Documento cargado exitosamente"),s(""),e([]),l("other")}catch(m){console.error("Error:",m),alert("Error al cargar el documento")}finally{r(!1)}},f=m=>{if(m===0)return"0 Bytes";const p=1024,y=["Bytes","KB","MB"],v=Math.floor(Math.log(m)/Math.log(p));return Math.round(m/Math.pow(p,v)*100)/100+" "+y[v]};return o.jsx("div",{className:"space-y-6 max-w-2xl",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Documento"}),o.jsx(Ge,{placeholder:"Ej: Recibo de Pago - Octubre 2025",value:i,onChange:m=>s(m.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tipo de Documento"}),o.jsxs("select",{value:a,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"payment_receipt",children:"Recibo de Pago"}),o.jsx("option",{value:"data_protection",children:"Proteccin de Datos"}),o.jsx("option",{value:"banking_domiciliation",children:"Domiciliacin Bancaria"}),o.jsx("option",{value:"other",children:"Otro"})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition",children:[o.jsx(Qo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Arrastra archivos aqu o haz clic para seleccionar"}),o.jsx("input",{type:"file",multiple:!0,onChange:c,className:"hidden",id:"file-input"}),o.jsx(Se,{onClick:()=>document.getElementById("file-input")?.click(),variant:"outline",children:"Seleccionar Archivos"})]}),t.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"font-semibold text-sm",children:["Archivos Seleccionados (",t.length,")"]}),o.jsx("div",{className:"space-y-2",children:t.map(({id:m,file:p})=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx(F4,{className:"w-4 h-4 text-blue-500"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:p.name}),o.jsx("p",{className:"text-xs text-gray-500",children:f(p.size)})]})]}),o.jsx("button",{onClick:()=>u(m),className:"text-gray-400 hover:text-red-500",children:o.jsx(bc,{className:"w-4 h-4"})})]},m))})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Se,{onClick:d,disabled:!i||t.length===0||n,className:"flex-1",children:n?"Cargando...":"Cargar Documento"}),o.jsx(Se,{onClick:()=>{s(""),e([]),l("other")},variant:"outline",className:"flex-1",children:"Limpiar"})]})]})})}function lYe(){const[t,e]=N.useState([]),[n,r]=N.useState(!1),[i,s]=N.useState({clientName:"",amount:"",concept:"",date:new Date().toISOString().split("T")[0],reference:""}),a=d=>{const{name:f,value:m}=d.target;s(p=>({...p,[f]:m}))},l=async()=>{if(!i.clientName||!i.amount||!i.concept){alert("Por favor completa todos los campos requeridos");return}try{const d=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"payment_receipt",name:`Recibo de Pago - ${i.clientName} - ${i.date}`,description:`Recibo por concepto: ${i.concept}`,client_id:null})});if(!d.ok)throw new Error("Error al crear recibo");const f=await d.json();e(m=>[...m,{id:f.id,clientName:i.clientName,amount:parseFloat(i.amount),concept:i.concept,date:i.date,reference:i.reference,status:"generated"}]),s({clientName:"",amount:"",concept:"",date:new Date().toISOString().split("T")[0],reference:""}),r(!1)}catch(d){console.error("Error:",d),alert("Error al generar el recibo")}},c=async d=>{try{const f=await fetch(`/api/documents/${d.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!f.ok)throw new Error("Error al descargar");const m=await f.blob(),p=window.URL.createObjectURL(m),y=document.createElement("a");y.href=p,y.download=`recibo-${d.reference||d.clientName}.pdf`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(p),document.body.removeChild(y)}catch(f){console.error("Error:",f)}},u=d=>{console.log("Viewing receipt:",d)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Recibos de Pago"}),o.jsxs(ci,{open:n,onOpenChange:r,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{children:[o.jsx(Js,{className:"w-4 h-4 mr-2"}),"Nuevo Recibo"]})}),o.jsxs(ri,{children:[o.jsx(ui,{children:o.jsx(di,{children:"Generar Recibo de Pago"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),o.jsx(Ge,{name:"clientName",placeholder:"Ej: Juan Garca",value:i.clientName,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Importe () *"}),o.jsx(Ge,{name:"amount",type:"number",step:"0.01",placeholder:"Ej: 1500.00",value:i.amount,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concepto *"}),o.jsx("textarea",{name:"concept",placeholder:"Ej: Asesoramiento fiscal trimestral Q3 2025",value:i.concept,onChange:a,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Fecha"}),o.jsx(Ge,{name:"date",type:"date",value:i.date,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Referencia / Nmero de Recibo"}),o.jsx(Ge,{name:"reference",placeholder:"Ej: RCP-2025-001",value:i.reference,onChange:a})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(Se,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),o.jsx(Se,{onClick:l,children:"Generar Recibo"})]})]})]})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Ui,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No hay recibos generados"})]}):o.jsx("div",{className:"grid gap-4",children:t.map(d=>o.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:d.clientName}),o.jsx("p",{className:"text-sm text-gray-600",children:d.concept}),o.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500",children:[o.jsxs("span",{children:["Importe: ",o.jsxs("strong",{className:"text-gray-900",children:[d.amount.toFixed(2),""]})]}),o.jsxs("span",{children:["Fecha: ",o.jsx("strong",{className:"text-gray-900",children:new Date(d.date).toLocaleDateString("es-ES")})]}),d.reference&&o.jsxs("span",{children:["Ref: ",o.jsx("strong",{className:"text-gray-900",children:d.reference})]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:d.status==="draft"?"Borrador":d.status==="generated"?"Generado":"Enviado"})})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs(Se,{size:"sm",variant:"outline",onClick:()=>u(d),children:[o.jsx(jm,{className:"w-4 h-4 mr-1"}),"Ver"]}),o.jsxs(Se,{size:"sm",variant:"outline",onClick:()=>c(d),children:[o.jsx(Da,{className:"w-4 h-4 mr-1"}),"Descargar"]})]})]},d.id))})]})}function cYe(){const[t,e]=N.useState([]),[n,r]=N.useState(!1),[i,s]=N.useState({clientName:"",email:"",dataTypes:["personal","fiscal","bancaria"]}),a=f=>{const{name:m,value:p}=f.target;s(y=>({...y,[m]:p}))},l=f=>{s(m=>({...m,dataTypes:m.dataTypes.includes(f)?m.dataTypes.filter(p=>p!==f):[...m.dataTypes,f]}))},c=async()=>{if(!i.clientName||!i.email||i.dataTypes.length===0){alert("Por favor completa todos los campos requeridos");return}try{const f=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"data_protection",name:`Documento Proteccin Datos - ${i.clientName}`,description:`Consentimiento RGPD para: ${i.dataTypes.join(", ")}`})});if(!f.ok)throw new Error("Error al crear documento");const m=await f.json();e(p=>[...p,{id:m.id,clientName:i.clientName,email:i.email,consentDate:new Date().toISOString().split("T")[0],dataTypes:i.dataTypes,status:"pending"}]),s({clientName:"",email:"",dataTypes:["personal","fiscal","bancaria"]}),r(!1)}catch(f){console.error("Error:",f),alert("Error al generar el documento")}},u=async f=>{try{if(!(await fetch(`/api/documents/${f}/sign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({signatureType:"digital"})})).ok)throw new Error("Error al firmar documento");e(p=>p.map(y=>y.id===f?{...y,status:"signed",signedDate:new Date().toISOString().split("T")[0]}:y)),alert("Documento firmado exitosamente")}catch(m){console.error("Error:",m),alert("Error al firmar el documento")}},d=async(f,m)=>{try{const p=await fetch(`/api/documents/${f}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!p.ok)throw new Error("Error al descargar");const y=await p.blob(),v=window.URL.createObjectURL(y),x=document.createElement("a");x.href=v,x.download=`proteccion-datos-${m}.pdf`,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(v),document.body.removeChild(x)}catch(p){console.error("Error:",p)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Documentos Proteccin de Datos (RGPD)"}),o.jsxs(ci,{open:n,onOpenChange:r,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{children:[o.jsx(Js,{className:"w-4 h-4 mr-2"}),"Nuevo Documento"]})}),o.jsxs(ri,{className:"max-w-md",children:[o.jsx(ui,{children:o.jsx(di,{children:"Generar Documento RGPD"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),o.jsx(Ge,{name:"clientName",placeholder:"Ej: Juan Garca Lpez",value:i.clientName,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email del Cliente *"}),o.jsx(Ge,{name:"email",type:"email",placeholder:"Ej: juan@example.com",value:i.email,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tipos de Datos *"}),o.jsx("div",{className:"space-y-2",children:[{id:"personal",label:"Datos Personales"},{id:"fiscal",label:"Datos Fiscales"},{id:"bancaria",label:"Datos Bancarios"},{id:"empleados",label:"Datos de Empleados"}].map(f=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:i.dataTypes.includes(f.id),onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 rounded"}),o.jsx("span",{className:"text-sm",children:f.label})]},f.id))})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(Se,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),o.jsx(Se,{onClick:c,children:"Generar Documento"})]})]})]})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Ui,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No hay documentos de proteccin de datos"})]}):o.jsx("div",{className:"grid gap-4",children:t.map(f=>o.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:f.clientName}),o.jsx("p",{className:"text-sm text-gray-600",children:f.email}),o.jsx("div",{className:"flex gap-2 mt-2",children:f.dataTypes.map(m=>o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:m==="personal"?"Personales":m==="fiscal"?"Fiscales":m==="bancaria"?"Bancarios":"Empleados"},m))})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.status==="signed"?o.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[o.jsx(Q2,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-semibold",children:"Firmado"})]}):o.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[o.jsx(io,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-semibold",children:"Pendiente"})]}),o.jsx("span",{className:"text-xs text-gray-500",children:new Date(f.consentDate).toLocaleDateString("es-ES")})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[f.status==="pending"&&o.jsxs(Se,{size:"sm",onClick:()=>u(f.id),className:"bg-green-600 hover:bg-green-700",children:[o.jsx(Q2,{className:"w-4 h-4 mr-1"}),"Firmar"]}),o.jsx(Se,{size:"sm",variant:"outline",onClick:()=>d(f.id,f.clientName),children:"Descargar"})]})]},f.id))})]})}function uYe(){const[t,e]=N.useState([]),[n,r]=N.useState(!1),[i,s]=N.useState({clientName:"",email:"",bankAccount:"",monthlyAmount:"",concept:"Honorarios profesionales de asesoramiento"}),a=v=>{const{name:x,value:b}=v.target;s(S=>({...S,[x]:b}))},l=async()=>{if(!i.clientName||!i.email||!i.bankAccount||!i.monthlyAmount){alert("Por favor completa todos los campos requeridos");return}if(!/^[A-Z]{2}[0-9]{2}[A-Z0-9]+$/.test(i.bankAccount.replace(/\s/g,""))){alert("Por favor ingresa un IBAN vlido");return}try{const v=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"banking_domiciliation",name:`Domiciliacin Bancaria - ${i.clientName}`,description:`Autorizacin de domiciliacin de ${i.monthlyAmount} mensuales`})});if(!v.ok)throw new Error("Error al crear documento");const x=await v.json();e(b=>[...b,{id:x.id,clientName:i.clientName,email:i.email,bankAccount:i.bankAccount,monthlyAmount:parseFloat(i.monthlyAmount),concept:i.concept,status:"pending"}]),s({clientName:"",email:"",bankAccount:"",monthlyAmount:"",concept:"Honorarios profesionales de asesoramiento"}),r(!1)}catch(v){console.error("Error:",v),alert("Error al generar el documento")}},c=async v=>{try{if(!(await fetch(`/api/documents/${v}/sign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({signatureType:"digital"})})).ok)throw new Error("Error al firmar documento");e(b=>b.map(S=>S.id===v?{...S,status:"signed",signedDate:new Date().toISOString().split("T")[0]}:S)),alert("Documento de domiciliacin firmado exitosamente")}catch(x){console.error("Error:",x),alert("Error al firmar el documento")}},u=async v=>{try{if(!(await fetch(`/api/documents/${v}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"active"})})).ok)throw new Error("Error al activar domiciliacin");e(b=>b.map(S=>S.id===v?{...S,status:"active",startDate:new Date().toISOString().split("T")[0]}:S)),alert("Domiciliacin activada correctamente")}catch(x){console.error("Error:",x),alert("Error al activar domiciliacin")}},d=async v=>{if(confirm("Ests seguro de que deseas cancelar esta domiciliacin?"))try{if(!(await fetch(`/api/documents/${v}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"cancelled"})})).ok)throw new Error("Error al cancelar domiciliacin");e(b=>b.map(S=>S.id===v?{...S,status:"cancelled"}:S)),alert("Domiciliacin cancelada correctamente")}catch(x){console.error("Error:",x),alert("Error al cancelar domiciliacin")}},f=async(v,x)=>{try{const b=await fetch(`/api/documents/${v}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!b.ok)throw new Error("Error al descargar");const S=await b.blob(),_=window.URL.createObjectURL(S),j=document.createElement("a");j.href=_,j.download=`domiciliacion-${x}.pdf`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(_),document.body.removeChild(j)}catch(b){console.error("Error:",b)}},m=v=>{switch(v){case"pending":return"bg-yellow-50 border-yellow-200";case"signed":return"bg-blue-50 border-blue-200";case"active":return"bg-green-50 border-green-200";case"cancelled":return"bg-red-50 border-red-200";default:return"bg-gray-50"}},p=v=>{switch(v){case"pending":return{label:"Pendiente Firma",color:"text-yellow-600"};case"signed":return{label:"Firmado (Pendiente Activar)",color:"text-blue-600"};case"active":return{label:"Activo",color:"text-green-600"};case"cancelled":return{label:"Cancelado",color:"text-red-600"};default:return{label:v,color:"text-gray-600"}}},y=v=>{const x=v.replace(/\s/g,"");return`${x.substring(0,4)}...${x.substring(x.length-4)}`};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Domiciliacin Bancaria de Honorarios"}),o.jsxs(ci,{open:n,onOpenChange:r,children:[o.jsx(Cl,{asChild:!0,children:o.jsxs(Se,{children:[o.jsx(Js,{className:"w-4 h-4 mr-2"}),"Nueva Domiciliacin"]})}),o.jsxs(ri,{className:"max-w-md",children:[o.jsx(ui,{children:o.jsx(di,{children:"Nueva Domiciliacin Bancaria"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),o.jsx(Ge,{name:"clientName",placeholder:"Ej: Juan Garca Lpez",value:i.clientName,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email del Cliente *"}),o.jsx(Ge,{name:"email",type:"email",placeholder:"Ej: juan@example.com",value:i.email,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"IBAN *"}),o.jsx(Ge,{name:"bankAccount",placeholder:"Ej: ES91 1234 5678 9123 4567 8901",value:i.bankAccount,onChange:a}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: ES + 20 dgitos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Importe Mensual () *"}),o.jsx(Ge,{name:"monthlyAmount",type:"number",step:"0.01",placeholder:"Ej: 500.00",value:i.monthlyAmount,onChange:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concepto"}),o.jsx("textarea",{name:"concept",placeholder:"Concepto de los honorarios",value:i.concept,onChange:a,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(Se,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),o.jsx(Se,{onClick:l,children:"Generar Documento"})]})]})]})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Ui,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No hay domiciliaciones bancarias registradas"})]}):o.jsx("div",{className:"grid gap-4",children:t.map(v=>o.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition ${m(v.status)}`,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:v.clientName}),o.jsx("p",{className:"text-sm text-gray-600",children:v.email}),o.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:["IBAN: ",o.jsx("strong",{children:y(v.bankAccount)})]}),o.jsxs("p",{children:["Importe: ",o.jsxs("strong",{children:[v.monthlyAmount.toFixed(2)," mensuales"]})]}),o.jsxs("p",{children:["Concepto: ",o.jsx("strong",{children:v.concept})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx("span",{className:`text-sm font-semibold ${p(v.status).color}`,children:p(v.status).label}),v.startDate&&o.jsxs("span",{className:"text-xs text-gray-500",children:["Desde: ",new Date(v.startDate).toLocaleDateString("es-ES")]})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[v.status==="pending"&&o.jsxs(Se,{size:"sm",onClick:()=>c(v.id),className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Q2,{className:"w-4 h-4 mr-1"}),"Firmar"]}),v.status==="signed"&&o.jsx(Se,{size:"sm",onClick:()=>u(v.id),className:"bg-green-600 hover:bg-green-700",children:"Activar Domiciliacin"}),v.status==="active"&&o.jsx(Se,{size:"sm",variant:"destructive",onClick:()=>d(v.id),children:"Cancelar"}),o.jsx(Se,{size:"sm",variant:"outline",onClick:()=>f(v.id,v.clientName),children:"Descargar"})]})]},v.id))})]})}function WW(){const[t,e]=sl(),[n,r]=N.useState(()=>t.includes("/recibos")?"recibos":t.includes("/proteccion")?"proteccion":t.includes("/bancaria")?"bancaria":t.includes("/subir")?"subir":"todos");N.useEffect(()=>{t.includes("/recibos")?r("recibos"):t.includes("/proteccion")?r("proteccion"):t.includes("/bancaria")?r("bancaria"):t.includes("/subir")?r("subir"):r("todos")},[t]);const i=s=>{switch(r(s),s){case"recibos":e("/documentacion/documentos/recibos");break;case"proteccion":e("/documentacion/documentos/proteccion");break;case"bancaria":e("/documentacion/documentos/bancaria");break;case"subir":e("/documentacion/documentos/subir");break;default:e("/documentacion/documentos")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Documentos"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona recibos de pago, documentacin de proteccin de datos, domiciliaciones bancarias y otros documentos"})]}),o.jsxs(Sc,{value:n,onValueChange:i,className:"w-full",children:[o.jsxs(Fl,{className:"grid w-full grid-cols-5",children:[o.jsx(zn,{value:"todos",children:"Todos"}),o.jsx(zn,{value:"recibos",children:" Recibos"}),o.jsx(zn,{value:"proteccion",children:" Proteccin"}),o.jsx(zn,{value:"bancaria",children:" Bancaria"}),o.jsx(zn,{value:"subir",children:" Subir"})]}),o.jsx(sr,{value:"todos",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:"Todos los Documentos"}),o.jsx(Er,{children:"Lista completa de documentos guardados en el sistema"})]}),o.jsx(Qe,{children:o.jsx(aYe,{})})]})}),o.jsx(sr,{value:"recibos",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:" Recibos de Pago"}),o.jsx(Er,{children:"Gestiona recibos de pago y comprobantes de transacciones"})]}),o.jsx(Qe,{children:o.jsx(lYe,{})})]})}),o.jsx(sr,{value:"proteccion",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:" Proteccin de Datos"}),o.jsx(Er,{children:"Documentacin de conformidad RGPD y LOPDGDD"})]}),o.jsx(Qe,{children:o.jsx(cYe,{})})]})}),o.jsx(sr,{value:"bancaria",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:" Domiciliacin Bancaria"}),o.jsx(Er,{children:"Autorizaciones de domiciliacin bancaria con validacin IBAN"})]}),o.jsx(Qe,{children:o.jsx(uYe,{})})]})}),o.jsx(sr,{value:"subir",className:"space-y-4",children:o.jsxs(Ze,{children:[o.jsxs(xt,{children:[o.jsx(St,{children:" Subir Documento"}),o.jsx(Er,{children:"Sube nuevos documentos al sistema con drag & drop"})]}),o.jsx(Qe,{children:o.jsx(oYe,{})})]})})]})]})}function dYe(){const{connected:t,onlineUsers:e}=yY();return o.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Zde,{className:"h-4 w-4 text-green-500"}),o.jsxs("span",{className:"hidden sm:inline",children:["Conectado (",e,")"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Xde,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"hidden sm:inline",children:"Desconectado"})]})})}function fYe(){return o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function hYe(){const{user:t,isLoading:e}=Jm();if(e)return o.jsx(fYe,{});const[n]=_E("/public/budgets/:code/accept");if(n)return o.jsx(YGe,{});if(!t)return o.jsxs(O6,{children:[o.jsx(Yr,{path:"/",component:PF}),o.jsx(Yr,{path:"/:rest*",children:o.jsx(vw,{to:"/"})})]});const r={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return o.jsx(Pge,{style:r,children:o.jsxs("div",{className:"flex h-screen w-full",children:[o.jsx(Zge,{}),o.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[o.jsx(Rge,{"data-testid":"button-sidebar-toggle"}),o.jsx("div",{className:"flex-1 max-w-xl mx-4",children:o.jsx(jve,{})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ave,{}),o.jsx(dYe,{}),o.jsx(Qge,{})]})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsxs(O6,{children:[o.jsx(Yr,{path:"/",component:pOe}),o.jsx(Yr,{path:"/auth",component:PF}),o.jsx(Yr,{path:"/clientes",component:QMe}),o.jsx(Yr,{path:"/tareas",component:R3e}),o.jsx(Yr,{path:"/manuales",component:I3e}),o.jsx(Yr,{path:"/manuales/nuevo",component:BW}),o.jsx(Yr,{path:"/manuales/:id/editar",component:BW}),o.jsx(Yr,{path:"/manuales/:id",component:I$e}),o.jsx(Yr,{path:"/impuestos",children:o.jsx(vw,{to:"/impuestos/control"})}),o.jsx(Yr,{path:"/impuestos/control",component:nFe}),o.jsx(Yr,{path:"/impuestos/calendario",component:lFe}),o.jsx(Yr,{path:"/impuestos/modelos",component:cFe}),o.jsx(Yr,{path:"/impuestos/reportes",component:kFe}),o.jsx(Yr,{path:"/notificaciones",component:$Ge}),o.jsx(Yr,{path:"/documentacion",component:XGe}),o.jsx(Yr,{path:"/documentacion/presupuestos",component:VW}),o.jsx(Yr,{path:"/documentacion/presupuestos/:rest*",component:VW}),o.jsx(Yr,{path:"/documentacion/documentos",component:WW}),o.jsx(Yr,{path:"/documentacion/documentos/:rest*",component:WW}),o.jsx(Yr,{path:"/documentacion/presupuestos/nuevo",component:KGe}),o.jsx(Yr,{path:"/documentacion/presupuestos/:id/editar",component:GGe}),o.jsx(Yr,{path:"/documentacion/presupuestos/:id/ver",component:qW}),o.jsx(Yr,{path:"/documentacion/presupuestos/:id",component:qW}),o.jsx(Yr,{path:"/admin",component:()=>t?.roleName==="Administrador"?o.jsx($W,{}):o.jsx(vw,{to:"/"})}),o.jsx(Yr,{path:"/admin/:rest*",children:t?.roleName==="Administrador"?o.jsx($W,{}):o.jsx(vw,{to:"/"})}),o.jsx(Yr,{path:"/auditoria",component:BGe}),o.jsx(Yr,{component:kve})]})})]})]})})}function pYe(){return N.useEffect(()=>{document.cookie.split("; ").find(e=>e.startsWith("sidebar_state="))||(document.cookie="sidebar_state=true; path=/; max-age=604800")},[]),o.jsx(eue,{client:nn,children:o.jsxs(JG,{children:[o.jsx(bpe,{defaultTheme:"light",children:o.jsx(Npe,{children:o.jsx(gme,{children:o.jsx(hYe,{})})})}),o.jsx(Mfe,{})]})})}fce.createRoot(document.getElementById("root")).render(o.jsx(pYe,{}));export{Qr as _,mw as c,Ir as g};
